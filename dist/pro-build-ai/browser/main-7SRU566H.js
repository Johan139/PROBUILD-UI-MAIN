import{a as Sn}from"./chunk-FK6H3RFT.js";import{$ as Mu,$a as io,A as go,Aa as os,Ab as Zi,B as wu,Ba as ss,Bb as en,C as e5,Ca as x5,Cb as tn,D as uy,Da as un,Db as li,E as t5,Ea as Jn,Eb as gc,F as i5,Fa as mc,Fb as St,G as n5,Ga as w5,Gb as bc,H as r5,Ha as xn,Hb as hi,I as a5,Ia as _g,Ib as No,J as Mp,Ja as et,Jb as Fo,K as id,Ka as Dp,Kb as T5,L as o5,La as pi,Lb as O5,M as sg,Ma as Ki,Mb as wg,N as Su,Na as pc,Nb as vc,O as s5,Oa as hc,Ob as js,P as l5,Pa as ya,Pb as R5,Q as c5,Qa as xa,Qb as Sg,R as d5,Ra as mn,Rb as Tu,S as u5,Sa as Fs,Sb as Hn,T as m5,Ta as S5,Tb as N5,U as to,Ua as Ls,Ub as Ou,V as lg,Va as Xi,Vb as Ru,W as p5,Wa as Vn,Wb as F5,X as Sr,Xa as M5,Xb as _c,Y as h5,Ya as k5,Yb as L5,Z as f5,Za as D5,Zb as Gn,_ as $t,_a as Iu,a as Jr,aa as bo,ab as Cn,b as Cu,ba as nd,bb as wn,c as rg,ca as ku,cb as Pi,d as Gt,da as rd,db as E5,e as zS,ea as my,eb as yg,f as HS,fa as cg,fb as xg,g as US,ga as Ns,gb as Fr,h as ag,ha as Du,hb as zn,i as qS,ia as dg,ib as Nt,j as WS,ja as ug,jb as zr,k as GS,ka as g5,kb as zt,l as og,la as hr,lb as hy,m as $S,ma as mg,mb as Sl,n as cy,na as pg,nb as A5,o as _a,oa as Eu,ob as Ml,p as YS,pa as b5,pb as Cg,q as Ii,qa as hg,qb as Pu,r as QS,ra as v5,rb as I5,s as JS,sa as fg,sb as Kr,t as KS,ta as _5,tb as fy,u as mr,ua as kp,ub as gy,v as dy,va as gg,vb as fc,w as Rs,wa as y5,wb as Kn,x as XS,xa as Au,xb as Ca,y as ZS,ya as py,yb as pn,z as pr,za as dc,zb as P5}from"./chunk-MWVRVSUL.js";import{$ as nt,$b as Vt,$c as OS,A as Ni,Ab as wS,Ac as IS,Ad as Et,B as ii,Ba as Ge,Bb as wr,Bd as Di,C as cS,Ca as ni,Cb as SS,Cd as uc,D as It,Db as Tt,Dd as _i,Ea as _t,Eb as Sp,Ed as bg,F as hu,Fa as xl,Fb as Cl,Fc as PS,Fd as vg,Gb as wl,H as Mi,Hb as l,Hc as TS,I as oy,Ib as c,Ic as xt,J as wp,Ja as va,Jb as F,Jc as yu,K as Zf,Ka as dr,Kb as Je,Lb as Ke,Mb as qn,Nb as ge,Nc as Ye,Ob as Ro,Oc as Wn,Pb as ig,Pc as ly,Qb as z,R as dS,Rb as ng,S as uS,Sb as P,T as Qi,Tb as Xt,U as Fi,Ub as rt,V as Ut,Vb as bt,Wb as Ue,Wc as Bn,X as aa,Xa as eg,Xb as be,Y as mS,Ya as bu,Yb as ve,Zb as MS,_ as ba,_b as kS,a as on,aa as Jt,ab as b,ac as u,ad as RS,bb as k,bc as xe,c as yl,ca as yt,cb as tg,cc as Ce,cd as Nr,db as tr,dc as ir,dd as Ji,ea as Xe,eb as gS,ec as DS,ed as Pt,f as vt,fa as Bt,fb as sy,fc as Fn,fd as NS,g as To,ga as fu,gb as bS,gc as Ln,gd as FS,h as Kf,ha as gu,hc as jn,hd as LS,i as ay,ib as Qr,ic as ft,id as xu,j as uu,ja as fe,jb as vS,jc as ye,jd as Os,ka as Kt,kc as Ga,kd as Gi,l as wt,la as Ze,lb as _S,lc as as,ld as jS,m as si,ma as pS,mb as yS,mc as vu,md as BS,n as sS,na as hS,nb as ki,nc as ES,nd as Dt,oa as fS,oc as _u,pb as qt,pc as dt,pd as sa,q as mu,qc as Wt,r as bi,rc as yn,s as cc,sa as Ai,sb as I,sc as AS,ta as q,tb as xS,tc as ur,td as VS,ua as W,ub as CS,va as xi,vb as Vr,w as Xf,wa as Rr,wb as at,wd as En,x as pu,xa as Cr,xb as C,xd as Ci,y as Oo,ya as oa,yb as Qn,yd as C5,z as lS,za as cr,zb as Qe}from"./chunk-IJHYSKBE.js";import{a as Ct,b as Ti,g as Yr}from"./chunk-TSRGIXR5.js";var HT=["*",[["mat-toolbar-row"]]],UT=["*","mat-toolbar-row"],qT=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return i})(),j5=(()=>{class i{constructor(e,n,r){this._elementRef=e,this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(mr),k(Bn))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,a){if(n&1&&bt(a,qT,5),n&2){let o;be(o=ve())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){n&2&&(wr(r.color?"mat-"+r.color:""),Qe("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ye],ngContentSelectors:UT,decls:2,vars:0,template:function(n,r){n&1&&(Xt(HT),rt(0),rt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return i})();var B5=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,$t]})}}return i})();var GT=["*"];var $T=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],YT=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],QT=new yt("MAT_CARD_CONFIG"),Li=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(n){return new(n||i)(k(QT,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){n&2&&Qe("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ye],ngContentSelectors:GT,decls:1,vars:0,template:function(n,r){n&1&&(Xt(),rt(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return i})(),ji=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return i})();var nn=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return i})(),yc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}}return i})(),V5=(()=>{class i{constructor(){this.align="start"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}}return i})(),rn=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ye],ngContentSelectors:YT,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){n&1&&(Xt($T),rt(0),l(1,"div",0),rt(2,1),c(),rt(3,2))},encapsulation:2,changeDetection:0})}}return i})();var Bi=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,Dt,$t]})}}return i})();var Dg=["*"],JT=["content"],KT=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],XT=["mat-drawer","mat-drawer-content","*"];function ZT(i,t){if(i&1){let e=ge();l(0,"div",1),z("click",function(){q(e);let r=P();return W(r._onBackdropClicked())}),c()}if(i&2){let e=P();Qe("mat-drawer-shown",e._isShowingBackdrop())}}function eO(i,t){i&1&&(l(0,"mat-drawer-content"),rt(1,2),c())}var tO=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],iO=["mat-sidenav","mat-sidenav-content","*"];function nO(i,t){if(i&1){let e=ge();l(0,"div",1),z("click",function(){q(e);let r=P();return W(r._onBackdropClicked())}),c()}if(i&2){let e=P();Qe("mat-drawer-shown",e._isShowingBackdrop())}}function rO(i,t){i&1&&(l(0,"mat-sidenav-content"),rt(1,2),c())}var aO='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',z5={transformDrawer:En("transform",[Di("open, open-instant",Et({transform:"none",visibility:"visible"})),Di("void",Et({"box-shadow":"none",visibility:"hidden"})),_i("void => open-instant",Ci("0ms")),_i("void <=> open, open-instant => void",Ci("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var oO=new yt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:sO}),by=new yt("MAT_DRAWER_CONTAINER");function sO(){return!1}var Mg=(()=>{class i extends dc{constructor(e,n,r,a,o){super(r,a,o),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(ba(()=>U5)),k(_t),k(py),k(ni))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){n&2&&Qn("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[ft([{provide:dc,useExisting:i}]),ki,ye],ngContentSelectors:Dg,decls:1,vars:0,template:function(n,r){n&1&&(Xt(),rt(0))},encapsulation:2,changeDetection:0})}}return i})(),H5=(()=>{class i{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=go(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=go(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(go(e))}constructor(e,n,r,a,o,s,d,m){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=a,this._ngZone=o,this._interactivityChecker=s,this._doc=d,this._container=m,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new vt,this._animationEnd=new vt,this._animationState="void",this.openedChange=new Ge(!0),this._openedStream=this.openedChange.pipe(ii(h=>h),bi(()=>{})),this.openedStart=this._animationStarted.pipe(ii(h=>h.fromState!==h.toState&&h.toState.indexOf("open")===0),oy(void 0)),this._closedStream=this.openedChange.pipe(ii(h=>!h),bi(()=>{})),this.closedStart=this._animationStarted.pipe(ii(h=>h.fromState!==h.toState&&h.toState==="void"),oy(void 0)),this._destroyed=new vt,this.onPositionChanged=new Ge,this._modeChanged=new vt,this._injector=Bt(cr),this._changeDetectorRef=Bt(xt),this.openedChange.pipe(Ut(this._destroyed)).subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Oo(this._elementRef.nativeElement,"keydown").pipe(ii(h=>h.keyCode===27&&!this.disableClose&&!pr(h)),Ut(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.subscribe(h=>{let{fromState:v,toState:_}=h;(_.indexOf("open")===0&&v==="void"||_==="void"&&v.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Vr(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,n,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(Mi(1)).subscribe(o=>a(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,r=n.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(l5),k(to),k(mr),k(ni),k(s5),k(Bn,8),k(by,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(n&1&&Ue(JT,5),n&2){let a;be(a=ve())&&(r._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){n&1&&ng("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),n&2&&(ig("@transform",r._animationState),at("align",null),Qe("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[ye],ngContentSelectors:Dg,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(Xt(),l(0,"div",1,0),rt(2),c())},dependencies:[dc],encapsulation:2,data:{animation:[z5.transformDrawer]},changeDetection:0})}}return i})(),U5=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=go(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:go(e)}get scrollable(){return this._userContent||this._content}constructor(e,n,r,a,o,s=!1,d){this._dir=e,this._element=n,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=d,this._drawers=new xl,this.backdropClick=new Ge,this._destroyed=new vt,this._doCheckSubject=new vt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new vt,this._injector=Bt(cr),e&&e.change.pipe(Ut(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ut(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}ngAfterContentInit(){this._allDrawers.changes.pipe(Qi(this._allDrawers),Ut(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Qi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(hu(10),Ut(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,n-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();n+=r,e-=r}}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ii(n=>n.fromState!==n.toState),Ut(this._drawers.changes)).subscribe(n=>{n.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Ut(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Ut(this._drawers.changes)).subscribe(()=>{Vr(()=>{this._validateDrawers()},{injector:this._injector,phase:xS.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ut(Ni(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(n){return new(n||i)(k(Sr,8),k(_t),k(ni),k(xt),k(os),k(oO),k(dr,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,a){if(n&1&&(bt(a,Mg,5),bt(a,H5,5)),n&2){let o;be(o=ve())&&(r._content=o.first),be(o=ve())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(n&1&&Ue(Mg,5),n&2){let a;be(a=ve())&&(r._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[ft([{provide:by,useExisting:i}]),ye],ngContentSelectors:XT,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(Xt(KT),I(0,ZT,1,2,"div",0),rt(1),rt(2,1),I(3,eO,2,0,"mat-drawer-content")),n&2&&(Tt(r.hasBackdrop?0:-1),b(3),Tt(r._content?-1:3))},dependencies:[Mg],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return i})(),Nu=(()=>{class i extends Mg{constructor(e,n,r,a,o){super(e,n,r,a,o)}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(ba(()=>Ap)),k(_t),k(py),k(ni))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,r){n&2&&Qn("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[ft([{provide:dc,useExisting:i}]),ki,ye],ngContentSelectors:Dg,decls:1,vars:0,template:function(n,r){n&1&&(Xt(),rt(0))},encapsulation:2,changeDetection:0})}}return i})(),Ep=(()=>{class i extends H5{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=go(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=wu(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=wu(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275cmp=fe({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,r){n&2&&(at("align",null),Qn("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Qe("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[ki,ye],ngContentSelectors:Dg,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(Xt(),l(0,"div",1,0),rt(2),c())},dependencies:[dc],encapsulation:2,data:{animation:[z5.transformDrawer]},changeDetection:0})}}return i})(),Ap=(()=>{class i extends U5{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275cmp=fe({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(n,r,a){if(n&1&&(bt(a,Nu,5),bt(a,Ep,5)),n&2){let o;be(o=ve())&&(r._content=o.first),be(o=ve())&&(r._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[ft([{provide:by,useExisting:i}]),ki,ye],ngContentSelectors:iO,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(Xt(tO),I(0,nO,1,2,"div",0),rt(1),rt(2,1),I(3,rO,2,0,"mat-sidenav-content")),n&2&&(Tt(r.hasBackdrop?0:-1),b(3),Tt(r._content?-1:3))},dependencies:[Nu],styles:[aO],encapsulation:2,changeDetection:0})}}return i})(),Eg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,ss,ss,$t]})}}return i})();var fr=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-loader"]],standalone:!0,features:[ye],decls:15,vars:0,consts:[[1,"loader-overlay"],[1,"loader"],["width","100","height","100","viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg"],["x","10","y","10","width","30","height","30","fill","#FBD008"],["attributeName","x","values","10;60;10","dur","1.2s","repeatCount","indefinite"],["attributeName","y","values","10;60;10","dur","1.2s","repeatCount","indefinite"],["x","60","y","10","width","30","height","30","fill","#003737"],["attributeName","x","values","60;10;60","dur","1.2s","repeatCount","indefinite"],["x","10","y","60","width","30","height","30","fill","#003737"],["attributeName","y","values","60;10;60","dur","1.2s","repeatCount","indefinite"],["x","60","y","60","width","30","height","30","fill","#FBD008"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"div",1),xi(),l(2,"svg",2)(3,"rect",3),F(4,"animate",4)(5,"animate",5),c(),l(6,"rect",6),F(7,"animate",7)(8,"animate",5),c(),l(9,"rect",8),F(10,"animate",4)(11,"animate",9),c(),l(12,"rect",10),F(13,"animate",7)(14,"animate",9),c()()()())},styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader[_ngcontent-%COMP%]{width:100px;height:100px}"]})};var lO=["mat-menu-item",""],cO=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],dO=["mat-icon, [matMenuItemIcon]","*"];function uO(i,t){i&1&&(xi(),l(0,"svg",2),F(1,"polygon",3),c())}var mO=["*"];function pO(i,t){if(i&1){let e=ge();l(0,"div",0),z("keydown",function(r){q(e);let a=P();return W(a._handleKeydown(r))})("click",function(){q(e);let r=P();return W(r.closed.emit("click"))})("@transformMenu.start",function(r){q(e);let a=P();return W(a._onAnimationStart(r))})("@transformMenu.done",function(r){q(e);let a=P();return W(a._onAnimationDone(r))}),l(1,"div",1),rt(2),c()()}if(i&2){let e=P();wr(e._classList),C("id",e.panelId)("@transformMenu",e._panelAnimationState),at("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var vy=new yt("MAT_MENU_PANEL"),Dl=(()=>{class i{constructor(e,n,r,a,o){this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=a,this._changeDetectorRef=o,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new vt,this._focused=new vt,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(Bn),k(to),k(vy,8),k(xt))}}static{this.\u0275cmp=fe({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){n&1&&z("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),n&2&&(at("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Qe("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Ye],disableRipple:[2,"disableRipple","disableRipple",Ye]},exportAs:["matMenuItem"],standalone:!0,features:[qt,ye],attrs:lO,ngContentSelectors:dO,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){n&1&&(Xt(cO),rt(0),l(1,"span",0),rt(2,1),c(),F(3,"div",1),I(4,uO,2,0,":svg:svg",2)),n&2&&(b(3),C("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),b(),Tt(r._triggersSubmenu?4:-1))},dependencies:[Ns],encapsulation:2,changeDetection:0})}}return i})();var hO=new yt("MatMenuContent");var Ag={transformMenu:En("transformMenu",[Di("void",Et({opacity:0,transform:"scale(0.8)"})),_i("void => enter",Ci("120ms cubic-bezier(0, 0, 0.2, 1)",Et({opacity:1,transform:"scale(1)"}))),_i("* => void",Ci("100ms 25ms linear",Et({opacity:0})))]),fadeInItems:En("fadeInItems",[Di("showing",Et({opacity:1})),_i("void => *",[Et({opacity:0}),Ci("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},_Z=Ag.fadeInItems,yZ=Ag.transformMenu,fO=0,gO=new yt("mat-menu-default-options",{providedIn:"root",factory:bO});function bO(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Bs=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let n=this._previousPanelClass,r=Ct({},this._classList);n&&n.length&&n.split(" ").forEach(a=>{r[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{r[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,n,r,a){this._elementRef=e,this._changeDetectorRef=a,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new xl,this._classList={},this._panelAnimationState="void",this._animationDone=new vt,this.closed=new Ge,this.close=this.closed,this.panelId=`mat-menu-panel-${fO++}`,this._injector=Bt(cr),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Su(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Qi(this._directDescendantItems),Fi(e=>Ni(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let r=e.toArray(),a=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[a]&&!r[a].disabled?n.setActiveItem(a):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Qi(this._directDescendantItems),Fi(n=>Ni(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,r=this._keyManager;switch(n){case 27:pr(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Vr(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let s=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(s)}let n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,a=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));if(!a||a===this._previousElevation){let o=Ct({},this._classList);this._previousElevation&&(o[this._previousElevation]=!1),o[r]=!0,this._previousElevation=r,this._classList=o}}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=Ti(Ct({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Qi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(ni),k(gO),k(xt))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-menu"]],contentQueries:function(n,r,a){if(n&1&&(bt(a,hO,5),bt(a,Dl,5),bt(a,Dl,4)),n&2){let o;be(o=ve())&&(r.lazyContent=o.first),be(o=ve())&&(r._allItems=o),be(o=ve())&&(r.items=o)}},viewQuery:function(n,r){if(n&1&&Ue(tr,5),n&2){let a;be(a=ve())&&(r.templateRef=a.first)}},hostVars:3,hostBindings:function(n,r){n&2&&at("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Ye],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Ye(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[ft([{provide:vy,useExisting:i}]),qt,ye],ngContentSelectors:mO,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(n,r){n&1&&(Xt(),I(0,pO,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Ag.transformMenu,Ag.fadeInItems]},changeDetection:0})}}return i})(),$5=new yt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=Bt(Kr);return()=>i.scrollStrategies.reposition()}});function vO(i){return()=>i.scrollStrategies.reposition()}var _O={provide:$5,deps:[Kr],useFactory:vO},W5=Rs({passive:!0});var Lu=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,n,r,a,o,s,d,m,h){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=s,this._dir=d,this._focusMonitor=m,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=on.EMPTY,this._hoverSubscription=on.EMPTY,this._menuCloseSubscription=on.EMPTY,this._changeDetectorRef=Bt(xt),this._handleTouchStart=v=>{u5(v)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ge,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ge,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=o instanceof Bs?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,W5)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,W5),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let n=this._createOverlay(e),r=n.getConfig(),a=r.positionStrategy;this._setPosition(e,a),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Bs&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Ut(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof Bs?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(ii(r=>r.toState==="void"),Mi(1),Ut(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Pu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{let a=r.connectionPair.overlayX==="start"?"after":"before",o=r.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,o)):e.setPositionClasses(a,o)})}_setPosition(e,n){let[r,a]=e.xPosition==="before"?["end","start"]:["start","end"],[o,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[d,m]=[o,s],[h,v]=[r,a],_=0;if(this.triggersSubmenu()){if(v=r=e.xPosition==="before"?"start":"end",a=h=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let g=this._parentMaterialMenu.items.first;this._parentInnerPadding=g?g._getHostElement().offsetTop:0}_=o==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(d=o==="top"?"bottom":"top",m=s==="top"?"bottom":"top");n.withPositions([{originX:r,originY:d,overlayX:h,overlayY:o,offsetY:_},{originX:a,originY:d,overlayX:v,overlayY:o,offsetY:_},{originX:r,originY:m,overlayX:h,overlayY:s,offsetY:-_},{originX:a,originY:m,overlayX:v,overlayY:s,offsetY:-_}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:wt(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ii(o=>o!==this._menuItemInstance),ii(()=>this._menuOpen)):wt();return Ni(e,r,a,n)}_handleMousedown(e){d5(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ii(e=>e===this._menuItemInstance&&!e.disabled),wp(0,ay)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Bs&&this.menu._isAnimating?this.menu._animationDone.pipe(Mi(1),wp(0,ay),Ut(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Sl(e.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(n){return new(n||i)(k(Kr),k(_t),k(Qr),k($5),k(vy,8),k(Dl,10),k(Sr,8),k(to),k(ni))}}static{this.\u0275dir=Ze({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){n&1&&z("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),n&2&&at("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return i})(),ju=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[_O],imports:[Dt,Du,$t,fc,ss,$t]})}}return i})();var Ig=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-logout-confirm-dialog"]],standalone:!0,features:[ye],decls:10,vars:2,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",1,"dialog-btn","confirm-btn",3,"mat-dialog-close"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1,"Confirm Logout"),c(),l(2,"mat-dialog-content")(3,"p"),u(4,"Are you sure you want to log out?"),c()(),l(5,"mat-dialog-actions",1)(6,"button",2),u(7,"No"),c(),l(8,"button",2),u(9,"Yes"),c()()),e&2&&(b(6),C("mat-dialog-close",!1),b(2),C("mat-dialog-close",!0))},dependencies:[Dt,li,P5,Zi,tn,en,zt,Nt],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.return-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.return-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.confirm-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]:disabled{background-color:#e0e0e0!important;color:#9e9e9e!important;cursor:not-allowed;opacity:.6}.warning-message[_ngcontent-%COMP%]{color:#b00020;font-weight:700;margin-top:12px;padding:8px;background-color:#ffebee;border-radius:4px}"]})};var Pg=class i{currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-footer"]],standalone:!0,features:[ye],decls:19,vars:1,consts:[[1,"main-footer"],[1,"footer-content"],[1,"social-icons"],["href","https://www.facebook.com/profile.php?id=61578194385320",1,"facebook"],[1,"fab","fa-facebook-f"],["href","https://www.instagram.com/probuildai/",1,"instagram"],[1,"fab","fa-instagram"],["href","https://www.linkedin.com/company/probuild-ai/",1,"linkedin"],[1,"fab","fa-linkedin-in"],[1,"legal-links"],["href","/termsofuse","target","_blank"],["href","/privacy","target","_blank"],["href","/masteragreement","target","_blank"],[1,"copyright"],[1,"far","fa-copyright"]],template:function(e,n){e&1&&(l(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),F(4,"i",4),c(),l(5,"a",5),F(6,"i",6),c(),l(7,"a",7),F(8,"i",8),c()(),l(9,"div",9)(10,"a",10),u(11,"Terms of Use"),c(),l(12,"a",11),u(13,"Privacy Policy"),c(),l(14,"a",12),u(15,"Master Service Agreement"),c()(),l(16,"div",13),F(17,"i",14),u(18),c()()()),e&2&&(b(18),Ce(" ",n.currentYear," ProBuild AI. ALL RIGHTS RESERVED "))},dependencies:[zn],styles:[".page-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}mat-sidenav-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}mat-sidenav-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}router-outlet[_ngcontent-%COMP%]{flex:1;display:block}.main-footer[_ngcontent-%COMP%]{padding:1rem 2rem;background-color:#f8f8f8;font-size:.875rem;color:#555;border-top:1px solid #ddd}.main-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}@media (min-width: 600px){.main-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{align-items:center;gap:.75rem}}.main-footer[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.main-footer[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#555}.main-footer[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#222}.main-footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.social-icons[_ngcontent-%COMP%]{display:flex;gap:2rem}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#aaa;font-size:1.5rem;transition:color .3s ease}.social-icons[_ngcontent-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{color:#1877f2}.social-icons[_ngcontent-%COMP%]   a.instagram[_ngcontent-%COMP%]:hover{color:#e4405f}.social-icons[_ngcontent-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover{color:#0a66c2}.social-icons[_ngcontent-%COMP%]   a.google[_ngcontent-%COMP%]:hover{color:#4285f4}"]})};function yO(i,t){if(i&1){let e=ge();l(0,"div",1),z("click",function(){q(e);let r=P();return W(r.openChat())}),xi(),l(1,"svg",2),F(2,"path",3),c()()}}var Tg=class i{constructor(t,e){this.state=t;this.authService=e}isLoggedIn=!1;ngOnInit(){this.authService.currentUser$.subscribe(t=>{this.isLoggedIn=!!t})}openChat(){this.state.setIsChatOpen(!0)}static \u0275fac=function(e){return new(e||i)(k(gc),k(hi))};static \u0275cmp=fe({type:i,selectors:[["app-ai-chat-icon"]],standalone:!0,features:[ye],decls:1,vars:1,consts:[["class","ai-chat-fab",3,"click",4,"ngIf"],[1,"ai-chat-fab",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-message-square"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"]],template:function(e,n){e&1&&I(0,yO,3,0,"div",0),e&2&&C("ngIf",n.isLoggedIn)},dependencies:[Dt,Pt],styles:["[_nghost-%COMP%]{display:block}.ai-chat-fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background-color:#fbd008;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 10px #0003;z-index:1000;transition:background-color .3s}.ai-chat-fab[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.ai-chat-fab[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#000}"]})};var wO=["fileInput"],SO=["folderInput"],MO=["messageContainer"],Og=()=>[],kO=(i,t)=>({"user-message":i,"ai-message":t});function DO(i,t){if(i&1){let e=ge();l(0,"li",37),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.loadConversation(r.Id))}),l(1,"span",38),u(2),c(),l(3,"span",39),u(4),dt(5,"date"),c()()}if(i&2){let e=t.$implicit;b(2),xe(e.Title||"Untitled Conversation"),b(2),xe(yn(5,2,e.CreatedAt,"short"))}}function EO(i,t){if(i&1){let e=ge();l(0,"div",33)(1,"div",34)(2,"h3"),u(3,"Conversation History"),c(),l(4,"button",35),z("click",function(){q(e);let r=P(2);return W(r.sortConversations())}),l(5,"span",9),u(6),c()()(),l(7,"ul"),I(8,DO,6,5,"li",36),dt(9,"async"),c()()}if(i&2){let e=P(2);b(6),xe(e.sortIcon),b(2),C("ngForOf",Wt(9,2,e.conversations$))}}function AO(i,t){if(i&1&&(l(0,"li"),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.promptName," ")}}function IO(i,t){if(i&1&&(l(0,"div",40)(1,"h2"),u(2,"Selected Prompts"),c(),l(3,"ul"),I(4,AO,2,1,"li",41),dt(5,"async"),dt(6,"async"),dt(7,"selectedPrompts"),c()()),i&2){let e=P(2);b(4),C("ngForOf",yn(7,5,Wt(5,1,e.prompts$),Wt(6,3,e.selectedPrompts$)))}}function PO(i,t){i&1&&(l(0,"div",42)(1,"p"),u(2,"Mason will analyze the files you have attached to this chat using these selected prompts"),c()())}function TO(i,t){if(i&1&&F(0,"markdown",50),i&2){let e=P().$implicit,n=P(2);C("data",n.getDisplayContent(e.Content,"model"))}}function OO(i,t){if(i&1&&(l(0,"pre",51),u(1),c()),i&2){let e=P().$implicit,n=P(2);b(),xe(n.getDisplayContent(e.Content,"user"))}}function RO(i,t){if(i&1){let e=ge();l(0,"div",52)(1,"span"),u(2,"Failed to send message to Mason - please try again"),c(),l(3,"button",53),z("click",function(){q(e);let r=P().$implicit,a=P(2);return W(a.retryMessage(r))}),l(4,"mat-icon"),u(5,"refresh"),c()()()}}function NO(i,t){if(i&1&&(l(0,"div",43)(1,"mat-icon",44),u(2),c(),l(3,"div",45),Je(4,46),I(5,TO,1,1,"markdown",47)(6,OO,2,1,"pre",48),Ke(),I(7,RO,6,0,"div",49),c()()),i&2){let e=t.$implicit;C("ngClass",vu(6,kO,e.Role==="user",e.Role==="model")),b(2),xe(e.Role==="user"?"person":"smart_toy"),b(2),C("ngSwitch",e.Role),b(),C("ngSwitchCase","model"),b(),C("ngSwitchCase","user"),b(),C("ngIf",e.status==="failed")}}function FO(i,t){i&1&&(l(0,"div",54)(1,"p"),u(2,"Thinking..."),c()())}function LO(i,t){if(i&1){let e=ge();l(0,"button",59),z("click",function(){q(e);let r=P(3);return W(r.confirmPrompts())}),u(1,"Confirm"),c()}}function jO(i,t){if(i&1){let e=ge();l(0,"button",60),z("click",function(){q(e);let r=P(3);return W(r.clearPrompts())}),u(1,"Clear"),c()}}function BO(i,t){if(i&1){let e=ge();l(0,"div",61),dt(1,"async"),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.togglePromptSelection(r.id))}),F(2,"input",62),dt(3,"async"),l(4,"div",63)(5,"div",64),u(6),c(),l(7,"div",65),u(8),c()()()}if(i&2){let e,n,r=t.$implicit,a=P(3);Qe("disabled",((e=Wt(1,6,a.selectedPrompts$))==null?null:e.includes(a.fullBlueprintAnalysisPromptId))&&r.id!==a.fullBlueprintAnalysisPromptId),b(2),C("checked",a.promptSelectionState[r.id])("disabled",((n=Wt(3,8,a.selectedPrompts$))==null?null:n.includes(a.fullBlueprintAnalysisPromptId))&&r.id!==a.fullBlueprintAnalysisPromptId),b(4),xe(r.promptName),b(2),xe(r.description)}}function VO(i,t){if(i&1&&(l(0,"div",55),I(1,LO,2,0,"button",56),dt(2,"async"),I(3,jO,2,0,"button",57),dt(4,"async"),I(5,BO,9,10,"div",58),dt(6,"async"),c()),i&2){let e,n,r=P(2);b(),C("ngIf",((e=Wt(2,3,r.selectedPrompts$))!==null&&e!==void 0?e:Ga(9,Og)).length>0),b(2),C("ngIf",((n=Wt(4,5,r.selectedPrompts$))!==null&&n!==void 0?n:Ga(10,Og)).length>0),b(2),C("ngForOf",Wt(6,7,r.prompts$))}}function zO(i,t){if(i&1&&(l(0,"div",66)(1,"p"),u(2),c(),F(3,"mat-progress-bar",67),c()),i&2){let e=P(2);b(2),Ce("Upload Progress: ",e.progress,"%"),b(),C("value",e.progress)}}function HO(i,t){if(i&1&&(l(0,"div",68)(1,"p",69),u(2),c()()),i&2){let e=P(2);b(),C("matTooltip",e.getUploadedFileNames()),b(),Ce(" ",e.uploadedFileInfos.length," file(s) uploaded successfully ")}}function UO(i,t){if(i&1){let e=ge();l(0,"div",4)(1,"header",5)(2,"h2",6),u(3,"Mason - your AI Assistant"),c(),l(4,"div",7)(5,"button",8),z("click",function(){q(e);let r=P();return W(r.startNewConversation())}),l(6,"span",9),u(7,"add"),c()(),l(8,"button",10),z("click",function(){q(e);let r=P();return W(r.toggleHistory())}),l(9,"span",9),u(10,"history"),c()(),l(11,"button",11),z("click",function(){q(e);let r=P();return W(r.goToFullScreen())}),l(12,"span",9),u(13,"fullscreen"),c()(),l(14,"button",12),z("click",function(){q(e);let r=P();return W(r.closeChat())}),l(15,"span",9),u(16,"close"),c()()()(),l(17,"div",13)(18,"div",14,0),I(20,EO,10,4,"div",15)(21,IO,8,8,"div",16),dt(22,"async"),I(23,PO,3,0,"div",17),dt(24,"async"),dt(25,"async"),l(26,"div",18),I(27,NO,8,9,"div",19),dt(28,"async"),I(29,FO,3,0,"div",20),dt(30,"async"),c()()(),I(31,VO,7,11,"div",21),l(32,"div",22),I(33,zO,4,2,"div",23)(34,HO,3,2,"div",24),l(35,"form",25),z("ngSubmit",function(){q(e);let r=P();return W(r.sendMessage())}),l(36,"button",26),z("click",function(){q(e);let r=P();return W(r.togglePromptsPopup())}),l(37,"mat-icon"),u(38,"tune"),c()(),l(39,"textarea",27),jn("ngModelChange",function(r){q(e);let a=P();return Ln(a.newMessageContent,r)||(a.newMessageContent=r),W(r)}),z("input",function(r){q(e);let a=P();return W(a.autoResize(r))})("keydown",function(r){q(e);let a=P();return W(a.onKeyDown(r))}),c(),l(40,"span",28)(41,"button",29),u(42,"Send"),c()(),l(43,"span",28),dt(44,"async"),dt(45,"async"),l(46,"button",30),dt(47,"async"),z("click",function(){q(e);let r=P();return W(r.onAttachFile())}),l(48,"mat-icon"),u(49,"attach_file"),c()()(),l(50,"span",28),dt(51,"async"),dt(52,"async"),l(53,"button",30),dt(54,"async"),z("click",function(){q(e);let r=P();return W(r.viewUploadedFiles())}),l(55,"mat-icon"),u(56,"folder"),c()()(),l(57,"input",31,1),z("change",function(r){q(e);let a=P();return W(a.onFileSelected(r))}),c(),l(59,"input",32,2),z("change",function(r){q(e);let a=P();return W(a.onFileSelected(r))}),c()()()()}if(i&2){let e,n,r=P();b(20),C("ngIf",r.isHistoryVisible),b(),C("ngIf",((e=Wt(22,23,r.selectedPrompts$))!==null&&e!==void 0?e:Ga(45,Og)).length>0),b(2),C("ngIf",Wt(24,25,r.hasDocuments$)&&((n=Wt(25,27,r.selectedPrompts$))!==null&&n!==void 0?n:Ga(46,Og)).length>0),b(4),C("ngForOf",Wt(28,29,r.messages$)),b(2),C("ngIf",Wt(30,31,r.isLoading$)),b(2),C("ngIf",r.isPromptsPopupVisible),b(2),C("ngIf",r.isUploading),b(),C("ngIf",!r.isUploading&&r.uploadedFileInfos.length>0),b(5),Fn("ngModel",r.newMessageContent),C("disabled",r.isInputDisabled)("matTooltip",r.isInputDisabled?"The input is disabled when a special instruction is selected.":""),b(),Qe("disabled-wrapper",r.isSendDisabled),C("matTooltip",r.isSendDisabled?"Please type a message or upload a file and select a prompt.":""),b(),C("disabled",r.isSendDisabled),b(2),Qe("disabled-wrapper",Wt(44,33,r.hasDocuments$)),C("matTooltip",Wt(45,35,r.hasDocuments$)?"Blueprints have already been uploaded. Start a new conversation to upload new files.":"Attach blueprints"),b(3),C("disabled",Wt(47,37,r.hasDocuments$)),b(4),Qe("disabled-wrapper",!Wt(51,39,r.hasDocuments$)),C("matTooltip",Wt(52,41,r.hasDocuments$)?"":"No files uploaded"),b(3),C("disabled",!Wt(54,43,r.hasDocuments$))}}var Rg=class i{constructor(t,e,n,r,a,o,s,d,m){this.state=t;this.aiChatService=e;this.router=n;this.fileUploadService=r;this.snackBar=a;this.cdRef=o;this.dialog=s;this.signalrService=d;this.authService=m;this.isChatOpen$=this.state.isChatOpen$,this.messages$=this.state.messages$,this.isLoading$=this.state.isLoading$,this.currentConversation$=this.state.currentConversation$,this.conversations$=this.state.conversations$,this.selectedPrompts$=this.state.selectedPrompts$,this.prompts$=this.state.prompts$,this.currentConversation$.pipe(Ut(this.destroy$)).subscribe(h=>Yr(this,null,function*(){this.currentConversation=h,h&&h.Id?(this.conversationId=h.Id,yield this.signalrService.joinConversationGroup(this.conversationId)):this.conversationId=null}))}fileInput;folderInput;messageContainer;isChatOpen$;messages$;isLoading$;currentConversation$;prompts$;conversations$;selectedPrompts$;hasDocuments$=wt(!1);isHistoryVisible=!1;conversationId=null;currentConversation=null;destroy$=new vt;selectConversation$=new vt;files=[];uploadedFileInfos=[];isUploading=!1;progress=0;newMessageContent="";isPromptsPopupVisible=!1;promptSelectionState={};fullBlueprintAnalysisPromptId=null;fullBlueprintAnalysisPromptKey="SYSTEM_COMPREHENSIVE_ANALYSIS";documents=[];sortOrder="desc";isLoggedIn=!1;get isSendDisabled(){let t=[];this.selectedPrompts$.pipe(Mi(1)).subscribe(o=>t=o);let e=!1;this.hasDocuments$.pipe(Mi(1)).subscribe(o=>e=o);let n=this.newMessageContent.trim().length>0,r=this.files.length>0,a=t.length>0;return!(n||(r||e)&&a)}get isInputDisabled(){let t=[];return this.selectedPrompts$.pipe(Mi(1)).subscribe(e=>t=e),t.length>0}ngOnInit(){this.hasDocuments$=this.state.documents$.pipe(bi(t=>t.length>0)),this.authService.currentUser$.pipe(Ut(this.destroy$)).subscribe(t=>{this.isLoggedIn=!!t,this.isLoggedIn&&(this.signalrService.startConnection(),this.aiChatService.getMyPrompts(),this.aiChatService.getMyConversations(),this.setupConversationSelection())}),this.state.documents$.pipe(Ut(this.destroy$)).subscribe(t=>this.documents=t),this.selectedPrompts$.pipe(Ut(this.destroy$)).subscribe(t=>{this.prompts$.pipe(Mi(1)).subscribe(e=>{this.promptSelectionState=e.reduce((n,r)=>{let a=e.find(o=>o.promptKey===this.fullBlueprintAnalysisPromptKey);return a&&(this.fullBlueprintAnalysisPromptId=a.id),n[r.id]=t.includes(r.id),n},{})})}),this.messages$.pipe(Ut(this.destroy$)).subscribe(()=>{this.scrollToBottom()})}ngOnDestroy(){this.signalrService.stopConnection(),this.destroy$.next(),this.destroy$.complete()}scrollToBottom(t="auto"){setTimeout(()=>{try{this.messageContainer&&this.messageContainer.nativeElement&&this.messageContainer.nativeElement.scrollTo({top:this.messageContainer.nativeElement.scrollHeight,behavior:t})}catch(e){console.error("Error scrolling to bottom:",e)}},0)}closeChat(){this.state.setIsChatOpen(!1)}sendMessage(){if(this.isSendDisabled)return;let t=this.newMessageContent,e=this.state.getCurrentConversationId();this.selectedPrompts$.pipe(Mi(1)).subscribe(n=>{this.prompts$.pipe(Mi(1)).subscribe(r=>{let a=n.map(o=>r.find(s=>s.id===o)?.promptKey).filter(o=>!!o);if(e){let o=this.documents.map(s=>s.blobUrl);this.aiChatService.sendMessage(e,t,this.files,a,o)}else this.aiChatService.startConversation(t,a.length>0?a[0]:null,this.files,a).subscribe(o=>{o&&this.selectConversation$.next(o.Id)})})}),this.newMessageContent="",this.files=[],this.state.setSelectedPrompts([]),this.isPromptsPopupVisible=!1,this.scrollToBottom("smooth")}onKeyDown(t){t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),this.sendMessage())}autoResize(t){let e=t.target;e.style.height="auto",e.style.height=`${e.scrollHeight}px`}onAttachFile(){this.fileUploadService.openUploadOptionsDialog().subscribe(t=>{t==="files"?this.fileInput.nativeElement.click():t==="folder"&&this.folderInput.nativeElement.click()})}onFileSelected(t){let e=t.target.files;e.length>0&&(this.files=Array.from(e),this.uploadFiles(this.files))}uploadFiles(t){this.isUploading=!0,this.progress=0;let e=r=>{this.fileUploadService.uploadFiles(t,r,r).subscribe({next:a=>{if(this.progress=a.progress,this.isUploading=a.isUploading,!a.isUploading&&a.files){this.uploadedFileInfos=[...this.uploadedFileInfos,...a.files],this.snackBar.open("Files uploaded successfully!","Close",{duration:3e3});let o=this.state.getCurrentConversationId();o&&this.aiChatService.getConversationDocuments(o).subscribe(s=>{this.documents=s,this.state.setDocuments(s),this.cdRef.detectChanges()})}},error:a=>{this.isUploading=!1,this.snackBar.open("File upload failed. Please try again.","Close",{duration:3e3}),console.error("Upload error:",a)}})},n=this.state.getCurrentConversationId();n?e(n):this.aiChatService.createConversation().subscribe(r=>{r&&r.Id?(this.state.addConversation(r),this.state.setActiveConversationId(r.Id),this.state.setMessages(r.messages??[]),this.conversationId=r.Id,e(r.Id)):(this.isUploading=!1,this.snackBar.open("Could not start a new conversation to upload files.","Close",{duration:3e3}))})}getDisplayContent(t,e){return this.aiChatService.getDisplayContent(t,e)}goToFullScreen(){this.router.navigate(["/ai-chat"]),this.state.setIsChatOpen(!1)}togglePromptsPopup(){this.isPromptsPopupVisible=!this.isPromptsPopupVisible,this.cdRef.detectChanges()}confirmPrompts(){this.isPromptsPopupVisible=!1}togglePromptSelection(t){this.prompts$.pipe(Mi(1)).subscribe(e=>{let n=e.find(a=>a.id===t);if(!n)return;let r=e.find(a=>a.promptKey===this.fullBlueprintAnalysisPromptKey);this.selectedPrompts$.pipe(Mi(1)).subscribe(a=>{let o=a.includes(t),s;if(n.promptKey===this.fullBlueprintAnalysisPromptKey)s=o?[]:[t];else if(o)s=a.filter(d=>d!==t);else{let d=a;r&&(d=d.filter(m=>m!==r.id)),s=[...d,t]}this.state.setSelectedPrompts(s)})})}clearPrompts(){this.state.setSelectedPrompts([])}getUploadedFileNames(){return this.fileUploadService.getUploadedFileNames(this.uploadedFileInfos)}viewUploadedFiles(){this.conversationId?this.aiChatService.getConversationDocuments(this.conversationId).subscribe(t=>{this.fileUploadService.viewUploadedFiles(t)}):this.fileUploadService.viewUploadedFiles(this.documents)}toggleHistory(){this.isHistoryVisible=!this.isHistoryVisible}loadConversation(t){this.selectConversation$.next(t),this.isHistoryVisible=!1}setupConversationSelection(){this.selectConversation$.pipe(aa(t=>{this.state.setActiveConversationId(t),this.scrollToBottom("auto")}),Fi(t=>this.aiChatService.getConversation(t).pipe(aa(()=>Yr(this,null,function*(){yield this.signalrService.joinConversationGroup(t)})))),Ut(this.destroy$)).subscribe()}get sortIcon(){return this.sortOrder==="asc"?"arrow_upward":"arrow_downward"}sortConversations(){this.sortOrder=this.sortOrder==="asc"?"desc":"asc",this.state.sortConversations(this.sortOrder)}startNewConversation(){this.newMessageContent="",this.state.setSelectedPrompts([]),this.state.setActiveConversationId(null),this.state.setMessages([]),this.state.setDocuments([]),this.aiChatService.getMyPrompts()}retryMessage(t){this.state.deleteMessage(t.Id),t.ConversationId?this.aiChatService.sendMessage(t.ConversationId,t.Content,[]):this.aiChatService.startConversation(t.Content,null,[]).subscribe(e=>{e&&this.selectConversation$.next(e.Id)})}static \u0275fac=function(e){return new(e||i)(k(gc),k(Sg),k(Ii),k(Ou),k(Hn),k(xt),k(pn),k(L5),k(hi))};static \u0275cmp=fe({type:i,selectors:[["app-ai-chat-window"]],viewQuery:function(e,n){if(e&1&&(Ue(wO,5),Ue(SO,5),Ue(MO,5)),e&2){let r;be(r=ve())&&(n.fileInput=r.first),be(r=ve())&&(n.folderInput=r.first),be(r=ve())&&(n.messageContainer=r.first)}},standalone:!0,features:[ye],decls:2,vars:3,consts:[["messageContainer",""],["fileInput",""],["folderInput",""],["class","chat-window",4,"ngIf"],[1,"chat-window"],[1,"chat-header"],[1,"chat-title"],[1,"header-actions"],["aria-label","New chat",1,"action-btn",3,"click"],[1,"material-icons"],["aria-label","Toggle history",1,"action-btn",3,"click"],["aria-label","Full screen",1,"action-btn",3,"click"],["aria-label","Close chat",1,"action-btn",3,"click"],[1,"scroll-wrapper"],[1,"chat-window-container"],["class","chat-history-panel",4,"ngIf"],["class","selected-prompt-display",4,"ngIf"],["class","file-analysis-notification",4,"ngIf"],[1,"message-history"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["class","message ai",4,"ngIf"],["class","prompts-popup",4,"ngIf"],[1,"message-input-container"],["class","upload-progress",4,"ngIf"],["class","upload-complete",4,"ngIf"],[3,"ngSubmit"],["type","button","mat-icon-button","","matTooltip","More options",1,"more-options-btn",3,"click"],["id","chat-input","name","newMessageContent","placeholder","Type your message...","autocomplete","off","rows","1",3,"ngModelChange","input","keydown","ngModel","disabled","matTooltip"],[1,"button-wrapper",3,"matTooltip"],["mat-raised-button","","color","primary","type","submit",1,"submit-btn","publish-btn","send-button",3,"disabled"],["mat-raised-button","","type","button",1,"action-btn","submit-btn","publish-btn","icon-button",3,"click","disabled"],["type","file","multiple","",2,"display","none",3,"change"],["type","file","webkitdirectory","","multiple","",2,"display","none",3,"change"],[1,"chat-history-panel"],[1,"history-header"],["aria-label","Sort conversations",1,"action-btn",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"conversation-title"],[1,"conversation-timestamp"],[1,"selected-prompt-display"],[4,"ngFor","ngForOf"],[1,"file-analysis-notification"],[1,"message",3,"ngClass"],[1,"chat-icon"],[1,"message-content"],[3,"ngSwitch"],[3,"data",4,"ngSwitchCase"],["class","user-prompt",4,"ngSwitchCase"],["class","error-message",4,"ngIf"],[3,"data"],[1,"user-prompt"],[1,"error-message"],["mat-icon-button","",3,"click"],[1,"message","ai"],[1,"prompts-popup"],["mat-raised-button","","color","primary","class","confirm-btn submit-btn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","class","clear-btn submit-btn",3,"click",4,"ngIf"],["class","prompt-item",3,"disabled","click",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"confirm-btn","submit-btn",3,"click"],["mat-raised-button","","color","warn",1,"clear-btn","submit-btn",3,"click"],[1,"prompt-item",3,"click"],["type","checkbox","readonly","",3,"checked","disabled"],[1,"prompt-details"],[1,"prompt-title"],[1,"prompt-description"],[1,"upload-progress"],["mode","determinate",3,"value"],[1,"upload-complete"],["matTooltipPosition","above",3,"matTooltip"]],template:function(e,n){e&1&&(I(0,UO,61,47,"div",3),dt(1,"async")),e&2&&C("ngIf",Wt(1,1,n.isChatOpen$)&&n.isLoggedIn)},dependencies:[Dt,Nr,Ji,Pt,NS,FS,Os,Gi,wn,mn,xn,pi,Ki,xa,hc,zn,Fr,Fo,No,wg,O5,js,vc,zt,Nt,zr,R5],styles:["@keyframes _ngcontent-%COMP%_pulse-text{0%{opacity:.5}50%{opacity:1}to{opacity:.5}}[_nghost-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.chat-window[_ngcontent-%COMP%]{width:500px;height:600px;background-color:#fff;border-radius:10px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column-reverse;overflow:auto;resize:both;min-width:300px;min-height:400px;max-width:80vw;max-height:90vh;direction:rtl;transform:rotateX(180deg)}.chat-window[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{direction:ltr;transform:rotateX(180deg)}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;background-color:#fbd008;color:#333}.chat-header[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;color:#333}.chat-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.scroll-wrapper[_ngcontent-%COMP%]{flex:1;position:relative}.chat-window-container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow-y:auto;padding:1rem}.message-history[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-history[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.5rem 1rem;border-radius:15px;margin-bottom:.5rem;max-width:80%}.message-history[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .chat-icon[_ngcontent-%COMP%]{margin-right:.5rem;margin-top:.2rem;flex-shrink:0;background-color:#fbd008;border-radius:15px;font-size:20px;padding:4px}.message-history[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{flex-grow:1;word-wrap:break-word}.message-history[_ngcontent-%COMP%]   .message.user-message[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;align-self:flex-end;border-bottom-right-radius:3px}.message-history[_ngcontent-%COMP%]   .message.ai-message[_ngcontent-%COMP%]{background-color:#e9ecef;color:#333;align-self:flex-start;border-bottom-left-radius:3px}.message-history[_ngcontent-%COMP%]   .message.ai[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-text 1.5s infinite}.message-history[_ngcontent-%COMP%]   .user-prompt[_ngcontent-%COMP%]{color:#000;white-space:pre-wrap;font-family:inherit;font-size:inherit}.message-input-container[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid #eee;background-color:#fff;position:relative;flex-shrink:0}.message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center}.message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem;border:1px solid #ccc;border-radius:20px;margin-right:.5rem;font-size:.9rem;resize:none;overflow-y:hidden}.message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{gap:.25rem;margin-right:.1rem;min-width:auto;padding:6px 12px;font-size:.9rem}.message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.action-btn.submit-btn[_ngcontent-%COMP%]{padding:0;min-width:40px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:10px}.message-input-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.action-btn.submit-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}.upload-progress[_ngcontent-%COMP%]{margin-bottom:.5rem}.upload-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.8rem;color:#333}.upload-complete[_ngcontent-%COMP%]{margin-bottom:.5rem}.upload-complete[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#28a745;cursor:default}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;margin:0 .5rem;border:none}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.publish-btn[_ngcontent-%COMP%]{background:#fbd008}.submit-btn.publish-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.send-button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.more-options-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#333;font-size:1.2rem;padding:0 .5rem;align-self:center;cursor:pointer}.more-options-btn[_ngcontent-%COMP%]:hover{color:#fbd008}.prompts-popup[_ngcontent-%COMP%]{position:absolute;top:80px;left:1rem;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 10px #0000001a;padding:.5rem;z-index:100;width:calc(100% - 2rem);max-height:200px;overflow-y:auto}.prompts-popup[_ngcontent-%COMP%]   .prompt-item[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #eee;cursor:pointer;transition:background-color .3s}.prompts-popup[_ngcontent-%COMP%]   .prompt-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.prompts-popup[_ngcontent-%COMP%]   .prompt-item[_ngcontent-%COMP%]   .prompt-title[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:.9rem}.prompts-popup[_ngcontent-%COMP%]   .prompt-item[_ngcontent-%COMP%]   .prompt-description[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:.25rem}.chat-history-panel[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#f8f9fa;z-index:10;padding:1rem;overflow-y:auto}.chat-history-panel[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.chat-history-panel[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.chat-history-panel[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;color:#333}.chat-history-panel[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.chat-history-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.chat-history-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #eee;cursor:pointer;transition:background-color .3s;display:flex;justify-content:space-between;align-items:center}.chat-history-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.selected-prompt-display[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:2;background-color:#f0f4f8;padding:.75rem;margin-bottom:1rem;border-radius:8px;border:1px solid #d1dce5}.selected-prompt-display[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;font-weight:600;color:#333}.selected-prompt-display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.selected-prompt-display[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.85rem;color:#555;word-wrap:break-word}.button-wrapper[_ngcontent-%COMP%]{display:inline-block}.disabled-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.disabled-wrapper[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:#ccc;color:#666;pointer-events:none}.icon-button[_ngcontent-%COMP%]{min-width:0;padding:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0 auto}form[_ngcontent-%COMP%]{display:flex;gap:1px}"]})};var Bu=class i{constructor(t,e){this.http=t;this.authService=e;this.loadSeenNotifications(),this.authService.isLoggedIn()&&this.connectSignalR(),this.authService.currentUser$.subscribe(n=>{n&&(!this.hubConnection||this.hubConnection.state===F5.Disconnected)?this.connectSignalR():!n&&this.hubConnection&&this.disconnectSignalR()})}apiUrl=`${St.BACKEND_URL}/notifications`;hubConnection;notificationsSubject=new To([]);notifications$=this.notificationsSubject.asObservable();hasUnreadNotifications$=new To(!1);reconnectAttempts=0;maxReconnectAttempts=5;seenNotificationIds=[];connectSignalR(){if(!this.authService.isLoggedIn()){console.log("User not authenticated, skipping SignalR connection");return}this.hubConnection=new _c().withUrl(`${St.SIGNALR_URL}/notifications`,{accessTokenFactory:()=>Yr(this,null,function*(){return(yield this.authService.getToken())||""})}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>{console.log("SignalR connection established"),this.reconnectAttempts=0}).catch(t=>{if(console.error("Error while starting SignalR connection: "+t),this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;let e=Math.pow(2,this.reconnectAttempts)*1e3;console.log(`Reconnecting SignalR in ${e}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>this.connectSignalR(),e)}}),this.hubConnection.on("ReceiveNotification",t=>{console.log("Received real-time notification:",t);let e=this.notificationsSubject.value;this.notificationsSubject.next([t,...e]),this.checkForUnreadNotifications()}),this.hubConnection.onclose(t=>{console.log("SignalR connection closed.",t)})}disconnectSignalR(){this.hubConnection&&(this.hubConnection.stop(),this.reconnectAttempts=0)}getRecentNotifications(){return this.http.get(`${this.apiUrl}/recent`)}getAllNotifications(t,e){let n=`${this.apiUrl}?page=${t}&pageSize=${e}`;return this.http.get(n).pipe(aa(r=>{let a=r?.notifications||[];this.notificationsSubject.next(a),this.checkForUnreadNotifications()}),It(r=>(console.error("Error fetching historical notifications:",r),si(()=>new Error(r)))))}markAsRead(){let t=this.notificationsSubject.value.map(e=>e.id);this.seenNotificationIds=[...new Set([...this.seenNotificationIds,...t])],this.saveSeenNotifications(),this.hasUnreadNotifications$.next(!1)}checkForUnreadNotifications(){let e=this.notificationsSubject.value.filter(n=>!this.seenNotificationIds.includes(n.id));this.hasUnreadNotifications$.next(e.length>0)}saveSeenNotifications(){localStorage.setItem("seenNotificationIds",JSON.stringify(this.seenNotificationIds))}loadSeenNotifications(){let t=localStorage.getItem("seenNotificationIds");t&&(this.seenNotificationIds=JSON.parse(t))}reconnectWebSocket(){this.disconnectSignalR(),this.authService.isLoggedIn()&&this.connectSignalR()}ngOnDestroy(){this.disconnectSignalR()}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(hi))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Sa=`${St.BACKEND_URL}/Jobs`,An=class i{constructor(t){this.httpClient=t}jobQuote;createJob(t,e){this.httpClient.post(`${Sa}/Jobs`,{job:t,address:e})}updateJob(t,e){return this.httpClient.post(Sa+"/"+e,t,{headers:{"Content-Type":"application/json"}})}getAllJobsByUserId(t){return this.httpClient.get(Sa+"/userId/"+t,{headers:{"Content-Type":"application/json"}})}getAssignedJobsForTeamMember(t){return this.httpClient.get(`${St.BACKEND_URL}/Jobs/assigned/${t}`,{headers:{"Content-Type":"application/json"}})}getAssignedJobs(t){return this.httpClient.get(`${St.BACKEND_URL}/JobAssignment/GetAssignedUsers/${t}`,{headers:{"Content-Type":"application/json"}})}getSubtasks(t){return this.httpClient.get(`${Sa}/subtasks/${t}`)}downloadJobDocument(t){return this.httpClient.get(`${Sa}/download/${t}`,{responseType:"blob"})}downloadJobDocumentFile(t){return this.httpClient.get(`${Sa}/downloadFile?fileUrl=`+t,{responseType:"blob"})}getJobDocuments(t){return this.httpClient.get(`${Sa}/documents/`+t)}getAllJobs(){this.httpClient.get(Sa)}saveSubtasks(t,e){return this.httpClient.post(`${Sa}/subtask`,{subtasks:t,userId:e},{headers:{"Content-Type":"application/json"}})}getJobSubtasks(t){return this.httpClient.get(`${Sa}/subtasks/${t}`)}getSpecificJob(t){return this.httpClient.get(Sa+"/Id/"+t)}GetBillOfMaterials(t){return this.httpClient.get(Sa+"/processing-results/"+t)}GetBillOfMaterialsStatus(t){return this.httpClient.get(Sa+"processing-results/"+t)}setJobCard(t){this.jobQuote=t}getJobCard(){return this.jobQuote}archiveJob(t){return this.httpClient.put(`${Sa}/${t}/archive`,{})}getArchivedJobs(){return this.httpClient.get(`${Sa}/archived`)}getDashboardJobs(){return this.httpClient.get(`${Sa}/dashboard`)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var qO=`${St.BACKEND_URL}/Jobs`,Fg=class i{constructor(t){this.httpClient=t}baseUrl="https://weather.googleapis.com/v1/forecast/days:lookup";getWeatherForecast(t,e){let n=`${qO}/weather-forecast?lat=${t}&lon=${e}`;return console.log("Calling backend weather endpoint:",n),this.httpClient.get(n).pipe(bi(r=>{if(!r.forecastDays)throw new Error("No forecast data available");return r.forecastDays.map(a=>({date:new Date(a.displayDate.year,a.displayDate.month-1,a.displayDate.day).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),iconUrl:a.daytimeForecast.weatherCondition.iconBaseUri?a.daytimeForecast.weatherCondition.iconBaseUri+".png":"https://via.placeholder.com/50",condition:this.capitalize(a.daytimeForecast.weatherCondition.description.text),highTemp:Math.round(a.maxTemperature.degrees),lowTemp:Math.round(a.minTemperature.degrees),precipitationProbability:a.daytimeForecast.precipitation.probability.percent}))}),It(r=>si(()=>new Error("Unable to fetch weather forecast "+r.message))))}capitalize(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}getFutureWeather(t,e){return this.httpClient.get(`https://some-other-api?location=${t}&date=${e}`)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Cy=new yt("Initial State"),Vo=class i{state$;constructor(t){this.state$=new To(t)}getState(){return this.state$.getValue()}select(t){return this.state$.asObservable().pipe(bi(t),Zf())}setState(t){let e=this.state$.getValue();this.state$.next(Ct(Ct({},e),t))}resetState(t){this.state$.next(t)}static \u0275fac=function(e){return new(e||i)(Xe(Cy))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Vs=class i{constructor(t,e,n,r,a){this.jobsService=t;this.weatherService=e;this.store=n;this.snackBar=r;this.router=a}getJobDetails(t,e){return this.jobsService.getSpecificJob(t).pipe(aa(n=>{let r=Ct(Ct({},e),n);n.address&&(r.address=n.address,r.latitude=n.latitude,r.longitude=n.longitude),this.store.setState({projectDetails:r}),r.latitude&&r.longitude&&this.getWeatherCondition(parseFloat(r.latitude),parseFloat(r.longitude)).subscribe()}),It(n=>(console.error("Failed to load job details",n),this.snackBar.open("Failed to refresh job details.","Close",{duration:3e3}),si(()=>n))))}getWeatherCondition(t,e){return this.weatherService.getWeatherForecast(t,e).pipe(aa(n=>{this.store.setState({forecast:n,weatherDescription:n[0]?.condition||"Unavailable",weatherError:null})}),It(n=>(this.store.setState({forecast:[],weatherDescription:"Unavailable",weatherError:"Failed to load weather forecast"}),si(()=>n))))}fetchJobData(t){this.getJobDetails(t.jobId,t).subscribe({next:()=>{let e=this.store.getState().projectDetails;e.latitude&&e.longitude&&this.getWeatherCondition(parseFloat(e.latitude),parseFloat(e.longitude)).subscribe()}}),this.jobsService.getJobSubtasks(t.jobId).pipe(Fi(e=>!e||e.length===0?this.jobsService.GetBillOfMaterials(t.jobId).pipe(bi(n=>({markdown:n[0]?.fullResponse,source:"bom"}))):wt({data:e,source:"subtasks"})),It(e=>e.status===404?this.jobsService.GetBillOfMaterials(t.jobId).pipe(bi(n=>({markdown:n[0]?.fullResponse,source:"bom"}))):si(()=>e))).subscribe({next:e=>{if(e.source==="subtasks"){let n=this.groupSubtasksByTitle(e.data);this.store.setState({subtaskGroups:n})}else if(e.source==="bom"&&e.markdown){let n=this.parseTimelineToTaskGroups(e.markdown);this.store.setState({subtaskGroups:n})}},error:e=>{console.error(e),this.store.setState({subtaskGroups:[]})}})}groupSubtasksByTitle(t){let e=new Map;for(let n of t){let r=e.get(n.groupTitle)||[],a=o=>o?new Date(o).toISOString().split("T")[0]:"";r.push({id:n.id,task:this.cleanTaskName(n.task??n.taskName),days:n.days,startDate:a(n.startDate),endDate:a(n.endDate),status:n.status??"Pending",cost:n.cost??0,deleted:n.deleted??!1}),e.set(n.groupTitle,r)}return Array.from(e.entries()).map(([n,r])=>{let a=r.filter(s=>s.status&&s.status.toLowerCase()==="completed").length,o=r.length>0?Math.round(a/r.length*100):0;return{title:this.cleanTaskName(n),subtasks:r,progress:o}})}parseTimelineToTaskGroups(t){if(!t)return[];let e=t.split(`
`),n=new Map,r=!1,a=/\|\s*Phase\s*\|\s*Task\s*\|\s*Duration \(Workdays\)\s*\|/,o="";for(let s of e){let d=s.trim();if(d.startsWith("Ready for the next prompt 20"))break;if(!r&&a.test(d)){r=!0;continue}if(!r||!d.startsWith("|")||d.includes("---"))continue;let m=d.split("|").map(S=>S.trim()).slice(1,-1);if(m.length<6)continue;let h=m[0],v=m[1],_=m[2],g=m[4],D=m[5];if(h.includes("Financial Milestone")||v.includes("Financial Milestone"))continue;let E=h.replace(/\*\*|\\/g,"").trim();E&&(o=E),n.has(o)||n.set(o,[]),v&&n.get(o)?.push({task:this.cleanTaskName(v),days:parseInt(_,10)||0,startDate:g,endDate:D,status:"Pending",cost:0,deleted:!1,accepted:!1})}return Array.from(n.entries()).map(([s,d])=>({title:this.cleanTaskName(s),subtasks:d}))}cleanTaskName(t){return typeof t=="string"?t.replace(/^\*\*|\*\*$/g,"").trim():t}prepareProjectData(t,e,n){let r=a=>{let o=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${o}-${s}-${d}`};return{Id:e.jobId||0,ProjectName:e.projectName||"",JobType:e.jobType||"",Qty:Number(e.quantity)||1,DesiredStartDate:r(e.desiredStartDate?new Date(e.desiredStartDate):new Date),WallStructure:e.wallStructure||"",WallStructureSubtask:JSON.stringify(n[2]?.subtasks||[]),WallInsulation:e.wallInsulation||"",WallInsulationSubtask:JSON.stringify(n[1]?.subtasks||[]),RoofStructure:e.roofStructure||"",RoofStructureSubtask:JSON.stringify(n[5]?.subtasks||[]),RoofTypeSubtask:"",RoofInsulation:e.roofInsulation||"",RoofInsulationSubtask:JSON.stringify(n[4]?.subtasks||[]),Foundation:e.foundation||"",FoundationSubtask:JSON.stringify(n[0]?.subtasks||[]),Finishes:e.finishes||"",FinishesSubtask:JSON.stringify(n[6]?.subtasks||[]),ElectricalSupplyNeeds:e.electricalSupply||"",ElectricalSupplyNeedsSubtask:JSON.stringify(n[3]?.subtasks||[]),Stories:Number(e.stories)||0,BuildingSize:Number(e.buildingSize)||0,Status:t||"DRAFT",OperatingArea:"GreenField",Address:e.address||"",UserId:localStorage.getItem("userId"),Blueprint:e.blueprintPath||""}}navigateToJob(t,e="dd/MM/yyyy"){let n=t.jobId||t.id||t;this.jobsService.getSpecificJob(n).subscribe(r=>{let a=new Date(r.desiredStartDate),o=RS(a,e,"en-GB"),s={jobId:r.jobId,operatingArea:r.operatingArea,address:r.address,projectName:r.projectName,jobType:r.jobType,buildingSize:r.buildingSize,wallStructure:r.wallStructure,wallInsulation:r.wallInsulation,roofStructure:r.roofStructure,roofInsulation:r.roofInsulation,electricalSupply:r.electricalSupply,finishes:r.finishes,foundation:r.foundation,date:o,documents:r.documents,latitude:r.latitude,longitude:r.longitude};this.router.navigate(["/view-quote"],{queryParams:s})})}static \u0275fac=function(e){return new(e||i)(Xe(An),Xe(Fg),Xe(Vo),Xe(Hn),Xe(Ii))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};function $O(i,t){i&1&&(l(0,"div",37),F(1,"app-loader",38),c())}function YO(i,t){if(i&1){let e=ge();l(0,"button",39),z("click",function(){q(e),P();let r=Vt(13);return W(r.toggle())}),l(1,"mat-icon"),u(2,"menu"),c()()}}function QO(i,t){i&1&&F(0,"span",42)}function JO(i,t){if(i&1){let e=ge();l(0,"button",40),z("menuOpened",function(){q(e);let r=P();return W(r.onNotificationsOpened())}),l(1,"mat-icon"),u(2,"notifications"),c(),I(3,QO,1,0,"span",41),dt(4,"async"),c()}if(i&2){let e=P(),n=Vt(60);C("matMenuTriggerFor",n),b(3),C("ngIf",Wt(4,2,e.hasUnreadNotifications$))}}function KO(i,t){if(i&1&&(l(0,"button",43),F(1,"mat-icon",44),c()),i&2){P();let e=Vt(52);C("matMenuTriggerFor",e)}}function XO(i,t){if(i&1&&(l(0,"div",45)(1,"span"),u(2),c()()),i&2){let e=P();b(2),xe(e.companyName)}}function ZO(i,t){i&1&&F(0,"app-footer")}function e4(i,t){if(i&1){let e=ge();l(0,"div",46)(1,"div",47)(2,"p"),u(3),c(),l(4,"div",48)(5,"button",49),z("click",function(){q(e);let r=P();return W(r.cancelalert())}),u(6,"No"),c(),l(7,"button",50),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(8,"Yes"),c()()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}function t4(i,t){if(i&1){let e=ge();Je(0),l(1,"button",34),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.navigateToJob(r))}),l(2,"span"),u(3),c()(),Ke()}if(i&2){let e=t.$implicit;b(3),DS("",e.senderFullName," - ",e.projectName,": ",e.message,"")}}function i4(i,t){if(i&1&&(Je(0),I(1,t4,4,3,"ng-container",52),dt(2,"slice"),Ke()),i&2){let e=P().ngIf;b(),C("ngForOf",AS(2,1,e,0,5))}}function n4(i,t){i&1&&(l(0,"button",53)(1,"span"),u(2,"No recent notifications"),c()())}function r4(i,t){if(i&1&&(Je(0),I(1,i4,3,5,"ng-container",51)(2,n4,3,0,"ng-template",null,3,ur),Ke()),i&2){let e=t.ngIf,n=Vt(3);b(),C("ngIf",e&&e.length>0)("ngIfElse",n)}}function a4(i,t){i&1&&F(0,"app-ai-chat-icon")}var Bg=class i{constructor(t,e,n,r,a,o,s,d,m,h,v){this.platformId=t;this.dialog=e;this.authService=n;this.router=r;this.notificationsService=s;this.jobsService=d;this.datePipe=m;this.jobDataService=h;this.aiChatStateService=v;this.router.events.pipe(ii(_=>_ instanceof cy)).subscribe(_=>{this.showFooter=!_.urlAfterRedirects.includes("/login"),console.log("Footer visibility:",this.showFooter),console.log("Current route:",_.urlAfterRedirects)}),this.router.events.pipe(ii(_=>_ instanceof cy)).subscribe(_=>{this.showAiChatIcon=!_.urlAfterRedirects.startsWith("/ai-chat")}),this.isBrowser=sa(this.platformId),this.hasUnreadNotifications$=this.notificationsService.hasUnreadNotifications$,a.addSvgIcon("icons8-settings",o.bypassSecurityTrustResourceUrl("app/assets/icons8-settings.svg")),a.addSvgIcon("profile-circle",o.bypassSecurityTrustResourceUrl("app/assets/custom-svg/profile-circle-svgrepo-com.svg")),a.addSvgIcon("logout",o.bypassSecurityTrustResourceUrl("app/assets/custom-svg/logout-svgrepo-com.svg")),a.addSvgIcon("trash",o.bypassSecurityTrustResourceUrl("app/assets/custom-svg/icons8-trash.svg"))}showAlert=!1;alertMessage="";LoggedInName="";companyName="";routeURL="/";isLoading=!1;isServicesExpanded=!1;title="ProBuildAI";loggedIn=!1;isBrowser=typeof window<"u";isSidenavOpen=!1;showFooter=!0;recentNotifications$;hasUnreadNotifications$;showAiChatIcon=!0;ngOnInit(){this.isBrowser&&(this.authService.currentUser$.subscribe(t=>{if(this.loggedIn=!!t,t){let e=t.firstName||localStorage.getItem("firstName")||"",n=t.lastName||localStorage.getItem("lastName")||"";this.LoggedInName=`${e} ${n}`.trim(),this.companyName=t.companyName||localStorage.getItem("companyName")||""}else this.LoggedInName="",this.companyName=""}),this.loggedIn&&(this.recentNotifications$=this.notificationsService.notifications$,this.notificationsService.getAllNotifications(1,50).subscribe()))}onNotificationsOpened(){this.notificationsService.markAsRead()}ngOnDestroy(){this.isBrowser&&window.removeEventListener("beforeunload",this.onBrowserClose)}shouldShowHeaderButtons(){let t=["/login","/register","/confirm-email"];return this.loggedIn&&!t.includes(this.router.url.toLowerCase())}onBrowserClose(t){localStorage.setItem("loggedIn","false")}cancelalert(){this.showAlert=!1}closeAlert(){this.routeURL&&this.router.navigateByUrl(this.routeURL),this.showAlert=!1}logout(){this.dialog.open(Ig,{width:"320px",disableClose:!0}).afterClosed().subscribe(e=>{console.log(e),e===!0&&(localStorage.clear(),this.loggedIn=!1,this.authService.logout(),this.routeURL&&this.router.navigateByUrl(this.routeURL))})}toggleSidenav(){this.isSidenavOpen=!this.isSidenavOpen}navigateToJob(t){this.jobDataService.navigateToJob(t)}goToAiChatFullScreen(){this.router.navigate(["/ai-chat"]),this.aiChatStateService.setIsChatOpen(!1)}static \u0275fac=function(e){return new(e||i)(k(va),k(pn),k(hi),k(Ii),k(xg),k(og),k(Bu),k(An),k(Gi),k(Vs),k(gc))};static \u0275cmp=fe({type:i,selectors:[["app-root"]],standalone:!0,features:[ft([Gi]),ye],decls:68,vars:13,consts:[["sidenav",""],["menu","matMenu"],["notificationMenu","matMenu"],["noNotifications",""],[1,"page-wrapper"],["class","loading-container",4,"ngIf"],["color","primary",1,"header"],["mat-icon-button","","aria-label","Toggle navigation menu",3,"click",4,"ngIf"],["routerLink","/dashboard",1,"logo-link"],["ngSrc","assets/logo.png","alt","Company Logo","height","50","width","150"],["routerLink","/profile",1,"spacer","logged-in-name"],["mat-icon-button","","aria-label","Toggle notifications menu","class","notification-button",3,"matMenuTriggerFor","menuOpened",4,"ngIf"],["mat-icon-button","","aria-label","Logout",3,"matMenuTriggerFor",4,"ngIf"],["class","company-bar",4,"ngIf"],[1,"nav-container"],["mode","push","role","navigation",1,"sidenav",3,"opened"],["mat-flat-button","","routerLink","/dashboard",1,"menu-button","custom-button",3,"click"],[1,"menu-item"],["mat-flat-button","","routerLink","/job-quote",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/job-assignment",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/calendar",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/quotes",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/quote",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/jobselection",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/archive",1,"menu-button","custom-button",3,"click"],["mat-flat-button","","routerLink","/notifications",1,"menu-button","custom-button",3,"click"],["mat-flat-button","",1,"menu-button","custom-button",3,"click"],[1,"content-shell"],[1,"flex-spacer"],[4,"ngIf"],["class","alert-overlay",4,"ngIf"],[1,"no-btn"],["mat-menu-item","","routerLink","/profile"],["svgIcon","profile-circle"],["mat-menu-item","",3,"click"],["svgIcon","logout"],["mat-menu-item","","routerLink","/notifications"],[1,"loading-container"],["aria-label","Loading content"],["mat-icon-button","","aria-label","Toggle navigation menu",3,"click"],["mat-icon-button","","aria-label","Toggle notifications menu",1,"notification-button",3,"menuOpened","matMenuTriggerFor"],["class","notification-dot",4,"ngIf"],[1,"notification-dot"],["mat-icon-button","","aria-label","Logout",3,"matMenuTriggerFor"],["svgIcon","icons8-settings"],[1,"company-bar"],[1,"alert-overlay"],[1,"alert-modal"],[1,"form-row"],["mat-raised-button","",1,"no-btn",3,"click"],["mat-raised-button","",3,"click"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["mat-menu-item",""]],template:function(e,n){if(e&1){let r=ge();l(0,"div",4),I(1,$O,2,0,"div",5),l(2,"mat-toolbar",6),I(3,YO,3,0,"button",7),l(4,"a",8),F(5,"img",9),c(),l(6,"span",10),u(7),c(),I(8,JO,5,4,"button",11)(9,KO,2,1,"button",12),c(),I(10,XO,3,1,"div",13),l(11,"mat-sidenav-container",14)(12,"mat-sidenav",15,0)(14,"mat-nav-list")(15,"button",16),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(16,"span",17),u(17,"HOME"),c()(),l(18,"button",18),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(19,"span",17),u(20,"MY PROJECTS"),c()(),l(21,"button",19),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(22,"span",17),u(23,"JOB ASSIGNMENT"),c()(),l(24,"button",20),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(25,"span",17),u(26,"CALENDAR"),c()(),l(27,"button",21),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(28,"span",17),u(29,"MY QUOTE"),c()(),l(30,"button",22),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(31,"span",17),u(32,"NEW QUOTE"),c()(),l(33,"button",23),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(34,"span",17),u(35,"AVAILABLE JOBS"),c()(),l(36,"button",24),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(37,"span",17),u(38,"ARCHIVE"),c()(),l(39,"button",25),z("click",function(){q(r);let o=Vt(13);return W(o.close())}),l(40,"span",17),u(41,"NOTIFICATIONS"),c()(),l(42,"button",26),z("click",function(){q(r);let o=Vt(13);return n.goToAiChatFullScreen(),W(o.close())}),l(43,"span",17),u(44,"AI CHAT"),c()()()(),l(45,"mat-sidenav-content")(46,"div",27),F(47,"router-outlet")(48,"div",28),I(49,ZO,1,0,"app-footer",29),c()()()(),I(50,e4,9,1,"div",30),l(51,"mat-menu",31,1)(53,"button",32),F(54,"mat-icon",33),u(55," Profile "),c(),l(56,"button",34),z("click",function(){return q(r),W(n.logout())}),F(57,"mat-icon",35),u(58," Logout "),c()(),l(59,"mat-menu",null,2),I(61,r4,4,2,"ng-container",29),dt(62,"async"),F(63,"mat-divider"),l(64,"button",36),u(65," Show all notifications "),c()(),I(66,a4,1,0,"app-ai-chat-icon",29),F(67,"app-ai-chat-window")}e&2&&(b(),C("ngIf",n.isLoading),b(2),C("ngIf",n.shouldShowHeaderButtons()),b(4),xe(n.LoggedInName),b(),C("ngIf",n.shouldShowHeaderButtons()),b(),C("ngIf",n.shouldShowHeaderButtons()),b(),C("ngIf",n.companyName),b(2),C("opened",n.isSidenavOpen),b(37),C("ngIf",n.showFooter),b(),C("ngIf",n.showAlert),b(11),C("ngIf",Wt(62,11,n.recentNotifications$)),b(5),C("ngIf",n.showAiChatIcon))},dependencies:[YS,B5,j5,Bi,Eg,Ep,Ap,Nu,Pt,E5,fr,zn,Fr,ju,Bs,Dl,Lu,QS,zt,Nt,zr,VS,KS,Os,Ji,Jn,un,BS,Pg,Tg,Rg],styles:[".mat-mdc-menu-panel[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 2px 8px #0000001a;background-color:#3b3b3b!important;color:#3b3b3b!important;--mat-menu-container-color: $dark-gray !important;--mat-app-surface-container: $dark-gray !important}.mat-mdc-menu-item[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;padding:10px 16px;display:flex;align-items:center;cursor:pointer}.mat-mdc-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#3b3b3b!important;margin-right:8px}.mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background-color:#bababa!important}.sidenav[_ngcontent-%COMP%]{min-width:200px;background-color:#3b3b3b}.submenu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding-left:24px;padding-right:6px;align-items:right;margin-top:5px!important;border-radius:5px!important;width:99%!important;color:#3b3b3b!important;border:none;transition:background-color .3s}.submenu-button[_ngcontent-%COMP%]{background-color:#fbd008!important;color:#3b3b3b!important;font-weight:700;width:99%;text-align:center;margin:8px 0;padding:10px;box-sizing:border-box;background:#fbd008;box-shadow:0 0 0 3px #fbd008,inset 0 0 0 3px #3b3b3b;border-radius:5px}.expand-icon[_ngcontent-%COMP%]{margin-left:auto}.custom-button[_ngcontent-%COMP%]{background-color:#fbd008!important;color:#3b3b3b!important;font-weight:700;width:100%;text-align:center;margin:8px 0;padding:10px;box-sizing:border-box;background:#fbd008;box-shadow:0 0 0 3px #fbd008,inset 0 0 0 3px #3b3b3b;border-radius:5px}.menu-row[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center;padding:0 4px}.custom-button[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{font-size:16px}mat-toolbar[_ngcontent-%COMP%]{background-color:#fbd008}mat-sidenav-content[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;overflow:auto;padding:16px}.content-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}router-outlet[_ngcontent-%COMP%]{flex:1 0 auto}app-footer[_ngcontent-%COMP%]{width:100%;background-color:#f8f9fa;padding:1rem 0;margin-top:auto}.mat-sidenav[_ngcontent-%COMP%], mat-sidenav[_ngcontent-%COMP%]{width:150px;background-color:#3b3b3b!important;border-radius:0;font-family:Orbitron,sans-serif}mat-sidenav-content[_ngcontent-%COMP%]{margin-left:0!important;display:flex;justify-content:center;height:100%;overflow:auto}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #000;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.alert-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#da4167;color:#fff}.mat-mdc-menu-panel[_ngcontent-%COMP%]{background-color:#3b3b3b}.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 16px 16px 32px;display:flex;justify-content:center;align-items:center;font-size:2rem;color:#d3d3d3}img[_ngcontent-%COMP%]:hover{cursor:pointer}mat-icon[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]{color:#3b3b3b!important}footer[_ngcontent-%COMP%]{position:fixed;width:100%;bottom:0;left:0;right:0;padding-left:50px}footer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.menu-button[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px!important;border-radius:5px!important;width:90%!important;background-color:#fbd008!important;color:#3b3b3b!important;padding:10px 16px;border:none;margin:10px;transition:background-color .3s}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:20px}.logout-btn[_ngcontent-%COMP%]{background:none;border:none}.icon[_ngcontent-%COMP%]{width:2em;height:auto}.notification-button[_ngcontent-%COMP%]{position:relative;margin-left:3px;margin-right:0}.notification-dot[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:8px;height:8px;background-color:red;border-radius:50%}.sidenav[_ngcontent-%COMP%]{width:200px;background-color:var(--black);color:var(--white);font-family:Orbitron,sans-serif}.page-wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}mat-toolbar[_ngcontent-%COMP%], .company-bar[_ngcontent-%COMP%]{flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%}.footer-spacer[_ngcontent-%COMP%]{flex-grow:1}.nav-container[_ngcontent-%COMP%]{flex:1 1 auto;width:100%;min-height:0;overflow-y:auto}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.logged-in-name[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:flex-start;font-size:18px}.logged-in-name[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width: 768px){.sidenav[_ngcontent-%COMP%]{width:150px}.logo-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:40px}}.unread-notification[_ngcontent-%COMP%]{border:2px solid #fbd008}.company-bar[_ngcontent-%COMP%]{background-color:#ffe373;color:#000;padding:10px 20px;text-align:left;font-size:16px;font-weight:500;height:50px;display:flex;align-items:center}"]})};var wy=class{constructor(t){this._box=t,this._destroyed=new vt,this._resizeSubject=new vt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new yl(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ii(e=>e.some(n=>n.target===t)),dS({bufferSize:1,refCount:!0}),Ut(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Vg=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=Bt(ni),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new wy(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var o4=["notch"],s4=["matFormFieldNotchedOutline",""],l4=["*"],c4=["textField"],d4=["iconPrefixContainer"],u4=["textPrefixContainer"],m4=["iconSuffixContainer"],p4=["textSuffixContainer"],h4=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],f4=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function g4(i,t){i&1&&F(0,"span",21)}function b4(i,t){if(i&1&&(l(0,"label",20),rt(1,1),I(2,g4,1,0,"span",21),c()),i&2){let e=P(2);C("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),at("for",e._control.disableAutomaticLabeling?null:e._control.id),b(2),Tt(!e.hideRequiredMarker&&e._control.required?2:-1)}}function v4(i,t){if(i&1&&I(0,b4,3,5,"label",20),i&2){let e=P();Tt(e._hasFloatingLabel()?0:-1)}}function _4(i,t){i&1&&F(0,"div",7)}function y4(i,t){}function x4(i,t){if(i&1&&I(0,y4,0,0,"ng-template",13),i&2){P(2);let e=Vt(1);C("ngTemplateOutlet",e)}}function C4(i,t){if(i&1&&(l(0,"div",9),I(1,x4,1,1,null,13),c()),i&2){let e=P();C("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),b(),Tt(e._forceDisplayInfixLabel()?-1:1)}}function w4(i,t){i&1&&(l(0,"div",10,2),rt(2,2),c())}function S4(i,t){i&1&&(l(0,"div",11,3),rt(2,3),c())}function M4(i,t){}function k4(i,t){if(i&1&&I(0,M4,0,0,"ng-template",13),i&2){P();let e=Vt(1);C("ngTemplateOutlet",e)}}function D4(i,t){i&1&&(l(0,"div",14,4),rt(2,4),c())}function E4(i,t){i&1&&(l(0,"div",15,5),rt(2,5),c())}function A4(i,t){i&1&&F(0,"div",16)}function I4(i,t){if(i&1&&(l(0,"div",18),rt(1,6),c()),i&2){let e=P();C("@transitionMessages",e._subscriptAnimationState)}}function P4(i,t){if(i&1&&(l(0,"mat-hint",22),u(1),c()),i&2){let e=P(2);C("id",e._hintLabelId),b(),xe(e.hintLabel)}}function T4(i,t){if(i&1&&(l(0,"div",19),I(1,P4,2,2,"mat-hint",22),rt(2,7),F(3,"div",23),rt(4,8),c()),i&2){let e=P();C("@transitionMessages",e._subscriptAnimationState),b(),Tt(e.hintLabel?1:-1)}}var Mn=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-label"]],standalone:!0})}}return i})(),O4=0,iM=new yt("MatError"),Ma=(()=>{class i{constructor(e,n){this.id=`mat-mdc-error-${O4++}`,e||n.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(n){return new(n||i)(oa("aria-live"),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,r){n&2&&Ro("id",r.id)},inputs:{id:"id"},standalone:!0,features:[ft([{provide:iM,useExisting:i}])]})}}return i})(),R4=0,xc=(()=>{class i{constructor(){this.align="start",this.id=`mat-mdc-hint-${R4++}`}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(Ro("id",r.id),at("align",null),Qe("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return i})(),N4=new yt("MatPrefix");var nM=new yt("MatSuffix"),Hg=(()=>{class i{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[ft([{provide:nM,useExisting:i}])]})}}return i})(),rM=new yt("FloatingLabelParent"),Q5=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Bt(Vg),this._ngZone=Bt(ni),this._parent=Bt(rM),this._resizeSubscription=new on}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return F4(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(n){return new(n||i)(k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return i})();function F4(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var J5="mdc-line-ripple--active",zg="mdc-line-ripple--deactivating",K5=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{let a=this._elementRef.nativeElement.classList,o=a.contains(zg);r.propertyName==="opacity"&&o&&a.remove(J5,zg)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(zg),e.add(J5)}deactivate(){this._elementRef.nativeElement.classList.add(zg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(ni))}}static{this.\u0275dir=Ze({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return i})(),X5=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(ni))}}static{this.\u0275cmp=fe({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&Ue(o4,5),n&2){let a;be(a=ve())&&(r._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ye],attrs:s4,ngContentSelectors:l4,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(Xt(),F(0,"div",1),l(1,"div",2,0),rt(3),c(),F(4,"div",3))},encapsulation:2,changeDetection:0})}}return i})(),L4={transitionMessages:En("transitionMessages",[Di("enter",Et({opacity:1,transform:"translateY(0%)"})),_i("void => enter",[Et({opacity:0,transform:"translateY(-5px)"}),Ci("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Vu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i})}}return i})();var Pl=new yt("MatFormField"),j4=new yt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Z5=0,eM="fill",B4="auto",tM="fixed",V4="translateY(-50%)",hn=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=go(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||B4}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let n=this._appearance,r=e||this._defaults?.appearance||eM;this._appearance=r,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||tM}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||tM}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,a,o,s,d,m){this._elementRef=e,this._changeDetectorRef=n,this._dir=a,this._platform=o,this._defaults=s,this._animationMode=d,this._labelChild=yS(Mn),this._hideRequiredMarker=!1,this.color="primary",this._appearance=eM,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${Z5++}`,this._hintLabelId=`mat-mdc-hint-${Z5++}`,this._subscriptAnimationState="",this._destroyed=new vt,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Bt(cr),this.getLabelId=ly(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=ly(()=>!!this._labelChild()),s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=!!s?.hideRequiredMarker,s.color&&(this.color=s.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Ut(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ni(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),CS(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ut(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,r=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0,m=a?.getBoundingClientRect().width??0,h=o?.getBoundingClientRect().width??0,v=this._dir.value==="rtl"?"-1":"1",_=`${s+d}px`,D=`calc(${v} * (${_} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${V4} translateX(${D})
    )`;let E=s+d+m+h;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${E}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(xt),k(ni),k(Sr),k(mr),k(j4,8),k(dr,8),k(Bn))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,a){if(n&1&&(MS(a,r._labelChild,Mn,5),bt(a,Vu,5),bt(a,N4,5),bt(a,nM,5),bt(a,iM,5),bt(a,xc,5)),n&2){kS();let o;be(o=ve())&&(r._formFieldControl=o.first),be(o=ve())&&(r._prefixChildren=o),be(o=ve())&&(r._suffixChildren=o),be(o=ve())&&(r._errorChildren=o),be(o=ve())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(n&1&&(Ue(c4,5),Ue(d4,5),Ue(u4,5),Ue(m4,5),Ue(p4,5),Ue(Q5,5),Ue(X5,5),Ue(K5,5)),n&2){let a;be(a=ve())&&(r._textField=a.first),be(a=ve())&&(r._iconPrefixContainer=a.first),be(a=ve())&&(r._textPrefixContainer=a.first),be(a=ve())&&(r._iconSuffixContainer=a.first),be(a=ve())&&(r._textSuffixContainer=a.first),be(a=ve())&&(r._floatingLabel=a.first),be(a=ve())&&(r._notchedOutline=a.first),be(a=ve())&&(r._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){n&2&&Qe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[ft([{provide:Pl,useExisting:i},{provide:rM,useExisting:i}]),ye],ngContentSelectors:f4,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let a=ge();Xt(h4),I(0,v4,1,1,"ng-template",null,0,ur),l(2,"div",6,1),z("click",function(s){return q(a),W(r._control.onContainerClick(s))}),I(4,_4,1,0,"div",7),l(5,"div",8),I(6,C4,2,2,"div",9)(7,w4,3,0,"div",10)(8,S4,3,0,"div",11),l(9,"div",12),I(10,k4,1,1,null,13),rt(11),c(),I(12,D4,3,0,"div",14)(13,E4,3,0,"div",15),c(),I(14,A4,1,0,"div",16),c(),l(15,"div",17),I(16,I4,2,1,"div",18)(17,T4,5,2,"div",19),c()}if(n&2){let a;b(2),Qe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),b(2),Tt(!r._hasOutline()&&!r._control.disabled?4:-1),b(2),Tt(r._hasOutline()?6:-1),b(),Tt(r._hasIconPrefix?7:-1),b(),Tt(r._hasTextPrefix?8:-1),b(2),Tt(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),b(2),Tt(r._hasTextSuffix?12:-1),b(),Tt(r._hasIconSuffix?13:-1),b(),Tt(r._hasOutline()?-1:14),b(),Qe("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),b(),Tt((a=r._getDisplayedMessages())==="error"?16:a==="hint"?17:-1)}},dependencies:[Q5,X5,xu,K5,xc],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[L4.transitionMessages]},changeDetection:0})}}return i})(),vi=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,Dt,n5,$t]})}}return i})();var aM=Rs({passive:!0}),oM=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return uu;let n=uy(e),r=this._monitoredElements.get(n);if(r)return r.subject;let a=new vt,o="cdk-text-field-autofilled",s=d=>{d.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(o)?(n.classList.add(o),this._ngZone.run(()=>a.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>a.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",s,aM),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:a,unlisten:()=>{n.removeEventListener("animationstart",s,aM)}}),a}stopMonitoring(e){let n=uy(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static{this.\u0275fac=function(n){return new(n||i)(Xe(mr),Xe(ni))}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var sM=(()=>{class i{get minRows(){return this._minRows}set minRows(e){this._minRows=wu(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=wu(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(e,n,r,a){this._elementRef=e,this._platform=n,this._ngZone=r,this._destroyed=new vt,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=o=>{this._hasFocus=o.type==="focus"},this._document=a,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){let e=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){let e=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();Oo(e,"resize").pipe(cS(16),Ut(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){let e=this._textareaElement,n=e.style.marginBottom||"",r=this._platform.FIREFOX,a=r&&this._hasFocus,o=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";a&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(o);let s=e.scrollHeight-4;return e.classList.remove(o),a&&(e.style.marginBottom=n),s}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||this._cachedPlaceholderHeight!=null)return;if(!this.placeholder){this._cachedPlaceholderHeight=0;return}let e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;let n=this._elementRef.nativeElement,r=n.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;let a=this._measureScrollHeight(),o=Math.max(a,this._cachedPlaceholderHeight||0);n.style.height=`${o}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(n)):setTimeout(()=>this._scrollToCaretPosition(n))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){this._initialHeight!==void 0&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){let{selectionStart:n,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(n,r)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(mr),k(ni),k(Bn,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(n,r){n&1&&z("input",function(){return r._noopInputHandler()})},inputs:{minRows:[0,"cdkAutosizeMinRows","minRows"],maxRows:[0,"cdkAutosizeMaxRows","maxRows"],enabled:[2,"cdkTextareaAutosize","enabled",Ye],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"],standalone:!0,features:[qt]})}}return i})(),lM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({})}}return i})();var Sy=new yt("MAT_INPUT_VALUE_ACCESSOR"),z4=["button","checkbox","file","hidden","image","radio","range","reset","submit"],H4=0,gr=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=go(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(et.required)??!1}set required(e){this._required=go(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dy().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=go(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,n,r,a,o,s,d,m,h,v){this._elementRef=e,this._platform=n,this.ngControl=r,this._autofillMonitor=m,this._ngZone=h,this._formField=v,this._uid=`mat-input-${H4++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new vt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(D=>dy().has(D)),this._iOSKeyupListener=D=>{let E=D.target;!E.value&&E.selectionStart===0&&E.selectionEnd===0&&(E.setSelectionRange(1,1),E.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let _=this._elementRef.nativeElement,g=_.nodeName.toLowerCase();this._inputValueAccessor=d||_,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&h.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Mu(s,r,o,a,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=g==="select",this._isTextarea=g==="textarea",this._isInFormField=!!v,this._isNativeSelect&&(this.controlType=_.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){z4.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(mr),k(Dp,10),k(hc,8),k(Xi,8),k(rd),k(Sy,10),k(oM),k(ni),k(Pl,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){n&1&&z("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(Ro("id",r.id)("disabled",r.disabled)("required",r.required),at("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Qe("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[ft([{provide:Vu,useExisting:i}]),Ai]})}}return i})(),Vi=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,vi,vi,lM,$t]})}}return i})();function U4(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function q4(i,t){i&1&&(l(0,"mat-error"),u(1," Password is required. "),c())}function W4(i,t){i&1&&(l(0,"mat-error"),u(1," Password must be at least 10 characters long. "),c())}function G4(i,t){i&1&&(l(0,"mat-error"),u(1," Password must contain at least one uppercase letter, one lowercase letter, and one special character. "),c())}function $4(i,t){if(i&1){let e=ge();l(0,"div",16)(1,"div",17)(2,"p"),u(3),c(),l(4,"button",18),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var Ug=class i{constructor(t,e,n,r){this.formBuilder=t;this.authService=e;this.router=n;this.route=r;this.loginForm=this.formBuilder.group({email:["",et.required],password:["",[et.required,et.minLength(10),et.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{10,}$/)]]})}loginForm;environment=St;showAlert=!1;alertMessage="";isLoading=!1;hidePassword=!0;togglePasswordVisibility(){this.hidePassword=!this.hidePassword}onLogin(){if(this.loginForm.valid){this.isLoading=!0;let t=this.loginForm.value;this.authService.login(t).subscribe({next:()=>{this.isLoading=!1,this.router.navigateByUrl("dashboard")},error:e=>{this.isLoading=!1,this.showAlert=!0;let n="Invalid login credentials.";if(this.alertMessage=n,e instanceof rg){let r=e.error;if(typeof r=="string")try{r=JSON.parse(r)}catch{r={}}e.status===401?this.alertMessage=r?.error||n:e.status===500?this.alertMessage=r?.error||"Server error. Try again later.":this.alertMessage=r?.error||n}else e instanceof Error?this.alertMessage=e.message||n:this.alertMessage=n}})}else this.showAlert=!0,this.alertMessage="Please ensure your password meets all requirements."}closeAlert(){this.showAlert=!1}static \u0275fac=function(e){return new(e||i)(k(Cn),k(hi),k(Ii),k(_a))};static \u0275cmp=fe({type:i,selectors:[["app-login"]],standalone:!0,features:[ye],decls:38,vars:10,consts:[[4,"ngIf"],[1,"container"],[1,"row","justify-content-center","align-items-center"],[1,"fullcolumn"],["href","register"],[3,"ngSubmit","formGroup"],[1,"form-field"],["appearance","fill",1,"w-100"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"forgot-password-link"],["href","forgot-password"],[1,"action-buttons"],["mat-raised-button","",1,"submit-btn"],["class","alert-overlay",4,"ngIf"],[1,"alert-overlay"],[1,"alert-modal"],["mat-raised-button","",1,"submit-btn",3,"click"]],template:function(e,n){if(e&1&&(I(0,U4,2,0,"div",0),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-header")(6,"mat-card-title"),u(7,"Sign In"),c(),l(8,"mat-card-subtitle"),u(9," Don't have an account? "),l(10,"a",4),u(11,"Sign up"),c()()(),l(12,"mat-card-content"),F(13,"mat-divider"),l(14,"form",5),z("ngSubmit",function(){return n.onLogin()}),l(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),u(18,"Email"),c(),F(19,"input",8),c()(),l(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),u(23,"Password"),c(),F(24,"input",9),l(25,"button",10),z("click",function(){return n.togglePasswordVisibility()}),l(26,"mat-icon"),u(27),c()(),I(28,q4,2,0,"mat-error",0)(29,W4,2,0,"mat-error",0)(30,G4,2,0,"mat-error",0),c()(),l(31,"div",11)(32,"a",12),u(33,"Forgot Password?"),c()(),l(34,"div",13)(35,"button",14),u(36,"Login"),c()()()()()()()(),I(37,$4,6,1,"div",15)),e&2){let r,a,o;C("ngIf",n.isLoading),b(14),C("formGroup",n.loginForm),b(10),C("type",n.hidePassword?"password":"text"),b(),at("aria-label","Toggle password visibility")("aria-pressed",!n.hidePassword),b(2),xe(n.hidePassword?"visibility_off":"visibility"),b(),C("ngIf",(r=n.loginForm.get("password"))==null?null:r.hasError("required")),b(),C("ngIf",(a=n.loginForm.get("password"))==null?null:a.hasError("minlength")),b(),C("ngIf",(o=n.loginForm.get("password"))==null?null:o.hasError("pattern")),b(7),C("ngIf",n.showAlert)}},dependencies:[Pi,mn,xn,pi,Ki,io,Xi,Vn,Bi,Li,nn,rn,yc,ji,Pt,vi,hn,Mn,Ma,Hg,Vi,gr,fr,zt,Nt,zr,zn,Fr,Jn,un],styles:[".container[_ngcontent-%COMP%]{width:80vw;padding:1rem;display:flex;justify-content:center;align-items:center;min-height:100vh}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.fullcolumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:30vw;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:.5rem}mat-card-subtitle[_ngcontent-%COMP%]{font-size:small;color:#333;margin-bottom:1rem}mat-card-subtitle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#61a0af;text-decoration:none}mat-card-subtitle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-card-content[_ngcontent-%COMP%]{padding-top:1rem}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{min-height:56px}.form-field[_ngcontent-%COMP%]   mat-form-field.mat-mdc-form-field-has-icon-suffix[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{min-height:56px;height:56px}.form-field[_ngcontent-%COMP%]   mat-form-field.mat-mdc-form-field-has-icon-suffix[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]{align-items:center;height:56px}.form-field[_ngcontent-%COMP%]   mat-form-field.mat-mdc-form-field-has-icon-suffix[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px;min-height:40px}.form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#333}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#000}.form-field[_ngcontent-%COMP%]:has(mat-form-field   input[type=password])[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]:has(mat-form-field   input[type=text])[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-field[_ngcontent-%COMP%]:has(mat-form-field   input[type=password])[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]:has(mat-form-field   input[type=text])[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:0}.form-field[_ngcontent-%COMP%]:has(mat-form-field   input[type=password])[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]:has(mat-form-field   input[type=text])[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{min-height:1.25em}.mat-mdc-form-field-icon-suffix[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#61a0af;width:40px;height:40px;margin-right:-8px}.mat-mdc-form-field-icon-suffix[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]:hover{background-color:#61a0af1a}.mat-mdc-form-field-icon-suffix[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.mat-mdc-form-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{border-top:none;padding-top:8px;padding-bottom:8px}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;width:100%}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;justify-content:center}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#000}.forgot-password-link[_ngcontent-%COMP%]{display:block;margin-top:2.5rem;text-align:right}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#61a0af;text-decoration:none;font-size:small}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.fullcolumn[_ngcontent-%COMP%]{width:80vw}.container[_ngcontent-%COMP%]{width:95vw}.submit-btn[_ngcontent-%COMP%]{padding:6px 12px}}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:focus{transition:background-color 0s 600000s,color 0s 600000s!important}"]})};var dM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[my,$t,my,$t]})}}return i})();var Q4=["trigger"],J4=["panel"],K4=[[["mat-select-trigger"]],"*"],X4=["mat-select-trigger","*"];function Z4(i,t){if(i&1&&(l(0,"span",4),u(1),c()),i&2){let e=P();b(),xe(e.placeholder)}}function eR(i,t){i&1&&rt(0)}function tR(i,t){if(i&1&&(l(0,"span",11),u(1),c()),i&2){let e=P(2);b(),xe(e.triggerValue)}}function iR(i,t){if(i&1&&(l(0,"span",5),I(1,eR,1,0)(2,tR,2,1,"span",11),c()),i&2){let e=P();b(),Tt(e.customTrigger?1:2)}}function nR(i,t){if(i&1){let e=ge();l(0,"div",12,1),z("@transformPanel.done",function(r){q(e);let a=P();return W(a._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){q(e);let a=P();return W(a._handleKeydown(r))}),rt(2,1),c()}if(i&2){let e=P();SS("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),C("ngClass",e.panelClass)("@transformPanel","showing"),at("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var rR={transformPanelWrap:En("transformPanelWrap",[_i("* => void",vg("@transformPanel",[bg()],{optional:!0}))]),transformPanel:En("transformPanel",[Di("void",Et({opacity:0,transform:"scale(1, 0.8)"})),_i("void => showing",Ci("120ms cubic-bezier(0, 0, 0.2, 1)",Et({opacity:1,transform:"scale(1, 1)"}))),_i("* => void",Ci("100ms linear",Et({opacity:0})))])};var uM=0,mM=new yt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=Bt(Kr);return()=>i.scrollStrategies.reposition()}});function aR(i){return()=>i.scrollStrategies.reposition()}var oR=new yt("MAT_SELECT_CONFIG"),sR={provide:mM,deps:[Kr],useFactory:aR},pM=new yt("MatSelectTrigger"),My=class{constructor(t,e){this.source=t,this.value=e}},ro=(()=>{class i{_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,a=mg(e,this.options,this.optionGroups),o=n._getHostElement();e===0&&a===1?r.scrollTop=0:r.scrollTop=pg(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new My(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(et.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,n,r,a,o,s,d,m,h,v,_,g,D,E){this._viewportRuler=e,this._changeDetectorRef=n,this._elementRef=o,this._dir=s,this._parentFormField=h,this.ngControl=v,this._liveAnnouncer=D,this._defaultOptions=E,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(S,w)=>S===w,this._uid=`mat-select-${uM++}`,this._triggerAriaLabelledBy=null,this._destroy=new vt,this.stateChanges=new vt,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${uM++}`,this._panelDoneAnimatingStream=new vt,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new vt,this.optionSelectionChanges=Xf(()=>{let S=this.options;return S?S.changes.pipe(Qi(S),Fi(()=>Ni(...S.map(w=>w.onSelectionChange)))):this._initialized.pipe(Fi(()=>this.optionSelectionChanges))}),this.openedChange=new Ge,this._openedStream=this.openedChange.pipe(ii(S=>S),bi(()=>{})),this._closedStream=this.openedChange.pipe(ii(S=>!S),bi(()=>{})),this.selectionChange=new Ge,this.valueChange=new Ge,this._trackedModal=null,this._skipPredicate=S=>this.panelOpen?!1:S.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),E?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=E.typeaheadDebounceInterval),this._errorStateTracker=new Mu(a,v,m,d,this.stateChanges),this._scrollStrategyFactory=g,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(_)||0,this.id=this.id}ngOnInit(){this._selectionModel=new y5(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Zf(),Ut(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ut(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ut(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Qi(null),Ut(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&id(this._trackedModal,"aria-owns",n),Mp(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;id(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,a=n===13||n===32,o=this._keyManager;if(!o.isTyping()&&a&&!pr(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;o.onKeydown(e);let d=this.selected;d&&s!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,a=r===40||r===38,o=n.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!o&&(r===13||r===32)&&n.activeItem&&!pr(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!o&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(s?d.select():d.deselect())})}else{let s=n.activeItemIndex;n.onKeydown(e),this._multiple&&a&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==s&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Mi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof fy?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new sg(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Ni(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ut(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ni(...this.options.map(n=>n._stateChanges)).pipe(Ut(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(n){return new(n||i)(k(os),k(xt),k(ni),k(rd),k(_t),k(Sr,8),k(hc,8),k(Xi,8),k(Pl,8),k(Dp,10),oa("tabindex"),k(mM),k(m5),k(oR,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,a){if(n&1&&(bt(a,pM,5),bt(a,hr,5),bt(a,ug,5)),n&2){let o;be(o=ve())&&(r.customTrigger=o.first),be(o=ve())&&(r.options=o),be(o=ve())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(n&1&&(Ue(Q4,5),Ue(J4,5),Ue(gy,5)),n&2){let a;be(a=ve())&&(r.trigger=a.first),be(a=ve())&&(r.panel=a.first),be(a=ve())&&(r._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){n&1&&z("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(at("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Qe("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Ye],disableRipple:[2,"disableRipple","disableRipple",Ye],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Wn(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ye],placeholder:"placeholder",required:[2,"required","required",Ye],multiple:[2,"multiple","multiple",Ye],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Ye],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Wn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[ft([{provide:Vu,useExisting:i},{provide:dg,useExisting:i}]),qt,Ai,ye],ngContentSelectors:X4,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let a=ge();Xt(K4),l(0,"div",2,0),z("click",function(){return q(a),W(r.open())}),l(3,"div",3),I(4,Z4,2,1,"span",4)(5,iR,3,1,"span",5),c(),l(6,"div",6)(7,"div",7),xi(),l(8,"svg",8),F(9,"path",9),c()()()(),I(10,nR,3,9,"ng-template",10),z("backdropClick",function(){return q(a),W(r.close())})("attach",function(){return q(a),W(r._onAttached())})("detach",function(){return q(a),W(r.close())})}if(n&2){let a=Vt(1);b(3),at("id",r._valueId),b(),Tt(r.empty?4:5),b(6),C("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||a)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[fy,gy,Nr],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[rR.transformPanel]},changeDetection:0})}}return i})(),hM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-select-trigger"]],standalone:!0,features:[ft([{provide:pM,useExisting:i}])]})}}return i})(),Lr=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[sR],imports:[Dt,fc,Eu,$t,ss,vi,Eu,$t]})}}return i})();var Hu=`${St.BACKEND_URL}/stripe`,Us=class i{constructor(t){this.httpClient=t}createCheckoutSession(t){return console.log(t),this.httpClient.post(`${Hu}/create-checkout-session`,t)}getSubscriptions(){return this.httpClient.get(`${Hu}/GetSubscriptions`)}cancelSubscription(t){return this.httpClient.post(`${Hu}/cancelsubscription/${t}`,{},{responseType:"text"})}createPaymentIntent(t){let e=new Jr({"Content-Type":"application/json"});return this.httpClient.post(`${Hu}/create-payment-intent`,t,{headers:e})}upgradeSubscriptionByPackage(t){let e=new Jr({"Content-Type":"application/json"});return this.httpClient.post(`${Hu}/upgrade-by-package`,t,{headers:e})}previewUpgradeByPackage(t){return this.httpClient.post(`${Hu}/preview-upgrade`,t)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Uu=class i{constructor(t,e,n){this.dialogRef=t;this.stripeService=e;this.data=n}continueToPayment(){this.stripeService.createCheckoutSession({userId:this.data.userId,packageName:this.data.packageName,amount:this.data.amount,source:this.data.source,assignedUser:""}).subscribe({next:t=>{console.log(t),this.dialogRef.close(),window.location.href=t.url},error:t=>console.error("Checkout session error",t)})}skip(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(k(Kn),k(Us),k(Ca))};static \u0275cmp=fe({type:i,selectors:[["app-payment-prompt-dialog"]],standalone:!0,features:[ye],decls:10,vars:0,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",1,"dialog-btn","skip-btn",3,"click"],["mat-button","",1,"dialog-btn","pay-btn",3,"click"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1,"Registration Complete"),c(),l(2,"mat-dialog-content")(3,"p"),u(4,"Your account was created. Please complete payment to continue."),c()(),l(5,"mat-dialog-actions",1)(6,"button",2),z("click",function(){return n.skip()}),u(7,"Skip"),c(),l(8,"button",3),z("click",function(){return n.continueToPayment()}),u(9,"Pay Now"),c()())},dependencies:[Dt,li,Zi,tn,en,zt,Nt],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.skip-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.skip-btn[_ngcontent-%COMP%]:hover{background-colorwater:#e6bf00}.pay-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.pay-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}"]})};var lR=["input"],cR=["label"],dR=["*"],uR=new yt("mat-checkbox-default-options",{providedIn:"root",factory:gM});function gM(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ka=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i}(ka||{}),mR={provide:mc,useExisting:ba(()=>ao),multi:!0},ky=class{},pR=0,fM=gM(),ao=(()=>{class i{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let n=new ky;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,a,o,s){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=o,this._options=s,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ge,this.indeterminateChange=new Ge,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ka.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||fM,this.color=this._options.color||fM.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++pR}`,this.disabledInteractive=s?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let n=e!=this._indeterminate;this._indeterminate=e,n&&(this._indeterminate?this._transitionCheckState(ka.Indeterminate):this._transitionCheckState(this.checked?ka.Checked:ka.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(!(n===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ka.Checked:ka.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if(this._animationMode==="NoopAnimations")return"";switch(e){case ka.Init:if(n===ka.Checked)return this._animationClasses.uncheckedToChecked;if(n==ka.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ka.Unchecked:return n===ka.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ka.Checked:return n===ka.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ka.Indeterminate:return n===ka.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(xt),k(ni),oa("tabindex"),k(dr,8),k(uR,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(n&1&&(Ue(lR,5),Ue(cR,5),Ue(Ns,5)),n&2){let a;be(a=ve())&&(r._inputElement=a.first),be(a=ve())&&(r._labelElement=a.first),be(a=ve())&&(r.ripple=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,r){n&2&&(Ro("id",r.id),at("tabindex",null)("aria-label",null)("aria-labelledby",null),wr(r.color?"mat-"+r.color:"mat-accent"),Qe("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Ye],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Ye],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Wn(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ye],checked:[2,"checked","checked",Ye],disabled:[2,"disabled","disabled",Ye],indeterminate:[2,"indeterminate","indeterminate",Ye]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[ft([mR,{provide:_g,useExisting:i,multi:!0}]),qt,Ai,ye],ngContentSelectors:dR,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let a=ge();Xt(),l(0,"div",3),z("click",function(s){return q(a),W(r._preventBubblingFromLabel(s))}),l(1,"div",4,0)(3,"div",5),z("click",function(){return q(a),W(r._onTouchTargetClick())}),c(),l(4,"input",6,1),z("blur",function(){return q(a),W(r._onBlur())})("click",function(){return q(a),W(r._onInputClick())})("change",function(s){return q(a),W(r._onInteractionEvent(s))}),c(),F(6,"div",7),l(7,"div",8),xi(),l(8,"svg",9),F(9,"path",10),c(),Rr(),F(10,"div",11),c(),F(11,"div",12),c(),l(12,"label",13,2),rt(14),c()()}if(n&2){let a=Vt(2);C("labelPosition",r.labelPosition),b(4),Qe("mdc-checkbox--selected",r.checked),C("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),at("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("name",r.name)("value",r.value),b(7),C("matRippleTrigger",a)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),b(),C("for",r.inputId)}},dependencies:[Ns,hg],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();var Da=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[ao,$t,$t]})}}return i})();var Ip=class i{constructor(t){this.dialogRef=t}acceptedMSA=!1;acknowledgedPrivacy=!1;confirmAuthorization=!1;allChecked(){return this.acceptedMSA&&this.acknowledgedPrivacy&&this.confirmAuthorization}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||i)(k(Kn))};static \u0275cmp=fe({type:i,selectors:[["app-terms-confirmation-dialog"]],standalone:!0,features:[ye],decls:21,vars:4,consts:[["mat-dialog-title",""],[3,"change","checked"],["href","/masteragreement","target","_blank","rel","noopener noreferrer"],["href","/privacy","target","_blank","rel","noopener noreferrer"],[3,"ngModelChange","ngModel"],["align","end"],["mat-button","",1,"return-btn",3,"click"],["mat-flat-button","","color","primary",1,"confirm-btn",3,"click","disabled"]],template:function(e,n){e&1&&(l(0,"h1",0),u(1,"Terms and Conditions"),c(),l(2,"mat-dialog-content")(3,"mat-checkbox",1),z("change",function(a){return n.acceptedMSA=a.checked}),u(4," I accept the "),l(5,"a",2),u(6," Master Services Agreement "),c(),u(7,` and Order Form terms
`),c(),F(8,"br"),l(9,"mat-checkbox",1),z("change",function(a){return n.acknowledgedPrivacy=a.checked}),u(10," I acknowledge the "),l(11,"a",3),u(12," Privacy Policy "),c()(),F(13,"br"),l(14,"mat-checkbox",4),jn("ngModelChange",function(a){return Ln(n.confirmAuthorization,a)||(n.confirmAuthorization=a),a}),u(15," I confirm that I am authorized to enter into this subscription on behalf of the Client "),c()(),l(16,"mat-dialog-actions",5)(17,"button",6),z("click",function(){return n.cancel()}),u(18,"Cancel"),c(),l(19,"button",7),z("click",function(){return n.confirm()}),u(20," Continue "),c()()),e&2&&(b(3),C("checked",n.acceptedMSA),b(6),C("checked",n.acknowledgedPrivacy),b(5),Fn("ngModel",n.confirmAuthorization),b(5),C("disabled",!n.allChecked()))},dependencies:[li,Zi,tn,en,Da,ao,zt,Nt,wn,pi,xa],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.return-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.return-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#000}.confirm-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc!important;color:#666!important;cursor:not-allowed}"]})};var bM=[{value:"USA",display:"United States of America",phonePattern:/^(\+1|1)?[2-9][0-9]{9}$/},{value:"CAN",display:"Canada",phonePattern:/^(\+1|1)?[2-9][0-9]{9}$/},{value:"GBR",display:"United Kingdom",phonePattern:/^(\+44|0)7[0-9]{9}$/},{value:"DEU",display:"Germany",phonePattern:/^(\+49|0)[1-9][0-9]{1,12}$/},{value:"FRA",display:"France",phonePattern:/^(\+33|0)[67][0-9]{8}$/},{value:"JPN",display:"Japan",phonePattern:/^(\+81|0)[789]0[0-9]{8}$/},{value:"AUS",display:"Australia",phonePattern:/^(\+61|0)4[0-9]{8}$/},{value:"CHE",display:"Switzerland",phonePattern:/^(\+41|0)7[6-9][0-9]{7}$/},{value:"SWE",display:"Sweden",phonePattern:/^(\+46|0)7[0-9]{8}$/},{value:"NLD",display:"Netherlands",phonePattern:/^(\+31|0)6[0-9]{8}$/},{value:"NOR",display:"Norway",phonePattern:/^(\+47|0)?[49][0-9]{7}$/},{value:"DNK",display:"Denmark",phonePattern:/^(\+45|0)?[2-9][0-9]{7}$/},{value:"FIN",display:"Finland",phonePattern:/^(\+358|0)?[45][0-9]{7,8}$/},{value:"SGP",display:"Singapore",phonePattern:/^(\+65)?[89][0-9]{7}$/},{value:"NZL",display:"New Zealand",phonePattern:/^(\+64|0)2[0-9]{7,9}$/},{value:"IRL",display:"Ireland",phonePattern:/^(\+353|0)8[3-9][0-9]{7}$/},{value:"AUT",display:"Austria",phonePattern:/^(\+43|0)6[0-9]{9,12}$/},{value:"BEL",display:"Belgium",phonePattern:/^(\+32|0)4[0-9]{8}$/},{value:"KOR",display:"South Korea",phonePattern:/^(\+82|0)1[0-9]{8,9}$/},{value:"ESP",display:"Spain",phonePattern:/^(\+34)?[67][0-9]{8}$/},{value:"ITA",display:"Italy",phonePattern:/^(\+39)?[3-9][0-9]{8,9}$/},{value:"HKG",display:"Hong Kong",phonePattern:/^(\+852)?[569][0-9]{7}$/},{value:"ISR",display:"Israel",phonePattern:/^(\+972|0)5[0-9]{8}$/},{value:"LUX",display:"Luxembourg",phonePattern:/^(\+352)?6[0-9]{8}$/},{value:"ISL",display:"Iceland",phonePattern:/^(\+354)?[6-8][0-9]{6}$/},{value:"ZAF",display:"Republic of South Africa",phonePattern:/^(\+27|0)[678][0-9]{8}$/},{value:"AFG",display:"Afghanistan"},{value:"ALB",display:"Albania"},{value:"DZA",display:"Algeria"},{value:"AND",display:"Andorra"},{value:"AGO",display:"Angola"},{value:"ATG",display:"Antigua and Barbuda"},{value:"ARG",display:"Argentina"},{value:"ARM",display:"Armenia"},{value:"ABW",display:"Aruba"},{value:"AZE",display:"Azerbaijan"},{value:"BHS",display:"Bahamas"},{value:"BHR",display:"Bahrain"},{value:"BGD",display:"Bangladesh"},{value:"BRB",display:"Barbados"},{value:"BLR",display:"Belarus"},{value:"BLZ",display:"Belize"},{value:"BEN",display:"Benin"},{value:"BMU",display:"Bermuda"},{value:"BTN",display:"Bhutan"},{value:"BOL",display:"Bolivia"},{value:"BIH",display:"Bosnia and Herzegovina"},{value:"BWA",display:"Botswana"},{value:"BRA",display:"Brazil"},{value:"BRN",display:"Brunei Darussalam"},{value:"BGR",display:"Bulgaria"},{value:"BFA",display:"Burkina Faso"},{value:"BDI",display:"Burundi"},{value:"KHM",display:"Cambodia"},{value:"CMR",display:"Cameroon"},{value:"CPV",display:"Cape Verde"},{value:"CYM",display:"Cayman Islands"},{value:"CAF",display:"Central African Republic"},{value:"TCD",display:"Chad"},{value:"CHL",display:"Chile"},{value:"CHN",display:"China"},{value:"COL",display:"Colombia"},{value:"COM",display:"Comoros"},{value:"COG",display:"Congo"},{value:"COD",display:"Congo, the Democratic Republic of the"},{value:"CRI",display:"Costa Rica"},{value:"CIV",display:"Cote D'Ivoire"},{value:"HRV",display:"Croatia"},{value:"CUB",display:"Cuba"},{value:"CYP",display:"Cyprus"},{value:"CZE",display:"Czech Republic"},{value:"DJI",display:"Djibouti"},{value:"DMA",display:"Dominica"},{value:"DOM",display:"Dominican Republic"},{value:"ECU",display:"Ecuador"},{value:"EGY",display:"Egypt"},{value:"SLV",display:"El Salvador"},{value:"GNQ",display:"Equatorial Guinea"},{value:"ERI",display:"Eritrea"},{value:"EST",display:"Estonia"},{value:"ETH",display:"Ethiopia"},{value:"FJI",display:"Fiji"},{value:"GAB",display:"Gabon"},{value:"GMB",display:"Gambia"},{value:"GEO",display:"Georgia"},{value:"GHA",display:"Ghana"},{value:"GRC",display:"Greece"},{value:"GRD",display:"Grenada"},{value:"GTM",display:"Guatemala"},{value:"GIN",display:"Guinea"},{value:"GNB",display:"Guinea-Bissau"},{value:"GUY",display:"Guyana"},{value:"HTI",display:"Haiti"},{value:"HND",display:"Honduras"},{value:"HUN",display:"Hungary"},{value:"IND",display:"India"},{value:"IDN",display:"Indonesia"},{value:"IRN",display:"Iran, Islamic Republic of"},{value:"IRQ",display:"Iraq"},{value:"JAM",display:"Jamaica"},{value:"JOR",display:"Jordan"},{value:"KAZ",display:"Kazakhstan"},{value:"KEN",display:"Kenya"},{value:"KIR",display:"Kiribati"},{value:"PRK",display:"Korea, Democratic People's Republic of"},{value:"KWT",display:"Kuwait"},{value:"KGZ",display:"Kyrgyzstan"},{value:"LAO",display:"Lao People's Democratic Republic"},{value:"LVA",display:"Latvia"},{value:"LBN",display:"Lebanon"},{value:"LSO",display:"Lesotho"},{value:"LBR",display:"Liberia"},{value:"LBY",display:"Libyan Arab Jamahiriya"},{value:"LIE",display:"Liechtenstein"},{value:"LTU",display:"Lithuania"},{value:"MKD",display:"Macedonia, the Former Yugoslav Republic of"},{value:"MDG",display:"Madagascar"},{value:"MWI",display:"Malawi"},{value:"MYS",display:"Malaysia"},{value:"MDV",display:"Maldives"},{value:"MLI",display:"Mali"},{value:"MLT",display:"Malta"},{value:"MHL",display:"Marshall Islands"},{value:"MRT",display:"Mauritania"},{value:"MUS",display:"Mauritius"},{value:"MEX",display:"Mexico"},{value:"FSM",display:"Micronesia, Federated States of"},{value:"MDA",display:"Moldova, Republic of"},{value:"MCO",display:"Monaco"},{value:"MNG",display:"Mongolia"},{value:"MNE",display:"Montenegro"},{value:"MAR",display:"Morocco"},{value:"MOZ",display:"Mozambique"},{value:"MMR",display:"Myanmar"},{value:"NAM",display:"Namibia"},{value:"NRU",display:"Nauru"},{value:"NPL",display:"Nepal"},{value:"NIC",display:"Nicaragua"},{value:"NER",display:"Niger"},{value:"NGA",display:"Nigeria"},{value:"OMN",display:"Oman"},{value:"PAK",display:"Pakistan"},{value:"PLW",display:"Palau"},{value:"PAN",display:"Panama"},{value:"PNG",display:"Papua New Guinea"},{value:"PRY",display:"Paraguay"},{value:"PER",display:"Peru"},{value:"PHL",display:"Philippines"},{value:"POL",display:"Poland"},{value:"PRT",display:"Portugal"},{value:"QAT",display:"Qatar"},{value:"ROU",display:"Romania"},{value:"RUS",display:"Russian Federation"},{value:"RWA",display:"Rwanda"},{value:"KNA",display:"Saint Kitts and Nevis"},{value:"LCA",display:"Saint Lucia"},{value:"VCT",display:"Saint Vincent and the Grenadines"},{value:"WSM",display:"Samoa"},{value:"SMR",display:"San Marino"},{value:"STP",display:"Sao Tome and Principe"},{value:"SAU",display:"Saudi Arabia"},{value:"SEN",display:"Senegal"},{value:"SRB",display:"Serbia"},{value:"SYC",display:"Seychelles"},{value:"SLE",display:"Sierra Leone"},{value:"SVK",display:"Slovakia"},{value:"SVN",display:"Slovenia"},{value:"SLB",display:"Solomon Islands"},{value:"SOM",display:"Somalia"},{value:"LKA",display:"Sri Lanka"},{value:"SDN",display:"Sudan"},{value:"SUR",display:"Suriname"},{value:"SWZ",display:"Swaziland"},{value:"SYR",display:"Syrian Arab Republic"},{value:"TWN",display:"Taiwan, Province of China"},{value:"TJK",display:"Tajikistan"},{value:"TZA",display:"Tanzania, United Republic of"},{value:"THA",display:"Thailand"},{value:"TLS",display:"Timor-Leste"},{value:"TGO",display:"Togo"},{value:"TON",display:"Tonga"},{value:"TTO",display:"Trinidad and Tobago"},{value:"TUN",display:"Tunisia"},{value:"TUR",display:"Turkey"},{value:"TKM",display:"Turkmenistan"},{value:"TUV",display:"Tuvalu"},{value:"UGA",display:"Uganda"},{value:"UKR",display:"Ukraine"},{value:"ARE",display:"United Arab Emirates"},{value:"URY",display:"Uruguay"},{value:"UZB",display:"Uzbekistan"},{value:"VUT",display:"Vanuatu"},{value:"VEN",display:"Venezuela"},{value:"VNM",display:"Vietnam"},{value:"YEM",display:"Yemen"},{value:"ZMB",display:"Zambia"},{value:"ZWE",display:"Zimbabwe"}];var vM={USA:[{value:"AL",display:"Alabama"},{value:"AK",display:"Alaska"},{value:"AZ",display:"Arizona"},{value:"AR",display:"Arkansas"},{value:"CA",display:"California"},{value:"CO",display:"Colorado"},{value:"CT",display:"Connecticut"},{value:"DE",display:"Delaware"},{value:"FL",display:"Florida"},{value:"GA",display:"Georgia"},{value:"HI",display:"Hawaii"},{value:"ID",display:"Idaho"},{value:"IL",display:"Illinois"},{value:"IN",display:"Indiana"},{value:"IA",display:"Iowa"},{value:"KS",display:"Kansas"},{value:"KY",display:"Kentucky"},{value:"LA",display:"Louisiana"},{value:"ME",display:"Maine"},{value:"MD",display:"Maryland"},{value:"MA",display:"Massachusetts"},{value:"MI",display:"Michigan"},{value:"MN",display:"Minnesota"},{value:"MS",display:"Mississippi"},{value:"MO",display:"Missouri"},{value:"MT",display:"Montana"},{value:"NE",display:"Nebraska"},{value:"NV",display:"Nevada"},{value:"NH",display:"New Hampshire"},{value:"NJ",display:"New Jersey"},{value:"NM",display:"New Mexico"},{value:"NY",display:"New York"},{value:"NC",display:"North Carolina"},{value:"ND",display:"North Dakota"},{value:"OH",display:"Ohio"},{value:"OK",display:"Oklahoma"},{value:"OR",display:"Oregon"},{value:"PA",display:"Pennsylvania"},{value:"RI",display:"Rhode Island"},{value:"SC",display:"South Carolina"},{value:"SD",display:"South Dakota"},{value:"TN",display:"Tennessee"},{value:"TX",display:"Texas"},{value:"UT",display:"Utah"},{value:"VT",display:"Vermont"},{value:"VA",display:"Virginia"},{value:"WA",display:"Washington"},{value:"WV",display:"West Virginia"},{value:"WI",display:"Wisconsin"},{value:"WY",display:"Wyoming"}],CAN:[{value:"AB",display:"Alberta"},{value:"BC",display:"British Columbia"},{value:"MB",display:"Manitoba"},{value:"NB",display:"New Brunswick"},{value:"NL",display:"Newfoundland and Labrador"},{value:"NS",display:"Nova Scotia"},{value:"ON",display:"Ontario"},{value:"PE",display:"Prince Edward Island"},{value:"QC",display:"Quebec"},{value:"SK",display:"Saskatchewan"},{value:"NT",display:"Northwest Territories"},{value:"NU",display:"Nunavut"},{value:"YT",display:"Yukon"}],GBR:[{value:"AVN",display:"Avon"},{value:"BDF",display:"Bedfordshire"},{value:"BRK",display:"Berkshire"},{value:"BKM",display:"Buckinghamshire"},{value:"CAM",display:"Cambridgeshire"},{value:"CHS",display:"Cheshire"},{value:"CLE",display:"Cleveland"},{value:"CON",display:"Cornwall"},{value:"CMA",display:"Cumbria"},{value:"DBY",display:"Derbyshire"},{value:"DEV",display:"Devon"},{value:"DOR",display:"Dorset"},{value:"DUR",display:"Durham"},{value:"ESX",display:"East Sussex"},{value:"ESS",display:"Essex"},{value:"GLS",display:"Gloucestershire"},{value:"LND",display:"Greater London"},{value:"GTM",display:"Greater Manchester"},{value:"HAM",display:"Hampshire"},{value:"HWR",display:"Hereford and Worcester"},{value:"HRT",display:"Hertfordshire"},{value:"HUM",display:"Humberside"},{value:"IOW",display:"Isle of Wight"},{value:"KEN",display:"Kent"},{value:"LAN",display:"Lancashire"},{value:"LEI",display:"Leicestershire"},{value:"LIN",display:"Lincolnshire"},{value:"MSY",display:"Merseyside"},{value:"NFK",display:"Norfolk"},{value:"NYK",display:"North Yorkshire"},{value:"NTH",display:"Northamptonshire"},{value:"NBL",display:"Northumberland"},{value:"NTT",display:"Nottinghamshire"},{value:"OXF",display:"Oxfordshire"},{value:"RUT",display:"Rutland"},{value:"SAL",display:"Shropshire"},{value:"SOM",display:"Somerset"},{value:"SYK",display:"South Yorkshire"},{value:"STS",display:"Staffordshire"},{value:"SFK",display:"Suffolk"},{value:"SRY",display:"Surrey"},{value:"TWR",display:"Tyne and Wear"},{value:"WAR",display:"Warwickshire"},{value:"WMD",display:"West Midlands"},{value:"WSX",display:"West Sussex"},{value:"WYK",display:"West Yorkshire"},{value:"WIL",display:"Wiltshire"},{value:"WOR",display:"Worcestershire"},{value:"ABD",display:"Aberdeenshire"},{value:"ANS",display:"Angus"},{value:"AGB",display:"Argyll and Bute"},{value:"CLK",display:"Clackmannanshire"},{value:"DGY",display:"Dumfries and Galloway"},{value:"DND",display:"Dundee"},{value:"EAY",display:"East Ayrshire"},{value:"EDU",display:"East Dunbartonshire"},{value:"ELN",display:"East Lothian"},{value:"ERW",display:"East Renfrewshire"},{value:"EDH",display:"Edinburgh"},{value:"ELS",display:"Eilean Siar"},{value:"FAL",display:"Falkirk"},{value:"FIF",display:"Fife"},{value:"GLG",display:"Glasgow"},{value:"HLD",display:"Highland"},{value:"IVC",display:"Inverclyde"},{value:"MLN",display:"Midlothian"},{value:"MRY",display:"Moray"},{value:"NAY",display:"North Ayrshire"},{value:"NLK",display:"North Lanarkshire"},{value:"ORK",display:"Orkney Islands"},{value:"PKN",display:"Perth and Kinross"},{value:"RFW",display:"Renfrewshire"},{value:"SCB",display:"Scottish Borders"},{value:"ZET",display:"Shetland Islands"},{value:"SAY",display:"South Ayrshire"},{value:"SLK",display:"South Lanarkshire"},{value:"STG",display:"Stirling"},{value:"WDU",display:"West Dunbartonshire"},{value:"WLN",display:"West Lothian"},{value:"BGE",display:"Bridgend"},{value:"CAE",display:"Caerphilly"},{value:"CRF",display:"Cardiff"},{value:"CMN",display:"Carmarthenshire"},{value:"CGN",display:"Ceredigion"},{value:"CWY",display:"Conwy"},{value:"DEN",display:"Denbighshire"},{value:"FLN",display:"Flintshire"},{value:"GWN",display:"Gwynedd"},{value:"AGY",display:"Isle of Anglesey"},{value:"MTY",display:"Merthyr Tydfil"},{value:"MON",display:"Monmouthshire"},{value:"NTL",display:"Neath Port Talbot"},{value:"NWP",display:"Newport"},{value:"PEM",display:"Pembrokeshire"},{value:"POW",display:"Powys"},{value:"RCT",display:"Rhondda Cynon Taf"},{value:"SWA",display:"Swansea"},{value:"TOF",display:"Torfaen"},{value:"VGL",display:"Vale of Glamorgan"},{value:"WRX",display:"Wrexham"},{value:"ANT",display:"Antrim"},{value:"ARD",display:"Ards"},{value:"ARM",display:"Armagh"},{value:"BLA",display:"Ballymena"},{value:"BLY",display:"Ballymoney"},{value:"BNB",display:"Banbridge"},{value:"BFS",display:"Belfast"},{value:"CKF",display:"Carrickfergus"},{value:"CSR",display:"Castlereagh"},{value:"CLR",display:"Coleraine"},{value:"CKT",display:"Cookstown"},{value:"CGV",display:"Craigavon"},{value:"DRY",display:"Derry"},{value:"DOW",display:"Down"},{value:"DGN",display:"Dungannon"},{value:"FER",display:"Fermanagh"},{value:"LRN",display:"Larne"},{value:"LMV",display:"Limavady"},{value:"LSB",display:"Lisburn"},{value:"MFT",display:"Magherafelt"},{value:"MYL",display:"Moyle"},{value:"NYM",display:"Newry and Mourne"},{value:"NTA",display:"Newtownabbey"},{value:"NDN",display:"North Down"},{value:"OMH",display:"Omagh"},{value:"STB",display:"Strabane"}],DEU:[{value:"BW",display:"Baden-W\xFCrttemberg"},{value:"BY",display:"Bavaria"},{value:"BE",display:"Berlin"},{value:"BB",display:"Brandenburg"},{value:"HB",display:"Bremen"},{value:"HH",display:"Hamburg"},{value:"HE",display:"Hesse"},{value:"MV",display:"Mecklenburg-Vorpommern"},{value:"NI",display:"Lower Saxony"},{value:"NW",display:"North Rhine-Westphalia"},{value:"RP",display:"Rhineland-Palatinate"},{value:"SL",display:"Saarland"},{value:"SN",display:"Saxony"},{value:"ST",display:"Saxony-Anhalt"},{value:"SH",display:"Schleswig-Holstein"},{value:"TH",display:"Thuringia"}],AUS:[{value:"ACT",display:"Australian Capital Territory"},{value:"NSW",display:"New South Wales"},{value:"NT",display:"Northern Territory"},{value:"QLD",display:"Queensland"},{value:"SA",display:"South Australia"},{value:"TAS",display:"Tasmania"},{value:"VIC",display:"Victoria"},{value:"WA",display:"Western Australia"}],FRA:[{value:"ARA",display:"Auvergne-Rh\xF4ne-Alpes"},{value:"BFC",display:"Bourgogne-Franche-Comt\xE9"},{value:"BRE",display:"Brittany"},{value:"CVL",display:"Centre-Val de Loire"},{value:"COR",display:"Corsica"},{value:"GES",display:"Grand Est"},{value:"HDF",display:"Hauts-de-France"},{value:"IDF",display:"\xCEle-de-France"},{value:"NOR",display:"Normandy"},{value:"NAQ",display:"Nouvelle-Aquitaine"},{value:"OCC",display:"Occitanie"},{value:"PDL",display:"Pays de la Loire"},{value:"PAC",display:"Provence-Alpes-C\xF4te d'Azur"}],JPN:[{value:"01",display:"Hokkaido"},{value:"02",display:"Aomori"},{value:"03",display:"Iwate"},{value:"04",display:"Miyagi"},{value:"05",display:"Akita"},{value:"06",display:"Yamagata"},{value:"07",display:"Fukushima"},{value:"08",display:"Ibaraki"},{value:"09",display:"Tochigi"},{value:"10",display:"Gumma"},{value:"11",display:"Saitama"},{value:"12",display:"Chiba"},{value:"13",display:"Tokyo"},{value:"14",display:"Kanagawa"},{value:"15",display:"Niigata"},{value:"16",display:"Toyama"},{value:"17",display:"Ishikawa"},{value:"18",display:"Fukui"},{value:"19",display:"Yamanashi"},{value:"20",display:"Nagano"},{value:"21",display:"Gifu"},{value:"22",display:"Shizuoka"},{value:"23",display:"Aichi"},{value:"24",display:"Mie"},{value:"25",display:"Shiga"},{value:"26",display:"Kyoto"},{value:"27",display:"Osaka"},{value:"28",display:"Hyogo"},{value:"29",display:"Nara"},{value:"30",display:"Wakayama"},{value:"31",display:"Tottori"},{value:"32",display:"Shimane"},{value:"33",display:"Okayama"},{value:"34",display:"Hiroshima"},{value:"35",display:"Yamaguchi"},{value:"36",display:"Tokushima"},{value:"37",display:"Kagawa"},{value:"38",display:"Ehime"},{value:"39",display:"Kochi"},{value:"40",display:"Fukuoka"},{value:"41",display:"Saga"},{value:"42",display:"Nagasaki"},{value:"43",display:"Kumamoto"},{value:"44",display:"Oita"},{value:"45",display:"Miyazaki"},{value:"46",display:"Kagoshima"},{value:"47",display:"Okinawa"}],CHE:[{value:"AG",display:"Aargau"},{value:"AR",display:"Appenzell Ausserrhoden"},{value:"AI",display:"Appenzell Innerrhoden"},{value:"BL",display:"Basel-Landschaft"},{value:"BS",display:"Basel-Stadt"},{value:"BE",display:"Bern"},{value:"FR",display:"Fribourg"},{value:"GE",display:"Geneva"},{value:"GL",display:"Glarus"},{value:"GR",display:"Grisons"},{value:"JU",display:"Jura"},{value:"LU",display:"Lucerne"},{value:"NE",display:"Neuch\xE2tel"},{value:"NW",display:"Nidwalden"},{value:"OW",display:"Obwalden"},{value:"SH",display:"Schaffhausen"},{value:"SZ",display:"Schwyz"},{value:"SO",display:"Solothurn"},{value:"SG",display:"St. Gallen"},{value:"TG",display:"Thurgau"},{value:"TI",display:"Ticino"},{value:"UR",display:"Uri"},{value:"VS",display:"Valais"},{value:"VD",display:"Vaud"},{value:"ZG",display:"Zug"},{value:"ZH",display:"Z\xFCrich"}],SWE:[{value:"K",display:"Blekinge"},{value:"W",display:"Dalarna"},{value:"I",display:"Gotland"},{value:"X",display:"G\xE4vleborg"},{value:"N",display:"Halland"},{value:"Z",display:"J\xE4mtland"},{value:"F",display:"J\xF6nk\xF6ping"},{value:"H",display:"Kalmar"},{value:"G",display:"Kronoberg"},{value:"BD",display:"Norrbotten"},{value:"M",display:"Sk\xE5ne"},{value:"AB",display:"Stockholm"},{value:"D",display:"S\xF6dermanland"},{value:"C",display:"Uppsala"},{value:"S",display:"V\xE4rmland"},{value:"AC",display:"V\xE4sterbotten"},{value:"Y",display:"V\xE4sternorrland"},{value:"U",display:"V\xE4stmanland"},{value:"O",display:"V\xE4stra G\xF6taland"},{value:"T",display:"\xD6rebro"},{value:"E",display:"\xD6sterg\xF6tland"}],NLD:[{value:"DR",display:"Drenthe"},{value:"FL",display:"Flevoland"},{value:"FR",display:"Friesland"},{value:"GE",display:"Gelderland"},{value:"GR",display:"Groningen"},{value:"LI",display:"Limburg"},{value:"NB",display:"North Brabant"},{value:"NH",display:"North Holland"},{value:"OV",display:"Overijssel"},{value:"UT",display:"Utrecht"},{value:"ZE",display:"Zeeland"},{value:"ZH",display:"South Holland"}],NOR:[{value:"03",display:"Oslo"},{value:"11",display:"Rogaland"},{value:"15",display:"M\xF8re og Romsdal"},{value:"18",display:"Nordland"},{value:"30",display:"Viken"},{value:"34",display:"Innlandet"},{value:"38",display:"Vestfold og Telemark"},{value:"42",display:"Agder"},{value:"46",display:"Vestland"},{value:"50",display:"Tr\xF8ndelag"},{value:"54",display:"Troms og Finnmark"}],DNK:[{value:"84",display:"Capital Region of Denmark"},{value:"82",display:"Central Denmark Region"},{value:"81",display:"North Denmark Region"},{value:"85",display:"Region of Southern Denmark"},{value:"83",display:"Region Zealand"}],FIN:[{value:"01",display:"\xC5land Islands"},{value:"02",display:"South Karelia"},{value:"03",display:"Southern Ostrobothnia"},{value:"04",display:"Southern Savonia"},{value:"05",display:"Kainuu"},{value:"06",display:"Tavastia Proper"},{value:"07",display:"Central Ostrobothnia"},{value:"08",display:"Central Finland"},{value:"09",display:"Kymenlaakso"},{value:"10",display:"Lapland"},{value:"11",display:"Pirkanmaa"},{value:"12",display:"Ostrobothnia"},{value:"13",display:"North Karelia"},{value:"14",display:"Northern Ostrobothnia"},{value:"15",display:"Northern Savonia"},{value:"16",display:"P\xE4ij\xE4nne Tavastia"},{value:"17",display:"Satakunta"},{value:"18",display:"Uusimaa"},{value:"19",display:"Finland Proper"}],SGP:[{value:"01",display:"Central Singapore"},{value:"02",display:"North East"},{value:"03",display:"North West"},{value:"04",display:"South East"},{value:"05",display:"South West"}],NZL:[{value:"AUK",display:"Auckland"},{value:"BOP",display:"Bay of Plenty"},{value:"CAN",display:"Canterbury"},{value:"GIS",display:"Gisborne"},{value:"HKB",display:"Hawke's Bay"},{value:"MWT",display:"Manawatu-Wanganui"},{value:"MBH",display:"Marlborough"},{value:"NSN",display:"Nelson"},{value:"NOL",display:"Northland"},{value:"OTA",display:"Otago"},{value:"STL",display:"Southland"},{value:"TKI",display:"Taranaki"},{value:"TAS",display:"Tasman"},{value:"WKO",display:"Waikato"},{value:"WGN",display:"Wellington"},{value:"WTC",display:"West Coast"}],IRL:[{value:"C",display:"Connacht"},{value:"L",display:"Leinster"},{value:"M",display:"Munster"},{value:"U",display:"Ulster"}],AUT:[{value:"1",display:"Burgenland"},{value:"2",display:"Carinthia"},{value:"3",display:"Lower Austria"},{value:"4",display:"Upper Austria"},{value:"5",display:"Salzburg"},{value:"6",display:"Styria"},{value:"7",display:"Tyrol"},{value:"8",display:"Vorarlberg"},{value:"9",display:"Vienna"}],BEL:[{value:"BRU",display:"Brussels-Capital Region"},{value:"VLG",display:"Flemish Region"},{value:"WAL",display:"Walloon Region"}],KOR:[{value:"26",display:"Busan"},{value:"27",display:"Daegu"},{value:"28",display:"Incheon"},{value:"29",display:"Gwangju"},{value:"30",display:"Daejeon"},{value:"31",display:"Ulsan"},{value:"41",display:"Gyeonggi-do"},{value:"42",display:"Gangwon-do"},{value:"43",display:"Chungcheongbuk-do"},{value:"44",display:"Chungcheongnam-do"},{value:"45",display:"Jeollabuk-do"},{value:"46",display:"Jeollanam-do"},{value:"47",display:"Gyeongsangbuk-do"},{value:"48",display:"Gyeongsangnam-do"},{value:"49",display:"Jeju-do"},{value:"50",display:"Sejong"}],ESP:[{value:"AN",display:"Andalusia"},{value:"AR",display:"Aragon"},{value:"AS",display:"Asturias"},{value:"IB",display:"Balearic Islands"},{value:"PV",display:"Basque Country"},{value:"CN",display:"Canary Islands"},{value:"CB",display:"Cantabria"},{value:"CM",display:"Castile-La Mancha"},{value:"CL",display:"Castile and Le\xF3n"},{value:"CT",display:"Catalonia"},{value:"EX",display:"Extremadura"},{value:"GA",display:"Galicia"},{value:"RI",display:"La Rioja"},{value:"MD",display:"Madrid"},{value:"MC",display:"Murcia"},{value:"NC",display:"Navarre"},{value:"VC",display:"Valencian Community"}],ITA:[{value:"65",display:"Abruzzo"},{value:"77",display:"Basilicata"},{value:"78",display:"Calabria"},{value:"72",display:"Campania"},{value:"45",display:"Emilia-Romagna"},{value:"36",display:"Friuli-Venezia Giulia"},{value:"62",display:"Lazio"},{value:"42",display:"Liguria"},{value:"25",display:"Lombardy"},{value:"57",display:"Marche"},{value:"67",display:"Molise"},{value:"21",display:"Piedmont"},{value:"75",display:"Puglia"},{value:"88",display:"Sardinia"},{value:"82",display:"Sicily"},{value:"52",display:"Tuscany"},{value:"32",display:"Trentino-Alto Adige/S\xFCdtirol"},{value:"55",display:"Umbria"},{value:"23",display:"Aosta Valley"},{value:"34",display:"Veneto"}],HKG:[{value:"HK",display:"Hong Kong Island"},{value:"KLN",display:"Kowloon"},{value:"NT",display:"New Territories"}],ISR:[{value:"D",display:"Southern District"},{value:"M",display:"Central District"},{value:"Z",display:"Northern District"},{value:"HA",display:"Haifa District"},{value:"TA",display:"Tel Aviv District"},{value:"JM",display:"Jerusalem District"}],LUX:[{value:"D",display:"Diekirch"},{value:"G",display:"Grevenmacher"},{value:"L",display:"Luxembourg"}],ISL:[{value:"1",display:"Capital Region"},{value:"2",display:"Southern Peninsula"},{value:"3",display:"Western Region"},{value:"4",display:"Westfjords"},{value:"5",display:"Northwestern Region"},{value:"6",display:"Northeastern Region"},{value:"7",display:"Eastern Region"},{value:"8",display:"Southern Region"}],ZAF:[{value:"EC",display:"Eastern Cape"},{value:"FS",display:"Free State"},{value:"GP",display:"Gauteng"},{value:"KZN",display:"KwaZulu-Natal"},{value:"LP",display:"Limpopo"},{value:"MP",display:"Mpumalanga"},{value:"NC",display:"Northern Cape"},{value:"NW",display:"North West"},{value:"WC",display:"Western Cape"}]};var fR=["panel"],gR=["*"];function bR(i,t){if(i&1){let e=ge();l(0,"div",1,0),z("@panelAnimation.done",function(r){q(e);let a=P();return W(a._animationDone.next(r))}),rt(2),c()}if(i&2){let e=t.id,n=P();wr(n._classList),Qe("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-primary",n._color==="primary")("mat-accent",n._color==="accent")("mat-warn",n._color==="warn"),C("id",n.id)("@panelAnimation",n.isOpen?"visible":"hidden"),at("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(e))}}var vR=En("panelAnimation",[Di("void, hidden",Et({opacity:0,transform:"scaleY(0.8)"})),_i(":enter, hidden => visible",[C5([Ci("0.03s linear",Et({opacity:1})),Ci("0.12s cubic-bezier(0, 0, 0.2, 1)",Et({transform:"scaleY(1)"}))])]),_i(":leave, visible => hidden",[Ci("0.075s linear",Et({opacity:0}))])]),_R=0,Dy=class{constructor(t,e){this.source=t,this.option=e}},_M=new yt("mat-autocomplete-default-options",{providedIn:"root",factory:yR});function yR(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var qs=(()=>{class i{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,n,r,a){this._changeDetectorRef=e,this._elementRef=n,this._defaults=r,this._activeOptionChanges=on.EMPTY,this._animationDone=new Ge,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Ge,this.opened=new Ge,this.closed=new Ge,this.optionActivated=new Ge,this.id=`mat-autocomplete-${_R++}`,this.inertGroups=a?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new sg(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let n=new Dy(this,e);this.optionSelected.emit(n)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_skipPredicate(){return!1}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(_t),k(_M),k(mr))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(n,r,a){if(n&1&&(bt(a,hr,5),bt(a,ug,5)),n&2){let o;be(o=ve())&&(r.options=o),be(o=ve())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(n&1&&(Ue(tr,7),Ue(fR,5)),n&2){let a;be(a=ve())&&(r.template=a.first),be(a=ve())&&(r.panel=a.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Ye],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Ye],requireSelection:[2,"requireSelection","requireSelection",Ye],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Ye],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ye]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[ft([{provide:dg,useExisting:i}]),qt,ye],ngContentSelectors:gR,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,r){n&1&&(Xt(),I(0,bR,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[vR]},changeDetection:0})}}return i})();var xR={provide:mc,useExisting:ba(()=>cs),multi:!0};var yM=new yt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let i=Bt(Kr);return()=>i.scrollStrategies.reposition()}});function CR(i){return()=>i.scrollStrategies.reposition()}var wR={provide:yM,deps:[Kr],useFactory:CR},cs=(()=>{class i{constructor(e,n,r,a,o,s,d,m,h,v,_){this._element=e,this._overlay=n,this._viewContainerRef=r,this._zone=a,this._changeDetectorRef=o,this._dir=d,this._formField=m,this._document=h,this._viewportRuler=v,this._defaults=_,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=on.EMPTY,this._breakpointObserver=Bt(r5),this._handsetLandscapeSubscription=on.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new vt,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new vt,this._injector=Bt(cr),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Xf(()=>{let g=this.autocomplete?this.autocomplete.options:null;return g?g.changes.pipe(Qi(g),Fi(()=>Ni(...g.map(D=>D.onSelectionChange)))):this._initialized.pipe(Fi(()=>this.optionSelections))}),this._handlePanelKeydown=g=>{(g.keyCode===27&&!pr(g)||g.keyCode===38&&pr(g,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),g.stopPropagation(),g.preventDefault())},this._trackedModal=null,this._scrollStrategy=s}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&id(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Ni(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ii(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ii(()=>this._overlayAttached)):wt()).pipe(bi(e=>e instanceof g5?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Ni(Oo(this._document,"click"),Oo(this._document,"auxclick"),Oo(this._document,"touchend")).pipe(ii(e=>{let n=ZS(e),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,a=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!a||!a.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let n=e.keyCode,r=pr(e);if(n===27&&!r&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&n===13&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let a=this.autocomplete._keyManager.activeItem,o=n===38||n===40;n===9||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==a)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let n=e.target,r=n.value;if(n.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let a=this.autocomplete.options?.find(o=>o.selected);if(a){let o=this._getDisplayValue(a.value);r!==o&&a.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let a=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(a)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new yl(r=>{Vr(()=>{r.next()},{injector:this._injector})}),n=this.autocomplete.options.changes.pipe(aa(()=>this._positionStrategy.reapplyLastPosition()),wp(0));return Ni(e,n).pipe(Fi(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Mi(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let n=this.autocomplete;return n&&n.displayWith?n.displayWith(e):e}_assignOptionValue(e){let n=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let n=this.autocomplete,r=e?e.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),n._emitSelectEvent(r),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(Mi(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,n){this.autocomplete?.options?.forEach(r=>{r!==e&&r.selected&&r.deselect(n)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let n=this.autocomplete.id;Mp(this._trackedModal,"aria-owns",n)}}_attachOverlay(e){this.autocomplete;let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new Sl(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(a5.HandsetLandscape).subscribe(a=>{a.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Pu({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,a=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],o;this.position==="above"?o=a:this.position==="below"?o=n:o=[...n,...a],e.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let n=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){n=r;break}e._keyManager.setActiveItem(n)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let n=this.autocomplete,r=mg(e,n.options,n.optionGroups);if(e===0&&r===1)n._setScrollTop(0);else if(n.panel){let a=n.options.toArray()[e];if(a){let o=a._getHostElement(),s=pg(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(s)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=this.autocomplete.id;this._trackedModal&&id(this._trackedModal,"aria-owns",n),Mp(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;id(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(Kr),k(Qr),k(ni),k(xt),k(yM),k(Sr,8),k(Pl,9),k(Bn,8),k(os),k(_M,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,r){n&1&&z("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),n&2&&at("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Ye]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[ft([xR]),qt,Ai]})}}return i})(),Ws=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[wR],imports:[fc,Eu,$t,Dt,ss,Eu,$t]})}}return i})();var Cc=[{value:"GENERAL_CONTRACTOR",display:"General Contractor"},{value:"PROJECT_MANAGER",display:"Project Manager"},{value:"CHIEF_ESTIMATOR",display:"Chief Estimator"},{value:"GENERAL_SUPERINTENDANT",display:"General Superintendent"},{value:"SUPERINTENDANT",display:"Superintendent"},{value:"ASSISTANT_SUPERINTENDANT",display:"Assistant Superintendent"},{value:"FOREMAN",display:"Foreman"},{value:"SUBCONTRACTOR",display:"Subcontractor"},{value:"VENDOR",display:"Supplier/Vendor"}];var MR=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],kR=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function DR(i,t){i&1&&(l(0,"span",3),rt(1,1),c())}function ER(i,t){i&1&&(l(0,"span",6),rt(1,2),c())}var AR='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}',IR=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],PR=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function TR(i,t){i&1&&F(0,"span",0)}function OR(i,t){i&1&&(l(0,"span",2),rt(1),c())}function RR(i,t){i&1&&rt(0,1)}function NR(i,t){i&1&&F(0,"span",7)}function FR(i,t){if(i&1&&I(0,RR,1,0)(1,NR,1,0,"span",7),i&2){let e=P();Tt(e.contentEditInput?0:1)}}function LR(i,t){i&1&&rt(0,2)}function jR(i,t){i&1&&(l(0,"span",5),rt(1,3),c())}var BR=new yt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),xM=new yt("MatChipAvatar"),CM=new yt("MatChipTrailingIcon"),Ay=new yt("MatChipRemove"),Iy=new yt("MatChip"),Wg=(()=>{class i{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,n){this._elementRef=e,this._parentChip=n,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,e.nativeElement.nodeName==="BUTTON"&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(Iy))}}static{this.\u0275dir=Ze({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(n,r){n&1&&z("click",function(o){return r._handleClick(o)})("keydown",function(o){return r._handleKeydown(o)}),n&2&&(at("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),Qe("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",Ye],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Wn(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[qt]})}}return i})();var SM=(()=>{class i extends Wg{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(n,r){n&2&&at("aria-hidden",null)},standalone:!0,features:[ft([{provide:Ay,useExisting:i}]),ki]})}}return i})(),VR=0,wM=(()=>{class i{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,n,r,a,o,s,d){this._changeDetectorRef=e,this._elementRef=n,this._ngZone=r,this._focusMonitor=a,this._globalRippleOptions=d,this._onFocus=new vt,this._onBlur=new vt,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${VR++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._chipListDisabled=!1,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this._disabled=!1,this.removed=new Ge,this.destroyed=new Ge,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=Bt(b5),this._injector=Bt(cr),this._document=o,this._animationsDisabled=s==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Ni(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(n=>{let r=n._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let n=e!==null;n!==this._hasFocusInternal&&(this._hasFocusInternal=n,n?this._onFocus.next({chip:this}):Vr(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(_t),k(ni),k(to),k(Bn),k(dr,8),k(cg,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,r,a){if(n&1&&(bt(a,xM,5),bt(a,CM,5),bt(a,Ay,5),bt(a,xM,5),bt(a,CM,5),bt(a,Ay,5)),n&2){let o;be(o=ve())&&(r.leadingIcon=o.first),be(o=ve())&&(r.trailingIcon=o.first),be(o=ve())&&(r.removeIcon=o.first),be(o=ve())&&(r._allLeadingIcons=o),be(o=ve())&&(r._allTrailingIcons=o),be(o=ve())&&(r._allRemoveIcons=o)}},viewQuery:function(n,r){if(n&1&&Ue(Wg,5),n&2){let a;be(a=ve())&&(r.primaryAction=a.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(n,r){n&1&&z("keydown",function(o){return r._handleKeydown(o)}),n&2&&(Ro("id",r.id),at("role",r.role)("aria-label",r.ariaLabel),wr("mat-"+(r.color||"primary")),Qe("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Ye],highlighted:[2,"highlighted","highlighted",Ye],disableRipple:[2,"disableRipple","disableRipple",Ye],disabled:[2,"disabled","disabled",Ye]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[ft([{provide:Iy,useExisting:i}]),qt,ye],ngContentSelectors:kR,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(n,r){n&1&&(Xt(MR),F(0,"span",0),l(1,"span",1)(2,"span",2),I(3,DR,2,0,"span",3),l(4,"span",4),rt(5),F(6,"span",5),c()()(),I(7,ER,2,0,"span",6)),n&2&&(b(2),C("isInteractive",!1),b(),Tt(r.leadingIcon?3:-1),b(4),Tt(r._hasTrailingIcon()?7:-1))},dependencies:[Wg],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();var Ey=(()=>{class i{constructor(e,n){this._elementRef=e,this._document=n}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){let e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);let n=window.getSelection();n.removeAllRanges(),n.addRange(e)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(Bn))}}static{this.\u0275dir=Ze({type:i,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}}return i})(),MM=(()=>{class i extends wM{constructor(e,n,r,a,o,s,d,m){super(e,n,r,a,o,s,d),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new Ge,this._isEditing=!1,this.role="row",this._onBlur.pipe(Ut(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){e.keyCode===13&&!this.disabled?this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e):this._isEditing?e.stopPropagation():super._handleKeydown(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;let n=this.value;this._isEditing=this._editStartPending=!0,Vr(()=>{this._getEditInput().initialize(n),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(_t),k(ni),k(to),k(Bn),k(dr,8),k(cg,8),oa("tabindex"))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(n,r,a){if(n&1&&bt(a,Ey,5),n&2){let o;be(o=ve())&&(r.contentEditInput=o.first)}},viewQuery:function(n,r){if(n&1&&Ue(Ey,5),n&2){let a;be(a=ve())&&(r.defaultEditInput=a.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(n,r){n&1&&z("focus",function(o){return r._handleFocus(o)})("dblclick",function(o){return r._handleDoubleclick(o)}),n&2&&(Ro("id",r.id),at("tabindex",r.disabled?null:-1)("aria-label",null)("aria-description",null)("role",r.role),Qe("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-editing",r._isEditing)("mat-mdc-chip-editable",r.editable)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[ft([{provide:wM,useExisting:i},{provide:Iy,useExisting:i}]),ki,ye],ngContentSelectors:PR,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(n,r){n&1&&(Xt(IR),I(0,TR,1,0,"span",0),l(1,"span",1),I(2,OR,2,0,"span",2),l(3,"span",3),I(4,FR,2,1)(5,LR,1,0),F(6,"span",4),c()(),I(7,jR,2,0,"span",5),l(8,"span",6),u(9),c()),n&2&&(Tt(r._isEditing?-1:0),b(),C("disabled",r.disabled),at("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),b(),Tt(r.leadingIcon?2:-1),b(2),Tt(r._isEditing?4:5),b(3),Tt(r._hasTrailingIcon()?7:-1),b(),C("id",r._ariaDescriptionId),b(),xe(r.ariaDescription))},dependencies:[Wg,Ey],styles:[AR],encapsulation:2,changeDetection:0})}}return i})();var kM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[rd,{provide:BR,useValue:{separatorKeyCodes:[13]}}],imports:[$t,Du,$t]})}}return i})();var Gg=[{value:"RESIDENTIAL",display:"Residential (Single-Family, Multi-Family)"},{value:"COMMERCIAL",display:"Commercial (Retail, Office)"},{value:"INDUSTRIAL",display:"Industrial (Factories, Warehouses)"},{value:"INFRASTRUCTURE",display:"Infrastructure (Highways, Bridges)"},{value:"RENOVATION",display:"Renovation/Remodeling"}],DM=[{value:"ACOUSTICAL_CONTRACTORS",display:"Acoustical Contractors"},{value:"ASBESTOS_ABATEMENT",display:"Asbestos Abatement"},{value:"AUTOMATION_TECHNOLOGY",display:"Automation/Technology"},{value:"CARPENTRY_MLWK",display:"Carpentry (MLWK)"},{value:"COMMUNICATIONS",display:"Communications"},{value:"COMPUTER_FACILITIES",display:"Computer Facilities"},{value:"CONCRETE",display:"Concrete"},{value:"CONCRETE_DECORATIVE",display:"Concrete (Decorative)"},{value:"CONCRETE_POLISHING",display:"Concrete Polishing"},{value:"COUNTERTOPS",display:"Countertops"},{value:"CRANES",display:"Cranes"},{value:"CURTAIN_WALL",display:"Curtain Wall"},{value:"DISASTER_RECOVERY",display:"Disaster Recovery"},{value:"DOORS_HARDWARE",display:"Doors & Hardware"},{value:"DRYWALL_PLASTER_ACOUSTIC",display:"Drywall/Plaster/Acoustic"},{value:"ELECTRICAL",display:"Electrical"},{value:"ELEVATOR_ESCALATOR",display:"Elevator/Escalator"},{value:"ENVIRONMENTAL",display:"Environmental (Remediation and on-site work)"},{value:"EXCAVATING_EARTHMOVING",display:"Excavating/EarthMoving"},{value:"EXTERIOR_IMPROVEMENT",display:"Exterior Improvement"},{value:"FENCE",display:"Fence"},{value:"FIRE_PROOFING",display:"Fire Proofing"},{value:"FIRE_PROTECTION",display:"Fire Protection"},{value:"FIRE_SPRINKLING",display:"Fire Sprinkling"},{value:"FLOORING",display:"Flooring"},{value:"FOUNDATION_DRILLING",display:"Foundation Drilling"},{value:"GEOTECHNICAL_CONSTRUCTION",display:"Geotechnical Construction"},{value:"GLASS_GLAZING",display:"Glass & Glazing"},{value:"GUTTERS",display:"Gutters"},{value:"HIGHWAYS_STREETS_BRIDGES",display:"Highways / Streets / Bridges"},{value:"HVAC",display:"HVAC"},{value:"INSULATION",display:"Insulation"},{value:"INTERIOR_FINISHING",display:"Interior Finishing"},{value:"LANDSCAPING",display:"Landscaping"},{value:"LIGHTENING_PROTECTION",display:"Lightening Protection"},{value:"MASONRY",display:"Masonry"},{value:"MECHANICAL",display:"Mechanical"},{value:"MECHANICAL_INSULATION",display:"Mechanical Insulation"},{value:"METAL_DECK",display:"Metal Deck"},{value:"PAINT_DECORATE",display:"Paint/Decorate"},{value:"PAVING",display:"Paving"},{value:"PLUMBING",display:"Plumbing"},{value:"RIGGING_HAULING",display:"Rigging/Hauling"},{value:"ROOFING",display:"Roofing"},{value:"SCAFFOLDING",display:"Scaffolding"},{value:"SEALANTS",display:"Sealants"},{value:"SECURITY_SYSTEMS",display:"Security Systems"},{value:"SEWER",display:"Sewer"},{value:"SHEET_METAL_FABRICATION",display:"Sheet Metal/Fabrication"},{value:"SIGNAGE",display:"Signage "},{value:"SITE_PREPARATION",display:"Site Preparation"},{value:"SOLAR",display:"Solar"},{value:"SPECIAL_CONSTRUCTION",display:"Special Construction"},{value:"STEEL_ERECTOR",display:"Steel Erector"},{value:"STEEL_FABRICATION",display:"Steel Fabrication"},{value:"TESTING_BALANCING",display:"Testing & Balancing"},{value:"THERMAL_MOISTURE_PROTECTION",display:"Thermal / Moisture Protection"},{value:"TILE_TERRAZZO_MARBLE",display:"Tile/Terrazzo/Marble"},{value:"UTILITY",display:"Utility"},{value:"WATER_WELL_DRILLING",display:"Water Well Drilling"},{value:"WATERPROOFING",display:"Waterproofing"},{value:"WELDING",display:"Welding"},{value:"WINDOWS",display:"Windows"},{value:"WOODWORK_INTERIOR",display:"Woodwork (Interior)"},{value:"WRECKING_DEMOLITION",display:"Wrecking/Demolition"}],EM=[{value:"ACCOUNTING",display:"Accounting"},{value:"ARCHITECTURAL",display:"Architectural"},{value:"ATTORNEY_CONSTRUCTION",display:"Attorney/Construction"},{value:"BANKING_FINANCIAL",display:"Banking/Financial"},{value:"BARRICADES",display:"Barricades"},{value:"BONDING_INSURANCE",display:"Bonding/Insurance"},{value:"ENGINEERING",display:"Engineering"},{value:"EQUIPMENT_SALES_RENTAL",display:"Equipment Sales & Rental"},{value:"EXISTING_CONDITIONS",display:"Existing Conditions (e.g., surveying, 3D scanning)"},{value:"FLEET_AUTOMOBILES",display:"Fleet Automobiles"},{value:"FUEL",display:"Fuel"},{value:"INFORMATION_TECHNOLOGY",display:"Information Technology"},{value:"LABOR",display:"Labor"},{value:"LUMBER",display:"Lumber"},{value:"METALS",display:"Metals"},{value:"MOBILE_STORAGE",display:"Mobile Storage"},{value:"MOVING_TRUCKING",display:"Moving / Trucking"},{value:"OFFICE_DESIGN_FURNITURE",display:"Office Design / Furniture"},{value:"PAYROLL_SERVICES",display:"Payroll Services"},{value:"PORTABLE_TOILETS",display:"Portable Toilets"},{value:"PROFESSIONAL_SERVICE",display:"Professional Service (legal, accounting, etc.)"},{value:"REBAR",display:"Rebar"},{value:"REINFORCING_BAR_FABRICATION",display:"Reinforcing Bar Fabrication"},{value:"REINFORCING_STEEL",display:"Reinforcing Steel"},{value:"RENTALS",display:"Rentals"},{value:"SAFETY",display:"Safety (Consulting and supplies)"},{value:"SALES",display:"Sales"},{value:"STAFFING",display:"Staffing"},{value:"STEEL",display:"Steel"},{value:"STONE",display:"Stone"},{value:"TRANSPORTATION",display:"Transportation"},{value:"TRUCKING",display:"Trucking"},{value:"WASTE_HAULING_AND_DISPOSAL",display:"Waste Hauling and Disposal"},{value:"WHOLESALE_DISTRIBUTION",display:"Wholesale Distribution"},{value:"WOODS_PLASTICS_COMPOSITES",display:"Woods / Plastics / Composites"}],$g=[{value:"LUMBER",display:"Lumber (Softwood, Hardwood, Pressure-Treated)"},{value:"STEEL",display:"Steel (Structural, Rebar)"},{value:"ROOFING_MATERIAL",display:"Roofing Materials (Asphalt Shingles, Metal Roofing)"},{value:"INSULATION_MATERIAL",display:"Insulation Materials (Fiberglass, Spray Foam)"},{value:"ELECTRICAL",display:"Electrical Supplies (Wires, Switchgear)"},{value:"PLUMBING",display:"Plumbing Equipment (Pipes, Fittings)"},{value:"HVAC_EQUIPMENT",display:"HVAC Equipment (Ducts, Units)"},{value:"PAINT_FINISHES",display:"Paint and Finishes"},{value:"ALTERNATIVE",display:"Sustainable Materials (Solar Panels, Low VOC Paint)"},{value:"",display:"Other"}],Yg=[{value:"LOCAL",display:"Local"},{value:"REGIONAL",display:"Regional"},{value:"NATIONAL",display:"National"}],Qg=[{value:"SHORT",display:"Short-term Projects (1-3 months)"},{value:"LONG",display:"Long-term Projects (6+ months)"},{value:"CONTRACT",display:"Contract-based"},{value:"DEMAND",display:"On-demand basis (Per Task/Hour)"}],Jg=[{value:"SAME_DAY",display:"Same Day"},{value:"3_DAYS",display:"1-3 Days"},{value:"1_WEEK",display:"1 Week"},{value:"1_WEEK+",display:"More than 1 Week"}],Kg=[{value:"IMMEDIATE",display:"Available Immediately"},{value:"2_WEEKS",display:"Within 1-2 Weeks"},{value:"1_MONTH",display:"Within 1 Month"},{value:"PROJECT_BASIS",display:"By Project Basis"}],AM=["1-10","11-50","51-100","100+"],IM=["Less than 1 year","1-3 years","3-5 years","5-10 years","10+ years"],Xg=[{value:"FULLY_LICENSED",display:"Licensed and Certified"},{value:"LICENSED",display:"Licensed (No Certification)"},{value:"CERTIFIED",display:"Certification (No License)"},{value:"NON_LICENSED",display:"Unlicensed/Uncertified"}];var Zg=class i{constructor(t){this.http=t}apiUrl=`${St.BACKEND_URL}/account`;getInvitation(t){return this.http.get(`${this.apiUrl}/invitation/${t}`)}registerInvited(t){return this.http.post(`${this.apiUrl}/register/invited`,t)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};function UR(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function qR(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function WR(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function GR(i,t){i&1&&(l(0,"mat-error"),u(1," Invalid phone number format for selected country "),c())}function $R(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function YR(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function QR(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function JR(i,t){i&1&&(l(0,"mat-error"),u(1," Please enter a valid email address "),c())}function KR(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function XR(i,t){i&1&&(l(0,"mat-error"),u(1," Password must be at least 10 characters long. "),c())}function ZR(i,t){i&1&&(l(0,"mat-error"),u(1," Password must contain at least one uppercase letter, one lowercase letter, and one special character. "),c())}function eN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.display),b(),Ce(" ",e.display," ")}}function tN(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function iN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.display),b(),Ce(" ",e.display," ")}}function nN(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function rN(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function aN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),xe(e)}}function oN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function sN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e.display," ")}}function lN(i,t){if(i&1){let e=ge();l(0,"mat-chip-row",46),z("removed",function(){let r=q(e).$implicit,a=P(4);return W(a.removeTrade(r))}),u(1),l(2,"button",47)(3,"mat-icon"),u(4,"cancel"),c()()()}if(i&2){let e=t.$implicit;C("removable",!0),b(),Ce(" ",e.display," ")}}function cN(i,t){if(i&1&&(l(0,"div",43)(1,"h4"),u(2,"Selected Trades:"),c(),l(3,"div",44),I(4,lN,5,2,"mat-chip-row",45),c()()),i&2){let e=P(3);b(4),C("ngForOf",e.selectedTrades)}}function dN(i,t){if(i&1){let e=ge();l(0,"div",13)(1,"h3"),u(2,"Trades"),c(),l(3,"div",37)(4,"div",38)(5,"mat-form-field",39)(6,"mat-label"),u(7,"Add Trades"),c(),F(8,"input",40),l(9,"mat-autocomplete",41,3),z("optionSelected",function(r){q(e);let a=P(2);return W(a.selectedTrade(r))}),I(11,sN,2,2,"mat-option",21),dt(12,"async"),c()()(),I(13,cN,5,1,"div",42),c()()}if(i&2){let e=Vt(10),n=P(2);b(8),C("formControl",n.tradeCtrl)("matAutocomplete",e),b(3),C("ngForOf",Wt(12,4,n.filteredTrades)),b(2),C("ngIf",n.selectedTrades.length>0)}}function uN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e.display," ")}}function mN(i,t){if(i&1){let e=ge();l(0,"mat-chip-row",46),z("removed",function(){let r=q(e).$implicit,a=P(4);return W(a.removeSupplierType(r))}),u(1),l(2,"button",47)(3,"mat-icon"),u(4,"cancel"),c()()()}if(i&2){let e=t.$implicit;C("removable",!0),b(),Ce(" ",e.display," ")}}function pN(i,t){if(i&1&&(l(0,"div",52)(1,"h4"),u(2,"Selected Supplier Types:"),c(),l(3,"div",44),I(4,mN,5,2,"mat-chip-row",45),c()()),i&2){let e=P(3);b(4),C("ngForOf",e.selectedSupplierTypes)}}function hN(i,t){if(i&1){let e=ge();l(0,"div",13)(1,"h3"),u(2,"Supplier Types"),c(),l(3,"div",48)(4,"div",49)(5,"mat-form-field",39)(6,"mat-label"),u(7,"Add Supplier Types"),c(),F(8,"input",50),l(9,"mat-autocomplete",41,4),z("optionSelected",function(r){q(e);let a=P(2);return W(a.selectedSupplierType(r))}),I(11,uN,2,2,"mat-option",21),dt(12,"async"),c()()(),I(13,pN,5,1,"div",51),c()()}if(i&2){let e=Vt(10),n=P(2);b(8),C("formControl",n.supplierTypeCtrl)("matAutocomplete",e),b(3),C("ngForOf",Wt(12,4,n.filteredSupplierTypes)),b(2),C("ngIf",n.selectedSupplierTypes.length>0)}}function fN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function gN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),xe(e)}}function bN(i,t){if(i&1&&(l(0,"div",13)(1,"h3"),u(2,"Builder Details"),c(),l(3,"div",14)(4,"mat-form-field",15)(5,"mat-label"),u(6,"Construction Type"),c(),l(7,"mat-select",53)(8,"mat-select-trigger"),u(9),c(),I(10,fN,2,2,"mat-option",21),c()(),l(11,"mat-form-field",15)(12,"mat-label"),u(13,"Organizational Size"),c(),l(14,"mat-select",54),I(15,gN,2,2,"mat-option",21),c()()()()),i&2){let e=P(2);b(9),Ce(" ",e.getConstructionTypeDisplayValue()," "),b(),C("ngForOf",e.constructionTypes),b(5),C("ngForOf",e.employeeNumber)}}function vN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function _N(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function yN(i,t){if(i&1&&(l(0,"div",13)(1,"h3"),u(2,"Construction Details"),c(),l(3,"div",14)(4,"mat-form-field",15)(5,"mat-label"),u(6,"Project Preferences"),c(),l(7,"mat-select",55)(8,"mat-select-trigger"),u(9),c(),I(10,vN,2,2,"mat-option",21),c()(),l(11,"mat-form-field",15)(12,"mat-label"),u(13,"Availability Options"),c(),l(14,"mat-select",56),I(15,_N,2,2,"mat-option",21),c()()()()),i&2){let e=P(2);b(9),Ce(" ",e.getProjectPreferencesDisplayValue()," "),b(),C("ngForOf",e.preferenceOptions),b(5),C("ngForOf",e.availabilityOptions)}}function xN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function CN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function wN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),xe(e.display)}}function SN(i,t){if(i&1&&(l(0,"div",13)(1,"h3"),u(2,"Supplier Details"),c(),l(3,"div",14)(4,"mat-form-field",15)(5,"mat-label"),u(6,"Products Offered"),c(),l(7,"mat-select",57)(8,"mat-select-trigger"),u(9),c(),I(10,xN,2,2,"mat-option",21),c()(),l(11,"mat-form-field",15)(12,"mat-label"),u(13,"Delivery Area"),c(),l(14,"mat-select",58)(15,"mat-select-trigger"),u(16),c(),I(17,CN,2,2,"mat-option",21),c()(),l(18,"mat-form-field",15)(19,"mat-label"),u(20,"Delivery Time"),c(),l(21,"mat-select",59),I(22,wN,2,2,"mat-option",21),c()()()()),i&2){let e=P(2);b(9),Ce(" ",e.getProductsOfferedDisplayValue()," "),b(),C("ngForOf",e.supplierProducts),b(6),Ce(" ",e.getDeliveryAreaDisplayValue()," "),b(),C("ngForOf",e.deliveryAreas),b(5),C("ngForOf",e.leadTimeDelivery)}}function MN(i,t){if(i&1&&(l(0,"mat-option",36),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce(" ",e.display," ")}}function kN(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function DN(i,t){if(i&1){let e=ge();l(0,"div",11)(1,"form",12),z("ngSubmit",function(){q(e);let r=P();return W(r.onSubmit())}),l(2,"div",13)(3,"h3"),u(4,"Personal Information"),c(),l(5,"div",14)(6,"mat-form-field",15)(7,"mat-label"),u(8,"First Name"),c(),F(9,"input",16),I(10,UR,2,0,"mat-error",17),c(),l(11,"mat-form-field",15)(12,"mat-label"),u(13,"Last Name"),c(),F(14,"input",18),I(15,qR,2,0,"mat-error",17),c(),l(16,"mat-form-field",15)(17,"mat-label"),u(18,"Phone Number"),c(),F(19,"input",19),l(20,"mat-hint"),u(21,"Enter phone number including country code"),c(),I(22,WR,2,0,"mat-error",17)(23,GR,2,0,"mat-error",17),c(),l(24,"mat-form-field",15)(25,"mat-label"),u(26,"User Type"),c(),l(27,"mat-select",20),z("selectionChange",function(r){q(e);let a=P();return W(a.userType(r))}),I(28,$R,2,2,"mat-option",21),c(),I(29,YR,2,0,"mat-error",17),c()()(),l(30,"div",13)(31,"h3"),u(32,"Account Details"),c(),l(33,"div",14)(34,"mat-form-field",15)(35,"mat-label"),u(36,"Email"),c(),F(37,"input",22),I(38,QR,2,0,"mat-error",17)(39,JR,2,0,"mat-error",17),c(),l(40,"mat-form-field",15)(41,"mat-label"),u(42,"Password"),c(),F(43,"input",23),I(44,KR,2,0,"mat-error",17)(45,XR,2,0,"mat-error",17)(46,ZR,2,0,"mat-error",17),c()()(),l(47,"div",13)(48,"h3"),u(49,"Location"),c(),l(50,"div",14)(51,"mat-form-field",15)(52,"mat-label"),u(53,"Country"),c(),F(54,"input",24),l(55,"mat-autocomplete",null,1),I(57,eN,2,2,"mat-option",21),dt(58,"async"),c(),I(59,tN,2,0,"mat-error",17),c(),l(60,"mat-form-field",15)(61,"mat-label"),u(62,"State/Province"),c(),F(63,"input",25),l(64,"mat-autocomplete",null,2),I(66,iN,2,2,"mat-option",21),dt(67,"async"),c(),I(68,nN,2,0,"mat-error",17),c(),l(69,"mat-form-field",15)(70,"mat-label"),u(71,"City"),c(),F(72,"input",26),I(73,rN,2,0,"mat-error",17),c()()(),l(74,"div",13)(75,"h3"),u(76,"Company Details"),c(),l(77,"div",14)(78,"mat-form-field",15)(79,"mat-label"),u(80,"Company Name"),c(),F(81,"input",27),c(),l(82,"mat-form-field",15)(83,"mat-label"),u(84,"Company Registration"),c(),F(85,"input",28),c(),l(86,"mat-form-field",15)(87,"mat-label"),u(88,"VAT Number"),c(),F(89,"input",29),c()(),l(90,"div",14)(91,"mat-form-field",15)(92,"mat-label"),u(93,"Years of Operation"),c(),l(94,"mat-select",30),I(95,aN,2,2,"mat-option",21),c()(),l(96,"mat-form-field",15)(97,"mat-label"),u(98,"Certification Level"),c(),l(99,"mat-select",31),I(100,oN,2,2,"mat-option",21),c()()()(),I(101,dN,14,6,"div",32)(102,hN,14,6,"div",32)(103,bN,16,3,"div",32)(104,yN,16,3,"div",32)(105,SN,23,5,"div",32),l(106,"div",13)(107,"h3"),u(108,"Subscription"),c(),l(109,"div",14)(110,"mat-form-field",15)(111,"mat-label"),u(112,"Subscription Package"),c(),l(113,"mat-select",33),I(114,MN,2,2,"mat-option",21),c(),I(115,kN,2,0,"mat-error",17),c()()(),l(116,"div",34)(117,"button",35),u(118,"Register"),c()()()()}if(i&2){let e,n,r,a,o,s,d,m,h,v,_,g,D,E,S=Vt(56),w=Vt(65),O=P();b(),C("formGroup",O.registrationForm),b(9),C("ngIf",(e=O.registrationForm.get("firstName"))==null?null:e.hasError("required")),b(5),C("ngIf",(n=O.registrationForm.get("lastName"))==null?null:n.hasError("required")),b(7),C("ngIf",(r=O.registrationForm.get("phoneNumber"))==null?null:r.hasError("required")),b(),C("ngIf",(a=O.registrationForm.get("phoneNumber"))==null?null:a.hasError("pattern")),b(5),C("ngForOf",O.userTypes),b(),C("ngIf",(o=O.registrationForm.get("userType"))==null?null:o.hasError("required")),b(9),C("ngIf",(s=O.registrationForm.get("email"))==null?null:s.hasError("required")),b(),C("ngIf",(d=O.registrationForm.get("email"))==null?null:d.invalid),b(5),C("ngIf",(m=O.registrationForm.get("password"))==null?null:m.hasError("required")),b(),C("ngIf",(h=O.registrationForm.get("password"))==null?null:h.hasError("minlength")),b(),C("ngIf",(v=O.registrationForm.get("password"))==null?null:v.hasError("pattern")),b(8),C("matAutocomplete",S),b(3),C("ngForOf",Wt(58,28,O.filteredCountries)),b(2),C("ngIf",(_=O.registrationForm.get("country"))==null?null:_.hasError("required")),b(4),C("matAutocomplete",w),b(3),C("ngForOf",Wt(67,30,O.filteredStates)),b(2),C("ngIf",(g=O.registrationForm.get("state"))==null?null:g.hasError("required")),b(5),C("ngIf",(D=O.registrationForm.get("city"))==null?null:D.hasError("required")),b(22),C("ngForOf",O.operationalYears),b(5),C("ngForOf",O.certificationOptions),b(),C("ngIf",O.user==="SUBCONTRACTOR"),b(),C("ngIf",O.user==="VENDOR"),b(),C("ngIf",O.user=="SUBCONTRACTOR"),b(),C("ngIf",O.user=="SUBCONTRACTOR"),b(),C("ngIf",O.user=="VENDOR"),b(9),C("ngForOf",O.subscriptionPackages),b(),C("ngIf",(E=O.registrationForm.get("subscriptionPackage"))==null?null:E.hasError("required"))}}function EN(i,t){i&1&&(l(0,"p"),u(1,"Loading registration form..."),c())}function AN(i,t){if(i&1){let e=ge();l(0,"div",60)(1,"div",61)(2,"p"),u(3),c(),l(4,"button",62),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var e0=St.BACKEND_URL,t0=class i{constructor(t,e,n,r,a,o,s){this.formBuilder=t;this.httpClient=e;this.router=n;this.stripeService=r;this.dialog=a;this.route=o;this.invitationService=s;this.registrationForm=this.formBuilder.group({}),this.filteredTrades=this.tradeCtrl.valueChanges.pipe(Qi(null),bi(d=>{let m=((typeof d=="string"?d:"")||"").toLowerCase();return this.trades.filter(h=>!this.selectedTrades.some(v=>v.value===h.value)&&h.display.toLowerCase().includes(m))})),this.filteredSupplierTypes=this.supplierTypeCtrl.valueChanges.pipe(Qi(null),bi(d=>{let m=((typeof d=="string"?d:"")||"").toLowerCase();return this.supplierTypes.filter(h=>!this.selectedSupplierTypes.some(v=>v.value===h.value)&&h.display.toLowerCase().includes(m))}))}showAlert=!1;alertMessage="";routeURL="";token=null;constructionTypes=Gg;trades=DM;supplierTypes=EM;supplierProducts=$g;deliveryAreas=Yg;preferenceOptions=Qg;leadTimeDelivery=Jg;availabilityOptions=Kg;employeeNumber=AM;operationalYears=IM;certificationOptions=Xg;subscriptionPackages=[];countries=bM;states=vM;filteredCountries;filteredStates;userTypes=Cc;separatorKeysCodes=[13,188];tradeCtrl=new ya;filteredTrades;selectedTrades=[];supplierTypeCtrl=new ya;filteredSupplierTypes;selectedSupplierTypes=[];registrationForm;user="";certified=!1;isLoading=!1;ngOnInit(){this.loadSubscriptionPackages(),this.registrationForm=this.formBuilder.group({firstName:[{value:"",disabled:!0},et.required],lastName:[{value:"",disabled:!0},et.required],phoneNumber:["",et.required],email:[{value:"",disabled:!0},[et.required,et.email]],password:["",[et.required,et.minLength(10),et.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{10,}$/)]],companyName:[""],companyRegNo:[""],streetNumber:[""],streetName:[""],postalCode:[""],latitude:[null],longitude:[null],formattedAddress:[""],googlePlaceId:[""],vatNo:[""],userType:["PERSONAL_USE",et.required],constructionType:[],country:["",et.required],state:["",et.required],city:["",et.required],nrEmployees:"",yearsOfOperation:"",certificationStatus:"",certificationDocumentPath:"",availability:"",subscriptionPackage:["",et.required],projectPreferences:[],productsOffered:[],deliveryArea:[],deliveryTime:"",userName:""}),this.user="PERSONAL_USE",this.filteredCountries=this.registrationForm.get("country")?.valueChanges.pipe(Qi(""),bi(t=>this._filterCountries(t))),this.registrationForm.get("country")?.valueChanges.subscribe(t=>{let e=this.countries.find(n=>n.display===t);e&&(this.updatePhoneNumberValidator(e.value),this.filteredStates=this.registrationForm.get("state")?.valueChanges.pipe(Qi(""),bi(n=>this._filterStates(n,e.value))))}),this.registrationForm.get("userType")?.valueChanges.subscribe(t=>{this.user=t,this.selectedTrades=[],this.selectedSupplierTypes=[]}),this.route.queryParams.subscribe(t=>{this.token=t.token,this.token?(["country","state","city","subscriptionPackage"].forEach(n=>{let r=this.registrationForm.get(n);r&&(r.clearValidators(),r.updateValueAndValidity())}),this.invitationService.getInvitation(this.token).subscribe({next:n=>{if(console.log("Invitation data:",n),this.registrationForm.patchValue(n),n.role){let r=this.userTypes.find(a=>a.display===n.role);r&&(this.registrationForm.get("userType")?.setValue(r.value),this.user=r.value)}this.registrationForm.get("userType")?.disable()},error:()=>{this.alertMessage="Invalid or expired invitation token.",this.showAlert=!0}})):(this.registrationForm.get("firstName")?.enable(),this.registrationForm.get("lastName")?.enable(),this.registrationForm.get("email")?.enable())})}addTrade(t){let e=(t.value||"").trim();if(e){let n=this.trades.find(r=>r.display.toLowerCase()===e.toLowerCase());n&&!this.selectedTrades.includes(n)&&this.selectedTrades.push(n)}t.chipInput.clear(),this.registrationForm.get("tradeCtrl").setValue(null)}removeTrade(t){let e=this.selectedTrades.indexOf(t);e>=0&&(this.selectedTrades.splice(e,1),this.tradeCtrl.setValue(this.tradeCtrl.value))}selectedTrade(t){let e=t.option.value;this.selectedTrades.includes(e)||this.selectedTrades.push(e),this.tradeCtrl.setValue(null)}addSupplierType(t){let e=(t.value||"").trim();if(e){let n=this.supplierTypes.find(r=>r.display.toLowerCase()===e.toLowerCase());n&&!this.selectedSupplierTypes.includes(n)&&this.selectedSupplierTypes.push(n)}t.chipInput.clear(),this.registrationForm.get("supplierTypeCtrl").setValue(null)}removeSupplierType(t){let e=this.selectedSupplierTypes.indexOf(t);e>=0&&(this.selectedSupplierTypes.splice(e,1),this.supplierTypeCtrl.setValue(this.supplierTypeCtrl.value))}selectedSupplierType(t){let e=t.option.value;this.selectedSupplierTypes.includes(e)||this.selectedSupplierTypes.push(e),this.supplierTypeCtrl.setValue(null)}_filterCountries(t){let e=t.toLowerCase();return this.countries.filter(n=>n.display.toLowerCase().includes(e))}_filterStates(t,e){let n=t.toLowerCase();return(this.states[e]||[]).filter(a=>a.display.toLowerCase().includes(n))}updatePhoneNumberValidator(t){let e=this.registrationForm.get("phoneNumber"),n=this.countries.find(r=>r.value===t);n&&e&&n.phonePattern?e.setValidators([et.required,et.pattern(n.phonePattern)]):e&&e.setValidators([et.required]),e?.updateValueAndValidity()}userType(t){}loadSubscriptionPackages(){this.stripeService.getSubscriptions().subscribe({next:t=>{this.subscriptionPackages=t.map(e=>({value:e.subscription,display:`${e.subscription} ($${e.amount.toFixed(2)})`,amount:e.amount}))},error:t=>{console.error("Failed to load subscription packages:",t)}})}certificationChange(t){t==="FULLY_LICENSED"&&(this.certified=!0)}onSubmit(){if(this.token){if(this.registrationForm.valid){this.isLoading=!0;let r={token:this.token,password:this.registrationForm.get("password")?.value,phoneNumber:this.registrationForm.get("phoneNumber")?.value};this.invitationService.registerInvited(r).subscribe({next:()=>{this.isLoading=!1,this.alertMessage="Registration successful. You can now log in.",this.showAlert=!0,this.routeURL="login?type=member"},error:()=>{this.isLoading=!1,this.alertMessage="Failed to complete registration.",this.showAlert=!0}});let a=this.registrationForm.value.subscriptionPackage,o=this.subscriptionPackages.find(d=>d.value===a);if(!this.registrationForm.valid){this.alertMessage="Please fill in all required fields or check for all fields are correct.",this.showAlert=!0;return}this.dialog.open(Ip,{disableClose:!0,width:"500px"}).afterClosed().subscribe(d=>{if(!d)return;this.isLoading=!0;let m=this.registrationForm.getRawValue();this.user==="SUBCONTRACTOR"&&(m.trades=this.selectedTrades.map(h=>h.value)),this.user==="VENDOR"&&(m.supplierTypes=this.selectedSupplierTypes.map(h=>h.value)),this.httpClient.post(`${e0}/Account/register`,JSON.stringify(m),{headers:{"Content-Type":"application/json"}}).pipe(It(h=>(this.isLoading=!1,h.status===400?h.error[0]?.code==="DuplicateUserName"?this.alertMessage="You are already Registered, please proceed to Login":this.alertMessage="Data is malformed. Please check all input fields.":h.status===500?this.alertMessage="Oops something went wrong, please try again later.":this.alertMessage="An unexpected error occurred. Contact support@probuildai.com",this.showAlert=!0,wt(null)))).subscribe(h=>{if(this.isLoading=!1,h){this.alertMessage="Registration successful! Check your inbox for a verification email to activate your account.";let v=h.userId;if(this.registrationForm.value.subscriptionPackage.includes("Basic"))this.routeURL="login",this.showAlert=!0;else if(this.registrationForm.value.subscriptionPackage.includes("Trial")){let _=h.userId,g=this.registrationForm.value.subscriptionPackage;this.httpClient.post(`${e0}/Account/trailversion`,{userId:_,packageName:g},{headers:{"Content-Type":"application/json"}}).subscribe(()=>{this.alertMessage="Trial activated. Login to get started!",this.routeURL="login",this.showAlert=!0})}else this.dialog.open(Uu,{data:{userId:v,packageName:o?.value||"Unknown",amount:o?.amount||0,source:"register"},disableClose:!0,width:"400px"}),this.showAlert=!0,this.routeURL="login"}})})}return}let t=this.registrationForm.value.subscriptionPackage,e=this.subscriptionPackages.find(r=>r.value===t);if(!this.registrationForm.valid){this.alertMessage="Please fill in all required fields or check for all fields are correct.",this.showAlert=!0;return}this.dialog.open(Ip,{disableClose:!0,width:"500px"}).afterClosed().subscribe(r=>{if(!r)return;this.isLoading=!0;let a=this.registrationForm.getRawValue();this.user==="SUBCONTRACTOR"&&(a.trades=this.selectedTrades.map(o=>o.value)),this.user==="VENDOR"&&(a.supplierTypes=this.selectedSupplierTypes.map(o=>o.value)),this.httpClient.post(`${e0}/Account/register`,JSON.stringify(a),{headers:{"Content-Type":"application/json"}}).pipe(It(o=>(this.isLoading=!1,o.status===400?o.error[0]?.code==="DuplicateUserName"?this.alertMessage="You are already Registered, please proceed to Login":this.alertMessage="Data is malformed. Please check all input fields.":o.status===500?this.alertMessage="Oops something went wrong, please try again later.":this.alertMessage="An unexpected error occurred. Contact support@probuildai.com",this.showAlert=!0,wt(null)))).subscribe(o=>{if(this.isLoading=!1,o){this.alertMessage="Registration successful! Check your inbox for a verification email to activate your account.";let s=o.userId;if(this.registrationForm.value.subscriptionPackage.includes("Basic"))this.routeURL="login",this.showAlert=!0;else if(this.registrationForm.value.subscriptionPackage.includes("Trial")){let d=o.userId,m=this.registrationForm.value.subscriptionPackage;this.httpClient.post(`${e0}/Account/trailversion`,{userId:d,packageName:m},{headers:{"Content-Type":"application/json"}}).subscribe(()=>{this.alertMessage="Trial activated. Login to get started!",this.routeURL="login",this.showAlert=!0})}else this.dialog.open(Uu,{data:{userId:s,packageName:e?.value||"Unknown",amount:e?.amount||0,source:"register"},disableClose:!0,width:"400px"}),this.showAlert=!0,this.routeURL="login"}})})}showPaymentPrompt(){this.dialog.open(Uu,{disableClose:!0,width:"400px"})}getConstructionTypeDisplayValue(){let t=this.registrationForm.get("constructionType")?.value;return!t||t.length===0?"":this.constructionTypes.filter(e=>t.includes(e.value)).map(e=>e.display).join(", ")}getProjectPreferencesDisplayValue(){let t=this.registrationForm.get("projectPreferences")?.value;return!t||t.length===0?"":this.preferenceOptions.filter(e=>t.includes(e.value)).map(e=>e.display).join(", ")}getProductsOfferedDisplayValue(){let t=this.registrationForm.get("productsOffered")?.value;return!t||t.length===0?"":this.supplierProducts.filter(e=>t.includes(e.value)).map(e=>e.display).join(", ")}getDeliveryAreaDisplayValue(){let t=this.registrationForm.get("deliveryArea")?.value;return!t||t.length===0?"":this.deliveryAreas.filter(e=>t.includes(e.value)).map(e=>e.display).join(", ")}closeAlert(){this.routeURL!=""&&this.router.navigateByUrl("login"),this.showAlert=!1}static \u0275fac=function(e){return new(e||i)(k(Cn),k(Gt),k(Ii),k(Us),k(pn),k(_a),k(Zg))};static \u0275cmp=fe({type:i,selectors:[["app-registration"]],standalone:!0,features:[ye],decls:13,vars:3,consts:[["loadingTemplate",""],["auto","matAutocomplete"],["autoState","matAutocomplete"],["autoTrade","matAutocomplete"],["autoSupplierType","matAutocomplete"],[1,"container"],[1,"row"],[1,"fullcolumn"],[1,"profile-card","registration-card"],["class","profile-content",4,"ngIf","ngIfElse"],["class","alert-overlay",4,"ngIf"],[1,"profile-content"],[3,"ngSubmit","formGroup"],[1,"section"],[1,"form-row"],["appearance","fill"],["matInput","","formControlName","firstName","placeholder"," ","required",""],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder"," ","required",""],["matInput","","formControlName","phoneNumber","placeholder"," ","required",""],["formControlName","userType","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","email","formControlName","email","placeholder"," ","required",""],["matInput","","type","password","formControlName","password","placeholder"," ","required",""],["type","text","placeholder"," ","aria-label","Country","matInput","","formControlName","country","required","",3,"matAutocomplete"],["type","text","placeholder"," ","aria-label","State","matInput","","formControlName","state","required","",3,"matAutocomplete"],["matInput","","formControlName","city","placeholder"," ","required",""],["matInput","","formControlName","companyName","placeholder"," "],["matInput","","formControlName","companyRegNo","placeholder"," "],["matInput","","formControlName","vatNo","placeholder"," "],["formControlName","yearsOfOperation"],["formControlName","certificationStatus"],["class","section",4,"ngIf"],["formControlName","subscriptionPackage","required",""],[1,"form-row-button"],["mat-raised-button","","type","submit",1,"submit-btn"],[3,"value"],[1,"trades-selection-container"],[1,"trade-input-section"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Type to search trades...",3,"formControl","matAutocomplete"],[3,"optionSelected"],["class","selected-trades-display",4,"ngIf"],[1,"selected-trades-display"],[1,"chips-wrapper"],[3,"removable","removed",4,"ngFor","ngForOf"],[3,"removed","removable"],["matChipRemove",""],[1,"supplier-types-selection-container"],[1,"supplier-type-input-section"],["matInput","","placeholder","Type to search supplier types...",3,"formControl","matAutocomplete"],["class","selected-supplier-types-display",4,"ngIf"],[1,"selected-supplier-types-display"],["formControlName","constructionType","multiple",""],["formControlName","nrEmployees"],["formControlName","projectPreferences","multiple",""],["formControlName","availability"],["formControlName","productsOffered","multiple",""],["formControlName","deliveryArea","multiple",""],["formControlName","deliveryTime"],[1,"alert-overlay"],[1,"alert-modal"],["mat-button","",1,"submit-btn",3,"click"]],template:function(e,n){if(e&1&&(l(0,"div",5)(1,"div",6)(2,"div",7)(3,"mat-card",8)(4,"mat-card-header")(5,"mat-card-title"),u(6,"Register"),c()(),l(7,"mat-card-content"),F(8,"mat-divider"),I(9,DN,119,32,"div",9)(10,EN,2,0,"ng-template",null,0,ur),c()()()()(),I(12,AN,6,1,"div",10)),e&2){let r=Vt(11);b(9),C("ngIf",!n.isLoading)("ngIfElse",r),b(3),C("ngIf",n.showAlert)}},dependencies:[Bi,Li,nn,rn,ji,dM,Pi,mn,xn,pi,Ki,io,Ls,Xi,Vn,Ji,Lr,hn,Mn,xc,Ma,ro,hM,hr,li,Pt,Vi,gr,vi,Nt,un,Ws,qs,cs,Os,Da,kM,SM,MM,zn,Fr],styles:[".container[_ngcontent-%COMP%]{width:95vw!important;margin-top:2rem}.profile-card.registration-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #61a0af;box-shadow:0 2px 4px #0000000d;border-radius:8px;padding:16px;height:auto}.profile-card.registration-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}.profile-card.registration-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;border:none;height:2px;margin:16px 0}.profile-content[_ngcontent-%COMP%]{margin-top:16px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:20px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;border-radius:6px;border:1px solid #61a0af}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-floating-label{position:static!important;font-size:.9rem;color:#333}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field .mdc-floating-label{transform:translateY(-60%)!important}.submit-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;margin-top:10px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.form-row-button[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:20px}.form-row-button[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}.form-row-button[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;border-radius:6px;border:1px solid #61a0af}.form-row-button[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-floating-label{position:static!important;font-size:.9rem;color:#333}.form-row-button[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field .mdc-floating-label{transform:translateY(-60%)!important}.form-row-button[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;width:200px;margin-top:10px}.form-row-button[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:none;width:100%}.form-row[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{padding:8px 16px;width:100%}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}}.chip-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.chip-input-container[_ngcontent-%COMP%]{flex-grow:1}.chip-grid[_ngcontent-%COMP%]{margin-left:16px;max-width:50%}.trades-selection-container[_ngcontent-%COMP%], .supplier-types-selection-container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start;min-height:80px}@media (max-width: 768px){.trades-selection-container[_ngcontent-%COMP%], .supplier-types-selection-container[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.selected-trades-display[_ngcontent-%COMP%], .selected-supplier-types-display[_ngcontent-%COMP%]{flex:1;min-width:300px}.selected-trades-display[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .selected-supplier-types-display[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:1rem;color:#333;font-weight:500}.selected-trades-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%], .selected-supplier-types-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;padding:12px;border:1px solid #61a0af;border-radius:6px;background-color:#fff;min-height:60px;align-items:flex-start;align-content:flex-start}.selected-trades-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%], .selected-supplier-types-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.selected-trades-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]:hover, .selected-supplier-types-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.selected-trades-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]   button[matChipRemove][_ngcontent-%COMP%], .selected-supplier-types-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]   button[matChipRemove][_ngcontent-%COMP%]{color:#666}.selected-trades-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]   button[matChipRemove][_ngcontent-%COMP%]:hover, .selected-supplier-types-display[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]   button[matChipRemove][_ngcontent-%COMP%]:hover{color:#f44336}.trade-input-section[_ngcontent-%COMP%], .supplier-type-input-section[_ngcontent-%COMP%]{flex:1;min-width:250px}.trades-form-field-wrapper[_ngcontent-%COMP%]{display:none}"]})};var PN=[[["caption"]],[["colgroup"],["col"]],"*"],TN=["caption","colgroup, col","*"];function ON(i,t){i&1&&rt(0,2)}function RN(i,t){i&1&&(l(0,"thead",0),qn(1,1),c(),l(2,"tbody",0),qn(3,2)(4,3),c(),l(5,"tfoot",0),qn(6,4),c())}function NN(i,t){i&1&&qn(0,1)(1,2)(2,3)(3,4)}var ds=new yt("CDK_TABLE");var s0=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(tr))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkCellDef",""]],standalone:!0})}}return i})(),l0=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(tr))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return i})(),OM=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(tr))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return i})(),Wu=(()=>{class i{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(n){return new(n||i)(k(ds,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,a){if(n&1&&(bt(a,s0,5),bt(a,l0,5),bt(a,OM,5)),n&2){let o;be(o=ve())&&(r.cell=o.first),be(o=ve())&&(r.headerCell=o.first),be(o=ve())&&(r.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ye],stickyEnd:[2,"stickyEnd","stickyEnd",Ye]},standalone:!0,features:[ft([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),qt]})}}return i})(),n0=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}},RM=(()=>{class i extends n0{constructor(e,n){super(e,n)}static{this.\u0275fac=function(n){return new(n||i)(k(Wu),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[ki]})}}return i})();var NM=(()=>{class i extends n0{constructor(e,n){super(e,n);let r=e._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(n){return new(n||i)(k(Wu),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[ki]})}}return i})(),r0=class{constructor(){this.tasks=[],this.endTasks=[]}},a0=new yt("_COALESCED_STYLE_SCHEDULER"),Ty=(()=>{class i{constructor(e){this._currentSchedule=null,this._ngZone=Bt(ni)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new r0,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new r0;for(let n of e.tasks)n();for(let n of e.endTasks)n()}this._currentSchedule=null})))}static{this.\u0275fac=function(n){return new(n||i)(Xe(ni))}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac})}}return i})();var Oy=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){let n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Tp?e.headerCell.template:this instanceof Ry?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(n){return new(n||i)(k(tr),k(yu))}}static{this.\u0275dir=Ze({type:i,features:[Ai]})}}return i})(),Tp=(()=>{class i extends Oy{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,n,r){super(e,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(n){return new(n||i)(k(tr),k(yu),k(ds,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ye]},standalone:!0,features:[qt,ki,Ai]})}}return i})(),Ry=(()=>{class i extends Oy{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,n,r){super(e,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(n){return new(n||i)(k(tr),k(yu),k(ds,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ye]},standalone:!0,features:[qt,ki,Ai]})}}return i})(),c0=(()=>{class i extends Oy{constructor(e,n,r){super(e,n),this._table=r}static{this.\u0275fac=function(n){return new(n||i)(k(tr),k(yu),k(ds,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[ki]})}}return i})(),sd=(()=>{class i{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static{this.\u0275fac=function(n){return new(n||i)(k(Qr))}}static{this.\u0275dir=Ze({type:i,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return i})(),Ny=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=fe({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[ye],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&qn(0,0)},dependencies:[sd],encapsulation:2})}}return i})();var Fy=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=fe({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[ye],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&qn(0,0)},dependencies:[sd],encapsulation:2})}}return i})(),FM=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(n){return new(n||i)(k(tr))}}static{this.\u0275dir=Ze({type:i,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return i})(),PM=["top","bottom","left","right"],Py=class{constructor(t,e,n,r,a=!0,o=!0,s){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(d=>this._updateCachedSizes(d)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(t);let n=[];for(let r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let a=0;a<r.children.length;a++)n.push(r.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(let r of n)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,n,r=!0,a=!0){if(a&&this._updateStickyColumnReplayQueue({rows:[...t],stickyStartStates:[...e],stickyEndStates:[...n]}),!t.length||!this._isBrowser||!(e.some(o=>o)||n.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=t[0],s=o.children.length,d=this._getCellWidths(o,r),m=this._getStickyStartColumnPositions(d,e),h=this._getStickyEndColumnPositions(d,n),v=e.lastIndexOf(!0),_=n.indexOf(!0),g=this.direction==="rtl",D=g?"right":"left",E=g?"left":"right";for(let S of t)for(let w=0;w<s;w++){let O=S.children[w];e[w]&&this._addStickyStyle(O,D,m[w],w===v),n[w]&&this._addStickyStyle(O,E,h[w],w===_)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:v===-1?[]:d.slice(0,v+1).map((S,w)=>e[w]?S:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:_===-1?[]:d.slice(_).map((S,w)=>n[w+_]?S:null).reverse()}))})}stickRows(t,e,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=n==="bottom"?t.slice().reverse():t,a=n==="bottom"?e.slice().reverse():e,o=[],s=[],d=[];for(let h=0,v=0;h<r.length;h++){if(!a[h])continue;o[h]=v;let _=r[h];d[h]=this._isNativeHtmlTable?Array.from(_.children):[_];let g=this._retrieveElementSize(_).height;v+=g,s[h]=g}let m=a.lastIndexOf(!0);for(let h=0;h<r.length;h++){if(!a[h])continue;let v=o[h],_=h===m;for(let g of d[h])this._addStickyStyle(g,n,v,_)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:d})})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let n=t.querySelector("tfoot");n&&(e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(t,e){for(let r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);PM.some(r=>e.indexOf(r)===-1&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},n=0;for(let r of PM)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],r=t.children;for(let a=0;a<r.length;a++){let o=r[a];n.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){let n=[],r=0;for(let a=0;a<t.length;a++)e[a]&&(n[a]=r,r+=t[a]);return n}_getStickyEndColumnPositions(t,e){let n=[],r=0;for(let a=t.length;a>0;a--)e[a]&&(n[a]=r,r+=t[a]);return n}_retrieveElementSize(t){let e=this._elemSizeCache.get(t);if(e)return e;let n=t.getBoundingClientRect(),r={width:n.width,height:n.height};return this._resizeObserver&&(this._elemSizeCache.set(t,r),this._resizeObserver.observe(t,{box:"border-box"})),r}_updateStickyColumnReplayQueue(t){this._removeFromStickyColumnReplayQueue(t.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(t)}_removeFromStickyColumnReplayQueue(t){let e=new Set(t);for(let n of this._updatedStickyColumnsParamsToReplay)n.rows=n.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(n=>!!n.rows.length)}_updateCachedSizes(t){let e=!1;for(let n of t){let r=n.borderBoxSize?.length?{width:n.borderBoxSize[0].inlineSize,height:n.borderBoxSize[0].blockSize}:{width:n.contentRect.width,height:n.contentRect.height};r.width!==this._elemSizeCache.get(n.target)?.width&&FN(n.target)&&(e=!0),this._elemSizeCache.set(n.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let n of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(n.rows,n.stickyStartStates,n.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function FN(i){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(t=>i.classList.contains(t))}var o0=new yt("CDK_SPL");var Ly=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=Bt(ds);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(k(Qr),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["","rowOutlet",""]],standalone:!0})}}return i})(),jy=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=Bt(ds);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(k(Qr),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return i})(),By=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=Bt(ds);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(k(Qr),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return i})(),Vy=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=Bt(ds);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(k(Qr),k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return i})();var zy=(()=>{class i{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,n,r,a,o,s,d,m,h,v,_,g){this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=d,this._viewRepeater=m,this._coalescedStyleScheduler=h,this._viewportRuler=v,this._stickyPositioningListener=_,this._onDestroy=new vt,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ge,this.viewChange=new To({start:0,end:Number.MAX_VALUE}),this._injector=Bt(cr),a||r.nativeElement.setAttribute("role","table"),this._document=s,this._isServer=!d.isBrowser,this._isNativeHtmlTable=r.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Ut(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),fg(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,a,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===_5.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);a.context.$implicit=r.item.data}),this._updateNoDataRow(),Vr(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=TM(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=TM(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,o)=>{this._addStickyColumnStyles([a],this._headerRowDefs[o])}),this._rowDefs.forEach(a=>{let o=[];for(let s=0;s<n.length;s++)this._renderRows[s].rowDef===a&&o.push(n[s]);this._addStickyColumnStyles(o,a)}),r.forEach((a,o)=>{this._addStickyColumnStyles([a],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let a=this._data[r],o=this._getRenderRowsForData(a,r,n.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let s=0;s<o.length;s++){let d=o[s],m=this._cachedRenderRowsMap.get(d.data);m.has(d.rowDef)?m.get(d.rowDef).push(d):m.set(d.rowDef,[d]),e.push(d)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(o=>{let s=r&&r.has(o)?r.get(o):[];if(s.length){let d=s.shift();return d.dataIndex=n,d}else return{data:e,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),i0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=i0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=i0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=i0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(n=>!n.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(o,s)=>{let d=!!s.getColumnsDiff();return o||d},n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),n||r||a}_switchDataSource(e){this._data=[],fg(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;fg(this.dataSource)?e=this.dataSource.connect(this):sS(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=wt(this.dataSource)),this._renderChangeSubscription=e.pipe(Ut(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){let r=Array.from(n.columns||[]).map(s=>{let d=this._columnDefsByName.get(s);return d}),a=r.map(s=>s.sticky),o=r.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let n=[];for(let r=0;r<e.viewContainer.length;r++){let a=e.viewContainer.get(r);n.push(a.rootNodes[0])}return n}_getRowDefs(e,n){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(n,e));else{let a=this._rowDefs.find(o=>o.when&&o.when(n,e))||this._defaultRowDef;a&&r.push(a)}return r.length,r}_getEmbeddedViewArgs(e,n){let r=e.rowDef,a={$implicit:e.data};return{templateRef:r.template,context:a,index:n}}_renderRow(e,n,r,a={}){let o=e.viewContainer.createEmbeddedView(n.template,a,r);return this._renderCellTemplateForItem(n,a),o}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))sd.mostRecentCellOutlet&&sd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){let o=e.get(n).context;o.count=r,o.first=n===0,o.last=n===r-1,o.even=n%2===0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,n=>{let r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new Py(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:wt()).pipe(Ut(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let n=this._rowOutlet.viewContainer.length===0;if(n===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(n){let a=r.createEmbeddedView(e.templateRef),o=a.rootNodes[0];a.rootNodes.length===1&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(n){return new(n||i)(k(yu),k(xt),k(_t),oa("role"),k(Sr,8),k(Bn),k(mr),k(kp),k(a0),k(os),k(o0,12),k(ni,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,a){if(n&1&&(bt(a,FM,5),bt(a,Wu,5),bt(a,c0,5),bt(a,Tp,5),bt(a,Ry,5)),n&2){let o;be(o=ve())&&(r._noDataRow=o.first),be(o=ve())&&(r._contentColumnDefs=o),be(o=ve())&&(r._contentRowDefs=o),be(o=ve())&&(r._contentHeaderRowDefs=o),be(o=ve())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ye],fixedLayout:[2,"fixedLayout","fixedLayout",Ye]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[ft([{provide:ds,useExisting:i},{provide:kp,useClass:gg},{provide:a0,useClass:Ty},{provide:o0,useValue:null}]),qt,ye],ngContentSelectors:TN,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(Xt(PN),rt(0),rt(1,1),I(2,ON,1,0)(3,RN,7,0)(4,NN,4,0)),n&2&&(b(2),Tt(r._isServer?2:-1),b(),Tt(r._isNativeHtmlTable?3:4))},dependencies:[jy,Ly,Vy,By],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return i})();function i0(i,t){return i.concat(Array.from(t))}function TM(i,t){let e=t.toUpperCase(),n=i.viewContainer.element.nativeElement;for(;n;){let r=n.nodeType===1?n.nodeName:null;if(r===e)return n;if(r==="TABLE")break;n=n.parentNode}return null}var LM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[x5]})}}return i})();var LN=[[["caption"]],[["colgroup"],["col"]],"*"],jN=["caption","colgroup, col","*"];function BN(i,t){i&1&&rt(0,2)}function VN(i,t){i&1&&(l(0,"thead",0),qn(1,1),c(),l(2,"tbody",2),qn(3,3)(4,4),c(),l(5,"tfoot",0),qn(6,5),c())}function zN(i,t){i&1&&qn(0,1)(1,3)(2,4)(3,5)}var Ea=(()=>{class i extends zy{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275cmp=fe({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[ft([{provide:zy,useExisting:i},{provide:ds,useExisting:i},{provide:a0,useClass:Ty},{provide:kp,useClass:gg},{provide:o0,useValue:null}]),ki,ye],ngContentSelectors:jN,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(Xt(LN),rt(0),rt(1,1),I(2,BN,1,0)(3,VN,7,0)(4,zN,4,0)),n&2&&(b(2),Tt(r._isServer?2:-1),b(),Tt(r._isNativeHtmlTable?3:4))},dependencies:[jy,Ly,Vy,By],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return i})(),Aa=(()=>{class i extends s0{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["","matCellDef",""]],standalone:!0,features:[ft([{provide:s0,useExisting:i}]),ki]})}}return i})(),Ia=(()=>{class i extends l0{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[ft([{provide:l0,useExisting:i}]),ki]})}}return i})();var Pa=(()=>{class i extends Wu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[ft([{provide:Wu,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),ki]})}}return i})(),Ta=(()=>{class i extends RM{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[ki]})}}return i})();var Oa=(()=>{class i extends NM{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[ki]})}}return i})();var Ra=(()=>{class i extends Tp{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ye]},standalone:!0,features:[ft([{provide:Tp,useExisting:i}]),qt,ki]})}}return i})();var Na=(()=>{class i extends c0{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[ft([{provide:c0,useExisting:i}]),ki]})}}return i})(),Fa=(()=>{class i extends Ny{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275cmp=fe({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[ft([{provide:Ny,useExisting:i}]),ki,ye],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&qn(0,0)},dependencies:[sd],encapsulation:2})}}return i})();var La=(()=>{class i extends Fy{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275cmp=fe({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[ft([{provide:Fy,useExisting:i}]),ki,ye],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&qn(0,0)},dependencies:[sd],encapsulation:2})}}return i})();var ea=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,LM,$t]})}}return i})(),HN=9007199254740991,ca=class extends v5{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new To([]),this._filter=new To(""),this._internalPageChanges=new vt,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,n)=>{let r=e[n];if(e5(r)){let a=Number(r);return a<HN?a:r}return r},this.sortData=(e,n)=>{let r=n.active,a=n.direction;return!r||a==""?e:e.sort((o,s)=>{let d=this.sortingDataAccessor(o,r),m=this.sortingDataAccessor(s,r),h=typeof d,v=typeof m;h!==v&&(h==="number"&&(d+=""),v==="number"&&(m+=""));let _=0;return d!=null&&m!=null?d>m?_=1:d<m&&(_=-1):d!=null?_=1:m!=null&&(_=-1),_*(a=="asc"?1:-1)})},this.filterPredicate=(e,n)=>{let r=Object.keys(e).reduce((o,s)=>o+e[s]+"\u25EC","").toLowerCase(),a=n.trim().toLowerCase();return r.indexOf(a)!=-1},this._data=new To(t),this._updateChangeSubscription()}_updateChangeSubscription(){let t=this._sort?Ni(this._sort.sortChange,this._sort.initialized):wt(null),e=this._paginator?Ni(this._paginator.page,this._internalPageChanges,this._paginator.initialized):wt(null),n=this._data,r=cc([n,this._filter]).pipe(bi(([s])=>this._filterData(s))),a=cc([r,t]).pipe(bi(([s])=>this._orderData(s))),o=cc([a,e]).pipe(bi(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(s=>this._renderData.next(s))}_filterData(t){return this.filteredData=this.filter==null||this.filter===""?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;let e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){let n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};function UN(i,t){if(i&1){let e=ge();l(0,"mat-form-field",5)(1,"textarea",6),jn("ngModelChange",function(r){q(e);let a=P();return Ln(a.reason,r)||(a.reason=r),W(r)}),c()()}if(i&2){let e=P();b(),Fn("ngModel",e.reason)}}var Tl=class i{constructor(t,e){this.dialogRef=t;this.data=e}reason="";onConfirm(){this.dialogRef.close(this.data.input?this.reason:!0)}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||i)(k(Kn),k(Ca))};static \u0275cmp=fe({type:i,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[ye],decls:11,vars:3,consts:[["mat-dialog-title",""],["class","full-width",4,"ngIf"],["align","end"],["mat-button","",1,"dialog-btn","return-btn",3,"click"],["mat-button","",1,"dialog-btn","confirm-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Reason",3,"ngModelChange","ngModel"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1),c(),l(2,"mat-dialog-content")(3,"p"),u(4),c(),I(5,UN,2,1,"mat-form-field",1),c(),l(6,"mat-dialog-actions",2)(7,"button",3),z("click",function(){return n.onCancel()}),u(8,"Cancel"),c(),l(9,"button",4),z("click",function(){return n.onConfirm()}),u(10,"Confirm"),c()()),e&2&&(b(),xe(n.data.title),b(3),xe(n.data.message),b(),C("ngIf",n.data.input))},dependencies:[Dt,Pt,li,Zi,tn,en,zt,Nt,vi,hn,Vi,gr,wn,xn,pi,xa],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.return-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.return-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.confirm-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.full-width[_ngcontent-%COMP%]{width:100%}"]})};var Gs=St.BACKEND_URL+"/Notes",$s=class i{constructor(t,e){this.httpClient=t;this.snackBar=e}saveNote(t,e,n,r,a,o){let s=new FormData;return s.append("JobId",t),s.append("UserIds",e),s.append("JobSubtaskId",n),s.append("NoteText",r),s.append("CreatedByUserId",a||""),s.append("SessionId",o),this.httpClient.post(Gs+"/SaveSubtaskNote",s).pipe(aa(()=>{this.snackBar.open("Note saved successfully!","Close",{duration:3e3,panelClass:["custom-snackbar"]})}),It(d=>(this.snackBar.open("Failed to save note. Try again.","Close",{duration:4e3,panelClass:["custom-snackbar"]}),wt(d))))}approveNote(t,e){let n=new FormData;return n.append("Id",t.id.toString()),n.append("JobId",t.jobId.toString()),n.append("JobSubtaskId",t.jobSubtaskId.toString()),n.append("NoteText",`Approved: ${e}`),n.append("CreatedByUserId",t.createdByUserId),n.append("Approved","true"),n.append("Rejected","false"),this.httpClient.post(`${Gs}/UpdateNoteStatus`,n).pipe(aa(()=>{this.snackBar.open("Note approved successfully!","Close",{duration:3e3,panelClass:["custom-snackbar"]})}),It(r=>(this.snackBar.open("Failed to approve note. Please try again.","Close",{duration:3e3,panelClass:["custom-snackbar"]}),wt(r))))}rejectNote(t,e){let n=new FormData;return n.append("Id",t.id.toString()),n.append("JobId",t.jobId.toString()),n.append("JobSubtaskId",t.jobSubtaskId.toString()),n.append("NoteText",`Rejected: ${e}`),n.append("CreatedByUserId",t.createdByUserId),n.append("Approved","false"),n.append("Rejected","true"),this.httpClient.post(`${Gs}/UpdateNoteStatus`,n).pipe(aa(()=>{this.snackBar.open("Note rejected successfully!","Close",{duration:3e3,panelClass:["custom-snackbar"]})}),It(r=>(this.snackBar.open("Failed to reject note. Please try again.","Close",{duration:3e3,panelClass:["custom-snackbar"]}),wt(r))))}getNotesByUserId(t){return this.httpClient.get(`${Gs}/GetNotesByUserId/${t}`).pipe(It(e=>(this.snackBar.open("Failed to fetch notes.","Close",{duration:3e3}),wt([]))))}getNotesForAssignedJobs(t){return this.httpClient.get(`${Gs}/notes/assigned/${t}`).pipe(It(e=>(this.snackBar.open("Failed to fetch assigned notes.","Close",{duration:3e3}),wt([]))))}getArchivedNotes(t){return this.httpClient.get(`${Gs}/notes/archived/${t}`).pipe(It(e=>(this.snackBar.open("Failed to fetch archived notes.","Close",{duration:3e3}),wt([]))))}getArchivedNotesForAssignedJobs(t){return this.httpClient.get(`${Gs}/notes/archived/assigned/${t}`).pipe(It(e=>(this.snackBar.open("Failed to fetch assigned archived notes.","Close",{duration:3e3}),wt([]))))}archiveNote(t){return this.httpClient.post(`${Gs}/notes/${t}/archive`,{}).pipe(aa(()=>{this.snackBar.open("Note archived successfully!","Close",{duration:3e3})}),It(e=>(this.snackBar.open("Failed to archive note. Please try again.","Close",{duration:3e3}),wt(e))))}downloadNoteDocument(t){return this.httpClient.get(`${Gs}/downloadNote/${t}`,{responseType:"blob"})}getNoteDocuments(t){return this.httpClient.get(`${Gs}/GetNoteDocuments/${t}`)}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(Hn))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var qN=`${St.BACKEND_URL}/Account`,zo=class i{constructor(t){this.httpClient=t}getUserById(t){return this.httpClient.get(`${qN}/byUserId/${t}`).pipe(bi(e=>e[0]))}getUserQuotes(){}getUserBids(){}getUserProjects(t){}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};function WN(i,t){if(i&1&&(l(0,"div",9)(1,"div",10)(2,"div",11),u(3),dt(4,"date"),l(5,"strong"),u(6),c(),u(7),c()()()),i&2){let e=t.$implicit,n=P();b(3),Ce(" ",yn(4,3,e.createdAt,"short")," - "),b(3),xe(n.getUserName(e.createdByUserId)),b(),Ce(": ",e.noteText," ")}}function GN(i,t){if(i&1&&(l(0,"p")(1,"strong"),u(2,"Rejection Reason:"),c(),u(3),c()),i&2){let e=P();b(3),Ce(" ",e.data.notes[0].rejectionReason,"")}}function $N(i,t){if(i&1){let e=ge();l(0,"button",8),z("click",function(){q(e);let r=P();return W(r.startApproval(r.data.notes[0]))}),u(1,"Approve"),c()}}function YN(i,t){if(i&1){let e=ge();l(0,"button",8),z("click",function(){q(e);let r=P();return W(r.rejectNote(r.data.notes[0]))}),u(1,"Reject"),c()}}function QN(i,t){if(i&1){let e=ge();l(0,"button",8),z("click",function(){q(e);let r=P();return W(r.archiveNote(r.data.notes[0]))}),u(1,"Archive"),c()}}var Gu=class i{constructor(t,e,n,r,a,o){this.dialogRef=t;this.data=e;this.noteService=n;this.userService=r;this.dialog=a;this.authService=o}ngOnInit(){}getUserName(t){return this.data.userNames.get(t)||"Loading..."}getStatus(t){return t.archived?"Archived":t.approved?"Approved":t.rejected?"Rejected":"Pending"}startApproval(t){console.log("Note object in startApproval:",t),this.dialog.open(Tl,{width:"400px",data:{title:"Approve Note",message:"Please enter the reason for approval:",input:!0}}).afterClosed().subscribe(n=>{if(n){let r=Ti(Ct({},t),{jobId:this.data.jobId,jobSubtaskId:this.data.jobSubtaskId});this.noteService.approveNote(r,n).subscribe(()=>{this.dialogRef.close(!0)})}})}rejectNote(t){this.dialog.open(Tl,{width:"400px",data:{title:"Reject Note",message:"Please enter the reason for rejection:",input:!0}}).afterClosed().subscribe(n=>{if(n){let r=Ti(Ct({},t),{jobId:this.data.jobId,jobSubtaskId:this.data.jobSubtaskId});this.noteService.rejectNote(r,n).subscribe(()=>{this.dialogRef.close(!0)})}})}archiveNote(t){this.noteService.archiveNote(t.id).subscribe(()=>{this.dialogRef.close(!0)})}openDocumentsDialog(t){}Close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(k(Kn),k(Ca),k($s),k(zo),k(pn),k(hi))};static \u0275cmp=fe({type:i,selectors:[["app-note-detail-dialog"]],standalone:!0,features:[ye],decls:36,vars:13,consts:[[1,"note-detail-dialog"],["mat-dialog-title",""],[3,"ngClass"],[1,"chat-box-inside-dialog"],["class","chat-message",4,"ngFor","ngForOf"],[4,"ngIf"],["align","end",1,"dialog-action-buttons"],["mat-raised-button","","class","submit-btn delete-btn",3,"click",4,"ngIf"],["mat-raised-button","",1,"submit-btn","delete-btn",3,"click"],[1,"chat-message"],[1,"chat-bubble"],[1,"note-text"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"h2",1),u(2,"Note Details"),c(),l(3,"mat-dialog-content")(4,"p")(5,"strong"),u(6,"Project:"),c(),u(7),c(),l(8,"p")(9,"strong"),u(10,"Subtask:"),c(),u(11),c(),l(12,"p")(13,"strong"),u(14,"Created:"),c(),u(15),dt(16,"date"),c(),l(17,"p")(18,"strong"),u(19,"Status:"),c(),l(20,"span",2),u(21),c()(),l(22,"p")(23,"strong"),u(24,"Messages:"),c()(),l(25,"div",3),I(26,WN,8,6,"div",4),c(),I(27,GN,4,1,"p",5),c(),l(28,"mat-dialog-actions",6),I(29,$N,2,0,"button",7)(30,YN,2,0,"button",7)(31,QN,2,0,"button",7),l(32,"button",8),z("click",function(){return n.openDocumentsDialog(n.data)}),u(33,"View Image"),c(),l(34,"button",8),z("click",function(){return n.Close()}),u(35,"Close"),c()()()),e&2&&(b(7),Ce(" ",n.data.projectName,""),b(4),Ce(" ",n.data.subtaskName,""),b(4),Ce(" ",yn(16,10,n.data.createdAt,"medium"),""),b(5),C("ngClass","status-"+n.getStatus(n.data.notes[0]).toLowerCase()),b(),Ce(" ",n.getStatus(n.data.notes[0])," "),b(5),C("ngForOf",n.data.notes),b(),C("ngIf",n.data.notes[0].rejectionReason),b(2),C("ngIf",n.authService.hasPermission("manageSubtaskNotes")&&!n.data.isArchived),b(),C("ngIf",n.authService.hasPermission("manageSubtaskNotes")&&!n.data.isArchived),b(),C("ngIf",(n.data.notes[0].approved||n.data.notes[0].rejected)&&n.authService.hasPermission("manageSubtaskNotes")&&!n.data.isArchived))},dependencies:[Dt,Nr,Ji,Pt,Gi,zt,Nt,li,Zi,tn,en,vi,Vi,wn],styles:[".note-detail-dialog[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.note-detail-dialog[_ngcontent-%COMP%]   .chat-box-inside-dialog[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #ccc;padding:10px;margin-bottom:15px}.note-detail-dialog[_ngcontent-%COMP%]   .dialog-action-buttons[_ngcontent-%COMP%]{justify-content:flex-end;gap:8px}.note-detail-dialog[_ngcontent-%COMP%]   .dialog-action-buttons[_ngcontent-%COMP%]   .submit-btn.delete-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333;border-radius:6px;padding:4px 12px;font-size:.85rem;font-weight:500;margin:0;line-height:1.5}.note-detail-dialog[_ngcontent-%COMP%]   .dialog-action-buttons[_ngcontent-%COMP%]   .submit-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.note-detail-dialog[_ngcontent-%COMP%]   .status-approved[_ngcontent-%COMP%]{color:green;font-weight:700}.note-detail-dialog[_ngcontent-%COMP%]   .status-rejected[_ngcontent-%COMP%]{color:red;font-weight:700}.note-detail-dialog[_ngcontent-%COMP%]   .status-archived[_ngcontent-%COMP%], .note-detail-dialog[_ngcontent-%COMP%]   .status-pending[_ngcontent-%COMP%]{color:gray;font-weight:700}"]})};var JN=`${St.BACKEND_URL}/Account/login`,u0=class i{constructor(t){this.httpClient=t}userType="";userId="";userFirstName="";userToken="";login(t){return this.httpClient.post(JN,t)}setUserType(t){this.userType=t}setUserId(t){this.userId=t}setFirstName(t){this.userFirstName=t}setToken(t){this.userToken=t}getUserType(){return this.userType}getUserId(){return this.userId}getFirstName(){return this.userFirstName}getToken(){return this.userToken}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var XN=["documentsDialog"],ZN=["approvalReasonDialog"],eF=(i,t,e,n)=>({"status-archived":i,"status-approved":t,"status-rejected":e,"status-pending":n});function tF(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function iF(i,t){if(i&1&&(l(0,"mat-option",17),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),xe(e.inviterName)}}function nF(i,t){if(i&1){let e=ge();l(0,"div")(1,"mat-form-field")(2,"mat-label"),u(3,"Select Team"),c(),l(4,"mat-select",15),jn("ngModelChange",function(r){q(e);let a=P();return Ln(a.selectedTeam,r)||(a.selectedTeam=r),W(r)}),I(5,iF,2,2,"mat-option",16),c()()()}if(i&2){let e=P();b(4),Fn("ngModel",e.selectedTeam),b(),C("ngForOf",e.teams)}}function rF(i,t){if(i&1&&(l(0,"p"),u(1),c()),i&2){let e=P();b(),Ce(" As a ",e.userType,", manage your construction projects efficiently with our comprehensive tools. Track progress, create job quotes, and stay organized all in one place. ")}}function aF(i,t){i&1&&(l(0,"p"),u(1," Welcome to ProBuildAI! Explore our tools to streamline your project management needs. "),c())}function oF(i,t){i&1&&(l(0,"div")(1,"p"),u(2,"No notes assigned to you yet."),c()())}function sF(i,t){if(i&1){let e=ge();l(0,"tr")(1,"td",18),u(2),c(),l(3,"td",18),u(4),c(),l(5,"td",18),u(6),dt(7,"date"),c(),l(8,"td",18)(9,"span",19),u(10),c()(),l(11,"td")(12,"button",20),z("click",function(){let r=q(e).$implicit,a=P();return W(a.openNoteDialog(r))}),u(13),c()()()}if(i&2){let e=t.$implicit,n=P();b(2),xe(e.projectName),b(2),Ce(" ",e.subtaskName," "),b(2),xe(yn(7,7,e.createdAt,"short")),b(3),C("ngClass",_u(10,eF,e.status==="Archived",e.status==="Approved",e.status==="Rejected",e.status==="Pending")),b(),Ce(" ",e.status," "),b(2),C("disabled",n.openingNoteId===e.notes[0].id),b(),Ce(" ",n.openingNoteId===e.notes[0].id?"Viewing...":"View"," ")}}function lF(i,t){i&1&&(l(0,"div")(1,"p"),u(2,"Loading jobs..."),c()())}function cF(i,t){i&1&&(l(0,"div")(1,"p"),u(2,"No jobs assigned to you yet."),c()())}function dF(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Project"),c())}function uF(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.projectName)}}function mF(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Created"),c())}function pF(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),xe(yn(2,1,e.createdAt,"shortDate"))}}function hF(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Progress"),c())}function fF(i,t){if(i&1&&(l(0,"mat-cell")(1,"div",31),F(2,"div",32),c(),l(3,"span",33),u(4),c()()),i&2){let e=t.$implicit;b(2),Qn("width",e.progress,"%"),b(2),Ce("",e.progress,"%")}}function gF(i,t){i&1&&F(0,"mat-header-cell")}function bF(i,t){if(i&1){let e=ge();l(0,"mat-cell")(1,"button",34)(2,"mat-icon"),u(3,"more_vert"),c()(),l(4,"mat-menu",null,2)(6,"button",35),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.loadJob(r.id))}),u(7,"View Job"),c(),l(8,"button",36),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.archiveJob(r.id))}),u(9," Archive Job "),c()()()}if(i&2){let e=t.$implicit,n=Vt(5);b(),C("matMenuTriggerFor",n),b(7),C("disabled",e.progress!==100)}}function vF(i,t){i&1&&F(0,"mat-header-row")}function _F(i,t){i&1&&F(0,"mat-row")}function yF(i,t){if(i&1&&(l(0,"div",21)(1,"mat-table",22),Je(2,23),I(3,dF,2,0,"mat-header-cell",24)(4,uF,2,1,"mat-cell",25),Ke(),Je(5,26),I(6,mF,2,0,"mat-header-cell",24)(7,pF,3,4,"mat-cell",25),Ke(),Je(8,27),I(9,hF,2,0,"mat-header-cell",24)(10,fF,5,3,"mat-cell",25),Ke(),Je(11,28),I(12,gF,1,0,"mat-header-cell",24)(13,bF,10,2,"mat-cell",25),Ke(),I(14,vF,1,0,"mat-header-row",29)(15,_F,1,0,"mat-row",30),c()()),i&2){let e=P();b(),C("dataSource",e.userJobs),b(13),C("matHeaderRowDef",e.jobDisplayedColumns),b(),C("matRowDefColumns",e.jobDisplayedColumns)}}function xF(i,t){i&1&&(l(0,"div",41),F(1,"app-loader"),l(2,"p"),u(3,"Loading documents..."),c()())}function CF(i,t){i&1&&(l(0,"div",44)(1,"p"),u(2,"No documents available for this quote."),c()())}function wF(i,t){if(i&1&&(l(0,"div",44)(1,"p"),u(2),c()()),i&2){let e=P(3);b(2),xe(e.documentsError)}}function SF(i,t){if(i&1){let e=ge();l(0,"div",47)(1,"div",48)(2,"span",49),u(3),c(),l(4,"span",50),u(5),dt(6,"filesize"),c()(),l(7,"button",51),z("click",function(){let r=q(e).$implicit,a=P(4);return W(a.viewDocument(r))}),u(8," View "),c()()}if(i&2){let e=t.$implicit;b(3),xe(e.name),b(2),ir("",e.type," - ",Wt(6,3,e.size),"")}}function MF(i,t){if(i&1&&(l(0,"div",45),I(1,SF,9,5,"div",46),c()),i&2){let e=P(3);b(),C("ngForOf",e.documents)}}function kF(i,t){if(i&1&&(l(0,"div"),I(1,CF,3,0,"div",42)(2,wF,3,1,"div",42)(3,MF,2,1,"div",43),c()),i&2){let e=P(2);b(),C("ngIf",e.documents.length===0&&!e.documentsError),b(),C("ngIf",e.documentsError),b(),C("ngIf",e.documents.length>0)}}function DF(i,t){if(i&1){let e=ge();l(0,"div",37)(1,"h2",38),u(2,"Quote Documents"),c(),l(3,"mat-dialog-content"),I(4,xF,4,0,"div",39)(5,kF,4,3,"div",3),c(),l(6,"mat-dialog-actions")(7,"button",40),z("click",function(){q(e);let r=P();return W(r.closeDocumentsDialog())}),u(8,"Close"),c()()()}if(i&2){let e=P();b(4),C("ngIf",e.isDocumentsLoading),b(),C("ngIf",!e.isDocumentsLoading)}}function EF(i,t){if(i&1){let e=ge();l(0,"div",52)(1,"h2",38),u(2,"Approval Reason"),c(),l(3,"mat-dialog-content")(4,"div",53),z("input",function(r){q(e);let a=P();return W(a.onApprovalReasonChanged(r))}),c()(),l(5,"mat-dialog-actions",54)(6,"button",55),z("click",function(){q(e);let r=P();return W(r.submitApproval())}),u(7,"Submit"),c(),l(8,"button",56),z("click",function(){q(e);let r=P();return W(r.cancelApproval())}),u(9,"Cancel"),c()()()}}var voe=St.BACKEND_URL,m0=class i{constructor(t,e,n,r,a,o,s,d,m,h,v,_,g){this.loginService=t;this.datePipe=e;this.router=n;this.dialog=r;this.jobService=a;this.jobsService=o;this.snackBar=s;this.jobDataService=d;this.authService=m;this.teamManagementService=h;this.noteService=v;this.userService=_;this.platformId=g;this.isBrowser=sa(this.platformId)}documentsDialog;approvalReasonDialog;userType="";isSubContractor=!1;userJobs=[];jobDisplayedColumns=["project","created","progress","actions"];jobsLoading=!1;isLoading=!1;documentDialogRef=null;projectDetails;isApprovalMode=!1;approvalReason="";groupedNotes={};approvalReasonDialogRef=null;isBrowser;showApprovalInput=!1;noteBeingApproved=null;alertMessage="";showAlert=!1;documents=[];isDocumentsLoading=!1;documentsError=null;notes=[];openingNoteId=null;taskData=[{id:"1",name:"Roof Structure",start:new Date(2025,2,1),end:new Date(2025,2,15),progress:0,dependencies:null},{id:"2",name:"Foundation",start:new Date(2025,1,1),end:new Date(2025,1,20),progress:20,dependencies:null},{id:"3",name:"Wall Structure",start:new Date(2025,1,21),end:new Date(2025,2,10),progress:0,dependencies:"2"}];teams=[];selectedTeam=null;onViewNote(t){}getNoteStatus(t){if(!t.notes||t.notes.length===0)return"Pending";let e=t.notes[t.notes.length-1];return e.approved?"Approved":e.rejected?"Rejected":e.archived?"Archived":"Pending"}ngOnInit(){this.isLoading=!0,this.userType=this.loginService.getUserType(),this.authService.isTeamMember()&&this.teamManagementService.getMyTeams().subscribe(t=>{this.teams=t,t&&t.length>0&&(this.selectedTeam=t[0])}),cc([this.authService.currentUser$,this.authService.userPermissions$]).pipe(ii(([t,e])=>!!t&&!!t.id),Fi(([t,e])=>{let n=!!t.inviterId;return n&&e.includes("manageSubtaskNotes")?this.noteService.getNotesForAssignedJobs(t.id):n?wt([]):this.noteService.getNotesByUserId(t.id)})).subscribe({next:t=>{this.notes=t.map(e=>Ti(Ct({},e),{status:this.getNoteStatus(e)})),this.groupedNotes=this.groupNotesBySubtask(this.notes),this.isLoading=!1},error:t=>{this.isLoading=!1}}),this.loadUserJobs(),this.isSubContractor=this.userType==="SUBCONTRACTOR"||this.userType==="CONSTRUCTION",setTimeout(()=>{this.isLoading=!1},1e3)}closeDocumentsDialog(){this.documentDialogRef&&(this.documentDialogRef.close(),this.documentDialogRef=null)}openNoteDialog(t){this.openingNoteId=t.notes[0].id;let e=[...new Set(t.notes.map(r=>r.createdByUserId))].filter(r=>!!r);if(e.length===0){this.openDialogWithUserNames(t,new Map);return}let n=e.map(r=>this.userService.getUserById(r));pu(n).subscribe(r=>{let a=new Map;r.forEach(o=>{o&&a.set(o.id,`${o.firstName} ${o.lastName}`)}),this.openDialogWithUserNames(t,a)})}openDialogWithUserNames(t,e){this.dialog.open(Gu,{width:"80vw",maxWidth:"900px",maxHeight:"100vh",panelClass:"custom-dialog-container",data:Ti(Ct({},t),{userNames:e})}).afterClosed().subscribe(r=>{this.openingNoteId=null,r===!0&&this.refreshNotes()})}loadJob(t){this.jobDataService.navigateToJob({jobId:t},"MM/dd/yyyy")}onApprovalReasonChanged(t){this.approvalReason=t.target.innerText.trim()}submitApproval(){if(!this.approvalReason.trim()){alert("Please enter an approval reason.");return}let t=new FormData;t.append("jobSubtaskId",this.noteBeingApproved.jobSubtaskId.toString()),t.append("Approved","true"),t.append("Rejected","false"),t.append("JobId",this.noteBeingApproved.jobId),t.append("NoteText",this.approvalReason),t.append("CreatedByUserId",localStorage.getItem("userId")||""),this.noteService.approveNote(this.noteBeingApproved,this.approvalReason).subscribe({next:()=>{this.snackBar.open("Note saved successfully!","Close",{duration:3e3,panelClass:["custom-snackbar"]}),this.approvalReasonDialogRef?.close(),this.dialog.closeAll(),this.resetApproval()},error:e=>{this.snackBar.open("Failed to save note. Try again.","Close",{duration:4e3,panelClass:["custom-snackbar"]})}})}cancelApproval(){this.approvalReasonDialogRef?.close(),this.resetApproval()}groupNotesBySubtask(t){let e={};return t.forEach(n=>{let r=n.jobSubtaskId;e[r]||(e[r]=[]),e[r].push(n)}),e}refreshNotes(){this.isLoading=!0,this.authService.currentUser$.pipe(ii(t=>!!t),Mi(1),Fi(t=>t.inviterId&&this.authService.hasPermission("14")?this.noteService.getNotesForAssignedJobs(t.id):t.inviterId?wt([]):this.noteService.getNotesByUserId(t.id))).subscribe({next:t=>{this.notes=t,this.groupedNotes=this.groupNotesBySubtask(t),this.isLoading=!1},error:t=>{this.isLoading=!1}})}isMine(t){let e=localStorage.getItem("userId");return t.createdByUserId?.toString()===e}groupedSubtaskIds(){return Object.keys(this.groupedNotes)}resetApproval(){this.showApprovalInput=!1,this.noteBeingApproved=null,this.approvalReason=""}calculateJobProgress(t){let e=t.filter(r=>r.status?.toLowerCase()==="completed").reduce((r,a)=>r+a.days,0),n=t.reduce((r,a)=>r+a.days,0);return n>0?Math.round(e/n*100):0}loadUserJobs(){this.jobsLoading=!0;let t=this.authService.isTeamMember();this.authService.currentUser$.pipe(ii(e=>!!e),Mi(1),Fi(e=>t?this.jobService.getAssignedJobsForTeamMember(e.id):this.jobService.getAllJobsByUserId(e.id))).subscribe({next:e=>{if(!e){this.userJobs=[],this.jobsLoading=!1;return}let n=new Map;e.filter(s=>s.status!=="ARCHIVED").forEach(s=>{n.has(s.projectName)||n.set(s.projectName,s)});let a=Array.from(n.values());if(a.length===0){this.userJobs=[],this.jobsLoading=!1;return}let o=a.map(s=>this.jobsService.getJobSubtasks(s.id).toPromise().then(d=>{let m=this.calculateJobProgress(d||[]);return{id:s.id,projectName:s.projectName,createdAt:s.desiredStartDate,progress:m}}).catch(d=>({id:s.id,projectName:s.projectName,createdAt:s.createdAt,progress:0})));Promise.all(o).then(s=>{this.userJobs=s.sort((d,m)=>m.progress-d.progress),this.jobsLoading=!1})},error:e=>{this.userJobs=[],this.jobsLoading=!1}})}archiveJob(t){this.jobService.archiveJob(t).subscribe({next:()=>{this.snackBar.open("Job archived successfully!","Close",{duration:3e3}),this.loadUserJobs()},error:()=>{this.snackBar.open("Failed to archive job.","Close",{duration:3e3})}})}startApproval(t){this.noteBeingApproved=t,this.approvalReason="",this.approvalReasonDialogRef=this.dialog.open(this.approvalReasonDialog,{width:"80vw",maxWidth:"900px",maxHeight:"100vh",autoFocus:!0,panelClass:"custom-dialog-container",data:{approvalReason:""}})}getFileType(t){switch(t.split(".").pop()?.toLowerCase()){case"pdf":return"application/pdf";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";default:return"application/octet-stream"}}fetchDocuments(t){this.isDocumentsLoading=!0,this.documentsError=null,this.documents=[],this.noteService.getNoteDocuments(t).subscribe({next:e=>{if(!e||e.length===0){this.documentsError="No documents found for this note.",this.isDocumentsLoading=!1;return}this.documents=e.map(n=>({id:n.id,name:n.fileName,type:this.getFileType(n.fileName),size:n.size,url:n.fileUrl})),this.isDocumentsLoading=!1},error:e=>{this.documentsError=e.error?.message,this.isDocumentsLoading=!1}})}openDocumentsDialog(t){let e=document.activeElement;this.fetchDocuments(t.jobSubtaskId),this.documentDialogRef=this.dialog.open(this.documentsDialog,{width:"500px",maxHeight:"80vh",autoFocus:!0}),this.documentDialogRef.afterClosed().subscribe(()=>{e&&e.focus()})}rejectNote(t){let e=new FormData;e.append("Id",t.id.toString()),e.append("Approved","false"),e.append("jobSubtaskId",t.jobSubtaskId.toString()),e.append("Rejected","true"),this.noteService.rejectNote(t,"").subscribe({next:()=>{this.dialog.closeAll()},error:n=>{}})}viewDocument(t){this.noteService.downloadNoteDocument(t.id).subscribe({next:e=>{let n=new Blob([e],{type:t.type}),r=window.URL.createObjectURL(n);window.open(r,"_blank")||(this.alertMessage="Failed to open document. Please allow pop-ups for this site.",this.showAlert=!0),setTimeout(()=>window.URL.revokeObjectURL(r),1e4)},error:e=>{this.alertMessage="Failed to view document.",this.showAlert=!0}})}Close(){this.dialog.closeAll()}navigateToProjects(){this.router.navigateByUrl("/projects")}navigateToJobs(){this.router.navigateByUrl("job-quote")}static \u0275fac=function(e){return new(e||i)(k(u0),k(Gi),k(Ii),k(pn),k(An),k(An),k(Hn),k(Vs),k(hi),k(bc),k($s),k(zo),k(va))};static \u0275cmp=fe({type:i,selectors:[["app-new-user-dashboard"]],viewQuery:function(e,n){if(e&1&&(Ue(XN,5),Ue(ZN,5)),e&2){let r;be(r=ve())&&(n.documentsDialog=r.first),be(r=ve())&&(n.approvalReasonDialog=r.first)}},standalone:!0,features:[ft([ku(),Gi]),ye],decls:54,vars:9,consts:[["documentsDialog",""],["approvalReasonDialog",""],["menu","matMenu"],[4,"ngIf"],[1,"container"],[1,"row"],[1,"column"],[1,"action-buttons"],["mat-raised-button","",1,"submit-btn","delete-btn",3,"click"],[1,"mat-card-custom"],[1,"action-points-wrapper"],[1,"themed-table","action-points-table"],[4,"ngFor","ngForOf"],[1,"job-progress-panel"],["class","job-scroll-container",4,"ngIf"],["name","team",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"white-space","normal","word-break","break-word"],[3,"ngClass"],["mat-raised-button","",1,"submit-btn","delete-btn",3,"click","disabled"],[1,"job-scroll-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","project"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","created"],["matColumnDef","progress"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"job-progress-bar"],[1,"progress-fill"],[1,"progress-percent"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click","disabled"],[1,"documents-dialog"],["mat-dialog-title",""],["class","loading-documents",4,"ngIf"],["mat-raised-button","",1,"submit-btn",3,"click"],[1,"loading-documents"],["class","no-documents",4,"ngIf"],["class","documents-list",4,"ngIf"],[1,"no-documents"],[1,"documents-list"],["class","document-item",4,"ngFor","ngForOf"],[1,"document-item"],[1,"document-info"],[1,"document-name"],[1,"document-meta"],["mat-raised-button","",1,"view-btn",3,"click"],[1,"note-detail-dialog"],["contenteditable","true","placeholder","Enter your approval reason here...",1,"note-text-box",3,"input"],["align","end"],["mat-raised-button","","color","primary",1,"submit-btn","delete-btn",3,"click"],["mat-raised-button","","color","warn",1,"submit-btn","delete-btn",3,"click"]],template:function(e,n){if(e&1){let r=ge();I(0,tF,2,0,"div",3),l(1,"div",4)(2,"div",5)(3,"div",6)(4,"mat-card")(5,"mat-card-header")(6,"mat-card-title"),u(7,"Welcome to Your ProBuildAI Dashboard"),c()(),l(8,"mat-card-content"),I(9,nF,6,2,"div",3),F(10,"mat-divider"),I(11,rF,2,1,"p",3)(12,aF,2,0,"p",3),l(13,"div",7)(14,"button",8),z("click",function(){return q(r),W(n.navigateToJobs())}),u(15,"View And Create Jobs"),c()()()()(),l(16,"div",6)(17,"mat-card",9)(18,"mat-card-header")(19,"mat-card-title"),u(20,"Action Points"),c()(),l(21,"mat-card-content"),F(22,"mat-divider"),I(23,oF,3,0,"div",3),l(24,"div",10)(25,"table",11)(26,"thead")(27,"tr")(28,"th"),u(29,"Project"),c(),l(30,"th"),u(31,"Task"),c(),l(32,"th"),u(33,"Created"),c(),l(34,"th"),u(35,"Status"),c(),l(36,"th"),u(37,"Action"),c()()(),l(38,"tbody"),I(39,sF,14,15,"tr",12),c()()()()()(),l(40,"div",13)(41,"mat-card")(42,"mat-card-header")(43,"mat-card-title"),u(44,"Job Progress"),c()(),l(45,"mat-card-content"),F(46,"mat-divider"),I(47,lF,3,0,"div",3)(48,cF,3,0,"div",3)(49,yF,16,3,"div",14),c()()()()(),I(50,DF,9,2,"ng-template",null,0,ur)(52,EF,10,0,"ng-template",null,1,ur)}e&2&&(C("ngIf",n.isLoading),b(9),C("ngIf",n.teams.length>1),b(2),C("ngIf",n.isSubContractor),b(),C("ngIf",!n.isSubContractor),b(11),C("ngIf",n.notes.length===0),b(16),C("ngForOf",n.notes),b(8),C("ngIf",n.jobsLoading),b(),C("ngIf",!n.jobsLoading&&n.userJobs.length===0),b(),C("ngIf",n.userJobs.length>0))},dependencies:[Pt,Dt,Nr,Ji,Gi,zt,Nt,zr,Bi,Li,nn,rn,ji,js,Jn,un,fr,li,Zi,tn,en,Tu,vi,hn,Mn,Vi,wn,pi,xa,Lr,ro,hr,ju,Bs,Dl,Lu,zn,Fr,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La],styles:[".container[_ngcontent-%COMP%]{width:100%;padding:1rem;display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;width:100%;flex-shrink:0}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;flex:1 1 45%;min-width:320px;max-width:100%;box-sizing:border-box}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem;height:auto;min-height:300px;flex-grow:1}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}mat-card-custom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;border-radius:16px;box-shadow:none}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:.5rem}.action-points-wrapper[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;overflow-x:hidden;border-radius:4px;background-color:#fff!important;border:1px solid #d9d9d9}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn.publish-btn[_ngcontent-%COMP%]{background:#fbd008}.submit-btn.publish-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.save-btn[_ngcontent-%COMP%]{background:#fcd02d}.submit-btn.save-btn[_ngcontent-%COMP%]:hover{background:#f3c003}.submit-btn.delete-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}.submit-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-points-table[_ngcontent-%COMP%]   .submit-btn.delete-btn[_ngcontent-%COMP%]{width:80px;padding:4px 0;font-size:.85rem;margin:0 auto;display:block;border-radius:6px}.action-points-table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;min-width:70px;padding:4px 12px;font-size:.85rem;border-radius:6px;white-space:nowrap;margin:0}.action-points-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .action-points-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;border-bottom:1px solid #d9d9d9;word-wrap:break-word}.action-points-table[_ngcontent-%COMP%]   .options-cell[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.action-points-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fcd02d;color:#333;font-weight:700}.action-points-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.action-points-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([mat-icon-button]){padding:4px 12px;font-size:.85rem}mat-card-content[_ngcontent-%COMP%]{padding-top:1rem}mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:1.5rem;text-align:center}.dialog-action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1.5rem;flex-wrap:nowrap;margin-top:1rem}.dialog-action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;white-space:nowrap;padding:.5rem 1rem}.loading-documents[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#333}.loading-documents[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1rem}.no-documents[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#333}.no-documents[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.no-documents[error][_ngcontent-%COMP%]{color:#da4167;font-weight:500}.documents-list[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:.5rem}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#61a0af;border-radius:3px}  .mat-mdc-snack-bar-container.snack-success{background-color:#fbd008!important;color:#333!important;font-weight:600}  .mat-mdc-snack-bar-container.snack-success .mat-simple-snackbar-action{color:#333!important;font-weight:600}  .custom-snackbar{background-color:#333!important;color:#fff!important}  .custom-snackbar .mat-mdc-snack-bar-action{color:#fbd008!important;font-weight:600}.progress-text[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#333;text-align:center}.chat-box-inside-dialog[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;background:#fff;padding:10px;margin-bottom:20px;border:1px solid #ddd;border-radius:8px}.job-scroll-container[_ngcontent-%COMP%]{flex:1;min-height:0;max-height:calc(100vh - 300px);overflow-y:auto;padding-right:8px}.job-progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:4px}.progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#1976d2;transition:width .3s ease}.progress-percent[_ngcontent-%COMP%]{font-size:12px;color:#333;margin-left:5px}.job-progress-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;min-width:320px;min-height:0}.chat-message[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-bottom:8px}.chat-bubble[_ngcontent-%COMP%]{background-color:#f1f0f0;border-radius:8px;padding:10px;max-width:100%;box-shadow:0 2px 5px #0000001a;word-break:break-word}.note-text[_ngcontent-%COMP%]{font-size:14px;margin-bottom:5px}.note-time[_ngcontent-%COMP%]{font-size:11px;color:#777;text-align:right}.note-textarea[_ngcontent-%COMP%]{width:100%;border-radius:8px;padding:10px;font-size:14px}.document-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;margin-bottom:.5rem;border:1px solid #d9d9d9;border-radius:8px;background-color:#fff;transition:all .3s ease}.document-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;border-color:#61a0af;box-shadow:0 2px 8px #0000001a}.document-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.document-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.note-detail-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:100%;overflow:visible;min-height:400px;max-height:85vh}.note-detail-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.note-detail-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;white-space:pre-wrap;word-wrap:break-word;word-break:break-word;padding-bottom:1rem;flex-grow:0;flex-shrink:0}.note-detail-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-end;gap:1rem}.note-text-box[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;border:1px solid #d9d9d9;border-radius:6px;font-family:inherit;font-size:1rem;color:#333;margin-top:.5rem;white-space:pre-wrap;word-break:break-word}mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;white-space:pre-wrap;word-wrap:break-word;word-break:break-word;padding-bottom:1rem;flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.view-btn[_ngcontent-%COMP%]{background-color:#fbd008!important;color:#000!important;padding:.25rem 1rem;font-size:.9rem;line-height:1.5;margin-left:1rem}.view-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00;color:#333}.wrap-text[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.documents-dialog[_ngcontent-%COMP%]{padding:1rem}.documents-dialog[_ngcontent-%COMP%]   h2[mat-dialog-title][_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin-bottom:1rem}.document-meta[_ngcontent-%COMP%]{font-size:.85rem;color:#333}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0}.chart-container[_ngcontent-%COMP%]{padding:1rem 0}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;width:200px;margin:0 .5rem}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;justify-content:center;gap:1rem}@media (max-width: 768px){.column[_ngcontent-%COMP%]{width:100%}.documents-dialog[_ngcontent-%COMP%]{padding:.5rem}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.submit-btn[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}mat-card[_ngcontent-%COMP%]{height:auto;min-height:300px}}@media (max-width: 1024px){.column[_ngcontent-%COMP%], .job-progress-panel[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.submit-btn[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}mat-card[_ngcontent-%COMP%]{height:auto;min-height:300px}}  .custom-note-dialog .mat-dialog-container{width:800px!important;max-height:90vh!important;overflow:visible!important;padding:1.5rem;border-radius:12px;box-shadow:0 4px 20px #0003;background-color:#fefefe}  .note-popup-panel .mat-dialog-container{width:750px!important;max-width:90vw!important;max-height:none!important;overflow:visible!important;padding:24px;border-radius:10px;background:#fefefe;box-shadow:0 4px 30px #00000026}.note-text-box[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;border:1px solid #d9d9d9;border-radius:6px;font-family:inherit;font-size:1rem;color:#333;margin-top:.5rem;white-space:pre-wrap;word-break:break-word;width:100%;box-sizing:border-box;height:200px;overflow-y:auto}.note-text-box[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.note-text-box[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.note-text-box[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#61a0af;border-radius:3px}  .custom-dialog-container .mat-mdc-dialog-surface{width:900px!important;max-height:100vh!important;overflow-y:auto!important}  .note-detail-dialog p.note-content{background-color:#fff;padding:1rem;border:1px solid #ccc;border-radius:4px;white-space:pre-wrap;word-wrap:break-word;max-height:none}.mat-elevation-z8[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #d9d9d9;border-radius:8px;overflow:hidden;box-shadow:none}.mat-elevation-z8[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%], .mat-elevation-z8[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{padding:10px;color:#333}.mat-elevation-z8[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{background-color:#fcd02d;font-weight:700}.mat-elevation-z8[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background-color:#e8f1f4}.mat-elevation-z8[_ngcontent-%COMP%]   mat-icon-button[_ngcontent-%COMP%]{color:#333}.mat-elevation-z8[_ngcontent-%COMP%]   mat-icon-button[_ngcontent-%COMP%]:hover{color:#61a0af}"]})};var p0=`${St.BACKEND_URL}/Projects`,h0=class i{constructor(t,e){this.httpClient=t;this.userService=e}contractor;nrProjectsTotal=0;nrProjectsUser=0;projectName="";getProjects(){return this.httpClient.get(p0)}getProjectById(t){return this.httpClient.get(p0+"/"+t)}createNewProject(t){return this.httpClient.post(p0,t,{headers:{"Content-Type":"application/json"}})}editExistingProject(t){this.httpClient.put(p0,t)}setContractor(t){this.contractor=t}getContractor(){return this.userService.getUserProjects(this.contractor)}setProjectName(t){this.projectName=t}getProjectName(){return this.projectName}getNrProjects(){return this.nrProjectsTotal}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(zo))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};function IF(i,t){i&1&&(l(0,"div"),F(1,"app-new-user-dashboard"),c())}function PF(i,t){i&1&&(l(0,"div"),F(1,"app-new-user-dashboard"),c())}var Rp=class i{constructor(t){this.projectService=t}nrProjects=0;ngOnInit(){this.nrProjects=this.projectService.getNrProjects()}static \u0275fac=function(e){return new(e||i)(k(h0))};static \u0275cmp=fe({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[ye],decls:34,vars:2,consts:[["autosize",""],["mat-button","","routerLink","",1,"menu-button"],[1,"menu-item"],["mat-button","","routerLink","/dashboard/notifications",1,"menu-button"],["routerLink","/dashboard"],[4,"ngIf"]],template:function(e,n){e&1&&(l(0,"mat-sidenav-container",0)(1,"mat-sidenav")(2,"button",1)(3,"mat-icon"),u(4,"work"),c(),l(5,"span",2),u(6,"Projects"),c()(),F(7,"br"),l(8,"button",1)(9,"mat-icon"),u(10,"list"),c(),l(11,"span",2),u(12,"Tasks"),c()(),F(13,"br"),l(14,"button",1)(15,"mat-icon"),u(16,"calendar_today"),c(),l(17,"span",2),u(18,"Work Calendar"),c()(),F(19,"br"),l(20,"button",3)(21,"mat-icon"),u(22,"update"),c(),l(23,"span",2),u(24,"Updates"),c()(),l(25,"footer")(26,"mat-icon",4),u(27,"home"),c(),l(28,"mat-icon"),u(29,"settings"),c()()(),l(30,"mat-sidenav-content")(31,"div"),I(32,IF,2,0,"div",5)(33,PF,2,0,"div",5),c()()()),e&2&&(b(32),C("ngIf",n.nrProjects===0),b(),C("ngIf",n.nrProjects>0))},dependencies:[Pt,m0,zn,Fr,Eg,Ep,Ap,Nu],styles:[".container[_ngcontent-%COMP%]{width:80vw;padding:1rem;display:flex;justify-content:center;align-items:flex-start;min-height:calc(100vh - 65px)}.row[_ngcontent-%COMP%]{width:98vw;display:flex;gap:1rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:49%;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem;height:60vh}.main-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:40px;padding:20px;background-color:#333;color:#fbd008;font-size:14px;border-top:1px solid #4d4d4d}.main-footer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;margin-right:8px;vertical-align:middle}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:.5rem}mat-card-content[_ngcontent-%COMP%]{padding-top:1rem}mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:1.5rem;text-align:center}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0}.chart-container[_ngcontent-%COMP%]{padding:1rem 0}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;width:200px;margin:0 .5rem}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;justify-content:center;gap:1rem}@media (max-width: 768px){.column[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.submit-btn[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}mat-card[_ngcontent-%COMP%]{height:auto}}"]})};function TF(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function OF(i,t){if(i&1){let e=ge();l(0,"div",12)(1,"div",13)(2,"p"),u(3),c(),l(4,"button",14),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var f0=class i{constructor(t,e,n,r){this.httpClient=t;this.router=e;this.route=n;this.formBuilder=r;this.confirmEmailForm=this.formBuilder.group({})}confirmEmailForm;showAlert=!1;alertMessage="";routeURL="";isLoading=!1;userId=null;code=null;ngOnInit(){this.userId=this.route.snapshot.queryParamMap.get("userId"),this.code=this.route.snapshot.queryParamMap.get("code")}onConfirmEmail(){if(!this.userId||!this.code){this.showAlert=!0,this.alertMessage="Missing confirmation details.";return}this.isLoading=!0;let t=`${St.BACKEND_URL}/Account/confirmemail?userId=${encodeURIComponent(this.userId)}&code=${encodeURIComponent(this.code)}`;this.httpClient.get(t,{}).pipe(It(e=>(this.isLoading=!1,e.status===401?(this.showAlert=!0,this.routeURL="login",this.alertMessage="Email Confirmation failed, please register or contact support@probuildai.com"):e.status===500?(this.showAlert=!0,this.routeURL="",this.alertMessage="Oops, something went wrong. Please try again later."):(this.showAlert=!0,this.routeURL="",this.alertMessage="An unexpected error occurred. Contact support."),wt(null)))).subscribe(e=>{e&&(this.isLoading=!1,this.showAlert=!0,this.alertMessage="Email Confirmation Successful!",this.routeURL="login")})}closeAlert(){this.routeURL&&this.router.navigateByUrl(this.routeURL),this.showAlert=!1}static \u0275fac=function(e){return new(e||i)(k(Gt),k(Ii),k(_a),k(Cn))};static \u0275cmp=fe({type:i,selectors:[["app-confirm-email"]],standalone:!0,features:[ye],decls:17,vars:3,consts:[[4,"ngIf"],[1,"container","w-100"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"confirm-email-card"],[1,"text-center"],[1,"title-header","text-bold"],[1,"title-header","text-color-cus"],[3,"ngSubmit","formGroup"],[2,"margin-top","1.5rem"],["mat-raised-button","",1,"w-100",3,"click"],["class","alert-overlay",4,"ngIf"],[1,"alert-overlay"],[1,"alert-modal"],["mat-raised-button","",3,"click"]],template:function(e,n){e&1&&(I(0,TF,2,0,"div",0),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-header",5)(6,"mat-card-title",6),u(7," Successful Registration "),c(),l(8,"mat-card-subtitle",7),u(9," If you see this email you have Successfully registered to ProBuild AI "),c()(),l(10,"mat-card-content")(11,"form",8),z("ngSubmit",function(){return n.onConfirmEmail()}),l(12,"div",9)(13,"mat-card-actions")(14,"button",10),z("click",function(){return n.onConfirmEmail()}),u(15,"Confirm Email"),c()()()()()()()()(),I(16,OF,6,1,"div",11)),e&2&&(C("ngIf",n.isLoading),b(11),C("formGroup",n.confirmEmailForm),b(5),C("ngIf",n.showAlert))},dependencies:[wn,mn,Ki,Bi,Li,V5,nn,rn,yc,ji,Pi,Xi,Vi,Pt,fr,Nt],styles:['@font-face{font-family:Raleway;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCAIT5lu.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Raleway;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCkIT5lu.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Raleway;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCIIT5lu.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Raleway;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCMIT5lu.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Raleway;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyC0ITw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCAIT5lu.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCkIT5lu.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCIIT5lu.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCMIT5lu.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyC0ITw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:80%}[_nghost-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){border-radius:15px}mat-card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003,0 6px 20px #00000030;transition:box-shadow .3s ease}mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0000004d,0 12px 40px #00000040}.text-color-cus[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{color:#fbd008!important;align-items:center!important;justify-content:center!important;text-align:center!important}button[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{background-color:#fbd008!important;color:#000!important;align-items:center!important;justify-content:center!important;text-align:center!important}mat-card-subtitle[_ngcontent-%COMP%]{font-size:small;padding-bottom:10px;padding-top:5px}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.alert-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{background-color:#fbd008!important;border-radius:15px!important;color:#000!important}.text-bold[_ngcontent-%COMP%]{font-size:large!important;font-weight:900!important}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:focus{transition:background-color 0s 600000s,color 0s 600000s!important}.confirm-email-card[_ngcontent-%COMP%]{background-color:#fff!important;width:30vw!important;height:30vh!important}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.title-header[_ngcontent-%COMP%]{margin-top:1.5rem!important}@media (max-width: 575.98px){.confirm-email-card[_ngcontent-%COMP%]{width:80vw!important;height:50vh!important}.container[_ngcontent-%COMP%]{height:100%}}@media (min-width: 576px) and (max-width: 767.98px){.confirm-email-card[_ngcontent-%COMP%]{width:80vw!important;height:80vh!important}.container[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px) and (max-width: 991.98px){.confirm-email-card[_ngcontent-%COMP%]{width:50vw!important;height:45vh!important}.container[_ngcontent-%COMP%]{height:100%}}@media (min-width: 992px) and (max-width: 1238.98px){.confirm-email-card[_ngcontent-%COMP%]{width:45vw!important;height:45vh!important}.container[_ngcontent-%COMP%]{height:100%}}body[_ngcontent-%COMP%]{overflow-y:hidden!important}']})};var RF=["mat-calendar-body",""];function NF(i,t){return this._trackRow(t)}var WM=(i,t)=>t.id;function FF(i,t){if(i&1&&(l(0,"tr",0)(1,"td",3),u(2),c()()),i&2){let e=P();b(),Qn("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),at("colspan",e.numCols),b(),Ce(" ",e.label," ")}}function LF(i,t){if(i&1&&(l(0,"td",3),u(1),c()),i&2){let e=P(2);Qn("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),at("colspan",e._firstRowOffset),b(),Ce(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function jF(i,t){if(i&1){let e=ge();l(0,"td",6)(1,"button",7),z("click",function(r){let a=q(e).$implicit,o=P(2);return W(o._cellClicked(a,r))})("focus",function(r){let a=q(e).$implicit,o=P(2);return W(o._emitActiveDateChange(a,r))}),l(2,"span",8),u(3),c(),F(4,"span",9),c()()}if(i&2){let e=t.$implicit,n=t.$index,r=P().$index,a=P();Qn("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),at("data-mat-row",r)("data-mat-col",n),b(),Qe("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",a._isActiveCell(r,n))("mat-calendar-body-range-start",a._isRangeStart(e.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",a._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",a._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",a._isInPreview(e.compareValue)),C("ngClass",e.cssClasses)("tabindex",a._isActiveCell(r,n)?0:-1),at("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",a._isSelected(e.compareValue))("aria-current",a.todayValue===e.compareValue?"date":null)("aria-describedby",a._getDescribedby(e.compareValue)),b(),Qe("mat-calendar-body-selected",a._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",a.todayValue===e.compareValue),b(),Ce(" ",e.displayValue," ")}}function BF(i,t){if(i&1&&(l(0,"tr",1),I(1,LF,2,6,"td",4),Cl(2,jF,5,48,"td",5,WM),c()),i&2){let e=t.$implicit,n=t.$index,r=P();b(),Tt(n===0&&r._firstRowOffset?1:-1),b(),wl(e)}}function VF(i,t){if(i&1&&(l(0,"th",2)(1,"span",6),u(2),c(),l(3,"span",3),u(4),c()()),i&2){let e=t.$implicit;b(2),xe(e.long),b(2),xe(e.narrow)}}var zF=["*"];function HF(i,t){}function UF(i,t){if(i&1){let e=ge();l(0,"mat-month-view",4),jn("activeDateChange",function(r){q(e);let a=P();return Ln(a.activeDate,r)||(a.activeDate=r),W(r)}),z("_userSelection",function(r){q(e);let a=P();return W(a._dateSelected(r))})("dragStarted",function(r){q(e);let a=P();return W(a._dragStarted(r))})("dragEnded",function(r){q(e);let a=P();return W(a._dragEnded(r))}),c()}if(i&2){let e=P();Fn("activeDate",e.activeDate),C("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function qF(i,t){if(i&1){let e=ge();l(0,"mat-year-view",5),jn("activeDateChange",function(r){q(e);let a=P();return Ln(a.activeDate,r)||(a.activeDate=r),W(r)}),z("monthSelected",function(r){q(e);let a=P();return W(a._monthSelectedInYearView(r))})("selectedChange",function(r){q(e);let a=P();return W(a._goToDateInView(r,"month"))}),c()}if(i&2){let e=P();Fn("activeDate",e.activeDate),C("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function WF(i,t){if(i&1){let e=ge();l(0,"mat-multi-year-view",6),jn("activeDateChange",function(r){q(e);let a=P();return Ln(a.activeDate,r)||(a.activeDate=r),W(r)}),z("yearSelected",function(r){q(e);let a=P();return W(a._yearSelectedInMultiYearView(r))})("selectedChange",function(r){q(e);let a=P();return W(a._goToDateInView(r,"year"))}),c()}if(i&2){let e=P();Fn("activeDate",e.activeDate),C("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function GF(i,t){}var $F=["button"],YF=[[["","matDatepickerToggleIcon",""]]],QF=["[matDatepickerToggleIcon]"];function JF(i,t){i&1&&(xi(),l(0,"svg",2),F(1,"path",3),c())}var jp=(()=>{class i{constructor(){this.changes=new vt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),KF=0,Fp=class{constructor(t,e,n,r,a={},o=t,s){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=a,this.compareValue=o,this.rawValue=s,this.id=KF++}},XF=1,jM=Rs({passive:!1,capture:!0}),Sc=Rs({passive:!0,capture:!0}),g0=Rs({passive:!0}),Yu=(()=>{class i{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,n){this._elementRef=e,this._ngZone=n,this._platform=Bt(mr),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Ge,this.previewChange=new Ge,this.activeDateChange=new Ge,this.dragStarted=new Ge,this.dragEnded=new Ge,this._didDragSinceMouseDown=!1,this._injector=Bt(cr),this._trackRow=r=>r,this._enterHandler=r=>{if(this._skipNextFocus&&r.type==="focus"){this._skipNextFocus=!1;return}if(r.target&&this.isRange){let a=this._getCellFromElement(r.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;let a=BM(r),o=a?this._getCellFromElement(a):null;a!==r.target&&(this._didDragSinceMouseDown=!0),qy(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{this.previewEnd!==null&&this.isRange&&(r.type!=="blur"&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&!(r.relatedTarget&&this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let a=r.target&&this._getCellFromElement(r.target);!a||!this._isInRange(a.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:a.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;let a=qy(r.target);if(!a){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})});return}a.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let o=this._getCellFromElement(a);this.dragEnded.emit({value:o?.rawValue??null,event:r})})},this._touchendHandler=r=>{let a=BM(r);a&&this._mouseupHandler({target:a})},this._id=`mat-calendar-body-${XF++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{let r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,jM),r.addEventListener("mouseenter",this._enterHandler,Sc),r.addEventListener("focus",this._enterHandler,Sc),r.addEventListener("mouseleave",this._leaveHandler,Sc),r.addEventListener("blur",this._leaveHandler,Sc),r.addEventListener("mousedown",this._mousedownHandler,g0),r.addEventListener("touchstart",this._mousedownHandler,g0),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:r,numCols:a}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?a-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/a}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/a}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,jM),e.removeEventListener("mouseenter",this._enterHandler,Sc),e.removeEventListener("focus",this._enterHandler,Sc),e.removeEventListener("mouseleave",this._leaveHandler,Sc),e.removeEventListener("blur",this._leaveHandler,Sc),e.removeEventListener("mousedown",this._mousedownHandler,g0),e.removeEventListener("touchstart",this._mousedownHandler,g0),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){Vr(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Wy(e,this.startValue,this.endValue)}_isRangeEnd(e){return Gy(e,this.startValue,this.endValue)}_isInRange(e){return $y(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Wy(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let a=this.rows[n][r-1];if(!a){let o=this.rows[n-1];a=o&&o[o.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let a=this.rows[n][r+1];if(!a){let o=this.rows[n+1];a=o&&o[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(e){return Gy(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return $y(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Wy(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Gy(e,this.previewStart,this.previewEnd)}_isInPreview(e){return $y(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let n=qy(e);if(n){let r=n.getAttribute("data-mat-row"),a=n.getAttribute("data-mat-col");if(r&&a)return this.rows[parseInt(r)][parseInt(a)]}return null}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(ni))}}static{this.\u0275cmp=fe({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[Ai,ye],attrs:RF,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(I(0,FF,3,6,"tr",0),Cl(1,BF,4,1,"tr",1,NF,!0),l(3,"span",2),u(4),c(),l(5,"span",2),u(6),c()),n&2&&(Tt(r._firstRowOffset<r.labelMinRequiredCells?0:-1),b(),wl(r.rows),b(2),C("id",r._startDateLabelId),b(),Ce(" ",r.startDateAccessibleName,`
`),b(),C("id",r._endDateLabelId),b(),Ce(" ",r.endDateAccessibleName,`
`))},dependencies:[Nr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return i})();function Uy(i){return i?.nodeName==="TD"}function qy(i){let t;return Uy(i)?t=i:Uy(i.parentNode)?t=i.parentNode:Uy(i.parentNode?.parentNode)&&(t=i.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function Wy(i,t,e){return e!==null&&t!==e&&i<e&&i===t}function Gy(i,t,e){return t!==null&&t!==e&&i>=t&&i===e}function $y(i,t,e,n){return n&&t!==null&&e!==null&&t!==e&&i>=t&&i<=e}function BM(i){let t=i.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Ho=class{constructor(t,e){this.start=t,this.end=e}},Lp=(()=>{class i{constructor(e,n){this.selection=e,this._adapter=n,this._selectionChanged=new vt,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,n){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(n){tg()}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac})}}return i})(),ZF=(()=>{class i extends Lp{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new i(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(n){return new(n||i)(Xe(bo))}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac})}}return i})();function e6(i,t){return i||new ZF(t)}var GM={provide:Lp,deps:[[new fu,new gu,Lp],bo],useFactory:e6};var $M=new yt("MAT_DATE_RANGE_SELECTION_STRATEGY");var Yy=7,t6=0,VM=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ho?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,n,r,a,o){this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=r,this._dir=a,this._rangeStrategy=o,this._rerenderSubscription=on.EMPTY,this.activeDrag=null,this.selectedChange=new Ge,this._userSelection=new Ge,this.dragStarted=new Ge,this.dragEnded=new Ge,this.activeDateChange=new Ge,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qi(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,r=this._getDateFromDayOfMonth(n),a,o;this._selected instanceof Ho?(a=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):a=o=this._getDateInCurrentMonth(this._selected),(a!==n||o!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!pr(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Yy+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Yy,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,a=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this.activeDrag&&r){let o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),a=this._dateAdapter.getDayOfWeekNames("long").map((o,s)=>({long:o,narrow:n[s],id:t6++}));this._weekdays=a.slice(e).concat(a.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,a=this._firstWeekOffset;r<e;r++,a++){a==Yy&&(this._weeks.push([]),a=0);let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),s=this._shouldEnableDate(o),d=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),m=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new Fp(r+1,n[r],d,s,m,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),a=this._dateAdapter.getDate(e);return new Date(n,r,a).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Ho?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(nd,8),k(bo,8),k(Sr,8),k($M,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&Ue(Yu,5),n&2){let a;be(a=ve())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[Ai,ye],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),Cl(3,VF,5,2,"th",2,WM),c(),l(5,"tr",3),F(6,"th",4),c()(),l(7,"tbody",5),z("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),c()()),n&2&&(b(3),wl(r._weekdays),b(4),C("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Yu],encapsulation:2,changeDetection:0})}}return i})(),_o=24,Qy=4,zM=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),YM(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ho?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,n,r){this._changeDetectorRef=e,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=on.EMPTY,this.selectedChange=new Ge,this.yearSelected=new Ge,this.activeDateChange=new Ge,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-Np(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,a=[];r<_o;r++)a.push(n+r),a.length==Qy&&(this._years.push(a.map(o=>this._createCellForYear(o))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,r=this._dateAdapter.createDate(n,0,1),a=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(a)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Qy);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Qy);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Np(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,_o-Np(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-_o*10:-_o);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?_o*10:_o);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Np(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),a=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new Fp(e,r,r,this._shouldEnableYear(e),a)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let r=n;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ho){let n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(bo,8),k(Sr,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&Ue(Yu,5),n&2){let a;be(a=ve())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[ye],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),F(3,"th",2),c()(),l(4,"tbody",3),z("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),c()()),n&2&&(b(4),C("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Yu],encapsulation:2,changeDetection:0})}}return i})();function YM(i,t,e,n,r){let a=i.getYear(t),o=i.getYear(e),s=QM(i,n,r);return Math.floor((a-s)/_o)===Math.floor((o-s)/_o)}function Np(i,t,e,n){let r=i.getYear(t);return i6(r-QM(i,e,n),_o)}function QM(i,t,e){let n=0;return e?n=i.getYear(e)-_o+1:t&&(n=i.getYear(t)),n}function i6(i,t){return(i%t+t)%t}var HM=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof Ho?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,n,r,a){this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=r,this._dir=a,this._rerenderSubscription=on.EMPTY,this.selectedChange=new Ge,this.monthSelected=new Ge,this.activeDateChange=new Ge,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let a=this._getDateFromMonth(n);this.selectedChange.emit(a)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new Fp(e,n.toLocaleUpperCase(),a,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,e,1);for(let a=r;this._dateAdapter.getMonth(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>a}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<a}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Ho?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(n){return new(n||i)(k(xt),k(nd,8),k(bo,8),k(Sr,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&Ue(Yu,5),n&2){let a;be(a=ve())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[ye],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),F(3,"th",2),c()(),l(4,"tbody",3),z("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),c()()),n&2&&(b(4),C("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Yu],encapsulation:2,changeDetection:0})}}return i})(),n6=1,JM=(()=>{class i{constructor(e,n,r,a,o){this._intl=e,this.calendar=n,this._dateAdapter=r,this._dateFormats=a,this._id=`mat-calendar-header-${n6++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-_o)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:_o)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):YM(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-Np(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+_o-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[a,o]}static{this.\u0275fac=function(n){return new(n||i)(k(jp),k(ba(()=>Jy)),k(bo,8),k(nd,8),k(xt))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[ye],ngContentSelectors:zF,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&(Xt(),l(0,"div",0)(1,"div",1)(2,"span",2),u(3),c(),l(4,"button",3),z("click",function(){return r.currentPeriodClicked()}),l(5,"span",4),u(6),c(),xi(),l(7,"svg",5),F(8,"polygon",6),c()(),Rr(),F(9,"div",7),rt(10),l(11,"button",8),z("click",function(){return r.previousClicked()}),xi(),l(12,"svg",9),F(13,"path",10),c()(),Rr(),l(14,"button",11),z("click",function(){return r.nextClicked()}),xi(),l(15,"svg",9),F(16,"path",12),c()()()()),n&2&&(b(2),C("id",r._periodButtonLabelId),b(),xe(r.periodButtonDescription),b(),at("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),b(2),xe(r.periodButtonText),b(),Qe("mat-calendar-invert",r.calendar.currentView!=="month"),b(4),C("disabled",!r.previousEnabled()),at("aria-label",r.prevButtonLabel),b(3),C("disabled",!r.nextEnabled()),at("aria-label",r.nextButtonLabel))},dependencies:[Nt,zr],encapsulation:2,changeDetection:0})}}return i})(),Jy=(()=>{class i{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof Ho?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(e,n,r,a){this._dateAdapter=n,this._dateFormats=r,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ge,this.yearSelected=new Ge,this.monthSelected=new Ge,this.viewChanged=new Ge(!0),this._userSelection=new Ge,this._userDragDrop=new Ge,this._activeDrag=null,this.stateChanges=new vt,this._intlChanges=e.changes.subscribe(()=>{a.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new hy(this.headerComponent||JM),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,a=n||r||e.dateFilter;if(a&&!a.firstChange){let o=this._getCurrentViewComponent();o&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof Ho||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(n){return new(n||i)(k(jp),k(bo,8),k(nd,8),k(xt))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&(Ue(VM,5),Ue(HM,5),Ue(zM,5)),n&2){let a;be(a=ve())&&(r.monthView=a.first),be(a=ve())&&(r.yearView=a.first),be(a=ve())&&(r.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[ft([GM]),Ai,ye],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(I(0,HF,0,0,"ng-template",0),l(1,"div",1),I(2,UF,1,11,"mat-month-view",2)(3,qF,1,6,"mat-year-view",3)(4,WF,1,6,"mat-multi-year-view",3),c()),n&2){let a;C("cdkPortalOutlet",r._calendarHeaderPortal),b(2),Tt((a=r.currentView)==="month"?2:a==="year"?3:a==="multi-year"?4:-1)}},dependencies:[Ml,lg,VM,HM,zM],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})(),UM={transformPanel:En("transformPanel",[_i("void => enter-dropdown",Ci("120ms cubic-bezier(0, 0, 0.2, 1)",uc([Et({opacity:0,transform:"scale(1, 0.8)"}),Et({opacity:1,transform:"scale(1, 1)"})]))),_i("void => enter-dialog",Ci("150ms cubic-bezier(0, 0, 0.2, 1)",uc([Et({opacity:0,transform:"scale(0.7)"}),Et({transform:"none",opacity:1})]))),_i("* => void",Ci("100ms linear",Et({opacity:0})))]),fadeInCalendar:En("fadeInCalendar",[Di("void",Et({opacity:0})),Di("enter",Et({opacity:1})),_i("void => *",Ci("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},r6=0,KM=new yt("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let i=Bt(Kr);return()=>i.scrollStrategies.reposition()}});function a6(i){return()=>i.scrollStrategies.reposition()}var o6={provide:KM,deps:[Kr],useFactory:a6},XM=(()=>{class i{constructor(e,n,r,a,o,s){this._elementRef=e,this._changeDetectorRef=n,this._globalModel=r,this._dateAdapter=a,this._rangeSelectionStrategy=o,this._subscriptions=new on,this._animationDone=new vt,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=s.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,r=e.value,a=n instanceof Ho;if(a&&this._rangeSelectionStrategy){let o=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(o,this)}else r&&(a||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(xt),k(Lp),k(bo),k($M,8),k(jp))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&Ue(Jy,5),n&2){let a;be(a=ve())&&(r._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(n,r){n&1&&ng("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),n&2&&(ig("@transformPanel",r._animationState),wr(r.color?"mat-"+r.color:""),Qe("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[ye],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){if(n&1&&(l(0,"div",0)(1,"mat-calendar",1),z("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),c(),I(2,GF,0,0,"ng-template",2),l(3,"button",3),z("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),u(4),c()()),n&2){let a;Qe("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),at("aria-modal",!0)("aria-labelledby",(a=r._dialogLabelId)!==null&&a!==void 0?a:void 0),b(),wr(r.datepicker.panelClass),C("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),b(),C("cdkPortalOutlet",r._actionsPortal),b(),Qe("cdk-visually-hidden",!r._closeButtonFocused),C("color",r.color||"primary"),b(),xe(r._closeButtonText)}},dependencies:[c5,Jy,Ml,Nt],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[UM.transformPanel,UM.fadeInCalendar]},changeDetection:0})}}return i})(),qM=(()=>{class i{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=t5(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,n,r,a,o,s,d){this._overlay=e,this._viewContainerRef=r,this._dateAdapter=o,this._dir=s,this._model=d,this._inputStateChanges=on.EMPTY,this._document=Bt(Bn),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new Ge,this.monthSelected=new Ge,this.viewChanged=new Ge(!0),this.openedStream=new Ge,this.closedStream=new Ge,this._opened=!1,this.id=`mat-datepicker-${r6++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new vt,this._injector=Bt(cr),this._changeDetectorRef=Bt(xt),this._dateAdapter,this._scrollStrategy=a,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof I5&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=XS(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:a}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Mi(1)).subscribe(()=>{let o=this._document.activeElement;e&&(!o||o===this._document.activeElement||a.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new hy(XM,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Pu({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(a=>{a&&a.preventDefault(),this.close()}),r.keydownEvents().subscribe(a=>{let o=a.keyCode;(o===38||o===40||o===37||o===39||o===33||o===34)&&a.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||Vr(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",r=n==="start"?"end":"start",a=this.yPosition==="above"?"bottom":"top",o=a==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:o,overlayX:n,overlayY:a},{originX:n,originY:a,overlayX:n,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:o}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return Ni(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ii(r=>r.keyCode===27&&!pr(r)||this.datepickerInput&&pr(r,"altKey")&&r.keyCode===38&&n.every(a=>!pr(r,a)))))}static{this.\u0275fac=function(n){return new(n||i)(k(Kr),k(ni),k(Qr),k(KM),k(bo,8),k(Sr,8),k(Lp))}}static{this.\u0275dir=Ze({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Ye],disabled:[2,"disabled","disabled",Ye],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Ye],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Ye]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[qt,Ai]})}}return i})(),ZM=(()=>{class i extends qM{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275cmp=fe({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[ft([GM,{provide:qM,useExisting:i}]),ki,ye],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}}return i})(),$u=class{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},s6=(()=>{class i{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new $u(this,this._elementRef.nativeElement)),this.dateChange.emit(new $u(this,this._elementRef.nativeElement))}})}constructor(e,n,r){this._elementRef=e,this._dateAdapter=n,this._dateFormats=r,this.dateChange=new Ge,this.dateInput=new Ge,this.stateChanges=new vt,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=on.EMPTY,this._localeSubscription=on.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=a=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=a=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),s=this._getMinDate();return!s||!o||this._dateAdapter.compareDate(s,o)<=0?null:{matDatepickerMin:{min:s,actual:o}}},this._maxValidator=a=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),s=this._getMaxDate();return!s||!o||this._dateAdapter.compareDate(s,o)>=0?null:{matDatepickerMax:{max:s,actual:o}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){l6(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];pr(e,"altKey")&&e.keyCode===40&&n.every(a=>!pr(e,a))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let a=!this._dateAdapter.sameDate(r,this.value);!r||a?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(r),this.dateInput.emit(new $u(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new $u(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(bo,8),k(nd,8))}}static{this.\u0275dir=Ze({type:i,inputs:{value:"value",disabled:[2,"disabled","disabled",Ye]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[qt,Ai]})}}return i})();function l6(i,t){let e=Object.keys(i);for(let n of e){let{previousValue:r,currentValue:a}=i[n];if(t.isDateInstance(r)&&t.isDateInstance(a)){if(!t.sameDate(r,a))return!0}else return!0}return!1}var c6={provide:mc,useExisting:ba(()=>_0),multi:!0},d6={provide:_g,useExisting:ba(()=>_0),multi:!0},_0=(()=>{class i extends s6{set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(e,n,r,a){super(e,n,r),this._formField=a,this._closedSubscription=on.EMPTY,this._openedSubscription=on.EMPTY,this._ariaOwns=_S(null),this._validator=et.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(bo,8),k(nd,8),k(Pl,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){n&1&&z("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),n&2&&(Ro("disabled",r.disabled),at("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[ft([c6,d6,{provide:Sy,useExisting:i}]),ki]})}}return i})(),u6=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return i})(),Zy=(()=>{class i{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,n,r){this._intl=e,this._changeDetectorRef=n,this._stateChanges=on.EMPTY;let a=Number(r);this.tabIndex=a||a===0?a:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:wt(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:wt(),r=this.datepicker?Ni(this.datepicker.openedStream,this.datepicker.closedStream):wt();this._stateChanges.unsubscribe(),this._stateChanges=Ni(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(n){return new(n||i)(k(jp),k(xt),oa("tabindex"))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,a){if(n&1&&bt(a,u6,5),n&2){let o;be(o=ve())&&(r._customIcon=o.first)}},viewQuery:function(n,r){if(n&1&&Ue($F,5),n&2){let a;be(a=ve())&&(r._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&z("click",function(o){return r._open(o)}),n&2&&(at("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Qe("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Ye],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[qt,Ai,ye],ngContentSelectors:QF,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&(Xt(YF),l(0,"button",1,0),I(2,JF,2,0,":svg:svg",2),rt(3),c()),n&2&&(C("disabled",r.disabled)("disableRipple",r.disableRipple),at("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),b(2),Tt(r._customIcon?-1:2))},dependencies:[zr],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return i})();var y0=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[jp,o6],imports:[Dt,zt,fc,p5,Cg,$t,XM,Zy,JM,ss]})}}return i})();var x0,p6=new Uint8Array(16);function ex(){if(!x0&&(x0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x0(p6)}var ek=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function h6(i){return typeof i=="string"&&ek.test(i)}var tk=h6;var da=[];for(C0=0;C0<256;++C0)da.push((C0+256).toString(16).substr(1));var C0;function f6(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(da[i[t+0]]+da[i[t+1]]+da[i[t+2]]+da[i[t+3]]+"-"+da[i[t+4]]+da[i[t+5]]+"-"+da[i[t+6]]+da[i[t+7]]+"-"+da[i[t+8]]+da[i[t+9]]+"-"+da[i[t+10]]+da[i[t+11]]+da[i[t+12]]+da[i[t+13]]+da[i[t+14]]+da[i[t+15]]).toLowerCase();if(!tk(e))throw TypeError("Stringified UUID is invalid");return e}var ik=f6;function g6(i,t,e){i=i||{};var n=i.random||(i.rng||ex)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=n[r];return t}return ik(n)}var us=g6;var w0=class i{constructor(t){this.dialogRef=t}onReturn(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||i)(k(Kn))};static \u0275cmp=fe({type:i,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[ye],decls:12,vars:0,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",1,"dialog-btn","return-btn",3,"click"],["mat-button","",1,"dialog-btn","confirm-btn",3,"click"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1,"Are you sure you want to cancel?"),c(),l(2,"mat-dialog-content")(3,"p"),u(4," You are about to cancel the creation of this job quote. Any progress, including uploaded documents, will be permanently discarded. This action cannot be undone. "),c(),l(5,"p"),u(6," Please confirm if you wish to proceed with the cancellation, or return to your work to preserve your progress. "),c()(),l(7,"mat-dialog-actions",1)(8,"button",2),z("click",function(){return n.onReturn()}),u(9,"No"),c(),l(10,"button",3),z("click",function(){return n.onConfirm()}),u(11,"Yes"),c()())},dependencies:[li,Zi,tn,en],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.return-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.return-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#fff}.confirm-btn[_ngcontent-%COMP%]:hover{background-color:#fbd008}"]})};var b6=0,tx=new yt("CdkAccordion"),rk=(()=>{class i{constructor(){this._stateChanges=new vt,this._openCloseAllActions=new vt,this.id=`cdk-accordion-${b6++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Ye]},exportAs:["cdkAccordion"],standalone:!0,features:[ft([{provide:tx,useExisting:i}]),qt,Ai]})}}return i})(),v6=0,ak=(()=>{class i{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,n,r){this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=on.EMPTY,this.closed=new Ge,this.opened=new Ge,this.destroyed=new Ge,this.expandedChange=new Ge,this.id=`cdk-accordion-child-${v6++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(n){return new(n||i)(k(tx,12),k(xt),k(Au))}}static{this.\u0275dir=Ze({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Ye],disabled:[2,"disabled","disabled",Ye]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[ft([{provide:tx,useValue:void 0}]),qt]})}}return i})(),ok=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({})}}return i})();var _6=["body"],y6=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],x6=["mat-expansion-panel-header","*","mat-action-row"];function C6(i,t){}var w6=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],S6=["mat-panel-title","mat-panel-description","*"];function M6(i,t){if(i&1&&(l(0,"span",1),xi(),l(1,"svg",2),F(2,"path",3),c()()),i&2){let e=P();C("@indicatorRotate",e._getExpandedState())}}var ix=new yt("MAT_ACCORDION"),sk="225ms cubic-bezier(0.4,0.0,0.2,1)",ck={indicatorRotate:En("indicatorRotate",[Di("collapsed, void",Et({transform:"rotate(0deg)"})),Di("expanded",Et({transform:"rotate(180deg)"})),_i("expanded <=> collapsed, void => collapsed",Ci(sk))]),bodyExpansion:En("bodyExpansion",[Di("collapsed, void",Et({height:"0px",visibility:"hidden"})),Di("expanded",Et({height:"*",visibility:""})),_i("expanded <=> collapsed, void => collapsed",Ci(sk))])},dk=new yt("MAT_EXPANSION_PANEL"),k6=(()=>{class i{constructor(e,n){this._template=e,this._expansionPanel=n}static{this.\u0275fac=function(n){return new(n||i)(k(tr),k(dk,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return i})(),D6=0,uk=new yt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),nx=(()=>{class i extends ak{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,n,r,a,o,s,d){super(e,n,r),this._viewContainerRef=a,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new Ge,this.afterCollapse=new Ge,this._inputChanges=new vt,this._headerId=`mat-expansion-panel-header-${D6++}`,this.accordion=e,this._document=o,this._animationsDisabled=s==="NoopAnimations",d&&(this.hideToggle=d.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Qi(null),ii(()=>this.expanded&&!this._portal),Mi(1)).subscribe(()=>{this._portal=new Sl(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_animationStarted(e){!lk(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){lk(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(n){return new(n||i)(k(ix,12),k(xt),k(Au),k(Qr),k(Bn),k(dr,8),k(uk,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,a){if(n&1&&bt(a,k6,5),n&2){let o;be(o=ve())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(n&1&&Ue(_6,5),n&2){let a;be(a=ve())&&(r._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){n&2&&Qe("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Ye],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[ft([{provide:ix,useValue:void 0},{provide:dk,useExisting:i}]),qt,ki,Ai,ye],ngContentSelectors:x6,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){if(n&1){let a=ge();Xt(y6),rt(0),l(1,"div",1,0),z("@bodyExpansion.start",function(s){return q(a),W(r._animationStarted(s))})("@bodyExpansion.done",function(s){return q(a),W(r._animationDone(s))}),l(3,"div",2),rt(4,1),I(5,C6,0,0,"ng-template",3),c(),rt(6,2),c()}n&2&&(b(),C("@bodyExpansion",r._getExpandedState())("id",r.id),at("aria-labelledby",r._headerId),b(4),C("cdkPortalOutlet",r._portal))},dependencies:[Ml],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[ck.bodyExpansion]},changeDetection:0})}}return i})();function lk(i){return i.fromState==="void"}var rx=(()=>{class i{constructor(e,n,r,a,o,s,d){this.panel=e,this._element=n,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=s,this._parentChangeSubscription=on.EMPTY,this.tabIndex=0;let m=e.accordion?e.accordion._stateChanges.pipe(ii(h=>!!(h.hideToggle||h.togglePosition))):uu;this.tabIndex=parseInt(d||"")||0,this._parentChangeSubscription=Ni(e.opened,e.closed,m,e._inputChanges.pipe(ii(h=>!!(h.hideToggle||h.disabled||h.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(ii(()=>e._containsFocus())).subscribe(()=>r.focusVia(n,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:pr(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(n){return new(n||i)(k(nx,1),k(_t),k(to),k(xt),k(uk,8),k(dr,8),oa("tabindex"))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){n&1&&z("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),n&2&&(at("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Qn("height",r._getHeaderHeight()),Qe("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Wn(e)]},standalone:!0,features:[qt,ye],ngContentSelectors:S6,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){n&1&&(Xt(w6),l(0,"span",0),rt(1),rt(2,1),rt(3,2),c(),I(4,M6,3,1,"span",1)),n&2&&(Qe("mat-content-hide-toggle",!r._showToggle()),b(4),Tt(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[ck.indicatorRotate]},changeDetection:0})}}return i})(),mk=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0})}}return i})(),pk=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return i})(),hk=(()=>{class i extends rk{constructor(){super(...arguments),this._ownHeaders=new xl,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(Qi(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Su(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cr(i)))(r||i)}})()}static{this.\u0275dir=Ze({type:i,selectors:[["mat-accordion"]],contentQueries:function(n,r,a){if(n&1&&bt(a,rx,5),n&2){let o;be(o=ve())&&(r._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){n&2&&Qe("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",Ye],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[ft([{provide:ix,useExisting:i}]),qt,ki]})}}return i})(),S0=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,ok,Cg]})}}return i})();var A6=["input"],I6=["formField"],P6=["*"],fk=0,M0=class{constructor(t,e){this.source=t,this.value=e}},T6={provide:mc,useExisting:ba(()=>Bp),multi:!0},gk=new yt("MatRadioGroup"),O6=new yt("mat-radio-default-options",{providedIn:"root",factory:R6});function R6(){return{color:"accent",disabledInteractive:!1}}var Bp=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${fk++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Ge,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new M0(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static{this.\u0275fac=function(n){return new(n||i)(k(xt))}}static{this.\u0275dir=Ze({type:i,selectors:[["mat-radio-group"]],contentQueries:function(n,r,a){if(n&1&&bt(a,Qu,5),n&2){let o;be(o=ve())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",Ye],required:[2,"required","required",Ye],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ye]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[ft([T6,{provide:gk,useExisting:i}]),qt]})}}return i})(),Qu=(()=>{class i{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,a,o,s,d,m){this._elementRef=n,this._changeDetector=r,this._focusMonitor=a,this._radioDispatcher=o,this._defaultOptions=d,this._ngZone=Bt(ni),this._uniqueId=`mat-radio-${++fk}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Ge,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=Bt(cr),this._onInputClick=h=>{this.disabled&&this.disabledInteractive&&h.preventDefault()},this.radioGroup=e,this._noopAnimations=s==="NoopAnimations",this._disabledInteractive=d?.disabledInteractive??!1,m&&(this.tabIndex=Wn(m,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new M0(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,n;if(!e||!e.selected||this.disabled?n=this.tabIndex:n=e.selected===this?this.tabIndex:-1,n!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n,Vr(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===r&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static{this.\u0275fac=function(n){return new(n||i)(k(gk,8),k(_t),k(xt),k(to),k(Au),k(dr,8),k(O6,8),oa("tabindex"))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(n&1&&(Ue(A6,5),Ue(I6,7,_t)),n&2){let a;be(a=ve())&&(r._inputElement=a.first),be(a=ve())&&(r._rippleTrigger=a.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(n,r){n&1&&z("focus",function(){return r._inputElement.nativeElement.focus()}),n&2&&(at("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Qe("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",Ye],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Wn(e)],checked:[2,"checked","checked",Ye],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",Ye],required:[2,"required","required",Ye],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ye]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[qt,ye],ngContentSelectors:P6,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let a=ge();Xt(),l(0,"div",2,0)(2,"div",3)(3,"div",4),z("click",function(s){return q(a),W(r._onTouchTargetClick(s))}),c(),l(4,"input",5,1),z("change",function(s){return q(a),W(r._onInputInteraction(s))}),c(),l(6,"div",6),F(7,"div",7)(8,"div",8),c(),l(9,"div",9),F(10,"div",10),c()(),l(11,"label",11),rt(12),c()()}n&2&&(C("labelPosition",r.labelPosition),b(2),Qe("mdc-radio--disabled",r.disabled),b(2),C("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),at("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),b(5),C("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),b(2),C("for",r.inputId))},dependencies:[Ns,hg],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return i})(),k0=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,Dt,Du,Qu,$t]})}}return i})();function N6(i,t){i&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),xi(),l(4,"svg",5),F(5,"path",6),c()(),Rr(),l(6,"div",7)(7,"h3"),u(8,"ACCESS RESTRICTED"),c(),l(9,"p"),u(10,"Construction Zone - Active Subscription Required"),c()()(),l(11,"div",8),F(12,"div",9),l(13,"div",10)(14,"h4"),u(15,"\u{1F6A7} SUBSCRIPTION REQUIRED"),c(),l(16,"p"),u(17,"You need an active subscription to create new construction job quotes."),c(),l(18,"p"),u(19,"Subscribe now to access all ProBuild AI features and start generating professional quotes."),c(),l(20,"div",11)(21,"h5"),u(22,"Restricted Features:"),c(),l(23,"ul")(24,"li"),u(25,"\u2022 Create New Job Quotes"),c(),l(26,"li"),u(27,"\u2022 Generate Construction Estimates"),c(),l(28,"li"),u(29,"\u2022 Access AI-Powered Analysis"),c(),l(30,"li"),u(31,"\u2022 Upload Project Documents"),c()()(),l(32,"a",12),xi(),l(33,"svg",13),F(34,"path",14),c(),u(35," Subscribe Now "),c()()(),Rr(),l(36,"div",15),F(37,"div",16),c()()())}var D0=class i{subscriptionActive=!1;isLoading=!0;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-subscription-warning"]],inputs:{subscriptionActive:"subscriptionActive",isLoading:"isLoading"},standalone:!0,features:[ye],decls:1,vars:1,consts:[["class","subscription-warning-container",4,"ngIf"],[1,"subscription-warning-container"],[1,"construction-warning"],[1,"warning-header"],[1,"warning-icon"],["viewBox","0 0 24 24",1,"warning-triangle"],["d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"],[1,"warning-title"],[1,"warning-body"],[1,"warning-stripe"],[1,"warning-content"],[1,"restricted-features"],["href","/profile",1,"subscribe-button"],["viewBox","0 0 24 24",1,"button-icon"],["d","M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"],[1,"warning-footer"],[1,"caution-tape"]],template:function(e,n){e&1&&I(0,N6,38,0,"div",0),e&2&&C("ngIf",!n.subscriptionActive&&!n.isLoading)},dependencies:[Dt,Pt],styles:['@charset "UTF-8";.subscription-warning-container[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem;display:flex;justify-content:center}.construction-warning[_ngcontent-%COMP%]{--stripe-width: 20px;--stripe-total: 40px;background:linear-gradient(135deg,#fff3cd,#fdf6e3);border:3px solid #ffd700;border-radius:12px;box-shadow:0 8px 24px #00000026;overflow:hidden;max-width:800px;width:100%;position:relative}.warning-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1.5rem 2rem 1rem;background:linear-gradient(135deg,gold,#fbc02d);position:relative}.warning-icon[_ngcontent-%COMP%]{margin-right:1.5rem}.warning-icon[_ngcontent-%COMP%]   .warning-triangle[_ngcontent-%COMP%]{width:48px;height:48px;fill:#d84315;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.3));animation:_ngcontent-%COMP%_pulse 2s infinite}.warning-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:#000;margin:0;text-transform:uppercase;letter-spacing:2px;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.warning-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#333;margin:.25rem 0 0;font-weight:600}.warning-body[_ngcontent-%COMP%]{position:relative;padding:2rem;background:#fff}.warning-body[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;width:297px;height:100px;background:repeating-linear-gradient(45deg,gold,gold 20px,#000 20px 40px);clip-path:polygon(20px 0%,100% 0%,100% 100%,0% 100%);z-index:1;background-position:0 0}.warning-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-left:0}.warning-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.4rem;color:#d84315;margin:0 0 1rem;font-weight:800;text-transform:uppercase;letter-spacing:1px}.warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin:0 0 1rem;line-height:1.6}.restricted-features[_ngcontent-%COMP%]{background:#f8f9fa;border-left:4px solid #ffd700;padding:1.5rem;margin:1.5rem 0;border-radius:0 8px 8px 0}.restricted-features[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin:0 0 1rem;font-weight:700;text-transform:uppercase}.restricted-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.restricted-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#666;margin:.5rem 0;font-weight:500;position:relative;padding-left:1rem}.restricted-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f512";position:absolute;left:0;top:0}.subscribe-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:linear-gradient(135deg,#fbd008,#f57f17);color:#000;padding:1rem 2rem;border-radius:8px;text-decoration:none;font-weight:700;font-size:1.1rem;text-transform:uppercase;letter-spacing:1px;box-shadow:0 4px 12px #fbd00866;transition:all .3s ease;border:2px solid #000000}.subscribe-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:.75rem;fill:currentColor}.subscribe-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f57f17,#fbd008);transform:translateY(-2px);box-shadow:0 6px 16px #fbd00899;color:#000;text-decoration:none}.warning-footer[_ngcontent-%COMP%]{position:relative;height:12px;background:#333}.caution-tape[_ngcontent-%COMP%]{height:100%;background:repeating-linear-gradient(45deg,#ffd700,#ffd700 var(--stripe-width),#000000 var(--stripe-width),#000000 var(--stripe-total));background-position:0 0}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@media (max-width: 768px){.construction-warning[_ngcontent-%COMP%]{margin:0 1rem}.warning-header[_ngcontent-%COMP%]{padding:1rem;flex-direction:column;text-align:center}.warning-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{margin:0 0 1rem}.warning-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-left:0}.warning-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.4rem;color:#d84315;margin:0 0 1rem;font-weight:800;text-transform:uppercase;letter-spacing:1px}.warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin:0 0 1rem;line-height:1.6}.subscribe-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;width:100%;justify-content:center}}']})};var Uo=class i{constructor(t,e){this.http=t;this.authService=e}apiUrl=`${St.BACKEND_URL}/quotes`;getHeaders(){let t=this.authService.getToken();return new Jr(Ct({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{}))}saveQuote(t){return console.log("Saving quote to:",this.apiUrl,"with data:",t),this.http.post(this.apiUrl,t,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error saving quote:",e),si(()=>new Error("Failed to save quote data.")))))}getQuote(t){return this.http.get(`${this.apiUrl}/GetQuote/${t}`,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error loading quote:",e),si(()=>new Error("Failed to load quote data.")))))}getAllQuotes(){let t=this.authService.currentUserSubject.value?.id;return this.http.get(`${this.apiUrl}/GetQuotes/${t}`,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error fetching quotes:",e),si(()=>new Error("Failed to fetch quotes.")))))}updateQuote(t){return console.log("Updating quote at:",`${this.apiUrl}/${t.id}`,"with data:",t),this.http.post(`${this.apiUrl}/UpdateQuote/${t.id}`,t,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error updating quote:",e),si(()=>new Error("Failed to update quote data.")))))}getJobQuotes(t){return this.http.get(`${this.apiUrl}/GetJobQuotes/${t}`)}getQuotesByUser(t){return this.http.get(`${this.apiUrl}/GetJobQuotesByUserId/${t}`)}saveQuoteWithVersion(t){return this.http.post(`${this.apiUrl}/SaveQuoteWithVersion`,t)}changeStatus(t,e){return this.http.post(`${this.apiUrl}/ChangeStatus/${t}`,JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(hi))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var F6=St.BACKEND_URL,E0=class i{constructor(t){this.http=t}performAnalysis(t){let e=new Jr().set("Content-Type","application/json");return this.http.post(`${F6}/Ai/perform-selected`,t,{headers:e})}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var j6=["addressInput"],B6=["fileInput"],V6=["folderInput"],z6=()=>({standalone:!0}),H6=(i,t,e)=>({published:i,discarded:t,draft:e});function U6(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function q6(i,t){if(i&1){let e=ge();l(0,"tr",99)(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),u(8),dt(9,"date"),c(),l(10,"td")(11,"button",100),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.loadJob(r.id))}),u(12,"View"),c()()()}if(i&2){let e=t.$implicit;C("ngClass",ES(8,H6,e.status==="PUBLISHED",e.status==="DISCARDED",e.status==="NEW")),b(2),xe(e.projectName),b(2),xe(e.jobType),b(2),xe(e.status),b(2),xe(yn(9,5,e.desiredStartDate,"yyyy-MM-dd"))}}function W6(i,t){if(i&1&&(l(0,"div",96)(1,"div",97)(2,"table")(3,"thead")(4,"tr")(5,"th"),u(6,"Project"),c(),l(7,"th"),u(8,"Job Type"),c(),l(9,"th"),u(10,"Job Status"),c(),l(11,"th"),u(12,"Start Date"),c(),F(13,"th"),c()(),l(14,"tbody"),I(15,q6,13,12,"tr",98),c()()()()),i&2){let e=P();b(15),C("ngForOf",e.jobList)}}function G6(i,t){i&1&&(l(0,"div",101),u(1," No more jobs to display. "),c())}function $6(i,t){if(i&1){let e=ge();l(0,"tr",103)(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),dt(7,"date"),c(),l(8,"td"),u(9),c(),l(10,"td")(11,"button",100),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.openQuote(r.id))}),u(12," View "),c()()()}if(i&2){let e=t.$implicit;b(2),xe(e.number||"N/A"),b(2),xe(e.createdBy||"Unknown"),b(2),xe(yn(7,4,e.createdDate,"yyyy-MM-dd")),b(3),Ce("$",e.total.toFixed(2),"")}}function Y6(i,t){if(i&1&&(l(0,"div",96)(1,"div",97)(2,"table")(3,"thead")(4,"tr")(5,"th"),u(6,"Quote #"),c(),l(7,"th"),u(8,"Created By"),c(),l(9,"th"),u(10,"Date"),c(),l(11,"th"),u(12,"Total"),c(),F(13,"th"),c()(),l(14,"tbody"),I(15,$6,13,7,"tr",102),c()()()()),i&2){let e=P();b(15),C("ngForOf",e.activeBidsDataSource.data)}}function Q6(i,t){i&1&&(l(0,"div",101),u(1," No active bids to display. "),c())}function J6(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function K6(i,t){if(i&1&&(l(0,"mat-option",104),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e.description," ")}}function X6(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Address is required "),c())}function Z6(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: First name is required. "),c())}function e8(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Last name is required. "),c())}function t8(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Email address is required. "),c())}function i8(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function n8(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function r8(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function a8(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function o8(i,t){if(i&1&&(l(0,"div",105)(1,"p",106),u(2),c()()),i&2){let e=P();b(),C("matTooltip",e.userContextFile.name),b(),Ce(" ",e.userContextFile.name," uploaded successfully ")}}function s8(i,t){if(i&1&&(l(0,"mat-option",104),u(1),c()),i&2){let e=t.$implicit;C("value",e.id),b(),Ce(" ",e.promptName," ")}}function l8(i,t){if(i&1&&(l(0,"div",20)(1,"mat-form-field",21)(2,"mat-label"),u(3,"Select Prompts"),c(),l(4,"mat-select",107),I(5,s8,2,2,"mat-option",25),dt(6,"async"),c()()()),i&2){let e=P();b(4),C("formControl",e.selectedPrompts),b(),C("ngForOf",Wt(6,2,e.availablePrompts$))}}function c8(i,t){i&1&&(l(0,"span"),u(1,"Analyze"),c())}function d8(i,t){i&1&&(l(0,"span"),u(1,"Analyzing..."),c())}function u8(i,t){if(i&1&&(l(0,"div",108)(1,"p"),u(2),c(),F(3,"mat-progress-bar",109),c()),i&2){let e=P();b(2),Ce("Upload Progress: ",e.progress,"%"),b(),C("value",e.progress)}}function m8(i,t){if(i&1&&(l(0,"div",110)(1,"p",106),u(2),c()()),i&2){let e=P();b(),C("matTooltip",e.getUploadedFileNames()),b(),Ce(" ",e.uploadedFileInfos.length," file(s) uploaded successfully ")}}function p8(i,t){if(i&1){let e=ge();l(0,"div",111)(1,"div",112)(2,"p"),u(3),c(),l(4,"button",18),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var ox=St.BACKEND_URL,h8=St.Google_API,Vp=class i{constructor(t,e,n,r,a,o,s,d,m,h,v,_,g){this.formBuilder=t;this.jobService=e;this.httpClient=n;this.datePipe=r;this.platformId=a;this.router=o;this.dialog=s;this.authService=d;this.quoteService=m;this.fileUploadService=h;this.analysisService=v;this.aiChatService=_;this.aiChatStateService=g;this.jobCardForm=new pc({}),this.isBrowser=sa(this.platformId);let D=["SYSTEM_COMPREHENSIVE_ANALYSIS"];this.availablePrompts$=this.aiChatStateService.prompts$.pipe(bi(E=>E.filter(S=>!D.includes(S.promptKey))))}addressInput;fileInput;folderInput;showAlert=!1;alertMessage="";routeURL="";jobCardForm;isLoading=!1;jobListFull=[];jobList=[];pageSize=99999;currentPage=1;isBrowser;selectedUnit="sq ft";progress=0;isUploading=!1;subscriptionActive=!1;sessionId="";hubConnection;uploadedFileInfos=[];userContextFile=null;autocompleteService;options=[];addressControl=new ya("",[et.required]);selectedPlace=null;isGoogleMapsLoaded=!1;activeBidsDataSource=new ca;activeBidColumns=["number","createdBy","createdDate","total","actions"];analysisType="Comprehensive";availablePrompts$;selectedPrompts=new ya([]);analysisReport=null;isAnalyzing=!1;ngOnInit(){return Yr(this,null,function*(){if(this.sessionId=us(),console.log("Generated sessionId:",this.sessionId),this.jobCardForm=this.formBuilder.group({projectName:["",et.required],date:["",et.required],jobType:[""],quantity:[""],wallStructure:[""],wallInsulation:[""],roofStructure:[""],roofInsulation:[""],foundation:[""],finishes:[""],electricalSupply:[""],stories:[""],buildingSize:[""],address:["",et.required],blueprint:new ya,firstName:["",et.required],lastName:["",et.required],email:["",[et.required,et.email]],phone:["",et.required],company:[""],position:[""],userContextText:[""],generateDetailsWithAi:[!1]}),this.jobCardForm.get("generateDetailsWithAi")?.valueChanges.subscribe(t=>{["jobType","quantity","wallStructure","wallInsulation","roofStructure","roofInsulation","foundation","finishes","electricalSupply","stories","buildingSize"].forEach(n=>{let r=this.jobCardForm.get(n);t?(r?.clearValidators(),r?.disable()):(r?.setValidators([et.required]),r?.enable()),r?.updateValueAndValidity()})}),this.hubConnection=new _c().withUrl("https://probuildai-backend.wonderfulgrass-0f331ae8.centralus.azurecontainerapps.io/progressHub",{accessTokenFactory:()=>localStorage.getItem("authToken")||""}).withAutomaticReconnect().configureLogging(Ru.Debug).build(),this.hubConnection.on("ReceiveProgress",t=>{let e=Math.min(100,t);this.progress=Math.min(100,50+Math.round(e*50/100)),console.log(`Server-to-Azure Progress: ${this.progress}% (Raw SignalR: ${e}%)`)}),this.hubConnection.on("UploadComplete",t=>{this.isUploading=!1,console.log(`Server-to-Azure upload complete. Total ${this.uploadedFileInfos.length} file(s) uploaded.`),console.log("Current uploadedFileInfos:",this.uploadedFileInfos)}),this.authService.currentUser$.pipe(ii(t=>!!t),Mi(1),Fi(t=>this.httpClient.get(`${ox}/Account/has-active-subscription/${t.id}`))).subscribe({next:t=>{this.subscriptionActive=t.hasActive,t.hasActive||(this.alertMessage="You do not have an active subscription. Please subscribe to create a job quote.")},error:t=>{console.error("Subscription check failed",t),this.alertMessage="Unable to verify subscription. Try again later.",this.showAlert=!0,this.router.navigate(["/dashboard"])}}),this.isBrowser)try{yield this.loadGoogleMapsScript(),this.isGoogleMapsLoaded=!0,this.autocompleteService=new google.maps.places.AutocompleteService,console.log("Google Maps API loaded successfully")}catch(t){console.error("Error loading Google Maps API:",t),this.isGoogleMapsLoaded=!1}this.isBrowser&&this.authService.currentUser$.pipe(ii(t=>!!t),Mi(1),Fi(t=>t&&t.id?(this.isLoading=!0,t.inviterId?this.jobService.getAssignedJobsForTeamMember(t.id):this.jobService.getAllJobsByUserId(t.id)):wt([]))).subscribe({next:t=>{t&&(this.jobListFull=t,this.loadJobs()),this.isLoading=!1},error:t=>{console.error("Error fetching jobs:",t),this.isLoading=!1}}),this.loadActiveBids(),this.aiChatService.getMyPrompts()})}ngAfterViewInit(){return Yr(this,null,function*(){if(!this.isBrowser||!this.addressInput?.nativeElement){console.error("addressInput is not available or not running in browser");return}if(!this.isGoogleMapsLoaded)try{yield this.loadGoogleMapsScript(),this.isGoogleMapsLoaded=!0}catch(t){console.error("Failed to load Google Maps API:",t);return}if(!this.addressInput?.nativeElement){console.error("addressInput element is not available");return}this.addressControl.valueChanges.subscribe(t=>{typeof t=="string"&&t.trim()?new google.maps.places.AutocompleteService().getPlacePredictions({input:t},(n,r)=>{r===google.maps.places.PlacesServiceStatus.OK&&n?this.options=n.map(a=>({description:a.description,place_id:a.place_id})):this.options=[]}):this.options=[]})})}ngOnDestroy(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(t=>console.error("Error stopping SignalR:",t))}loadGoogleMapsScript(){return new Promise((t,e)=>{if(typeof google<"u"&&google.maps){t();return}let n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${St.Google_API}&libraries=places`,n.async=!0,n.defer=!0,n.onload=()=>{typeof google<"u"&&google.maps?t():e(new Error("Google Maps API script loaded but google object is not defined"))},n.onerror=r=>{console.error("Google Maps script failed to load:",r),e(r)},document.head.appendChild(n)})}getPlacePredictions(t){if(!t||!this.autocompleteService)return Promise.resolve([]);let e=this.autocompleteService;return new Promise(n=>{e.getPlacePredictions({input:t},(r,a)=>{a===google.maps.places.PlacesServiceStatus.OK&&r?n(r):(n([]),console.warn("Place predictions failed with status:",a))})})}onAddressSelected(t){let e=t.option.value;console.log("Selected address:",e),this.selectedPlace=e,this.addressControl.setValue(e.description),this.jobCardForm.get("address")?.setValue(e.description);let n=e.place_id;if(console.log("Extracted placeId:",n),!n){console.error("Invalid or missing placeId:",n);return}new google.maps.places.PlacesService(this.addressInput.nativeElement).getDetails({placeId:n,fields:["name","formatted_address","geometry"]},(a,o)=>{o===google.maps.places.PlacesServiceStatus.OK&&a?console.log("Place details:",a):(console.warn("Place details failed with status:",o),o===google.maps.places.PlacesServiceStatus.INVALID_REQUEST&&console.error("Invalid placeId:",n))})}loadActiveBids(){let t=localStorage.getItem("userId");this.quoteService.getQuotesByUser(t??"").subscribe({next:e=>{this.activeBidsDataSource.data=e},error:e=>{console.error("Failed to load active bids",e),this.activeBidsDataSource.data=[]}})}displayFn(t){return t&&t.description?t.description:""}loadJobs(){let t=(this.currentPage-1)*this.pageSize,e=this.currentPage*this.pageSize;this.jobList=this.jobListFull.slice(t,e)}openQuote(t){console.log("Attempting to open quote with ID:",t),this.router.navigate(["/quote"],{queryParams:{quoteId:t}})}navigatePage(t){t==="prev"&&this.currentPage>1?this.currentPage--:t==="next"&&this.currentPage*this.pageSize<this.jobListFull.length&&this.currentPage++,this.loadJobs()}populateHouse(t){console.log(t),t==="wood"?this.jobCardForm.patchValue({wallStructure:"WOOD",wallInsulation:"FOAM",roofStructure:"TILES",roofInsulation:"FOAM",foundation:"RAISED"}):this.jobCardForm.patchValue({wallStructure:"BRICK",wallInsulation:"NONE",roofStructure:"TILES",roofInsulation:"LINING",foundation:"CONCRETE"})}onSubmit(){this.analysisType==="Comprehensive"?this.performComprehensiveAnalysis():this.performSelectedAnalysis()}performSaveJob(t){if(!this.isBrowser)return;localStorage.setItem("Subtasks",""),this.isLoading=!0,this.isUploading=!0;let e=localStorage.getItem("userId"),n=new FormData,r=this.jobCardForm.value,a=new Date(r.date).toISOString();if(n.append("DesiredStartDate",a),n.append("JobType",r.jobType),n.append("ProjectName",r.projectName),n.append("Qty",r.quantity),n.append("WallStructure",r.wallStructure),n.append("WallInsulation",r.wallInsulation),n.append("RoofStructure",r.roofStructure),n.append("RoofInsulation",r.roofInsulation),n.append("Foundation",r.foundation),n.append("Finishes",r.finishes),n.append("ElectricalSupplyNeeds",r.electricalSupply),n.append("Stories",r.stories),n.append("BuildingSize",r.buildingSize),n.append("OperatingArea","GreenField"),n.append("UserId",e??""),n.append("status","NEW"),n.append("address",r.address),n.append("firstName",r.firstName),n.append("lastName",r.lastName),n.append("email",r.email),n.append("phone",r.phone),n.append("company",r.company),n.append("position",r.position),n.append("sessionId",this.sessionId),n.append("temporaryFileUrls",JSON.stringify(this.uploadedFileInfos.map(o=>o.url))),n.append("userContextText",r.userContextText),this.userContextFile&&n.append("userContextFile",this.userContextFile,this.userContextFile.name),n.append("generateDetailsWithAi",r.generateDetailsWithAi),n.append("analysisType",this.analysisType),this.analysisType==="Selected"){let o=this.selectedPrompts.value;o&&o.length>0&&this.availablePrompts$.pipe(Mi(1)).subscribe(s=>{o.map(m=>s.find(h=>h.id===m)?.promptKey).filter(m=>!!m).forEach(m=>n.append("promptKeys",m))})}this.selectedPlace&&this.selectedPlace.place_id?new google.maps.places.PlacesService(this.addressInput.nativeElement).getDetails({placeId:this.selectedPlace.place_id,fields:["geometry","formatted_address","address_components","types"]},(s,d)=>{if(console.log("Place details status:",d),d===google.maps.places.PlacesServiceStatus.OK&&s){console.log("Google Maps place details:",s),console.log("Geometry:",s.geometry),console.log("Location:",s.geometry?.location);let m=s.geometry?.location?.lat?s.geometry.location.lat():void 0,h=s.geometry?.location?.lng?s.geometry.location.lng():void 0;console.log("Latitude:",m,"Longitude:",h),n.set("address",s.formatted_address||r.address);let v="",_="",g="",D="",E="",S="";s.address_components&&s.address_components.forEach(w=>{let O=w.types;O.includes("street_number")&&(v=w.long_name),O.includes("route")&&(_=w.long_name),O.includes("locality")&&(g=w.long_name),O.includes("administrative_area_level_1")&&(D=w.short_name),O.includes("postal_code")&&(E=w.long_name),O.includes("country")&&(S=w.long_name)}),n.append("streetNumber",v),n.append("streetName",_),n.append("city",g),n.append("state",D),n.append("postalCode",E),n.append("country",S),m!==void 0&&h!==void 0?(console.log("Appending latitude and longitude to FormData:",m,h),n.append("latitude",m.toString()),n.append("longitude",h.toString()),n.append("googlePlaceId",this.selectedPlace.place_id),this.submitFormData(n,t)):(console.warn("Latitude or Longitude undefined for place_id:",this.selectedPlace.place_id),console.warn("Place types:",s.types),n.append("googlePlaceId",this.selectedPlace.place_id),console.log("Falling back to Geocoding API for address:",r.address),this.httpClient.get("https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(formValue.address)}&key="+h8).subscribe({next:w=>{if(w.status==="OK"&&w.results&&w.results.length>0){let O=w.results[0].geometry.location,G=O.lat,ee=O.lng;console.log("Geocoding API returned - Latitude:",G,"Longitude:",ee),n.append("latitude",G.toString()),n.append("longitude",ee.toString()),this.submitFormData(n,t)}else console.error("Geocoding API failed:",w.status),this.submitFormData(n,t)},error:w=>{console.error("Geocoding API error:",w),this.submitFormData(n,t)}}))}else console.warn("Failed to fetch place details for lat/long:",d),this.submitFormData(n,t)}):this.submitFormData(n,t)}submitFormData(t,e){this.progress=0,this.httpClient.post(`${ox}/Jobs`,t,{headers:new Jr,reportProgress:!0,observe:"events"}).pipe(mu(3e5)).subscribe({next:n=>{if(n.type===Cu.UploadProgress&&n.total)this.progress=Math.round(50*n.loaded/n.total),console.log(`Client-to-API Progress: ${this.progress}% (Loaded: ${n.loaded}, Total: ${n.total})`);else if(n.type===Cu.Response){console.log("Upload to API complete:",n.body),this.isLoading=!1;let r=n.body;if(r)if(e)e(r);else{let a=Ct({jobId:r.id,operatingArea:r.operatingArea,address:r.address,documents:r.documents,latitude:r.latitude,longitude:r.longitude},this.jobCardForm.value);this.alertMessage="Job Quote Creation Successful",this.showAlert=!0,this.uploadedFileInfos=[],this.dialog.closeAll(),this.router.navigate(["view-quote"],{queryParams:a})}}},error:n=>{this.isLoading=!1,this.isUploading=!1,console.error("Upload error:",n),this.progress=0},complete:()=>console.log("Client-to-API upload complete")})}loadJob(t){this.jobService.getSpecificJob(t).subscribe(e=>{let n=new Date(e.desiredStartDate),r=this.datePipe.transform(n,"MM/dd/yyyy"),a={jobId:e.jobId,operatingArea:e.operatingArea,address:e.address,projectName:e.projectName,jobType:e.jobType,buildingSize:e.buildingSize,wallStructure:e.wallStructure,wallInsulation:e.wallInsulation,roofStructure:e.roofStructure,roofInsulation:e.roofInsulation,electricalSupply:e.electricalSupply,finishes:e.finishes,foundation:e.foundation,date:r,documents:e.documents,latitude:e.latitude,longitude:e.longitude};this.router.navigate(["view-quote"],{queryParams:a})})}updateConvertedValue(t){let e=parseFloat(t);if(isNaN(e)){console.log("Invalid input, no conversion");return}console.log("Converted value updated:",e,this.selectedUnit)}onUnitChange(t){console.log("Unit changed to:",t);let e=this.jobCardForm.value.buildingSize;if(this.selectedUnit=t,!e||isNaN(parseFloat(e))){console.log("No valid value to convert");return}let n=parseFloat(e),r;if(this.selectedUnit==="sq m")r=n*.092903,console.log(`Converting ${n} sq ft to ${r} sq m`);else if(this.selectedUnit==="sq ft")r=n*10.7639,console.log(`Converting ${n} sq m to ${r} sq ft`);else{console.log("No conversion needed"),this.selectedUnit=t;return}this.jobCardForm.get("buildingSize")?.setValue(r.toFixed(2),{emitEvent:!0}),this.selectedUnit=t}onCancel(){this.dialog.open(w0,{width:"400px",panelClass:"custom-dialog-container",disableClose:!0}).afterClosed().subscribe(e=>{e===!0&&(console.log("Cancel clicked. Files to be deleted:",this.uploadedFileInfos.map(n=>n.url)),this.jobCardForm.reset(),this.uploadedFileInfos=[],this.sessionId=us(),this.router.navigate(["/dashboard"]))})}deleteTemporaryFiles(){let t=this.uploadedFileInfos.map(e=>e.url);t.length!==0&&this.httpClient.post(`${ox}/Jobs/DeleteTemporaryFiles`,{blobUrls:t}).subscribe({next:()=>{this.uploadedFileInfos=[]},error:e=>{console.error("Error deleting temporary files:",e),this.uploadedFileInfos=[]}})}documents=[];error="";documentsConfirmed=!1;fetchDocuments(){if(!this.uploadedFileInfos||this.uploadedFileInfos.length===0){this.error="No uploaded documents available.",this.documents=[];return}this.documents=this.uploadedFileInfos.map(t=>Ti(Ct({},t),{displayName:this.getDisplayName(t.name)})),this.isLoading=!1}getDisplayName(t){let e=t.lastIndexOf(".");return e>0?t.substring(0,e):t}getUploadedFileNames(){return this.uploadedFileInfos.map(t=>t.name).join(", ")}openUploadDialog(){this.fileUploadService.openUploadOptionsDialog().subscribe(t=>{t==="files"?this.fileInput.nativeElement.click():t==="folder"&&this.folderInput.nativeElement.click()})}onFileSelected(t){let e=t.target;if(!e?.files?.length)return;let n=Array.from(e.files);this.fileUploadService.uploadFiles(n,this.sessionId).subscribe(r=>{this.progress=r.progress,this.isUploading=r.isUploading,r.files&&(this.uploadedFileInfos=[...this.uploadedFileInfos,...r.files])})}onUserContextFileSelected(t){let e=t.target;e?.files?.length&&(this.userContextFile=e.files[0])}getFileSize(t){try{return 840*1024}catch(e){return console.error("Error fetching file size:",e),0}}viewDocument(t){let e=t.url;this.jobService.downloadJobDocumentFile(e).subscribe({next:n=>{let r=t.type;console.log("Content Type:",r);let a=new Blob([n],{type:r}),o=window.URL.createObjectURL(a);window.open(o,"_blank")?setTimeout(()=>window.URL.revokeObjectURL(o),1e4):console.error("Failed to open new tab")},error:n=>{console.error("Error viewing document:",n)}})}close(){this.dialog.closeAll()}closeAlert(){this.routeURL!==""&&this.router.navigate(["view-quote"]),this.showAlert=!1}confirmDialog(){this.performSaveJob()}performComprehensiveAnalysis(){this.performSaveJob()}performSelectedAnalysis(){let t=this.selectedPrompts.value;if(!t||t.length===0){this.alertMessage="Please select at least one prompt for the analysis.",this.showAlert=!0;return}this.performSaveJob()}viewUploadedFiles(){let t=this.uploadedFileInfos.map((e,n)=>({id:n,fileName:e.name,blobUrl:e.url,type:e.type,sessionId:this.sessionId,jobId:0,uploadedAt:new Date().toISOString(),displayName:this.getDisplayName(e.name),size:e.size}));this.fileUploadService.viewUploadedFiles(t)}static \u0275fac=function(e){return new(e||i)(k(Cn),k(An),k(Gt),k(Gi),k(va),k(Ii),k(pn),k(hi),k(Uo),k(Ou),k(E0),k(Sg),k(gc))};static \u0275cmp=fe({type:i,selectors:[["app-job-quote"]],viewQuery:function(e,n){if(e&1&&(Ue(j6,5),Ue(B6,5),Ue(V6,5)),e&2){let r;be(r=ve())&&(n.addressInput=r.first),be(r=ve())&&(n.fileInput=r.first),be(r=ve())&&(n.folderInput=r.first)}},standalone:!0,features:[ft([ku(),Gi]),ye],decls:254,vars:44,consts:[["addressInput",""],["auto","matAutocomplete"],["picker",""],["userContextFileInput",""],["fileInput",""],["folderInput",""],[4,"ngIf"],[1,"row","job-quote-container"],[3,"subscriptionActive","isLoading"],[1,"col-md-4","form-col"],[1,"project-card"],["class","job-list-container",4,"ngIf"],["class","no-more-jobs",4,"ngIf"],[1,"project-card-bids","mt-3"],[1,"col-md-8-job-quote"],[1,"job-quote-card"],[1,"mat-primary"],[1,"house-options","d-flex","justify-content-center"],["mat-raised-button","",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","fill"],["matInput","","formControlName","projectName","placeholder"," "],["matInput","","placeholder","Enter an address",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"panel-wrapper"],["multi",""],[3,"expanded"],["matInput","","formControlName","firstName","placeholder"," "],["matInput","","formControlName","lastName","placeholder"," "],["matInput","","formControlName","email","placeholder"," "],["matInput","","formControlName","phone","placeholder"," "],["matInput","","formControlName","company","placeholder"," "],["matInput","","formControlName","position","placeholder"," "],[3,"expanded","disabled"],["formControlName","generateDetailsWithAi","matTooltip","When selected, the AI will generate the job details based on the provided context. The job detail fields will be disabled."],["formControlName","jobType"],["value","HOUSE"],["value","COMPLEX"],["value","ESTATE"],["value","COMMERCIAL"],["matInput","","type","number","formControlName","quantity","placeholder"," "],["matInput","","formControlName","date","readonly","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","wallStructure"],["value","BRICK"],["value","PRECAST"],["value","WOOD"],["formControlName","wallInsulation"],["value","NONE"],["value","FOAM"],["value","LINING"],["formControlName","roofStructure"],["value","SHEET"],["value","TILES"],["formControlName","roofInsulation"],["formControlName","foundation"],["value","CONCRETE"],["value","RAISED"],["value","FLOATING"],["formControlName","finishes"],["value","TRIM"],["matInput","","type","number","formControlName","electricalSupply","placeholder"," "],["matSuffix",""],["matInput","","type","number","formControlName","stories","placeholder"," "],[2,"display","flex","align-items","center"],["matInput","","type","number","formControlName","buildingSize","placeholder"," "],[2,"width","80px","margin-left","10px",3,"valueChange","selectionChange","value"],["value","sq ft"],["value","sq m"],["appearance","fill",1,"full-width"],["matInput","","formControlName","userContextText","placeholder","Provide any additional details, requirements, or context here. This information will be prioritized by the AI."],["for","userContextFile",1,"custom-file-upload-label"],["mat-raised-button","","type","button",1,"submit-btn",3,"click"],["src","assets/custom-svg/upload-folder-svgrepo-com.svg","alt","Upload Icon",1,"upload-icon"],["type","file","hidden","","id","userContextFile",3,"change"],["class","upload-complete",4,"ngIf"],[3,"ngModelChange","ngModel","ngModelOptions"],["value","Comprehensive"],["value","Selected"],["class","form-row",4,"ngIf"],[1,"form-row","button-row"],[1,"button-group"],[1,"button-wrapper",3,"matTooltip"],["mat-raised-button","","type","submit",1,"submit-btn",3,"disabled"],["mat-raised-button","","type","button",1,"submit-btn",3,"click","disabled"],["mat-raised-button","","type","button",1,"cancel-btn",3,"click"],[1,"upload-container"],["class","upload-progress",4,"ngIf"],[1,"custom-file-upload"],["class","upload-complete upload-success-message",4,"ngIf"],["type","button","mat-raised-button","",1,"submit-btn",3,"click"],["type","file","hidden","","multiple","",3,"change"],["type","file","hidden","","webkitdirectory","",3,"change"],["class","alert-overlay",4,"ngIf"],[1,"job-list-container"],[1,"job-list-scroll"],["class","data-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"data-row",3,"ngClass"],["mat-raised-button","",1,"View-btn","views-btn",3,"click"],[1,"no-more-jobs"],["class","data-row",4,"ngFor","ngForOf"],[1,"data-row"],[3,"value"],[1,"upload-complete"],["matTooltipPosition","above",3,"matTooltip"],["multiple","",3,"formControl"],[1,"upload-progress"],["mode","determinate",3,"value"],[1,"upload-complete","upload-success-message"],[1,"alert-overlay"],[1,"alert-modal"]],template:function(e,n){if(e&1){let r=ge();I(0,U6,2,0,"div",6),l(1,"div",7),F(2,"app-subscription-warning",8),l(3,"div",9)(4,"mat-card",10)(5,"mat-card-header")(6,"mat-card-title"),u(7,"YOUR JOBS"),c()(),l(8,"mat-card-content"),F(9,"mat-divider"),I(10,W6,16,1,"div",11)(11,G6,2,0,"div",12),c()(),l(12,"mat-card",13)(13,"mat-card-header")(14,"mat-card-title"),u(15,"ACTIVE BIDS"),c()(),l(16,"mat-card-content"),I(17,Y6,16,1,"div",11)(18,Q6,2,0,"div",12),c()()(),l(19,"div",14)(20,"mat-card",15)(21,"mat-card-header")(22,"mat-card-title"),u(23,"Create New Job"),c()(),l(24,"mat-card-content"),F(25,"mat-divider",16),l(26,"div",17)(27,"button",18),z("click",function(){return q(r),W(n.populateHouse("wood"))}),u(28,"Basic Wood House"),c(),l(29,"button",18),z("click",function(){return q(r),W(n.populateHouse("brick"))}),u(30,"Basic Brick House"),c()(),F(31,"br"),l(32,"form",19),z("ngSubmit",function(){return q(r),W(n.onSubmit())}),l(33,"div",20)(34,"mat-form-field",21)(35,"mat-label"),u(36,"Project Name"),c(),F(37,"input",22),I(38,J6,2,0,"mat-error",6),c(),l(39,"mat-form-field",21)(40,"mat-label"),u(41,"Address"),c(),F(42,"input",23,0),l(44,"mat-autocomplete",24,1),z("optionSelected",function(o){return q(r),W(n.onAddressSelected(o))}),I(46,K6,2,2,"mat-option",25),c(),I(47,X6,2,0,"mat-error",6),c()(),l(48,"div",26)(49,"mat-accordion",27)(50,"mat-expansion-panel",28)(51,"mat-expansion-panel-header")(52,"mat-panel-title"),u(53,"Client Details"),c(),l(54,"mat-panel-description"),u(55," Click to expand/collapse "),c()(),l(56,"div",20)(57,"mat-form-field",21)(58,"mat-label"),u(59,"First Name"),c(),F(60,"input",29),I(61,Z6,2,0,"mat-error",6),c(),l(62,"mat-form-field",21)(63,"mat-label"),u(64,"Last Name"),c(),F(65,"input",30),I(66,e8,2,0,"mat-error",6),c(),l(67,"mat-form-field",21)(68,"mat-label"),u(69,"Email"),c(),F(70,"input",31),I(71,t8,2,0,"mat-error",6),c()(),l(72,"div",20)(73,"mat-form-field",21)(74,"mat-label"),u(75,"Phone Number"),c(),F(76,"input",32),c(),l(77,"mat-form-field",21)(78,"mat-label"),u(79,"Company Name"),c(),F(80,"input",33),c(),l(81,"mat-form-field",21)(82,"mat-label"),u(83,"Position/Title"),c(),F(84,"input",34),c()()()()(),l(85,"div",26)(86,"mat-accordion",27)(87,"mat-expansion-panel",35)(88,"mat-expansion-panel-header")(89,"mat-panel-title"),u(90,"Job Details"),c(),l(91,"mat-panel-description"),u(92," Click to expand/collapse "),c()(),l(93,"div",20)(94,"mat-checkbox",36),u(95,"Generate Job Details with AI"),c()(),l(96,"div",20)(97,"mat-form-field",21)(98,"mat-label"),u(99,"Job Type"),c(),l(100,"mat-select",37)(101,"mat-option",38),u(102,"House"),c(),l(103,"mat-option",39),u(104,"Complex"),c(),l(105,"mat-option",40),u(106,"Estate"),c(),l(107,"mat-option",41),u(108,"Retail"),c()()(),l(109,"mat-form-field",21)(110,"mat-label"),u(111,"Quantity"),c(),F(112,"input",42),I(113,i8,2,0,"mat-error",6),c(),l(114,"mat-form-field")(115,"mat-label"),u(116,"Start Date"),c(),F(117,"input",43),l(118,"mat-hint"),u(119,"MM/DD/YYYY"),c(),F(120,"mat-datepicker-toggle",44)(121,"mat-datepicker",null,2),c()(),l(123,"div",20)(124,"mat-form-field",21)(125,"mat-label"),u(126,"Wall Structure"),c(),l(127,"mat-select",45)(128,"mat-option",46),u(129,"Bricks"),c(),l(130,"mat-option",47),u(131,"Precast"),c(),l(132,"mat-option",48),u(133,"Wood"),c()()(),l(134,"mat-form-field",21)(135,"mat-label"),u(136,"Wall Insulation"),c(),l(137,"mat-select",49)(138,"mat-option",50),u(139,"None"),c(),l(140,"mat-option",51),u(141,"Foam"),c(),l(142,"mat-option",52),u(143,"Lining"),c()()(),l(144,"mat-form-field",21)(145,"mat-label"),u(146,"Roof Structure"),c(),l(147,"mat-select",53)(148,"mat-option",54),u(149,"Sheet Metal"),c(),l(150,"mat-option",55),u(151,"Tiles"),c()()()(),l(152,"div",20)(153,"mat-form-field",21)(154,"mat-label"),u(155,"Roof Insulation"),c(),l(156,"mat-select",56)(157,"mat-option",51),u(158,"Foam"),c(),l(159,"mat-option",52),u(160,"Lining"),c()()(),l(161,"mat-form-field",21)(162,"mat-label"),u(163,"Foundation"),c(),l(164,"mat-select",57)(165,"mat-option",58),u(166,"Concrete"),c(),l(167,"mat-option",59),u(168,"Raised"),c(),l(169,"mat-option",60),u(170,"Floating"),c()()(),l(171,"mat-form-field",21)(172,"mat-label"),u(173,"Finishes"),c(),l(174,"mat-select",61)(175,"mat-option",48),u(176,"Wood"),c(),l(177,"mat-option",62),u(178,"Trim"),c()()()(),l(179,"div",20)(180,"mat-form-field",21)(181,"mat-label"),u(182,"Electrical Supply"),c(),F(183,"input",63),l(184,"span",64),u(185," KW"),c(),I(186,n8,2,0,"mat-error",6),c(),l(187,"mat-form-field",21)(188,"mat-label"),u(189,"Stories"),c(),F(190,"input",65),I(191,r8,2,0,"mat-error",6),c(),l(192,"mat-form-field",21)(193,"mat-label"),u(194,"Building Size"),c(),l(195,"div",66),F(196,"input",67),l(197,"mat-select",68),jn("valueChange",function(o){return q(r),Ln(n.selectedUnit,o)||(n.selectedUnit=o),W(o)}),z("selectionChange",function(o){return q(r),W(n.onUnitChange(o.value))}),l(198,"mat-option",69),u(199,"sq ft"),c(),l(200,"mat-option",70),u(201,"sq m"),c()()(),I(202,a8,2,0,"mat-error",6),c()()()()(),l(203,"div",26)(204,"mat-accordion",27)(205,"mat-expansion-panel")(206,"mat-expansion-panel-header")(207,"mat-panel-title"),u(208,"User Context"),c(),l(209,"mat-panel-description"),u(210," Provide additional context for the AI analysis "),c()(),l(211,"div",20)(212,"mat-form-field",71)(213,"mat-label"),u(214,"User Context"),c(),F(215,"textarea",72),c()(),l(216,"div",20)(217,"label",73)(218,"button",74),z("click",function(){q(r);let o=Vt(222);return W(o.click())}),F(219,"img",75),u(220," Upload Context File "),c()(),l(221,"input",76,3),z("change",function(o){return q(r),W(n.onUserContextFileSelected(o))}),c(),I(223,o8,3,2,"div",77),c()()()(),l(224,"div",20)(225,"mat-radio-group",78),jn("ngModelChange",function(o){return q(r),Ln(n.analysisType,o)||(n.analysisType=o),W(o)}),l(226,"mat-radio-button",79),u(227,"Full Blueprint Analysis"),c(),l(228,"mat-radio-button",80),u(229,"Selected Blueprint Analysis"),c()()(),I(230,l8,7,4,"div",81),l(231,"div",82)(232,"div",83)(233,"span",84)(234,"button",85),I(235,c8,2,0,"span",6)(236,d8,2,0,"span",6),c()(),l(237,"span",84)(238,"button",86),z("click",function(){return q(r),W(n.viewUploadedFiles())}),u(239," View Uploaded Files "),c()(),l(240,"button",87),z("click",function(){return q(r),W(n.onCancel())}),u(241,"Cancel"),c()(),l(242,"div",88),I(243,u8,4,2,"div",89),l(244,"div",90),I(245,m8,3,2,"div",91),l(246,"button",92),z("click",function(){return q(r),W(n.openUploadDialog())}),F(247,"img",75),u(248," Upload Blueprints "),c(),l(249,"input",93,4),z("change",function(o){return q(r),W(n.onFileSelected(o))}),c(),l(251,"input",94,5),z("change",function(o){return q(r),W(n.onFileSelected(o))}),c()()()()()()()()(),I(253,p8,6,1,"div",95)}if(e&2){let r,a,o,s,d,m,h,v,_,g=Vt(45),D=Vt(122);C("ngIf",n.isLoading),b(2),C("subscriptionActive",n.subscriptionActive)("isLoading",n.isLoading),b(8),C("ngIf",n.jobList.length>0),b(),C("ngIf",n.jobList.length==0),b(6),C("ngIf",n.activeBidsDataSource),b(),C("ngIf",!n.activeBidsDataSource||n.activeBidsDataSource.data.length===0),b(14),C("formGroup",n.jobCardForm),b(6),C("ngIf",(r=n.jobCardForm.get("projectName"))==null?null:r.hasError("required")),b(4),C("formControl",n.addressControl)("matAutocomplete",g),b(4),C("ngForOf",n.options),b(),C("ngIf",n.addressControl.hasError("required")&&n.addressControl.touched),b(3),C("expanded",!0),b(11),C("ngIf",(a=n.jobCardForm.get("firstName"))==null?null:a.hasError("required")),b(5),C("ngIf",(o=n.jobCardForm.get("lastName"))==null?null:o.hasError("required")),b(5),C("ngIf",(s=n.jobCardForm.get("email"))==null?null:s.hasError("email")),b(16),C("expanded",!0)("disabled",(d=n.jobCardForm.get("generateDetailsWithAi"))==null?null:d.value),b(26),C("ngIf",(m=n.jobCardForm.get("quantity"))==null?null:m.hasError("required")),b(4),C("matDatepicker",D),b(3),C("for",D),b(66),C("ngIf",(h=n.jobCardForm.get("electricalSupply"))==null?null:h.hasError("required")),b(5),C("ngIf",(v=n.jobCardForm.get("stories"))==null?null:v.hasError("required")),b(6),Fn("value",n.selectedUnit),b(5),C("ngIf",(_=n.jobCardForm.get("buildingSize"))==null?null:_.hasError("required")),b(21),C("ngIf",n.userContextFile),b(2),Fn("ngModel",n.analysisType),C("ngModelOptions",Ga(43,z6)),b(5),C("ngIf",n.analysisType==="Selected"),b(3),Qe("disabled-wrapper",n.jobCardForm.invalid||n.uploadedFileInfos.length===0),C("matTooltip",n.jobCardForm.invalid||n.uploadedFileInfos.length===0?"Please fill in all required fields and upload blueprints before analyzing.":""),b(),C("disabled",!n.subscriptionActive||n.isAnalyzing||n.uploadedFileInfos.length===0||n.jobCardForm.invalid),b(),C("ngIf",!n.isAnalyzing),b(),C("ngIf",n.isAnalyzing),b(),Qe("disabled-wrapper",n.uploadedFileInfos.length===0),C("matTooltip",n.uploadedFileInfos.length===0?"Blueprints need to be added before they can be viewed":""),b(),C("disabled",n.uploadedFileInfos.length===0),b(5),C("ngIf",n.isUploading),b(2),C("ngIf",!n.isUploading&&n.uploadedFileInfos.length>0),b(8),C("ngIf",n.showAlert)}},dependencies:[Dt,Nr,Ji,Pt,Os,Gi,Pi,mn,xn,Fs,pi,Ki,Ls,Xi,Vn,hn,Lr,Mn,xc,Ma,Hg,ro,hr,y0,ZM,_0,Zy,Bi,Li,nn,rn,ji,un,wn,xa,vi,Jn,Vi,gr,zt,Nt,js,vc,Fo,No,li,Ws,qs,cs,ea,S0,hk,nx,rx,pk,mk,zn,Da,ao,k0,Bp,Qu,fr,D0],styles:["body[_ngcontent-%COMP%]{overflow-y:auto;background-color:#fff}.page-center[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;padding:0 12px;margin-top:6rem}mat-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #61a0af;box-shadow:0 2px 4px #0000000d;border-radius:8px;padding:16px}.job-quote-container[_ngcontent-%COMP%]{width:100%;max-width:1700px;margin-top:2rem;display:grid;grid-template-columns:1fr 2fr;gap:24px}.form-col[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:24px}.col-md-8[_ngcontent-%COMP%]{flex:2;display:flex;justify-content:center}.project-card[_ngcontent-%COMP%]{width:100%;height:auto;min-height:300px}.project-card-bids[_ngcontent-%COMP%]{height:auto;min-height:150px}.job-quote-card[_ngcontent-%COMP%]{width:100%;height:auto;min-height:600px}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background-color:#fbd008;color:#000}th[_ngcontent-%COMP%]{background-color:#fbd008;color:#000;font-weight:500;padding:8px;text-align:left;border-bottom:2px solid #d9d9d9}tr[_ngcontent-%COMP%]{transition:background-color .3s ease}td[_ngcontent-%COMP%]{padding:8px;border:1px solid #d9d9d9;color:#000}tr[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.published[_ngcontent-%COMP%]{color:#083d77!important}.discarded[_ngcontent-%COMP%]{color:#da4167!important}.draft[_ngcontent-%COMP%]{color:#61a0af!important}.data-row-1[_ngcontent-%COMP%], .data-row-2[_ngcontent-%COMP%]{border:none}.table-button[_ngcontent-%COMP%]{padding:10px;background-color:#fbd008;border-radius:6px;border:none;transition:background-color .3s ease}.table-button[_ngcontent-%COMP%]:disabled{background-color:#e0e0e0;cursor:not-allowed}.table-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e6bf00}.icon[_ngcontent-%COMP%]{width:24px;height:24px}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc!important;color:#666!important;cursor:not-allowed;box-shadow:none}.document-meta[_ngcontent-%COMP%]{font-size:.85rem;color:#333}.document-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.document-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.documents-list[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:.5rem}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#61a0af;border-radius:3px}.no-documents[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#333}.no-documents[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.no-documents[error][_ngcontent-%COMP%]{color:#da4167;font-weight:500}.documents-dialog[_ngcontent-%COMP%]{padding:1rem}.documents-dialog[_ngcontent-%COMP%]   h2[mat-dialog-title][_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin-bottom:1rem}.loading-documents[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#333}.loading-documents[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1rem}.document-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;margin-bottom:.5rem;border:1px solid #d9d9d9;border-radius:8px;background-color:#fff;transition:all .3s ease}.document-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;border-color:#61a0af;box-shadow:0 2px 8px #0000001a}.View-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.View-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.View-btn.publish-btn[_ngcontent-%COMP%]{background:#fbd008}.View-btn.publish-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.View-btn.save-btn[_ngcontent-%COMP%]{background:#fcd02d}.View-btn.save-btn[_ngcontent-%COMP%]:hover{background:#f3c003}.View-btn.delete-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}.View-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.view-btn-document[_ngcontent-%COMP%]{background-color:#fbd008;color:#000;padding:.25rem 1rem;font-size:.9rem;line-height:1.5;margin-left:1rem}.view-btn-document[_ngcontent-%COMP%]:hover{background-color:#e6bf00;color:#333}.confirm-documents-checkbox[_ngcontent-%COMP%]{margin:1rem 0 1rem .5rem;font-size:.95rem}.confirm-documents-checkbox[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-weight:500;color:#333;display:inline-block!important;opacity:1!important}.upload-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:15px;background-color:#f9f9f9;padding:8px;border-radius:6px;box-shadow:0 1px 3px #0000001a}.upload-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;font-size:12px;color:#333}.upload-progress[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{width:150px;height:8px;border-radius:4px}.upload-progress[_ngcontent-%COMP%]     mat-progress-bar .mdc-linear-progress__bar-inner{background-color:#fbd008!important}.upload-progress[_ngcontent-%COMP%]     mat-progress-bar .mdc-linear-progress__buffer{background-color:#e0e0e0!important}.upload-complete[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:15px;background-color:#e6ffe6;padding:8px;border-radius:6px;box-shadow:0 1px 3px #0000001a}.upload-complete[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#2e7d32}.upload-success-message[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:8px;white-space:nowrap}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:20px}.button-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-right:20px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.panel-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.upload-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}.house-options[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;gap:20px;margin-bottom:16px}.house-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fbd008;color:#333;border-radius:8px;padding:10px 20px;font-weight:500;transition:background-color .3s ease}.house-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e6bf00}button[mat-raised-button][_ngcontent-%COMP%]{background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;box-shadow:0 2px 4px #0000001a}button[mat-raised-button][_ngcontent-%COMP%]:hover{background-color:#e6bf00;box-shadow:0 3px 6px #00000026}.submit-btn[_ngcontent-%COMP%]{width:200px;height:48px;display:flex;align-items:center;justify-content:center}.submit-btn-document[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn-document[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn-document.publish-btn[_ngcontent-%COMP%]{background:#fbd008}.submit-btn-document.publish-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn-document.save-btn[_ngcontent-%COMP%]{background:#fcd02d}.submit-btn-document.save-btn[_ngcontent-%COMP%]:hover{background:#f3c003}.submit-btn-document.delete-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}.submit-btn-document.delete-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.cancel-btn[_ngcontent-%COMP%]{width:200px;height:48px;display:flex;align-items:center;justify-content:center;background-color:#da4167;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c0395a}.custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none;opacity:0;width:0;height:0}.upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 20px;background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease;box-sizing:border-box;box-shadow:0 2px 4px #0000001a}.job-list-scroll[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;overflow-x:hidden}.job-list-scroll[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.upload-label[_ngcontent-%COMP%]:hover{background-color:#e6bf00;box-shadow:0 3px 6px #00000026}.upload-icon[_ngcontent-%COMP%]{height:24px;width:24px;vertical-align:middle}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:24px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.alert-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;border:none;height:2px;margin:16px 0}  .mdc-floating-label{position:static!important;font-size:.9rem;color:#333}  .mdc-text-field .mdc-floating-label{transform:translateY(-60%)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;border-radius:6px;border:1px solid #61a0af}  .mat-tooltip{background-color:#333;color:#fff;font-size:12px;padding:8px;max-width:300px;white-space:pre-wrap}@media (max-width: 768px){.job-quote-container[_ngcontent-%COMP%]{width:95vw;flex-direction:column;gap:16px;grid-template-columns:1fr}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.button-row[_ngcontent-%COMP%]{flex-direction:row;align-items:center;flex-wrap:wrap}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.upload-container[_ngcontent-%COMP%]{flex-direction:row;width:auto;justify-content:flex-start}.upload-progress[_ngcontent-%COMP%], .upload-complete[_ngcontent-%COMP%]{margin-right:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%;max-width:200px}mat-form-field[_ngcontent-%COMP%]{flex:none;width:100%}.project-card[_ngcontent-%COMP%], .project-card-bids[_ngcontent-%COMP%], .job-quote-card[_ngcontent-%COMP%]{max-width:100%}}.button-wrapper[_ngcontent-%COMP%]{display:inline-block}.disabled-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.disabled-wrapper[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:#ccc;color:#666;pointer-events:none}"]})};var f8=["ganttChart"],Ju=class i{constructor(t){this.platformId=t;this.isBrowser=sa(this.platformId)}ganttChart;tasks=[];isBrowser;isChartReady=!1;ngAfterViewInit(){this.isBrowser&&(window.google.charts.load("current",{packages:["gantt"]}),window.google.charts.setOnLoadCallback(()=>{this.isChartReady=!0,this.drawChart()}))}ngOnChanges(t){t.tasks&&this.isChartReady&&this.drawChart()}drawChart(){if(!this.tasks||this.tasks.length===0){console.warn("\u26A0\uFE0F No task data available for Gantt chart.");return}let t=new window.google.visualization.DataTable;t.addColumn("string","Task ID"),t.addColumn("string","Task Name"),t.addColumn("string","Resource"),t.addColumn("date","Start Date"),t.addColumn("date","End Date"),t.addColumn("number","Duration"),t.addColumn("number","Percent Complete"),t.addColumn("string","Dependencies");let e=this.tasks.map(s=>[s.id||"",s.name||"",s.resource||null,new Date(s.start),new Date(s.end),null,s.progress??0,s.dependencies??null]);t.addRows(e);let n=new window.google.visualization.Gantt(this.ganttChart.nativeElement),r=this.tasks.length*400,a=Math.min(Math.max(800,r),1200);this.ganttChart.nativeElement.style.width=`${a}px`,this.ganttChart.nativeElement.style.width=`${a}px`;let o={height:this.tasks.length*42+80,width:a,backgroundColor:"#ffffff",gantt:{trackHeight:36,labelStyle:{fontSize:13,color:"#3f51b5"},barHeight:30,barCornerRadius:4,criticalPathEnabled:!0,criticalPathStyle:{stroke:"#FBD008",strokeWidth:2}}};n.draw(t,o)}static \u0275fac=function(e){return new(e||i)(k(va))};static \u0275cmp=fe({type:i,selectors:[["app-gantt-chart"]],viewQuery:function(e,n){if(e&1&&Ue(f8,7),e&2){let r;be(r=ve())&&(n.ganttChart=r.first)}},inputs:{tasks:"tasks"},standalone:!0,features:[Ai,ye],decls:2,vars:0,consts:[["ganttChart",""],[2,"width","100%","height","500px"]],template:function(e,n){e&1&&F(0,"div",1,0)},encapsulation:2})};function ld(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function sx(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function A0(i){let t,e,n;i.length!==2?(t=ld,e=(s,d)=>ld(i(s),d),n=(s,d)=>i(s)-d):(t=i===ld||i===sx?i:g8,e=i,n=i);function r(s,d,m=0,h=s.length){if(m<h){if(t(d,d)!==0)return h;do{let v=m+h>>>1;e(s[v],d)<0?m=v+1:h=v}while(m<h)}return m}function a(s,d,m=0,h=s.length){if(m<h){if(t(d,d)!==0)return h;do{let v=m+h>>>1;e(s[v],d)<=0?m=v+1:h=v}while(m<h)}return m}function o(s,d,m=0,h=s.length){let v=r(s,d,m,h-1);return v>m&&n(s[v-1],d)>-n(s[v],d)?v-1:v}return{left:r,center:o,right:a}}function g8(){return 0}function lx(i){return i===null?NaN:+i}var vk=A0(ld),_k=vk.right,b8=vk.left,v8=A0(lx).center,cx=_k;var Ku=class extends Map{constructor(t,e=x8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(let[n,r]of t)this.set(n,r)}get(t){return super.get(yk(this,t))}has(t){return super.has(yk(this,t))}set(t,e){return super.set(_8(this,t),e)}delete(t){return super.delete(y8(this,t))}};function yk({_intern:i,_key:t},e){let n=t(e);return i.has(n)?i.get(n):e}function _8({_intern:i,_key:t},e){let n=t(e);return i.has(n)?i.get(n):(i.set(n,e),e)}function y8({_intern:i,_key:t},e){let n=t(e);return i.has(n)&&(e=i.get(n),i.delete(n)),e}function x8(i){return i!==null&&typeof i=="object"?i.valueOf():i}var C8=Math.sqrt(50),w8=Math.sqrt(10),S8=Math.sqrt(2);function I0(i,t,e){let n=(t-i)/Math.max(0,e),r=Math.floor(Math.log10(n)),a=n/Math.pow(10,r),o=a>=C8?10:a>=w8?5:a>=S8?2:1,s,d,m;return r<0?(m=Math.pow(10,-r)/o,s=Math.round(i*m),d=Math.round(t*m),s/m<i&&++s,d/m>t&&--d,m=-m):(m=Math.pow(10,r)*o,s=Math.round(i/m),d=Math.round(t/m),s*m<i&&++s,d*m>t&&--d),d<s&&.5<=e&&e<2?I0(i,t,e*2):[s,d,m]}function P0(i,t,e){if(t=+t,i=+i,e=+e,!(e>0))return[];if(i===t)return[i];let n=t<i,[r,a,o]=n?I0(t,i,e):I0(i,t,e);if(!(a>=r))return[];let s=a-r+1,d=new Array(s);if(n)if(o<0)for(let m=0;m<s;++m)d[m]=(a-m)/-o;else for(let m=0;m<s;++m)d[m]=(a-m)*o;else if(o<0)for(let m=0;m<s;++m)d[m]=(r+m)/-o;else for(let m=0;m<s;++m)d[m]=(r+m)*o;return d}function zp(i,t,e){return t=+t,i=+i,e=+e,I0(i,t,e)[2]}function dx(i,t,e){t=+t,i=+i,e=+e;let n=t<i,r=n?zp(t,i,e):zp(i,t,e);return(n?-1:1)*(r<0?1/-r:r)}function T0(i,t){let e;if(t===void 0)for(let n of i)n!=null&&(e<n||e===void 0&&n>=n)&&(e=n);else{let n=-1;for(let r of i)(r=t(r,++n,i))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function O0(i,t,e){i=+i,t=+t,e=(r=arguments.length)<2?(t=i,i=0,1):r<3?1:+e;for(var n=-1,r=Math.max(0,Math.ceil((t-i)/e))|0,a=new Array(r);++n<r;)a[n]=i+n*e;return a}function xk(i){return i}var ux=1,mx=2,px=3,Hp=4,Ck=1e-6;function M8(i){return"translate("+i+",0)"}function k8(i){return"translate(0,"+i+")"}function D8(i){return t=>+i(t)}function E8(i,t){return t=Math.max(0,i.bandwidth()-t*2)/2,i.round()&&(t=Math.round(t)),e=>+i(e)+t}function A8(){return!this.__axis}function wk(i,t){var e=[],n=null,r=null,a=6,o=6,s=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,m=i===ux||i===Hp?-1:1,h=i===Hp||i===mx?"x":"y",v=i===ux||i===px?M8:k8;function _(g){var D=n??(t.ticks?t.ticks.apply(t,e):t.domain()),E=r??(t.tickFormat?t.tickFormat.apply(t,e):xk),S=Math.max(a,0)+s,w=t.range(),O=+w[0]+d,G=+w[w.length-1]+d,ee=(t.bandwidth?E8:D8)(t.copy(),d),se=g.selection?g.selection():g,Ee=se.selectAll(".domain").data([null]),oe=se.selectAll(".tick").data(D,t).order(),Q=oe.exit(),me=oe.enter().append("g").attr("class","tick"),Te=oe.select("line"),B=oe.select("text");Ee=Ee.merge(Ee.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),oe=oe.merge(me),Te=Te.merge(me.append("line").attr("stroke","currentColor").attr(h+"2",m*a)),B=B.merge(me.append("text").attr("fill","currentColor").attr(h,m*S).attr("dy",i===ux?"0em":i===px?"0.71em":"0.32em")),g!==se&&(Ee=Ee.transition(g),oe=oe.transition(g),Te=Te.transition(g),B=B.transition(g),Q=Q.transition(g).attr("opacity",Ck).attr("transform",function(H){return isFinite(H=ee(H))?v(H+d):this.getAttribute("transform")}),me.attr("opacity",Ck).attr("transform",function(H){var Z=this.parentNode.__axis;return v((Z&&isFinite(Z=Z(H))?Z:ee(H))+d)})),Q.remove(),Ee.attr("d",i===Hp||i===mx?o?"M"+m*o+","+O+"H"+d+"V"+G+"H"+m*o:"M"+d+","+O+"V"+G:o?"M"+O+","+m*o+"V"+d+"H"+G+"V"+m*o:"M"+O+","+d+"H"+G),oe.attr("opacity",1).attr("transform",function(H){return v(ee(H)+d)}),Te.attr(h+"2",m*a),B.attr(h,m*S).text(E),se.filter(A8).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",i===mx?"start":i===Hp?"end":"middle"),se.each(function(){this.__axis=ee})}return _.scale=function(g){return arguments.length?(t=g,_):t},_.ticks=function(){return e=Array.from(arguments),_},_.tickArguments=function(g){return arguments.length?(e=g==null?[]:Array.from(g),_):e.slice()},_.tickValues=function(g){return arguments.length?(n=g==null?null:Array.from(g),_):n&&n.slice()},_.tickFormat=function(g){return arguments.length?(r=g,_):r},_.tickSize=function(g){return arguments.length?(a=o=+g,_):a},_.tickSizeInner=function(g){return arguments.length?(a=+g,_):a},_.tickSizeOuter=function(g){return arguments.length?(o=+g,_):o},_.tickPadding=function(g){return arguments.length?(s=+g,_):s},_.offset=function(g){return arguments.length?(d=+g,_):d},_}function hx(i){return wk(px,i)}function fx(i){return wk(Hp,i)}var I8={value:()=>{}};function Mk(){for(var i=0,t=arguments.length,e={},n;i<t;++i){if(!(n=arguments[i]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new R0(e)}function R0(i){this._=i}function P8(i,t){return i.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}R0.prototype=Mk.prototype={constructor:R0,on:function(i,t){var e=this._,n=P8(i+"",e),r,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((r=(i=n[a]).type)&&(r=T8(e[r],i.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(i=n[a]).type)e[r]=Sk(e[r],i.name,t);else if(t==null)for(r in e)e[r]=Sk(e[r],i.name,null);return this},copy:function(){var i={},t=this._;for(var e in t)i[e]=t[e].slice();return new R0(i)},call:function(i,t){if((r=arguments.length-2)>0)for(var e=new Array(r),n=0,r,a;n<r;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(a=this._[i],n=0,r=a.length;n<r;++n)a[n].value.apply(t,e)},apply:function(i,t,e){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],r=0,a=n.length;r<a;++r)n[r].value.apply(t,e)}};function T8(i,t){for(var e=0,n=i.length,r;e<n;++e)if((r=i[e]).name===t)return r.value}function Sk(i,t,e){for(var n=0,r=i.length;n<r;++n)if(i[n].name===t){i[n]=I8,i=i.slice(0,n).concat(i.slice(n+1));break}return e!=null&&i.push({name:t,value:e}),i}var gx=Mk;var N0="http://www.w3.org/1999/xhtml",bx={svg:"http://www.w3.org/2000/svg",xhtml:N0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ol(i){var t=i+="",e=t.indexOf(":");return e>=0&&(t=i.slice(0,e))!=="xmlns"&&(i=i.slice(e+1)),bx.hasOwnProperty(t)?{space:bx[t],local:i}:i}function O8(i){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===N0&&t.documentElement.namespaceURI===N0?t.createElement(i):t.createElementNS(e,i)}}function R8(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function F0(i){var t=Ol(i);return(t.local?R8:O8)(t)}function N8(){}function cd(i){return i==null?N8:function(){return this.querySelector(i)}}function kk(i){typeof i!="function"&&(i=cd(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var a=t[r],o=a.length,s=n[r]=new Array(o),d,m,h=0;h<o;++h)(d=a[h])&&(m=i.call(d,d.__data__,h,a))&&("__data__"in d&&(m.__data__=d.__data__),s[h]=m);return new br(n,this._parents)}function vx(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function F8(){return[]}function Up(i){return i==null?F8:function(){return this.querySelectorAll(i)}}function L8(i){return function(){return vx(i.apply(this,arguments))}}function Dk(i){typeof i=="function"?i=L8(i):i=Up(i);for(var t=this._groups,e=t.length,n=[],r=[],a=0;a<e;++a)for(var o=t[a],s=o.length,d,m=0;m<s;++m)(d=o[m])&&(n.push(i.call(d,d.__data__,m,o)),r.push(d));return new br(n,r)}function qp(i){return function(){return this.matches(i)}}function L0(i){return function(t){return t.matches(i)}}var j8=Array.prototype.find;function B8(i){return function(){return j8.call(this.children,i)}}function V8(){return this.firstElementChild}function Ek(i){return this.select(i==null?V8:B8(typeof i=="function"?i:L0(i)))}var z8=Array.prototype.filter;function H8(){return Array.from(this.children)}function U8(i){return function(){return z8.call(this.children,i)}}function Ak(i){return this.selectAll(i==null?H8:U8(typeof i=="function"?i:L0(i)))}function Ik(i){typeof i!="function"&&(i=qp(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var a=t[r],o=a.length,s=n[r]=[],d,m=0;m<o;++m)(d=a[m])&&i.call(d,d.__data__,m,a)&&s.push(d);return new br(n,this._parents)}function j0(i){return new Array(i.length)}function Pk(){return new br(this._enter||this._groups.map(j0),this._parents)}function Wp(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}Wp.prototype={constructor:Wp,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function Tk(i){return function(){return i}}function q8(i,t,e,n,r,a){for(var o=0,s,d=t.length,m=a.length;o<m;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):e[o]=new Wp(i,a[o]);for(;o<d;++o)(s=t[o])&&(r[o]=s)}function W8(i,t,e,n,r,a,o){var s,d,m=new Map,h=t.length,v=a.length,_=new Array(h),g;for(s=0;s<h;++s)(d=t[s])&&(_[s]=g=o.call(d,d.__data__,s,t)+"",m.has(g)?r[s]=d:m.set(g,d));for(s=0;s<v;++s)g=o.call(i,a[s],s,a)+"",(d=m.get(g))?(n[s]=d,d.__data__=a[s],m.delete(g)):e[s]=new Wp(i,a[s]);for(s=0;s<h;++s)(d=t[s])&&m.get(_[s])===d&&(r[s]=d)}function G8(i){return i.__data__}function Ok(i,t){if(!arguments.length)return Array.from(this,G8);var e=t?W8:q8,n=this._parents,r=this._groups;typeof i!="function"&&(i=Tk(i));for(var a=r.length,o=new Array(a),s=new Array(a),d=new Array(a),m=0;m<a;++m){var h=n[m],v=r[m],_=v.length,g=$8(i.call(h,h&&h.__data__,m,n)),D=g.length,E=s[m]=new Array(D),S=o[m]=new Array(D),w=d[m]=new Array(_);e(h,v,E,S,w,g,t);for(var O=0,G=0,ee,se;O<D;++O)if(ee=E[O]){for(O>=G&&(G=O+1);!(se=S[G])&&++G<D;);ee._next=se||null}}return o=new br(o,n),o._enter=s,o._exit=d,o}function $8(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Rk(){return new br(this._exit||this._groups.map(j0),this._parents)}function Nk(i,t,e){var n=this.enter(),r=this,a=this.exit();return typeof i=="function"?(n=i(n),n&&(n=n.selection())):n=n.append(i+""),t!=null&&(r=t(r),r&&(r=r.selection())),e==null?a.remove():e(a),n&&r?n.merge(r).order():r}function Fk(i){for(var t=i.selection?i.selection():i,e=this._groups,n=t._groups,r=e.length,a=n.length,o=Math.min(r,a),s=new Array(r),d=0;d<o;++d)for(var m=e[d],h=n[d],v=m.length,_=s[d]=new Array(v),g,D=0;D<v;++D)(g=m[D]||h[D])&&(_[D]=g);for(;d<r;++d)s[d]=e[d];return new br(s,this._parents)}function Lk(){for(var i=this._groups,t=-1,e=i.length;++t<e;)for(var n=i[t],r=n.length-1,a=n[r],o;--r>=0;)(o=n[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function jk(i){i||(i=Y8);function t(v,_){return v&&_?i(v.__data__,_.__data__):!v-!_}for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a){for(var o=e[a],s=o.length,d=r[a]=new Array(s),m,h=0;h<s;++h)(m=o[h])&&(d[h]=m);d.sort(t)}return new br(r,this._parents).order()}function Y8(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function Bk(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function Vk(){return Array.from(this)}function zk(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],r=0,a=n.length;r<a;++r){var o=n[r];if(o)return o}return null}function Hk(){let i=0;for(let t of this)++i;return i}function Uk(){return!this.node()}function qk(i){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,o=r.length,s;a<o;++a)(s=r[a])&&i.call(s,s.__data__,a,r);return this}function Q8(i){return function(){this.removeAttribute(i)}}function J8(i){return function(){this.removeAttributeNS(i.space,i.local)}}function K8(i,t){return function(){this.setAttribute(i,t)}}function X8(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function Z8(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(i):this.setAttribute(i,e)}}function eL(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,e)}}function Wk(i,t){var e=Ol(i);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((t==null?e.local?J8:Q8:typeof t=="function"?e.local?eL:Z8:e.local?X8:K8)(e,t))}function B0(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function tL(i){return function(){this.style.removeProperty(i)}}function iL(i,t,e){return function(){this.style.setProperty(i,t,e)}}function nL(i,t,e){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(i):this.style.setProperty(i,n,e)}}function Gk(i,t,e){return arguments.length>1?this.each((t==null?tL:typeof t=="function"?nL:iL)(i,t,e??"")):Mc(this.node(),i)}function Mc(i,t){return i.style.getPropertyValue(t)||B0(i).getComputedStyle(i,null).getPropertyValue(t)}function rL(i){return function(){delete this[i]}}function aL(i,t){return function(){this[i]=t}}function oL(i,t){return function(){var e=t.apply(this,arguments);e==null?delete this[i]:this[i]=e}}function $k(i,t){return arguments.length>1?this.each((t==null?rL:typeof t=="function"?oL:aL)(i,t)):this.node()[i]}function Yk(i){return i.trim().split(/^|\s+/)}function _x(i){return i.classList||new Qk(i)}function Qk(i){this._node=i,this._names=Yk(i.getAttribute("class")||"")}Qk.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function Jk(i,t){for(var e=_x(i),n=-1,r=t.length;++n<r;)e.add(t[n])}function Kk(i,t){for(var e=_x(i),n=-1,r=t.length;++n<r;)e.remove(t[n])}function sL(i){return function(){Jk(this,i)}}function lL(i){return function(){Kk(this,i)}}function cL(i,t){return function(){(t.apply(this,arguments)?Jk:Kk)(this,i)}}function Xk(i,t){var e=Yk(i+"");if(arguments.length<2){for(var n=_x(this.node()),r=-1,a=e.length;++r<a;)if(!n.contains(e[r]))return!1;return!0}return this.each((typeof t=="function"?cL:t?sL:lL)(e,t))}function dL(){this.textContent=""}function uL(i){return function(){this.textContent=i}}function mL(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function Zk(i){return arguments.length?this.each(i==null?dL:(typeof i=="function"?mL:uL)(i)):this.node().textContent}function pL(){this.innerHTML=""}function hL(i){return function(){this.innerHTML=i}}function fL(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function eD(i){return arguments.length?this.each(i==null?pL:(typeof i=="function"?fL:hL)(i)):this.node().innerHTML}function gL(){this.nextSibling&&this.parentNode.appendChild(this)}function tD(){return this.each(gL)}function bL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iD(){return this.each(bL)}function nD(i){var t=typeof i=="function"?i:F0(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vL(){return null}function rD(i,t){var e=typeof i=="function"?i:F0(i),n=t==null?vL:typeof t=="function"?t:cd(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})}function _L(){var i=this.parentNode;i&&i.removeChild(this)}function aD(){return this.each(_L)}function yL(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function xL(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function oD(i){return this.select(i?xL:yL)}function sD(i){return arguments.length?this.property("__data__",i):this.node().__data__}function CL(i){return function(t){i.call(this,t,this.__data__)}}function wL(i){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function SL(i){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,a;e<r;++e)a=t[e],(!i.type||a.type===i.type)&&a.name===i.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function ML(i,t,e){return function(){var n=this.__on,r,a=CL(t);if(n){for(var o=0,s=n.length;o<s;++o)if((r=n[o]).type===i.type&&r.name===i.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),r.value=t;return}}this.addEventListener(i.type,a,e),r={type:i.type,name:i.name,value:t,listener:a,options:e},n?n.push(r):this.__on=[r]}}function lD(i,t,e){var n=wL(i+""),r,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var d=0,m=s.length,h;d<m;++d)for(r=0,h=s[d];r<a;++r)if((o=n[r]).type===h.type&&o.name===h.name)return h.value}return}for(s=t?ML:SL,r=0;r<a;++r)this.each(s(n[r],t,e));return this}function cD(i,t,e){var n=B0(i),r=n.CustomEvent;typeof r=="function"?r=new r(t,e):(r=n.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),i.dispatchEvent(r)}function kL(i,t){return function(){return cD(this,i,t)}}function DL(i,t){return function(){return cD(this,i,t.apply(this,arguments))}}function dD(i,t){return this.each((typeof t=="function"?DL:kL)(i,t))}function*uD(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],r=0,a=n.length,o;r<a;++r)(o=n[r])&&(yield o)}var yx=[null];function br(i,t){this._groups=i,this._parents=t}function mD(){return new br([[document.documentElement]],yx)}function EL(){return this}br.prototype=mD.prototype={constructor:br,select:kk,selectAll:Dk,selectChild:Ek,selectChildren:Ak,filter:Ik,data:Ok,enter:Pk,exit:Rk,join:Nk,merge:Fk,selection:EL,order:Lk,sort:jk,call:Bk,nodes:Vk,node:zk,size:Hk,empty:Uk,each:qk,attr:Wk,style:Gk,property:$k,classed:Xk,text:Zk,html:eD,raise:tD,lower:iD,append:nD,insert:rD,remove:aD,clone:oD,datum:sD,on:lD,dispatch:dD,[Symbol.iterator]:uD};var Rl=mD;function xx(i){return typeof i=="string"?new br([[document.querySelector(i)]],[document.documentElement]):new br([[i]],yx)}function V0(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function Cx(i,t){var e=Object.create(i.prototype);for(var n in t)e[n]=t[n];return e}function Yp(){}var Gp=.7,U0=1/Gp,Xu="\\s*([+-]?\\d+)\\s*",$p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ys="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AL=/^#([0-9a-f]{3,8})$/,IL=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),PL=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),TL=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${$p}\\)$`),OL=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${$p}\\)$`),RL=new RegExp(`^hsl\\(${$p},${Ys},${Ys}\\)$`),NL=new RegExp(`^hsla\\(${$p},${Ys},${Ys},${$p}\\)$`),pD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V0(Yp,ps,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:hD,formatHex:hD,formatHex8:FL,formatHsl:LL,formatRgb:fD,toString:fD});function hD(){return this.rgb().formatHex()}function FL(){return this.rgb().formatHex8()}function LL(){return xD(this).formatHsl()}function fD(){return this.rgb().formatRgb()}function ps(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=AL.exec(i))?(e=t[1].length,t=parseInt(t[1],16),e===6?gD(t):e===3?new oo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?z0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?z0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IL.exec(i))?new oo(t[1],t[2],t[3],1):(t=PL.exec(i))?new oo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TL.exec(i))?z0(t[1],t[2],t[3],t[4]):(t=OL.exec(i))?z0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RL.exec(i))?_D(t[1],t[2]/100,t[3]/100,1):(t=NL.exec(i))?_D(t[1],t[2]/100,t[3]/100,t[4]):pD.hasOwnProperty(i)?gD(pD[i]):i==="transparent"?new oo(NaN,NaN,NaN,0):null}function gD(i){return new oo(i>>16&255,i>>8&255,i&255,1)}function z0(i,t,e,n){return n<=0&&(i=t=e=NaN),new oo(i,t,e,n)}function jL(i){return i instanceof Yp||(i=ps(i)),i?(i=i.rgb(),new oo(i.r,i.g,i.b,i.opacity)):new oo}function Zu(i,t,e,n){return arguments.length===1?jL(i):new oo(i,t,e,n??1)}function oo(i,t,e,n){this.r=+i,this.g=+t,this.b=+e,this.opacity=+n}V0(oo,Zu,Cx(Yp,{brighter(i){return i=i==null?U0:Math.pow(U0,i),new oo(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?Gp:Math.pow(Gp,i),new oo(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new oo(ud(this.r),ud(this.g),ud(this.b),q0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bD,formatHex:bD,formatHex8:BL,formatRgb:vD,toString:vD}));function bD(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}`}function BL(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}${dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function vD(){let i=q0(this.opacity);return`${i===1?"rgb(":"rgba("}${ud(this.r)}, ${ud(this.g)}, ${ud(this.b)}${i===1?")":`, ${i})`}`}function q0(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function ud(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function dd(i){return i=ud(i),(i<16?"0":"")+i.toString(16)}function _D(i,t,e,n){return n<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new ms(i,t,e,n)}function xD(i){if(i instanceof ms)return new ms(i.h,i.s,i.l,i.opacity);if(i instanceof Yp||(i=ps(i)),!i)return new ms;if(i instanceof ms)return i;i=i.rgb();var t=i.r/255,e=i.g/255,n=i.b/255,r=Math.min(t,e,n),a=Math.max(t,e,n),o=NaN,s=a-r,d=(a+r)/2;return s?(t===a?o=(e-n)/s+(e<n)*6:e===a?o=(n-t)/s+2:o=(t-e)/s+4,s/=d<.5?a+r:2-a-r,o*=60):s=d>0&&d<1?0:o,new ms(o,s,d,i.opacity)}function CD(i,t,e,n){return arguments.length===1?xD(i):new ms(i,t,e,n??1)}function ms(i,t,e,n){this.h=+i,this.s=+t,this.l=+e,this.opacity=+n}V0(ms,CD,Cx(Yp,{brighter(i){return i=i==null?U0:Math.pow(U0,i),new ms(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?Gp:Math.pow(Gp,i),new ms(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,r=2*e-n;return new oo(wx(i>=240?i-240:i+120,r,n),wx(i,r,n),wx(i<120?i+240:i-120,r,n),this.opacity)},clamp(){return new ms(yD(this.h),H0(this.s),H0(this.l),q0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let i=q0(this.opacity);return`${i===1?"hsl(":"hsla("}${yD(this.h)}, ${H0(this.s)*100}%, ${H0(this.l)*100}%${i===1?")":`, ${i})`}`}}));function yD(i){return i=(i||0)%360,i<0?i+360:i}function H0(i){return Math.max(0,Math.min(1,i||0))}function wx(i,t,e){return(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)*255}function Sx(i,t,e,n,r){var a=i*i,o=a*i;return((1-3*i+3*a-o)*t+(4-6*a+3*o)*e+(1+3*i+3*a-3*o)*n+o*r)/6}function wD(i){var t=i.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=i[n],a=i[n+1],o=n>0?i[n-1]:2*r-a,s=n<t-1?i[n+2]:2*a-r;return Sx((e-n/t)*t,o,r,a,s)}}function SD(i){var t=i.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*t),r=i[(n+t-1)%t],a=i[n%t],o=i[(n+1)%t],s=i[(n+2)%t];return Sx((e-n/t)*t,r,a,o,s)}}var Qp=i=>()=>i;function VL(i,t){return function(e){return i+e*t}}function zL(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(n){return Math.pow(i+n*t,e)}}function MD(i){return(i=+i)==1?W0:function(t,e){return e-t?zL(t,e,i):Qp(isNaN(t)?e:t)}}function W0(i,t){var e=t-i;return e?VL(i,e):Qp(isNaN(i)?t:i)}var md=function i(t){var e=MD(t);function n(r,a){var o=e((r=Zu(r)).r,(a=Zu(a)).r),s=e(r.g,a.g),d=e(r.b,a.b),m=W0(r.opacity,a.opacity);return function(h){return r.r=o(h),r.g=s(h),r.b=d(h),r.opacity=m(h),r+""}}return n.gamma=i,n}(1);function kD(i){return function(t){var e=t.length,n=new Array(e),r=new Array(e),a=new Array(e),o,s;for(o=0;o<e;++o)s=Zu(t[o]),n[o]=s.r||0,r[o]=s.g||0,a[o]=s.b||0;return n=i(n),r=i(r),a=i(a),s.opacity=1,function(d){return s.r=n(d),s.g=r(d),s.b=a(d),s+""}}}var HL=kD(wD),UL=kD(SD);function DD(i,t){t||(t=[]);var e=i?Math.min(t.length,i.length):0,n=t.slice(),r;return function(a){for(r=0;r<e;++r)n[r]=i[r]*(1-a)+t[r]*a;return n}}function ED(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function AD(i,t){var e=t?t.length:0,n=i?Math.min(e,i.length):0,r=new Array(n),a=new Array(e),o;for(o=0;o<n;++o)r[o]=pd(i[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=r[o](s);return a}}function ID(i,t){var e=new Date;return i=+i,t=+t,function(n){return e.setTime(i*(1-n)+t*n),e}}function ua(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}function PD(i,t){var e={},n={},r;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in i?e[r]=pd(i[r],t[r]):n[r]=t[r];return function(a){for(r in e)n[r]=e[r](a);return n}}var kx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mx=new RegExp(kx.source,"g");function qL(i){return function(){return i}}function WL(i){return function(t){return i(t)+""}}function Jp(i,t){var e=kx.lastIndex=Mx.lastIndex=0,n,r,a,o=-1,s=[],d=[];for(i=i+"",t=t+"";(n=kx.exec(i))&&(r=Mx.exec(t));)(a=r.index)>e&&(a=t.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,d.push({i:o,x:ua(n,r)})),e=Mx.lastIndex;return e<t.length&&(a=t.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?d[0]?WL(d[0].x):qL(t):(t=d.length,function(m){for(var h=0,v;h<t;++h)s[(v=d[h]).i]=v.x(m);return s.join("")})}function pd(i,t){var e=typeof t,n;return t==null||e==="boolean"?Qp(t):(e==="number"?ua:e==="string"?(n=ps(t))?(t=n,md):Jp:t instanceof ps?md:t instanceof Date?ID:ED(t)?DD:Array.isArray(t)?AD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?PD:ua)(i,t)}function Dx(i,t){return i=+i,t=+t,function(e){return Math.round(i*(1-e)+t*e)}}var TD=180/Math.PI,G0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ex(i,t,e,n,r,a){var o,s,d;return(o=Math.sqrt(i*i+t*t))&&(i/=o,t/=o),(d=i*e+t*n)&&(e-=i*d,n-=t*d),(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s,d/=s),i*n<t*e&&(i=-i,t=-t,d=-d,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(t,i)*TD,skewX:Math.atan(d)*TD,scaleX:o,scaleY:s}}var $0;function OD(i){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?G0:Ex(t.a,t.b,t.c,t.d,t.e,t.f)}function RD(i){return i==null?G0:($0||($0=document.createElementNS("http://www.w3.org/2000/svg","g")),$0.setAttribute("transform",i),(i=$0.transform.baseVal.consolidate())?(i=i.matrix,Ex(i.a,i.b,i.c,i.d,i.e,i.f)):G0)}function ND(i,t,e,n){function r(m){return m.length?m.pop()+" ":""}function a(m,h,v,_,g,D){if(m!==v||h!==_){var E=g.push("translate(",null,t,null,e);D.push({i:E-4,x:ua(m,v)},{i:E-2,x:ua(h,_)})}else(v||_)&&g.push("translate("+v+t+_+e)}function o(m,h,v,_){m!==h?(m-h>180?h+=360:h-m>180&&(m+=360),_.push({i:v.push(r(v)+"rotate(",null,n)-2,x:ua(m,h)})):h&&v.push(r(v)+"rotate("+h+n)}function s(m,h,v,_){m!==h?_.push({i:v.push(r(v)+"skewX(",null,n)-2,x:ua(m,h)}):h&&v.push(r(v)+"skewX("+h+n)}function d(m,h,v,_,g,D){if(m!==v||h!==_){var E=g.push(r(g)+"scale(",null,",",null,")");D.push({i:E-4,x:ua(m,v)},{i:E-2,x:ua(h,_)})}else(v!==1||_!==1)&&g.push(r(g)+"scale("+v+","+_+")")}return function(m,h){var v=[],_=[];return m=i(m),h=i(h),a(m.translateX,m.translateY,h.translateX,h.translateY,v,_),o(m.rotate,h.rotate,v,_),s(m.skewX,h.skewX,v,_),d(m.scaleX,m.scaleY,h.scaleX,h.scaleY,v,_),m=h=null,function(g){for(var D=-1,E=_.length,S;++D<E;)v[(S=_[D]).i]=S.x(g);return v.join("")}}}var Ax=ND(OD,"px, ","px)","deg)"),Ix=ND(RD,", ",")",")");var em=0,Xp=0,Kp=0,LD=1e3,Y0,Zp,Q0=0,hd=0,J0=0,eh=typeof performance=="object"&&performance.now?performance:Date,jD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function ih(){return hd||(jD(GL),hd=eh.now()+J0)}function GL(){hd=0}function th(){this._call=this._time=this._next=null}th.prototype=K0.prototype={constructor:th,restart:function(i,t,e){if(typeof i!="function")throw new TypeError("callback is not a function");e=(e==null?ih():+e)+(t==null?0:+t),!this._next&&Zp!==this&&(Zp?Zp._next=this:Y0=this,Zp=this),this._call=i,this._time=e,Px()},stop:function(){this._call&&(this._call=null,this._time=1/0,Px())}};function K0(i,t,e){var n=new th;return n.restart(i,t,e),n}function BD(){ih(),++em;for(var i=Y0,t;i;)(t=hd-i._time)>=0&&i._call.call(void 0,t),i=i._next;--em}function FD(){hd=(Q0=eh.now())+J0,em=Xp=0;try{BD()}finally{em=0,YL(),hd=0}}function $L(){var i=eh.now(),t=i-Q0;t>LD&&(J0-=t,Q0=i)}function YL(){for(var i,t=Y0,e,n=1/0;t;)t._call?(n>t._time&&(n=t._time),i=t,t=t._next):(e=t._next,t._next=null,t=i?i._next=e:Y0=e);Zp=i,Px(n)}function Px(i){if(!em){Xp&&(Xp=clearTimeout(Xp));var t=i-hd;t>24?(i<1/0&&(Xp=setTimeout(FD,i-eh.now()-J0)),Kp&&(Kp=clearInterval(Kp))):(Kp||(Q0=eh.now(),Kp=setInterval($L,LD)),em=1,jD(FD))}}function X0(i,t,e){var n=new th;return t=t==null?0:+t,n.restart(r=>{n.stop(),i(r+t)},t,e),n}var QL=gx("start","end","cancel","interrupt"),JL=[],HD=0,VD=1,eb=2,Z0=3,zD=4,tb=5,nh=6;function kc(i,t,e,n,r,a){var o=i.__transition;if(!o)i.__transition={};else if(e in o)return;KL(i,e,{name:t,index:n,group:r,on:QL,tween:JL,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:HD})}function rh(i,t){var e=Hr(i,t);if(e.state>HD)throw new Error("too late; already scheduled");return e}function ma(i,t){var e=Hr(i,t);if(e.state>Z0)throw new Error("too late; already running");return e}function Hr(i,t){var e=i.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function KL(i,t,e){var n=i.__transition,r;n[t]=e,e.timer=K0(a,0,e.time);function a(m){e.state=VD,e.timer.restart(o,e.delay,e.time),e.delay<=m&&o(m-e.delay)}function o(m){var h,v,_,g;if(e.state!==VD)return d();for(h in n)if(g=n[h],g.name===e.name){if(g.state===Z0)return X0(o);g.state===zD?(g.state=nh,g.timer.stop(),g.on.call("interrupt",i,i.__data__,g.index,g.group),delete n[h]):+h<t&&(g.state=nh,g.timer.stop(),g.on.call("cancel",i,i.__data__,g.index,g.group),delete n[h])}if(X0(function(){e.state===Z0&&(e.state=zD,e.timer.restart(s,e.delay,e.time),s(m))}),e.state=eb,e.on.call("start",i,i.__data__,e.index,e.group),e.state===eb){for(e.state=Z0,r=new Array(_=e.tween.length),h=0,v=-1;h<_;++h)(g=e.tween[h].value.call(i,i.__data__,e.index,e.group))&&(r[++v]=g);r.length=v+1}}function s(m){for(var h=m<e.duration?e.ease.call(null,m/e.duration):(e.timer.restart(d),e.state=tb,1),v=-1,_=r.length;++v<_;)r[v].call(i,h);e.state===tb&&(e.on.call("end",i,i.__data__,e.index,e.group),d())}function d(){e.state=nh,e.timer.stop(),delete n[t];for(var m in n)return;delete i.__transition}}function ib(i,t){var e=i.__transition,n,r,a=!0,o;if(e){t=t==null?null:t+"";for(o in e){if((n=e[o]).name!==t){a=!1;continue}r=n.state>eb&&n.state<tb,n.state=nh,n.timer.stop(),n.on.call(r?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete e[o]}a&&delete i.__transition}}function UD(i){return this.each(function(){ib(this,i)})}function XL(i,t){var e,n;return function(){var r=ma(this,i),a=r.tween;if(a!==e){n=e=a;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}r.tween=n}}function ZL(i,t,e){var n,r;if(typeof e!="function")throw new Error;return function(){var a=ma(this,i),o=a.tween;if(o!==n){r=(n=o).slice();for(var s={name:t,value:e},d=0,m=r.length;d<m;++d)if(r[d].name===t){r[d]=s;break}d===m&&r.push(s)}a.tween=r}}function qD(i,t){var e=this._id;if(i+="",arguments.length<2){for(var n=Hr(this.node(),e).tween,r=0,a=n.length,o;r<a;++r)if((o=n[r]).name===i)return o.value;return null}return this.each((t==null?XL:ZL)(e,i,t))}function tm(i,t,e){var n=i._id;return i.each(function(){var r=ma(this,n);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return Hr(r,n).value[t]}}function nb(i,t){var e;return(typeof t=="number"?ua:t instanceof ps?md:(e=ps(t))?(t=e,md):Jp)(i,t)}function e7(i){return function(){this.removeAttribute(i)}}function t7(i){return function(){this.removeAttributeNS(i.space,i.local)}}function i7(i,t,e){var n,r=e+"",a;return function(){var o=this.getAttribute(i);return o===r?null:o===n?a:a=t(n=o,e)}}function n7(i,t,e){var n,r=e+"",a;return function(){var o=this.getAttributeNS(i.space,i.local);return o===r?null:o===n?a:a=t(n=o,e)}}function r7(i,t,e){var n,r,a;return function(){var o,s=e(this),d;return s==null?void this.removeAttribute(i):(o=this.getAttribute(i),d=s+"",o===d?null:o===n&&d===r?a:(r=d,a=t(n=o,s)))}}function a7(i,t,e){var n,r,a;return function(){var o,s=e(this),d;return s==null?void this.removeAttributeNS(i.space,i.local):(o=this.getAttributeNS(i.space,i.local),d=s+"",o===d?null:o===n&&d===r?a:(r=d,a=t(n=o,s)))}}function WD(i,t){var e=Ol(i),n=e==="transform"?Ix:nb;return this.attrTween(i,typeof t=="function"?(e.local?a7:r7)(e,n,tm(this,"attr."+i,t)):t==null?(e.local?t7:e7)(e):(e.local?n7:i7)(e,n,t))}function o7(i,t){return function(e){this.setAttribute(i,t.call(this,e))}}function s7(i,t){return function(e){this.setAttributeNS(i.space,i.local,t.call(this,e))}}function l7(i,t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&s7(i,a)),e}return r._value=t,r}function c7(i,t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&o7(i,a)),e}return r._value=t,r}function GD(i,t){var e="attr."+i;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var n=Ol(i);return this.tween(e,(n.local?l7:c7)(n,t))}function d7(i,t){return function(){rh(this,i).delay=+t.apply(this,arguments)}}function u7(i,t){return t=+t,function(){rh(this,i).delay=t}}function $D(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?d7:u7)(t,i)):Hr(this.node(),t).delay}function m7(i,t){return function(){ma(this,i).duration=+t.apply(this,arguments)}}function p7(i,t){return t=+t,function(){ma(this,i).duration=t}}function YD(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?m7:p7)(t,i)):Hr(this.node(),t).duration}function h7(i,t){if(typeof t!="function")throw new Error;return function(){ma(this,i).ease=t}}function QD(i){var t=this._id;return arguments.length?this.each(h7(t,i)):Hr(this.node(),t).ease}function f7(i,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;ma(this,i).ease=e}}function JD(i){if(typeof i!="function")throw new Error;return this.each(f7(this._id,i))}function KD(i){typeof i!="function"&&(i=qp(i));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var a=t[r],o=a.length,s=n[r]=[],d,m=0;m<o;++m)(d=a[m])&&i.call(d,d.__data__,m,a)&&s.push(d);return new $a(n,this._parents,this._name,this._id)}function XD(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,e=i._groups,n=t.length,r=e.length,a=Math.min(n,r),o=new Array(n),s=0;s<a;++s)for(var d=t[s],m=e[s],h=d.length,v=o[s]=new Array(h),_,g=0;g<h;++g)(_=d[g]||m[g])&&(v[g]=_);for(;s<n;++s)o[s]=t[s];return new $a(o,this._parents,this._name,this._id)}function g7(i){return(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function b7(i,t,e){var n,r,a=g7(t)?rh:ma;return function(){var o=a(this,i),s=o.on;s!==n&&(r=(n=s).copy()).on(t,e),o.on=r}}function ZD(i,t){var e=this._id;return arguments.length<2?Hr(this.node(),e).on.on(i):this.each(b7(e,i,t))}function v7(i){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==i)return;t&&t.removeChild(this)}}function eE(){return this.on("end.remove",v7(this._id))}function tE(i){var t=this._name,e=this._id;typeof i!="function"&&(i=cd(i));for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o)for(var s=n[o],d=s.length,m=a[o]=new Array(d),h,v,_=0;_<d;++_)(h=s[_])&&(v=i.call(h,h.__data__,_,s))&&("__data__"in h&&(v.__data__=h.__data__),m[_]=v,kc(m[_],t,e,_,m,Hr(h,e)));return new $a(a,this._parents,t,e)}function iE(i){var t=this._name,e=this._id;typeof i!="function"&&(i=Up(i));for(var n=this._groups,r=n.length,a=[],o=[],s=0;s<r;++s)for(var d=n[s],m=d.length,h,v=0;v<m;++v)if(h=d[v]){for(var _=i.call(h,h.__data__,v,d),g,D=Hr(h,e),E=0,S=_.length;E<S;++E)(g=_[E])&&kc(g,t,e,E,_,D);a.push(_),o.push(h)}return new $a(a,o,t,e)}var _7=Rl.prototype.constructor;function nE(){return new _7(this._groups,this._parents)}function y7(i,t){var e,n,r;return function(){var a=Mc(this,i),o=(this.style.removeProperty(i),Mc(this,i));return a===o?null:a===e&&o===n?r:r=t(e=a,n=o)}}function rE(i){return function(){this.style.removeProperty(i)}}function x7(i,t,e){var n,r=e+"",a;return function(){var o=Mc(this,i);return o===r?null:o===n?a:a=t(n=o,e)}}function C7(i,t,e){var n,r,a;return function(){var o=Mc(this,i),s=e(this),d=s+"";return s==null&&(d=s=(this.style.removeProperty(i),Mc(this,i))),o===d?null:o===n&&d===r?a:(r=d,a=t(n=o,s))}}function w7(i,t){var e,n,r,a="style."+t,o="end."+a,s;return function(){var d=ma(this,i),m=d.on,h=d.value[a]==null?s||(s=rE(t)):void 0;(m!==e||r!==h)&&(n=(e=m).copy()).on(o,r=h),d.on=n}}function aE(i,t,e){var n=(i+="")=="transform"?Ax:nb;return t==null?this.styleTween(i,y7(i,n)).on("end.style."+i,rE(i)):typeof t=="function"?this.styleTween(i,C7(i,n,tm(this,"style."+i,t))).each(w7(this._id,i)):this.styleTween(i,x7(i,n,t),e).on("end.style."+i,null)}function S7(i,t,e){return function(n){this.style.setProperty(i,t.call(this,n),e)}}function M7(i,t,e){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&S7(i,o,e)),n}return a._value=t,a}function oE(i,t,e){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,M7(i,t,e??""))}function k7(i){return function(){this.textContent=i}}function D7(i){return function(){var t=i(this);this.textContent=t??""}}function sE(i){return this.tween("text",typeof i=="function"?D7(tm(this,"text",i)):k7(i==null?"":i+""))}function E7(i){return function(t){this.textContent=i.call(this,t)}}function A7(i){var t,e;function n(){var r=i.apply(this,arguments);return r!==e&&(t=(e=r)&&E7(r)),t}return n._value=i,n}function lE(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,A7(i))}function cE(){for(var i=this._name,t=this._id,e=rb(),n=this._groups,r=n.length,a=0;a<r;++a)for(var o=n[a],s=o.length,d,m=0;m<s;++m)if(d=o[m]){var h=Hr(d,t);kc(d,i,e,m,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new $a(n,this._parents,i,e)}function dE(){var i,t,e=this,n=e._id,r=e.size();return new Promise(function(a,o){var s={value:o},d={value:function(){--r===0&&a()}};e.each(function(){var m=ma(this,n),h=m.on;h!==i&&(t=(i=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(d)),m.on=t}),r===0&&a()})}var I7=0;function $a(i,t,e,n){this._groups=i,this._parents=t,this._name=e,this._id=n}function uE(i){return Rl().transition(i)}function rb(){return++I7}var Nl=Rl.prototype;$a.prototype=uE.prototype={constructor:$a,select:tE,selectAll:iE,selectChild:Nl.selectChild,selectChildren:Nl.selectChildren,filter:KD,merge:XD,selection:nE,transition:cE,call:Nl.call,nodes:Nl.nodes,node:Nl.node,size:Nl.size,empty:Nl.empty,each:Nl.each,on:ZD,attr:WD,attrTween:GD,style:aE,styleTween:oE,text:sE,textTween:lE,remove:eE,tween:qD,delay:$D,duration:YD,ease:QD,easeVarying:JD,end:dE,[Symbol.iterator]:Nl[Symbol.iterator]};function ab(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var P7={time:null,delay:0,duration:250,ease:ab};function T7(i,t){for(var e;!(e=i.__transition)||!(e=e[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return e}function mE(i){var t,e;i instanceof $a?(t=i._id,i=i._name):(t=rb(),(e=P7).time=ih(),i=i==null?null:i+"");for(var n=this._groups,r=n.length,a=0;a<r;++a)for(var o=n[a],s=o.length,d,m=0;m<s;++m)(d=o[m])&&kc(d,i,t,m,o,e||T7(d,t));return new $a(n,this._parents,i,t)}Rl.prototype.interrupt=UD;Rl.prototype.transition=mE;var{abs:Afe,max:Ife,min:Pfe}=Math;function pE(i){return[+i[0],+i[1]]}function O7(i){return[pE(i[0]),pE(i[1])]}var Tfe={name:"x",handles:["w","e"].map(Tx),input:function(i,t){return i==null?null:[[+i[0],t[0][1]],[+i[1],t[1][1]]]},output:function(i){return i&&[i[0][0],i[1][0]]}},Ofe={name:"y",handles:["n","s"].map(Tx),input:function(i,t){return i==null?null:[[t[0][0],+i[0]],[t[1][0],+i[1]]]},output:function(i){return i&&[i[0][1],i[1][1]]}},Rfe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Tx),input:function(i){return i==null?null:O7(i)},output:function(i){return i}};function Tx(i){return{type:i}}function hE(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function fd(i,t){if((e=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var e,n=i.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+i.slice(e+1)]}function Qs(i){return i=fd(Math.abs(i)),i?i[1]:NaN}function fE(i,t){return function(e,n){for(var r=e.length,a=[],o=0,s=i[0],d=0;r>0&&s>0&&(d+s+1>n&&(s=Math.max(1,n-d)),a.push(e.substring(r-=s,r+s)),!((d+=s+1)>n));)s=i[o=(o+1)%i.length];return a.reverse().join(t)}}function gE(i){return function(t){return t.replace(/[0-9]/g,function(e){return i[+e]})}}var R7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dc(i){if(!(t=R7.exec(i)))throw new Error("invalid format: "+i);var t;return new ob({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dc.prototype=ob.prototype;function ob(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}ob.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bE(i){e:for(var t=i.length,e=1,n=-1,r;e<t;++e)switch(i[e]){case".":n=r=e;break;case"0":n===0&&(n=e),r=e;break;default:if(!+i[e])break e;n>0&&(n=0);break}return n>0?i.slice(0,n)+i.slice(r+1):i}var Ox;function vE(i,t){var e=fd(i,t);if(!e)return i+"";var n=e[0],r=e[1],a=r-(Ox=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fd(i,Math.max(0,t+a-1))[0]}function Rx(i,t){var e=fd(i,t);if(!e)return i+"";var n=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}var Nx={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:hE,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>Rx(i*100,t),r:Rx,s:vE,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function Fx(i){return i}var _E=Array.prototype.map,yE=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function xE(i){var t=i.grouping===void 0||i.thousands===void 0?Fx:fE(_E.call(i.grouping,Number),i.thousands+""),e=i.currency===void 0?"":i.currency[0]+"",n=i.currency===void 0?"":i.currency[1]+"",r=i.decimal===void 0?".":i.decimal+"",a=i.numerals===void 0?Fx:gE(_E.call(i.numerals,String)),o=i.percent===void 0?"%":i.percent+"",s=i.minus===void 0?"\u2212":i.minus+"",d=i.nan===void 0?"NaN":i.nan+"";function m(v){v=Dc(v);var _=v.fill,g=v.align,D=v.sign,E=v.symbol,S=v.zero,w=v.width,O=v.comma,G=v.precision,ee=v.trim,se=v.type;se==="n"?(O=!0,se="g"):Nx[se]||(G===void 0&&(G=12),ee=!0,se="g"),(S||_==="0"&&g==="=")&&(S=!0,_="0",g="=");var Ee=E==="$"?e:E==="#"&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",oe=E==="$"?n:/[%p]/.test(se)?o:"",Q=Nx[se],me=/[defgprs%]/.test(se);G=G===void 0?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,G)):Math.max(0,Math.min(20,G));function Te(B){var H=Ee,Z=oe,X,Ie,we;if(se==="c")Z=Q(B)+Z,B="";else{B=+B;var Oe=B<0||1/B<0;if(B=isNaN(B)?d:Q(Math.abs(B),G),ee&&(B=bE(B)),Oe&&+B==0&&D!=="+"&&(Oe=!1),H=(Oe?D==="("?D:s:D==="-"||D==="("?"":D)+H,Z=(se==="s"?yE[8+Ox/3]:"")+Z+(Oe&&D==="("?")":""),me){for(X=-1,Ie=B.length;++X<Ie;)if(we=B.charCodeAt(X),48>we||we>57){Z=(we===46?r+B.slice(X+1):B.slice(X))+Z,B=B.slice(0,X);break}}}O&&!S&&(B=t(B,1/0));var ue=H.length+B.length+Z.length,Ae=ue<w?new Array(w-ue+1).join(_):"";switch(O&&S&&(B=t(Ae+B,Ae.length?w-Z.length:1/0),Ae=""),g){case"<":B=H+B+Z+Ae;break;case"=":B=H+Ae+B+Z;break;case"^":B=Ae.slice(0,ue=Ae.length>>1)+H+B+Z+Ae.slice(ue);break;default:B=Ae+H+B+Z;break}return a(B)}return Te.toString=function(){return v+""},Te}function h(v,_){var g=m((v=Dc(v),v.type="f",v)),D=Math.max(-8,Math.min(8,Math.floor(Qs(_)/3)))*3,E=Math.pow(10,-D),S=yE[8+D/3];return function(w){return g(E*w)+S}}return{format:m,formatPrefix:h}}var sb,lb,cb;Lx({thousands:",",grouping:[3],currency:["$",""]});function Lx(i){return sb=xE(i),lb=sb.format,cb=sb.formatPrefix,sb}function jx(i){return Math.max(0,-Qs(Math.abs(i)))}function Bx(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qs(t)/3)))*3-Qs(Math.abs(i)))}function Vx(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,Qs(t)-Qs(i))+1}function im(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}var CE=Symbol("implicit");function db(){var i=new Ku,t=[],e=[],n=CE;function r(a){let o=i.get(a);if(o===void 0){if(n!==CE)return n;i.set(a,o=t.push(a)-1)}return e[o%e.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],i=new Ku;for(let o of a)i.has(o)||i.set(o,t.push(o)-1);return r},r.range=function(a){return arguments.length?(e=Array.from(a),r):e.slice()},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return db(t,e).unknown(n)},im.apply(r,arguments),r}function ah(){var i=db().unknown(void 0),t=i.domain,e=i.range,n=0,r=1,a,o,s=!1,d=0,m=0,h=.5;delete i.unknown;function v(){var _=t().length,g=r<n,D=g?r:n,E=g?n:r;a=(E-D)/Math.max(1,_-d+m*2),s&&(a=Math.floor(a)),D+=(E-D-a*(_-d))*h,o=a*(1-d),s&&(D=Math.round(D),o=Math.round(o));var S=O0(_).map(function(w){return D+a*w});return e(g?S.reverse():S)}return i.domain=function(_){return arguments.length?(t(_),v()):t()},i.range=function(_){return arguments.length?([n,r]=_,n=+n,r=+r,v()):[n,r]},i.rangeRound=function(_){return[n,r]=_,n=+n,r=+r,s=!0,v()},i.bandwidth=function(){return o},i.step=function(){return a},i.round=function(_){return arguments.length?(s=!!_,v()):s},i.padding=function(_){return arguments.length?(d=Math.min(1,m=+_),v()):d},i.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),v()):d},i.paddingOuter=function(_){return arguments.length?(m=+_,v()):m},i.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),v()):h},i.copy=function(){return ah(t(),[n,r]).round(s).paddingInner(d).paddingOuter(m).align(h)},im.apply(v(),arguments)}function zx(i){return function(){return i}}function Hx(i){return+i}var wE=[0,1];function nm(i){return i}function Ux(i,t){return(t-=i=+i)?function(e){return(e-i)/t}:zx(isNaN(t)?NaN:.5)}function N7(i,t){var e;return i>t&&(e=i,i=t,t=e),function(n){return Math.max(i,Math.min(t,n))}}function F7(i,t,e){var n=i[0],r=i[1],a=t[0],o=t[1];return r<n?(n=Ux(r,n),a=e(o,a)):(n=Ux(n,r),a=e(a,o)),function(s){return a(n(s))}}function L7(i,t,e){var n=Math.min(i.length,t.length)-1,r=new Array(n),a=new Array(n),o=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++o<n;)r[o]=Ux(i[o],i[o+1]),a[o]=e(t[o],t[o+1]);return function(s){var d=cx(i,s,1,n)-1;return a[d](r[d](s))}}function SE(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function j7(){var i=wE,t=wE,e=pd,n,r,a,o=nm,s,d,m;function h(){var _=Math.min(i.length,t.length);return o!==nm&&(o=N7(i[0],i[_-1])),s=_>2?L7:F7,d=m=null,v}function v(_){return _==null||isNaN(_=+_)?a:(d||(d=s(i.map(n),t,e)))(n(o(_)))}return v.invert=function(_){return o(r((m||(m=s(t,i.map(n),ua)))(_)))},v.domain=function(_){return arguments.length?(i=Array.from(_,Hx),h()):i.slice()},v.range=function(_){return arguments.length?(t=Array.from(_),h()):t.slice()},v.rangeRound=function(_){return t=Array.from(_),e=Dx,h()},v.clamp=function(_){return arguments.length?(o=_?!0:nm,h()):o!==nm},v.interpolate=function(_){return arguments.length?(e=_,h()):e},v.unknown=function(_){return arguments.length?(a=_,v):a},function(_,g){return n=_,r=g,h()}}function qx(){return j7()(nm,nm)}function Wx(i,t,e,n){var r=dx(i,t,e),a;switch(n=Dc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(i),Math.abs(t));return n.precision==null&&!isNaN(a=Bx(r,o))&&(n.precision=a),cb(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Vx(r,Math.max(Math.abs(i),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=jx(r))&&(n.precision=a-(n.type==="%")*2);break}}return lb(n)}function B7(i){var t=i.domain;return i.ticks=function(e){var n=t();return P0(n[0],n[n.length-1],e??10)},i.tickFormat=function(e,n){var r=t();return Wx(r[0],r[r.length-1],e??10,n)},i.nice=function(e){e==null&&(e=10);var n=t(),r=0,a=n.length-1,o=n[r],s=n[a],d,m,h=10;for(s<o&&(m=o,o=s,s=m,m=r,r=a,a=m);h-- >0;){if(m=zp(o,s,e),m===d)return n[r]=o,n[a]=s,t(n);if(m>0)o=Math.floor(o/m)*m,s=Math.ceil(s/m)*m;else if(m<0)o=Math.ceil(o*m)/m,s=Math.floor(s*m)/m;else break;d=m}return i},i}function oh(){var i=qx();return i.copy=function(){return SE(i,oh())},im.apply(i,arguments),B7(i)}function Ec(i,t,e){this.k=i,this.x=t,this.y=e}Ec.prototype={constructor:Ec,scale:function(i){return i===1?this:new Ec(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new Ec(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gx=new Ec(1,0,0);$x.prototype=Ec.prototype;function $x(i){for(;!i.__zoom;)if(!(i=i.parentNode))return Gx;return i.__zoom}var z7=["chartContainer"],ub=class i{data=[];chartContainer;svg;x;y;xAxis;gx;gy;bar;width=640;height=400;margin={top:20,right:0,bottom:30,left:40};ngOnInit(){this.createChart()}ngOnChanges(t){t.data&&this.data.length&&this.updateChart()}createChart(){let{width:t,height:e,margin:n}=this;this.x=ah().domain(this.data.map(r=>r.activity)).range([n.left,t-n.right]).padding(.1),this.y=oh().domain([0,T0(this.data,r=>r.frequency)||0]).nice().range([e-n.bottom,n.top]),this.xAxis=hx(this.x).tickSizeOuter(0),this.svg=xx(this.chartContainer.nativeElement).append("svg").attr("viewBox",`0 0 ${t} ${e}`).attr("style",`max-width: ${t}px; height: auto; font: 10px sans-serif; overflow: visible;`),this.bar=this.svg.append("g").attr("fill","rgb(251, 208, 8)").selectAll("rect").data(this.data).join("rect").style("mix-blend-mode","multiply").attr("x",r=>this.x(r.activity)).attr("y",r=>this.y(r.frequency)).attr("height",r=>this.y(0)-this.y(r.frequency)).attr("width",this.x.bandwidth()),this.gx=this.svg.append("g").attr("transform",`translate(0,${e-n.bottom})`).call(this.xAxis),this.gy=this.svg.append("g").attr("transform",`translate(${n.left},0)`).call(fx(this.y).tickFormat(r=>(Number(r)*100).toFixed())).call(r=>r.select(".domain").remove())}updateChart(){let t=this.svg.transition().duration(750);this.x.domain(this.data.map(e=>e.activity)),this.bar.data(this.data,e=>e.activity).order().transition(t).delay((e,n)=>n*20).attr("x",e=>this.x(e.activity)),this.gx.transition(t).call(this.xAxis).selectAll(".tick").delay((e,n)=>n*20)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-sorted-bar-chart"]],viewQuery:function(e,n){if(e&1&&Ue(z7,7),e&2){let r;be(r=ve())&&(n.chartContainer=r.first)}},inputs:{data:"data"},standalone:!0,features:[Ai,ye],decls:2,vars:0,consts:[["chartContainer",""]],template:function(e,n){e&1&&F(0,"div",null,0)},styles:["svg[_ngcontent-%COMP%]{font-family:sans-serif}"]})};function H7(i,t){if(i&1&&(l(0,"mat-option",17),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e," ")}}function U7(i,t){if(i&1){let e=ge();l(0,"mat-form-field",14)(1,"mat-select",16,0),z("selectionChange",function(r){q(e);let a=P(2);return W(a._changePageSize(r.value))}),Cl(3,H7,2,2,"mat-option",17,Sp),c(),l(5,"div",18),z("click",function(){q(e);let r=Vt(2);return W(r.open())}),c()()}if(i&2){let e=P(2);C("appearance",e._formFieldAppearance)("color",e.color),b(),C("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),b(2),wl(e._displayedPageSizeOptions)}}function q7(i,t){if(i&1&&(l(0,"div",15),u(1),c()),i&2){let e=P(2);b(),xe(e.pageSize)}}function W7(i,t){if(i&1&&(l(0,"div",3)(1,"div",13),u(2),c(),I(3,U7,6,7,"mat-form-field",14)(4,q7,2,1,"div",15),c()),i&2){let e=P();b(),at("id",e._pageSizeLabelId),b(),Ce(" ",e._intl.itemsPerPageLabel," "),b(),Tt(e._displayedPageSizeOptions.length>1?3:-1),b(),Tt(e._displayedPageSizeOptions.length<=1?4:-1)}}function G7(i,t){if(i&1){let e=ge();l(0,"button",19),z("click",function(){q(e);let r=P();return W(r.firstPage())}),xi(),l(1,"svg",8),F(2,"path",20),c()()}if(i&2){let e=P();C("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),at("aria-label",e._intl.firstPageLabel)}}function $7(i,t){if(i&1){let e=ge();l(0,"button",21),z("click",function(){q(e);let r=P();return W(r.lastPage())}),xi(),l(1,"svg",8),F(2,"path",22),c()()}if(i&2){let e=P();C("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),at("aria-label",e._intl.lastPageLabel)}}var mb=(()=>{class i{constructor(){this.changes=new vt,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(r==0||n==0)return`0 of ${r}`;r=Math.max(r,0);let a=e*n,o=a<r?Math.min(a+n,r):a+n;return`${a+1} \u2013 ${o} of ${r}`}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Y7(i){return i||new mb}var Q7={provide:mb,deps:[[new fu,new gu,mb]],useFactory:Y7},J7=50;var K7=new yt("MAT_PAGINATOR_DEFAULT_OPTIONS"),X7=0,Fl=(()=>{class i{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>Wn(n,0)),this._updateDisplayedPageSizeOptions()}constructor(e,n,r){if(this._intl=e,this._changeDetectorRef=n,this._pageSizeLabelId=`mat-paginator-page-size-label-${X7++}`,this._isInitialized=!1,this._initializedStream=new Kf(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Ge,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){let{pageSize:a,pageSizeOptions:o,hidePageSize:s,showFirstLastButtons:d}=r;a!=null&&(this._pageSize=a),o!=null&&(this._pageSizeOptions=o),s!=null&&(this.hidePageSize=s),d!=null&&(this.showFirstLastButtons=d)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let n=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(n/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:J7),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(n){return new(n||i)(k(mb),k(xt),k(K7,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Wn],length:[2,"length","length",Wn],pageSize:[2,"pageSize","pageSize",Wn],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Ye],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Ye],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Ye]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[qt,ye],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){n&1&&(l(0,"div",1)(1,"div",2),I(2,W7,5,4,"div",3),l(3,"div",4)(4,"div",5),u(5),c(),I(6,G7,3,5,"button",6),l(7,"button",7),z("click",function(){return r.previousPage()}),xi(),l(8,"svg",8),F(9,"path",9),c()(),Rr(),l(10,"button",10),z("click",function(){return r.nextPage()}),xi(),l(11,"svg",8),F(12,"path",11),c()(),I(13,$7,3,5,"button",12),c()()()),n&2&&(b(2),Tt(r.hidePageSize?-1:2),b(3),Ce(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),b(),Tt(r.showFirstLastButtons?6:-1),b(),C("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),at("aria-label",r._intl.previousPageLabel),b(3),C("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),at("aria-label",r._intl.nextPageLabel),b(3),Tt(r.showFirstLastButtons?13:-1))},dependencies:[hn,ro,hr,zr,No],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return i})(),pb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[Q7],imports:[zt,Lr,Fo,Fl]})}}return i})();var Z7=()=>[5];function ej(i,t){i&1&&(l(0,"th",19),u(1,"Project"),c())}function tj(i,t){if(i&1&&(l(0,"td",20),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.projectName)}}function ij(i,t){i&1&&(l(0,"th",19),u(1,"Project Type"),c())}function nj(i,t){if(i&1&&(l(0,"td",20),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.jobType)}}function rj(i,t){i&1&&(l(0,"th",19),u(1,"Project Status"),c())}function aj(i,t){if(i&1&&(l(0,"td",20),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.status)}}function oj(i,t){i&1&&(l(0,"th",19),u(1,"Start Date"),c())}function sj(i,t){if(i&1&&(l(0,"td",20),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),xe(yn(2,1,e.desiredStartDate,"yyyy-MM-dd"))}}function lj(i,t){i&1&&F(0,"tr",21)}function cj(i,t){i&1&&F(0,"tr",22)}var Abe=St.BACKEND_URL,hb=class i{constructor(t,e){this.platformId=t;this.router=e;this.jobCardForm=new pc({}),this.isBrowser=sa(this.platformId)}showAlert=!1;alertMessage="";routeURL="";jobCardForm;isLoading=!1;isBrowser;chartData;chartData1;taskData;jobList;displayedColumns=["projectName","jobType","status","desiredStartDate"];dataSource=new ca(kE);paginator;ngOnInit(){this.loadData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}loadData(){this.isLoading=!0,this.chartData=[{completed:10,notstarted:20},{completed:20,notstarted:30},{completed:30,notstarted:40}],this.chartData1=[{activity:"Foundation",frequency:.25},{activity:"Framing",frequency:.2},{activity:"Electrical",frequency:.15},{activity:"Plumbing",frequency:.1},{activity:"Finishing",frequency:.3}],this.taskData=[{id:"1",name:"Roof Structure",start:new Date(2024,9,23),end:new Date(2024,10,30),progress:88,dependencies:null},{id:"2",name:"Wall Insulation",start:new Date(2024,9,24),end:new Date(2024,9,30),progress:100,dependencies:null},{id:"3",name:"Wall Structure",start:new Date(2024,6,20),end:new Date(2024,9,11),progress:98,dependencies:null},{id:"4",name:"Roof Insulation",start:new Date(2024,11,1),end:new Date(2024,11,17),progress:89,dependencies:null},{id:"5",name:"Foundation",start:new Date(2024,5,22),end:new Date(2024,6,26),progress:100,dependencies:null},{id:"6",name:"Finishes",start:new Date(2025,0,10),end:new Date(2025,1,10),progress:13,dependencies:null},{id:"7",name:"Electrical Supply Needs",start:new Date(2024,9,5),end:new Date(2024,9,26),progress:90,dependencies:null}],this.dataSource.data=kE,this.isLoading=!1}sortByFrequency(){this.chartData1=[...this.chartData1].sort((t,e)=>e.frequency-t.frequency)}sortByLetter(){this.chartData1=[...this.chartData1].sort((t,e)=>t.activity.localeCompare(e.activity))}static \u0275fac=function(e){return new(e||i)(k(va),k(Ii))};static \u0275cmp=fe({type:i,selectors:[["app-projects"]],viewQuery:function(e,n){if(e&1&&Ue(Fl,5),e&2){let r;be(r=ve())&&(n.paginator=r.first)}},standalone:!0,features:[ft([ku()]),ye],decls:73,vars:8,consts:[[1,"container"],[1,"row"],[1,"column"],[1,"job-list-container","mat-elevation-z8",2,"box-shadow","none"],["mat-table","",1,"themed-table",3,"dataSource"],["matColumnDef","projectName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","jobType"],["matColumnDef","status"],["matColumnDef","desiredStartDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize"],[3,"data"],[1,"submit-btn",3,"click"],[1,"fullcolumn"],[2,"color","red"],[3,"tasks"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,n){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),u(6,"Your Projects"),c()(),l(7,"mat-card-content"),F(8,"mat-divider"),l(9,"div",3)(10,"table",4),Je(11,5),I(12,ej,2,0,"th",6)(13,tj,2,1,"td",7),Ke(),Je(14,8),I(15,ij,2,0,"th",6)(16,nj,2,1,"td",7),Ke(),Je(17,9),I(18,rj,2,0,"th",6)(19,aj,2,1,"td",7),Ke(),Je(20,10),I(21,oj,2,0,"th",6)(22,sj,3,4,"td",7),Ke(),I(23,lj,1,0,"tr",11)(24,cj,1,0,"tr",12),c(),F(25,"mat-paginator",13),c()()()(),l(26,"div",2)(27,"mat-card")(28,"mat-card-header")(29,"mat-card-title"),u(30,"Your Top Five Projects"),c()(),l(31,"mat-card-content"),F(32,"mat-divider")(33,"app-sorted-bar-chart",14),l(34,"div")(35,"button",15),z("click",function(){return n.sortByFrequency()}),u(36,"Sort by Frequency"),c(),l(37,"button",15),z("click",function(){return n.sortByLetter()}),u(38,"Sort Alphabetically"),c()()()()(),l(39,"div",16)(40,"mat-card")(41,"mat-card-header")(42,"mat-card-title"),u(43,"Job Quote"),c()(),l(44,"mat-card-content"),F(45,"mat-divider"),l(46,"div")(47,"div")(48,"div")(49,"h4"),u(50,"Project: Pike Extension Office Park"),c(),l(51,"p")(52,"strong"),u(53,"Start Date:"),c(),u(54," 2024-05-16"),c(),l(55,"p")(56,"strong"),u(57,"Electrical Capacity:"),c(),u(58," 2300 kW"),c(),l(59,"p")(60,"strong"),u(61,"House Size:"),c(),u(62," 2300 sq ft"),c(),l(63,"p")(64,"strong"),u(65,"Weather Condition:"),c(),u(66," Dry Sunny"),c()(),l(67,"p",17),u(68,"**app-pie-charts** NOT WORKING"),c()()(),l(69,"mat-card-title"),u(70,"Estimated Timeline"),c(),F(71,"mat-divider")(72,"app-gantt-chart",18),c()()()()()),e&2&&(b(10),C("dataSource",n.dataSource),b(13),C("matHeaderRowDef",n.displayedColumns),b(),C("matRowDefColumns",n.displayedColumns),b(),C("pageSizeOptions",Ga(7,Z7))("pageSize",5),b(8),C("data",n.chartData1),b(39),C("tasks",n.taskData))},dependencies:[Dt,Gi,Lr,y0,Pi,Bi,Li,nn,rn,ji,un,Ju,ub,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,pb,Fl],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{overflow-y:auto;font-family:Arial,sans-serif;background-color:#fff}.container[_ngcontent-%COMP%]{width:80vw;padding:1rem;display:flex;justify-content:center;align-items:flex-start;min-height:calc(100vh - 65px)}.row[_ngcontent-%COMP%]{width:98vw;display:flex;gap:1rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:49%;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}.fullcolumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], .header-txt[_ngcontent-%COMP%]{color:#000}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem;height:60vh}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:1rem}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0;border-top-style:none}.job-list-container[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:8px;padding:1rem;overflow-x:auto;margin-top:.7rem;max-height:calc(60vh - 120px);overflow-y:auto}.themed-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fbd008;color:#000;font-weight:500;padding:8px;text-align:left;border-bottom:2px solid #d9d9d9}.themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #d9d9d9;color:#000}.themed-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.mat-mdc-table[_ngcontent-%COMP%]{background-color:#fff}mat-paginator[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#fff;padding:.5rem 1rem;border-top:1px solid #d9d9d9}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;width:200px;margin-top:10px}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.job-quote-container[_ngcontent-%COMP%]{width:80vw;margin-top:2rem;display:flex;gap:24px}@media (max-width: 768px){.column[_ngcontent-%COMP%], .fullcolumn[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.job-list-container[_ngcontent-%COMP%]{padding:.5rem}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;padding:6px}.job-quote-container[_ngcontent-%COMP%]{width:95vw;flex-direction:column;gap:16px}}"]})},kE=[{projectName:"Pike Extension Office Park 1",jobType:"COMPLEX",status:"60%",desiredStartDate:"2024-05-16"},{projectName:"Melinda Holmes Home",jobType:"HOUSE",status:"30%",desiredStartDate:"2024-11-22"},{projectName:"Grey Stone Etstat",jobType:"ESTATE",status:"17%",desiredStartDate:"2024-08-06"},{projectName:"Pike Extension Office Park 2",jobType:"COMPLEX",status:"55%",desiredStartDate:"2024-05-14"},{projectName:"Hazelnut Estate",jobType:"ESTATE",status:"10%",desiredStartDate:"2024-11-10"},{projectName:"Purple Wood Mall",jobType:"COMPLEX",status:"60%",desiredStartDate:"2024-05-16"},{projectName:"Grand Arcade Mall, West Extension",jobType:"COMPLEX",status:"42%",desiredStartDate:"2024-04-15"},{projectName:"Allan Smithee Office Park",jobType:"COMPLEX",status:"65%",desiredStartDate:"2024-05-02"},{projectName:"Lean Brookes Mall",jobType:"COMPLEX",status:"64%",desiredStartDate:"2024-08-03"},{projectName:"Utility King Mall",jobType:"ESTART",status:"63%",desiredStartDate:"2024-05-16"},{projectName:"Harry King Home",jobType:"HOUSE",status:"78%",desiredStartDate:"2024-06-11"},{projectName:"Turk Mint Office Park",jobType:"COMPLEX",status:"40%",desiredStartDate:"2024-07-19"},{projectName:"June Bugg Estate",jobType:"ESTATE",status:"13%",desiredStartDate:"2024-09-23"},{projectName:"Jameson York Office Park",jobType:"COMPLEX",status:"34%",desiredStartDate:"2024-08-02"},{projectName:"Henry Smith Home",jobType:"HOUSE",status:"42%",desiredStartDate:"2024-05-16"},{projectName:"James Andrews Home",jobType:"HOUSE",status:"36%",desiredStartDate:"2024-11-24"},{projectName:"Susan Smith Home",jobType:"HOUSE",status:"73%",desiredStartDate:"2024-07-11"}];function dj(i,t){if(i&1){let e=ge();l(0,"li",10),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.navigateToJob(r))}),l(1,"p",11)(2,"strong"),u(3),c(),u(4),l(5,"span",12),u(6),dt(7,"date"),c()()()}if(i&2){let e=t.$implicit;b(3),xe(e.projectName),b(),ir(" - ",e.senderFullName,": ",e.message," "),b(2),xe(yn(7,4,e.timestamp,"short"))}}function uj(i,t){if(i&1&&(l(0,"ul",8),I(1,dj,8,7,"li",9),c()),i&2){let e=P();b(),C("ngForOf",e.paginatedNotifications)}}function mj(i,t){i&1&&(l(0,"div",13),u(1," You have no notifications. "),c())}var fb=class i{constructor(t,e,n,r){this.notificationsService=t;this.authService=e;this.datePipe=n;this.jobDataService=r}isDevMode=TS();currentPage=1;pageSize=50;paginatedNotifications=[];totalNotifications=0;totalPages=Number.MAX_SAFE_INTEGER;ngOnInit(){this.loadNotifications()}loadNotifications(){this.notificationsService.getAllNotifications(this.currentPage,this.pageSize).subscribe(t=>{this.paginatedNotifications=t?.notifications||[],this.totalPages=t?.totalCount?Math.ceil(t.totalCount/this.pageSize):1})}navigateToJob(t){this.jobDataService.navigateToJob(t)}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadNotifications())}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadNotifications())}static \u0275fac=function(e){return new(e||i)(k(Bu),k(hi),k(Gi),k(Vs))};static \u0275cmp=fe({type:i,selectors:[["app-notifications"]],standalone:!0,features:[ft([Gi]),ye],decls:24,vars:10,consts:[["noNotifications",""],[1,"notifications-container"],[1,"pagination-controls"],[1,"nav-btn",3,"click","disabled"],["width","16","height","16","fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["class","notification-list",4,"ngIf","ngIfElse"],[1,"notification-list"],["class","notification-item",3,"click",4,"ngFor","ngForOf"],[1,"notification-item",3,"click"],[1,"notification-message"],[1,"timestamp"],[1,"no-notifications"]],template:function(e,n){if(e&1){let r=ge();l(0,"div",1)(1,"h1"),u(2,"All Notifications"),c(),l(3,"div",2)(4,"button",3),z("click",function(){return q(r),W(n.previousPage())}),xi(),l(5,"svg",4),F(6,"path",5),c()(),Rr(),l(7,"span"),u(8),c(),l(9,"button",3),z("click",function(){return q(r),W(n.nextPage())}),xi(),l(10,"svg",4),F(11,"path",6),c()()(),I(12,uj,2,1,"ul",7)(13,mj,2,0,"ng-template",null,0,ur),Rr(),l(15,"div",2)(16,"button",3),z("click",function(){return q(r),W(n.previousPage())}),xi(),l(17,"svg",4),F(18,"path",5),c()(),Rr(),l(19,"span"),u(20),c(),l(21,"button",3),z("click",function(){return q(r),W(n.nextPage())}),xi(),l(22,"svg",4),F(23,"path",6),c()()()()}if(e&2){let r=Vt(14);b(4),C("disabled",n.currentPage===1),b(4),ir("Page ",n.currentPage," of ",n.totalPages,""),b(),C("disabled",n.currentPage===n.totalPages),b(3),C("ngIf",n.paginatedNotifications.length>0)("ngIfElse",r),b(4),C("disabled",n.currentPage===1),b(4),ir("Page ",n.currentPage," of ",n.totalPages,""),b(),C("disabled",n.currentPage===n.totalPages)}},dependencies:[Dt,Ji,Pt,Gi],styles:[".notifications-container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.notifications-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.notifications-container[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notifications-container[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ddd;padding:15px;margin-bottom:10px;border-radius:4px;cursor:pointer}.notifications-container[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{margin:0;font-size:16px}.notifications-container[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#888;font-size:12px}.notifications-container[_ngcontent-%COMP%]   .no-notifications[_ngcontent-%COMP%]{color:#888}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.pagination-controls[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #d9d9d9;background:#fff;border-radius:4px;cursor:pointer;transition:all .2s ease}.pagination-controls[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;border-color:#fbd008}.pagination-controls[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}"]})};var pj=Math.pow(10,8)*24*60*60*1e3,Fbe=-pj,gb=6048e5,DE=864e5,EE=6e4,AE=36e5,IE=1e3;var hj=3600;var PE=hj*24,Lbe=PE*7,fj=PE*365.2425,gj=fj/12,jbe=gj*3,Yx=Symbol.for("constructDateFrom");function $i(i,t){return typeof i=="function"?i(t):i&&typeof i=="object"&&Yx in i?i[Yx](t):i instanceof Date?new i.constructor(t):new Date(t)}function wi(i,t){return $i(t||i,i)}function gd(i,t,e){let n=wi(i,e?.in);return isNaN(t)?$i(e?.in||i,NaN):(t&&n.setDate(n.getDate()+t),n)}var bj={};function qo(){return bj}function so(i,t){let e=qo(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=wi(i,t?.in),a=r.getDay(),o=(a<n?7:0)+a-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function hs(i,t){return so(i,Ti(Ct({},t),{weekStartsOn:1}))}function bb(i,t){let e=wi(i,t?.in),n=e.getFullYear(),r=$i(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let a=hs(r),o=$i(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);let s=hs(o);return e.getTime()>=a.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function bd(i){let t=wi(i),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+i-+e}function TE(i,...t){let e=$i.bind(null,i||t.find(n=>typeof n=="object"));return t.map(e)}function Qx(i,t){let e=wi(i,t?.in);return e.setHours(0,0,0,0),e}function yo(i,t,e){let[n,r]=TE(e?.in,i,t),a=Qx(n),o=Qx(r),s=+a-bd(a),d=+o-bd(o);return Math.round((s-d)/DE)}function OE(i,t){let e=bb(i,t),n=$i(t?.in||i,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),hs(n)}function RE(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function rm(i){return!(!RE(i)&&typeof i!="number"||isNaN(+wi(i)))}function NE(i,t){let e=wi(i,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}var vj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FE=(i,t,e)=>{let n,r=vj[i];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function vb(i){return(t={})=>{let e=t.width?String(t.width):i.defaultWidth;return i.formats[e]||i.formats[i.defaultWidth]}}var _j={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LE={date:vb({formats:_j,defaultWidth:"full"}),time:vb({formats:yj,defaultWidth:"full"}),dateTime:vb({formats:xj,defaultWidth:"full"})};var Cj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jE=(i,t,e,n)=>Cj[i];function am(i){return(t,e)=>{let n=e?.context?String(e.context):"standalone",r;if(n==="formatting"&&i.formattingValues){let o=i.defaultFormattingWidth||i.defaultWidth,s=e?.width?String(e.width):o;r=i.formattingValues[s]||i.formattingValues[o]}else{let o=i.defaultWidth,s=e?.width?String(e.width):i.defaultWidth;r=i.values[s]||i.values[o]}let a=i.argumentCallback?i.argumentCallback(t):t;return r[a]}}var wj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ej={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Aj=(i,t)=>{let e=Number(i),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},BE={ordinalNumber:Aj,era:am({values:wj,defaultWidth:"wide"}),quarter:am({values:Sj,defaultWidth:"wide",argumentCallback:i=>i-1}),month:am({values:Mj,defaultWidth:"wide"}),day:am({values:kj,defaultWidth:"wide"}),dayPeriod:am({values:Dj,defaultWidth:"wide",formattingValues:Ej,defaultFormattingWidth:"wide"})};function om(i){return(t,e={})=>{let n=e.width,r=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],a=t.match(r);if(!a)return null;let o=a[0],s=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],d=Array.isArray(s)?Pj(s,v=>v.test(o)):Ij(s,v=>v.test(o)),m;m=i.valueCallback?i.valueCallback(d):d,m=e.valueCallback?e.valueCallback(m):m;let h=t.slice(o.length);return{value:m,rest:h}}}function Ij(i,t){for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&t(i[e]))return e}function Pj(i,t){for(let e=0;e<i.length;e++)if(t(i[e]))return e}function VE(i){return(t,e={})=>{let n=t.match(i.matchPattern);if(!n)return null;let r=n[0],a=t.match(i.parsePattern);if(!a)return null;let o=i.valueCallback?i.valueCallback(a[0]):a[0];o=e.valueCallback?e.valueCallback(o):o;let s=t.slice(r.length);return{value:o,rest:s}}}var Tj=/^(\d+)(th|st|nd|rd)?/i,Oj=/\d+/i,Rj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nj={any:[/^b/i,/^(a|c)/i]},Fj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lj={any:[/1/i,/2/i,/3/i,/4/i]},jj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zE={ordinalNumber:VE({matchPattern:Tj,parsePattern:Oj,valueCallback:i=>parseInt(i,10)}),era:om({matchPatterns:Rj,defaultMatchWidth:"wide",parsePatterns:Nj,defaultParseWidth:"any"}),quarter:om({matchPatterns:Fj,defaultMatchWidth:"wide",parsePatterns:Lj,defaultParseWidth:"any",valueCallback:i=>i+1}),month:om({matchPatterns:jj,defaultMatchWidth:"wide",parsePatterns:Bj,defaultParseWidth:"any"}),day:om({matchPatterns:Vj,defaultMatchWidth:"wide",parsePatterns:zj,defaultParseWidth:"any"}),dayPeriod:om({matchPatterns:Hj,defaultMatchWidth:"any",parsePatterns:Uj,defaultParseWidth:"any"})};var sh={code:"en-US",formatDistance:FE,formatLong:LE,formatRelative:jE,localize:BE,match:zE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HE(i,t){let e=wi(i,t?.in);return yo(e,NE(e))+1}function _b(i,t){let e=wi(i,t?.in),n=+hs(e)-+OE(e);return Math.round(n/gb)+1}function sm(i,t){let e=wi(i,t?.in),n=e.getFullYear(),r=qo(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=$i(t?.in||i,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);let s=so(o,t),d=$i(t?.in||i,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);let m=so(d,t);return+e>=+s?n+1:+e>=+m?n:n-1}function UE(i,t){let e=qo(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=sm(i,t),a=$i(t?.in||i,0);return a.setFullYear(r,0,n),a.setHours(0,0,0,0),so(a,t)}function yb(i,t){let e=wi(i,t?.in),n=+so(e,t)-+UE(e,t);return Math.round(n/gb)+1}function sn(i,t){let e=i<0?"-":"",n=Math.abs(i).toString().padStart(t,"0");return e+n}var Ll={y(i,t){let e=i.getFullYear(),n=e>0?e:1-e;return sn(t==="yy"?n%100:n,t.length)},M(i,t){let e=i.getMonth();return t==="M"?String(e+1):sn(e+1,2)},d(i,t){return sn(i.getDate(),t.length)},a(i,t){let e=i.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(i,t){return sn(i.getHours()%12||12,t.length)},H(i,t){return sn(i.getHours(),t.length)},m(i,t){return sn(i.getMinutes(),t.length)},s(i,t){return sn(i.getSeconds(),t.length)},S(i,t){let e=t.length,n=i.getMilliseconds(),r=Math.trunc(n*Math.pow(10,e-3));return sn(r,t.length)}};var lm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jx={G:function(i,t,e){let n=i.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(i,t,e){if(t==="yo"){let n=i.getFullYear(),r=n>0?n:1-n;return e.ordinalNumber(r,{unit:"year"})}return Ll.y(i,t)},Y:function(i,t,e,n){let r=sm(i,n),a=r>0?r:1-r;if(t==="YY"){let o=a%100;return sn(o,2)}return t==="Yo"?e.ordinalNumber(a,{unit:"year"}):sn(a,t.length)},R:function(i,t){let e=bb(i);return sn(e,t.length)},u:function(i,t){let e=i.getFullYear();return sn(e,t.length)},Q:function(i,t,e){let n=Math.ceil((i.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return sn(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,t,e){let n=Math.ceil((i.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return sn(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,t,e){let n=i.getMonth();switch(t){case"M":case"MM":return Ll.M(i,t);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(i,t,e){let n=i.getMonth();switch(t){case"L":return String(n+1);case"LL":return sn(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(i,t,e,n){let r=yb(i,n);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):sn(r,t.length)},I:function(i,t,e){let n=_b(i);return t==="Io"?e.ordinalNumber(n,{unit:"week"}):sn(n,t.length)},d:function(i,t,e){return t==="do"?e.ordinalNumber(i.getDate(),{unit:"date"}):Ll.d(i,t)},D:function(i,t,e){let n=HE(i);return t==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):sn(n,t.length)},E:function(i,t,e){let n=i.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(i,t,e,n){let r=i.getDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return sn(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(i,t,e,n){let r=i.getDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return sn(a,t.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(i,t,e){let n=i.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return sn(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(i,t,e){let r=i.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(i,t,e){let n=i.getHours(),r;switch(n===12?r=lm.noon:n===0?r=lm.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(i,t,e){let n=i.getHours(),r;switch(n>=17?r=lm.evening:n>=12?r=lm.afternoon:n>=4?r=lm.morning:r=lm.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(i,t,e){if(t==="ho"){let n=i.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return Ll.h(i,t)},H:function(i,t,e){return t==="Ho"?e.ordinalNumber(i.getHours(),{unit:"hour"}):Ll.H(i,t)},K:function(i,t,e){let n=i.getHours()%12;return t==="Ko"?e.ordinalNumber(n,{unit:"hour"}):sn(n,t.length)},k:function(i,t,e){let n=i.getHours();return n===0&&(n=24),t==="ko"?e.ordinalNumber(n,{unit:"hour"}):sn(n,t.length)},m:function(i,t,e){return t==="mo"?e.ordinalNumber(i.getMinutes(),{unit:"minute"}):Ll.m(i,t)},s:function(i,t,e){return t==="so"?e.ordinalNumber(i.getSeconds(),{unit:"second"}):Ll.s(i,t)},S:function(i,t){return Ll.S(i,t)},X:function(i,t,e){let n=i.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return WE(n);case"XXXX":case"XX":return vd(n);case"XXXXX":case"XXX":default:return vd(n,":")}},x:function(i,t,e){let n=i.getTimezoneOffset();switch(t){case"x":return WE(n);case"xxxx":case"xx":return vd(n);case"xxxxx":case"xxx":default:return vd(n,":")}},O:function(i,t,e){let n=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qE(n,":");case"OOOO":default:return"GMT"+vd(n,":")}},z:function(i,t,e){let n=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qE(n,":");case"zzzz":default:return"GMT"+vd(n,":")}},t:function(i,t,e){let n=Math.trunc(+i/1e3);return sn(n,t.length)},T:function(i,t,e){return sn(+i,t.length)}};function qE(i,t=""){let e=i>0?"-":"+",n=Math.abs(i),r=Math.trunc(n/60),a=n%60;return a===0?e+String(r):e+String(r)+t+sn(a,2)}function WE(i,t){return i%60===0?(i>0?"-":"+")+sn(Math.abs(i)/60,2):vd(i,t)}function vd(i,t=""){let e=i>0?"-":"+",n=Math.abs(i),r=sn(Math.trunc(n/60),2),a=sn(n%60,2);return e+r+t+a}var GE=(i,t)=>{switch(i){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$E=(i,t)=>{switch(i){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qj=(i,t)=>{let e=i.match(/(P+)(p+)?/)||[],n=e[1],r=e[2];if(!r)return GE(i,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",GE(n,t)).replace("{{time}}",$E(r,t))},lh={p:$E,P:qj};var Wj=/^D+$/,Gj=/^Y+$/,$j=["D","DD","YY","YYYY"];function xb(i){return Wj.test(i)}function Cb(i){return Gj.test(i)}function ch(i,t,e){let n=Yj(i,t,e);if(console.warn(n),$j.includes(i))throw new RangeError(n)}function Yj(i,t,e){let n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${t}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Qj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kj=/^'([^]*?)'?$/,Xj=/''/g,Zj=/[a-zA-Z]/;function wb(i,t,e){let n=qo(),r=e?.locale??n.locale??sh,a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=wi(i,e?.in);if(!rm(s))throw new RangeError("Invalid time value");let d=t.match(Jj).map(h=>{let v=h[0];if(v==="p"||v==="P"){let _=lh[v];return _(h,r.formatLong)}return h}).join("").match(Qj).map(h=>{if(h==="''")return{isToken:!1,value:"'"};let v=h[0];if(v==="'")return{isToken:!1,value:eB(h)};if(Jx[v])return{isToken:!0,value:h};if(v.match(Zj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(d=r.localize.preprocessor(s,d));let m={firstWeekContainsDate:a,weekStartsOn:o,locale:r};return d.map(h=>{if(!h.isToken)return h.value;let v=h.value;(!e?.useAdditionalWeekYearTokens&&Cb(v)||!e?.useAdditionalDayOfYearTokens&&xb(v))&&ch(v,t,String(i));let _=Jx[v[0]];return _(s,v,r.localize,m)}).join("")}function eB(i){let t=i.match(Kj);return t?t[1].replace(Xj,"'"):i}function YE(){return Object.assign({},qo())}function QE(i,t){let e=wi(i,t?.in).getDay();return e===0?7:e}function JE(i,t){let e=tB(t)?new t(0):$i(t,0);return e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),e.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e}function tB(i){return typeof i=="function"&&i.prototype?.constructor===i}var iB=10,Sb=class{subPriority=0;validate(t,e){return!0}},Mb=class extends Sb{constructor(t,e,n,r,a){super(),this.value=t,this.validateValue=e,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,n){return this.setValue(t,e,this.value,n)}},kb=class extends Sb{priority=iB;subPriority=-1;constructor(t,e){super(),this.context=t||(n=>$i(e,n))}set(t,e){return e.timestampIsSet?t:$i(t,JE(t,this.context))}};var Mt=class{run(t,e,n,r){let a=this.parse(t,e,n,r);return a?{setter:new Mb(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,e,n){return!0}};var Db=class extends Mt{priority=140;parse(t,e,n){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,e,n){return e.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]};var zi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bn(i,t){return i&&{value:t(i.value),rest:i.rest}}function Oi(i,t){let e=t.match(i);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Go(i,t){let e=t.match(i);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};let n=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:n*(r*AE+a*EE+o*IE),rest:t.slice(e[0].length)}}function Eb(i){return Oi(zi.anyDigitsSigned,i)}function fi(i,t){switch(i){case 1:return Oi(zi.singleDigit,t);case 2:return Oi(zi.twoDigits,t);case 3:return Oi(zi.threeDigits,t);case 4:return Oi(zi.fourDigits,t);default:return Oi(new RegExp("^\\d{1,"+i+"}"),t)}}function cm(i,t){switch(i){case 1:return Oi(zi.singleDigitSigned,t);case 2:return Oi(zi.twoDigitsSigned,t);case 3:return Oi(zi.threeDigitsSigned,t);case 4:return Oi(zi.fourDigitsSigned,t);default:return Oi(new RegExp("^-?\\d{1,"+i+"}"),t)}}function dm(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ab(i,t){let e=t>0,n=e?t:1-t,r;if(n<=50)r=i||100;else{let a=n+50,o=Math.trunc(a/100)*100,s=i>=a%100;r=i+o-(s?100:0)}return e?r:1-r}function Ib(i){return i%400===0||i%4===0&&i%100!==0}var Pb=class extends Mt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,n){let r=a=>({year:a,isTwoDigitYear:e==="yy"});switch(e){case"y":return bn(fi(4,t),r);case"yo":return bn(n.ordinalNumber(t,{unit:"year"}),r);default:return bn(fi(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,n){let r=t.getFullYear();if(n.isTwoDigitYear){let o=Ab(n.year,r);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}let a=!("era"in e)||e.era===1?n.year:1-n.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}};var Tb=class extends Mt{priority=130;parse(t,e,n){let r=a=>({year:a,isTwoDigitYear:e==="YY"});switch(e){case"Y":return bn(fi(4,t),r);case"Yo":return bn(n.ordinalNumber(t,{unit:"year"}),r);default:return bn(fi(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,n,r){let a=sm(t,r);if(n.isTwoDigitYear){let s=Ab(n.year,a);return t.setFullYear(s,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),so(t,r)}let o=!("era"in e)||e.era===1?n.year:1-n.year;return t.setFullYear(o,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),so(t,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var Ob=class extends Mt{priority=130;parse(t,e){return e==="R"?cm(4,t):cm(e.length,t)}set(t,e,n){let r=$i(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),hs(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var Rb=class extends Mt{priority=130;parse(t,e){return e==="u"?cm(4,t):cm(e.length,t)}set(t,e,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var Nb=class extends Mt{priority=120;parse(t,e,n){switch(e){case"Q":case"QQ":return fi(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var Fb=class extends Mt{priority=120;parse(t,e,n){switch(e){case"q":case"qq":return fi(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var Lb=class extends Mt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,n){let r=a=>a-1;switch(e){case"M":return bn(Oi(zi.month,t),r);case"MM":return bn(fi(2,t),r);case"Mo":return bn(n.ordinalNumber(t,{unit:"month"}),r);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}};var jb=class extends Mt{priority=110;parse(t,e,n){let r=a=>a-1;switch(e){case"L":return bn(Oi(zi.month,t),r);case"LL":return bn(fi(2,t),r);case"Lo":return bn(n.ordinalNumber(t,{unit:"month"}),r);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function KE(i,t,e){let n=wi(i,e?.in),r=yb(n,e)-t;return n.setDate(n.getDate()-r*7),wi(n,e?.in)}var Bb=class extends Mt{priority=100;parse(t,e,n){switch(e){case"w":return Oi(zi.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return fi(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,n,r){return so(KE(t,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function XE(i,t,e){let n=wi(i,e?.in),r=_b(n,e)-t;return n.setDate(n.getDate()-r*7),n}var Vb=class extends Mt{priority=100;parse(t,e,n){switch(e){case"I":return Oi(zi.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return fi(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,n){return hs(XE(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var nB=[31,28,31,30,31,30,31,31,30,31,30,31],rB=[31,29,31,30,31,30,31,31,30,31,30,31],zb=class extends Mt{priority=90;subPriority=1;parse(t,e,n){switch(e){case"d":return Oi(zi.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return fi(e.length,t)}}validate(t,e){let n=t.getFullYear(),r=Ib(n),a=t.getMonth();return r?e>=1&&e<=rB[a]:e>=1&&e<=nB[a]}set(t,e,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var Hb=class extends Mt{priority=90;subpriority=1;parse(t,e,n){switch(e){case"D":case"DD":return Oi(zi.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return fi(e.length,t)}}validate(t,e){let n=t.getFullYear();return Ib(n)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function um(i,t,e){let n=qo(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=wi(i,e?.in),o=a.getDay(),d=(t%7+7)%7,m=7-r,h=t<0||t>6?t-(o+m)%7:(d+m)%7-(o+m)%7;return gd(a,h,e)}var Ub=class extends Mt{priority=90;parse(t,e,n){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,n,r){return t=um(t,n,r),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]};var qb=class extends Mt{priority=90;parse(t,e,n,r){let a=o=>{let s=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+s};switch(e){case"e":case"ee":return bn(fi(e.length,t),a);case"eo":return bn(n.ordinalNumber(t,{unit:"day"}),a);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,n,r){return t=um(t,n,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var Wb=class extends Mt{priority=90;parse(t,e,n,r){let a=o=>{let s=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+s};switch(e){case"c":case"cc":return bn(fi(e.length,t),a);case"co":return bn(n.ordinalNumber(t,{unit:"day"}),a);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,n,r){return t=um(t,n,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function ZE(i,t,e){let n=wi(i,e?.in),r=QE(n,e),a=t-r;return gd(n,a,e)}var Gb=class extends Mt{priority=90;parse(t,e,n){let r=a=>a===0?7:a;switch(e){case"i":case"ii":return fi(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return bn(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return bn(n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return bn(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);case"iiii":default:return bn(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,e){return e>=1&&e<=7}set(t,e,n){return t=ZE(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var $b=class extends Mt{priority=80;parse(t,e,n){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,n){return t.setHours(dm(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]};var Yb=class extends Mt{priority=80;parse(t,e,n){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,n){return t.setHours(dm(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]};var Qb=class extends Mt{priority=80;parse(t,e,n){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,n){return t.setHours(dm(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]};var Jb=class extends Mt{priority=70;parse(t,e,n){switch(e){case"h":return Oi(zi.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return fi(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,n){let r=t.getHours()>=12;return r&&n<12?t.setHours(n+12,0,0,0):!r&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]};var Kb=class extends Mt{priority=70;parse(t,e,n){switch(e){case"H":return Oi(zi.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return fi(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]};var Xb=class extends Mt{priority=70;parse(t,e,n){switch(e){case"K":return Oi(zi.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return fi(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]};var Zb=class extends Mt{priority=70;parse(t,e,n){switch(e){case"k":return Oi(zi.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return fi(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,n){let r=n<=24?n%24:n;return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]};var ev=class extends Mt{priority=60;parse(t,e,n){switch(e){case"m":return Oi(zi.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return fi(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]};var tv=class extends Mt{priority=50;parse(t,e,n){switch(e){case"s":return Oi(zi.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return fi(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]};var iv=class extends Mt{priority=30;parse(t,e){let n=r=>Math.trunc(r*Math.pow(10,-e.length+3));return bn(fi(e.length,t),n)}set(t,e,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]};var nv=class extends Mt{priority=10;parse(t,e){switch(e){case"X":return Go(Wo.basicOptionalMinutes,t);case"XX":return Go(Wo.basic,t);case"XXXX":return Go(Wo.basicOptionalSeconds,t);case"XXXXX":return Go(Wo.extendedOptionalSeconds,t);case"XXX":default:return Go(Wo.extended,t)}}set(t,e,n){return e.timestampIsSet?t:$i(t,t.getTime()-bd(t)-n)}incompatibleTokens=["t","T","x"]};var rv=class extends Mt{priority=10;parse(t,e){switch(e){case"x":return Go(Wo.basicOptionalMinutes,t);case"xx":return Go(Wo.basic,t);case"xxxx":return Go(Wo.basicOptionalSeconds,t);case"xxxxx":return Go(Wo.extendedOptionalSeconds,t);case"xxx":default:return Go(Wo.extended,t)}}set(t,e,n){return e.timestampIsSet?t:$i(t,t.getTime()-bd(t)-n)}incompatibleTokens=["t","T","X"]};var av=class extends Mt{priority=40;parse(t){return Eb(t)}set(t,e,n){return[$i(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var ov=class extends Mt{priority=20;parse(t){return Eb(t)}set(t,e,n){return[$i(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"};var e3={G:new Db,y:new Pb,Y:new Tb,R:new Ob,u:new Rb,Q:new Nb,q:new Fb,M:new Lb,L:new jb,w:new Bb,I:new Vb,d:new zb,D:new Hb,E:new Ub,e:new qb,c:new Wb,i:new Gb,a:new $b,b:new Yb,B:new Qb,h:new Jb,H:new Kb,K:new Xb,k:new Zb,m:new ev,s:new tv,S:new iv,X:new nv,x:new rv,t:new av,T:new ov};var aB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sB=/^'([^]*?)'?$/,lB=/''/g,cB=/\S/,dB=/[a-zA-Z]/;function t3(i,t,e,n){let r=()=>$i(n?.in||e,NaN),a=YE(),o=n?.locale??a.locale??sh,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return i?r():wi(e,n?.in);let m={firstWeekContainsDate:s,weekStartsOn:d,locale:o},h=[new kb(n?.in,e)],v=t.match(oB).map(S=>{let w=S[0];if(w in lh){let O=lh[w];return O(S,o.formatLong)}return S}).join("").match(aB),_=[];for(let S of v){!n?.useAdditionalWeekYearTokens&&Cb(S)&&ch(S,t,i),!n?.useAdditionalDayOfYearTokens&&xb(S)&&ch(S,t,i);let w=S[0],O=e3[w];if(O){let{incompatibleTokens:G}=O;if(Array.isArray(G)){let se=_.find(Ee=>G.includes(Ee.token)||Ee.token===w);if(se)throw new RangeError(`The format string mustn't contain \`${se.fullToken}\` and \`${S}\` at the same time`)}else if(O.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);_.push({token:w,fullToken:S});let ee=O.run(i,S,o.match,m);if(!ee)return r();h.push(ee.setter),i=ee.rest}else{if(w.match(dB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(S==="''"?S="'":w==="'"&&(S=uB(S)),i.indexOf(S)===0)i=i.slice(S.length);else return r()}}if(i.length>0&&cB.test(i))return r();let g=h.map(S=>S.priority).sort((S,w)=>w-S).filter((S,w,O)=>O.indexOf(S)===w).map(S=>h.filter(w=>w.priority===S).sort((w,O)=>O.subPriority-w.subPriority)).map(S=>S[0]),D=wi(e,n?.in);if(isNaN(+D))return r();let E={};for(let S of g){if(!S.validate(D,m))return r();let w=S.set(D,E,m);Array.isArray(w)?(D=w[0],Object.assign(E,w[1])):D=w}return D}function uB(i){return i.match(sB)[1].replace(lB,"'")}var mB=["timelineRef"],pB=["headerRef"],hB=["groupDetailModal"],fB=(i,t)=>[i,t];function gB(i,t){if(i&1&&(l(0,"div",30),u(1),c()),i&2){let e=t.$implicit,n=P(2);Qe("weekend",n.isWeekend(e))("today",n.isToday(e)),b(),Ce(" ",n.formatDate(e,"d")," ")}}function bB(i,t){if(i&1&&(l(0,"div",26)(1,"div",27),u(2),c(),l(3,"div",28),I(4,gB,2,5,"div",29),c()()),i&2){let e=t.$implicit,n=P();Qe("current-week",n.isCurrentWeek(e.start)),b(2),xe(n.formatDate(e.start,"MMM d")),b(2),C("ngForOf",e.days)}}function vB(i,t){if(i&1&&F(0,"div",33),i&2){let e=t.$implicit,n=P(2);Qe("weekend-bg",n.isWeekend(e))("today-bg",n.isToday(e))}}function _B(i,t){if(i&1&&(l(0,"div",31),I(1,vB,1,4,"div",32),c()),i&2){let e=t.$implicit,n=P();Qe("current-week-bg",n.isCurrentWeek(e.start)),b(),C("ngForOf",e.days)}}function yB(i,t){if(i&1&&(l(0,"div",42),u(1," \u26A0\uFE0F "),c()),i&2){let e=P().$implicit;C("title",e.weatherWarningMessage)}}function xB(i,t){if(i&1){let e=ge();l(0,"div",34),z("mousedown",function(r){let a=q(e).$implicit,o=P();return W(o.handleDragStart(r,a))}),l(1,"div",35)(2,"div",36),u(3),c(),l(4,"div",37),u(5),c(),l(6,"div",38),u(7),c()(),l(8,"div",39),I(9,yB,2,1,"div",40),l(10,"div",41),u(11),c()()()}if(i&2){let e=t.$implicit,n=t.index,r=P();wS(r.getGroupStyle(e,n)),Qe("critical",r.isGroupCritical(e))("dragging",r.draggingGroup===e.title)("read-only",!r.isProjectOwner),C("ngClass",vu(17,fB,"status-"+r.getGroupStatus(e),"schedule-status-"+r.getScheduleStatus(e)))("title",r.getGroupTooltip(e)),at("data-group",e.title),b(3),xe(e.title),b(2),ir(" ",r.formatDate(e.startDate,"MMM d")," - ",r.formatDate(e.endDate,"MMM d")," "),b(2),Ce("",e.subtasks.length," tasks"),b(2),C("ngIf",e.hasWeatherWarning),b(2),Ce(" ",e.progress||0,"% ")}}function CB(i,t){if(i&1&&(l(0,"div",65),F(1,"img",66),l(2,"span"),u(3),c()()),i&2){let e=P().$implicit;b(),C("src",e.weatherIconUrl,bu),b(2),xe(e.weatherWarningMessage)}}function wB(i,t){if(i&1&&(l(0,"div",54)(1,"div",55)(2,"div",56),u(3),c(),l(4,"div",57),u(5),c()(),l(6,"div",58)(7,"span",59),u(8),c(),l(9,"span",60),u(10),c()(),l(11,"div",61)(12,"div",62),F(13,"div",63),c(),l(14,"span"),u(15),c()(),I(16,CB,4,2,"div",64),c()),i&2){let e=t.$implicit,n=P(2);Qe("completed",e.status&&e.status.toLowerCase()==="completed")("critical",e.isCritical),b(3),xe(e.task||e.name),b(2),xe(e.status||"pending"),b(3),Ce("",e.days||n.getDuration(e)," days"),b(2),ir(" ",n.formatDate(n.getSafeDate(e.start,e.startDate),"MMM d, yyyy")," - ",n.formatDate(n.getSafeDate(e.end,e.endDate),"MMM d, yyyy")," "),b(3),Qn("width",e.status&&e.status.toLowerCase()==="completed"?100:0,"%"),b(2),Ce("",e.status&&e.status.toLowerCase()==="completed"?100:0,"%"),b(),C("ngIf",e.hasWeatherWarning)}}function SB(i,t){if(i&1){let e=ge();l(0,"button",67),z("click",function(){q(e);let r=P(2);return W(r.editGroup(r.selectedGroup))}),u(1,"Edit Tasks"),c()}}function MB(i,t){if(i&1){let e=ge();l(0,"div",43)(1,"div",44)(2,"h2"),u(3),c(),l(4,"button",45),z("click",function(){q(e);let r=P();return W(r.closeGroupModal())}),u(5,"\xD7"),c()(),l(6,"div",46)(7,"div",47)(8,"div",48)(9,"strong"),u(10,"Duration:"),c(),u(11),c(),l(12,"div",48)(13,"strong"),u(14,"Progress:"),c(),u(15),c(),l(16,"div",48)(17,"strong"),u(18,"Status:"),c(),l(19,"span"),u(20),c()()(),l(21,"h3"),u(22),c(),l(23,"div",49),I(24,wB,17,13,"div",50),c()(),l(25,"div",51)(26,"button",52),z("click",function(){q(e);let r=P();return W(r.closeGroupModal())}),u(27,"Close"),c(),I(28,SB,2,0,"button",53),c()()}if(i&2){let e=P();b(3),xe(e.selectedGroup==null?null:e.selectedGroup.title),b(8),ir(" ",e.formatDate(e.selectedGroup==null?null:e.selectedGroup.startDate,"MMM d, yyyy")," - ",e.formatDate(e.selectedGroup==null?null:e.selectedGroup.endDate,"MMM d, yyyy")," "),b(4),Ce(" ",(e.selectedGroup==null?null:e.selectedGroup.progress)||0,"% "),b(4),wr("status-"+((e.selectedGroup==null?null:e.selectedGroup.scheduleStatus)||"on-track")),b(),Ce(" ",(e.selectedGroup==null?null:e.selectedGroup.scheduleStatus)||"on-track"," "),b(2),Ce("Subtasks (",(e.selectedGroup==null||e.selectedGroup.subtasks==null?null:e.selectedGroup.subtasks.length)||0,")"),b(2),C("ngForOf",e.selectedGroup==null?null:e.selectedGroup.subtasks),b(4),C("ngIf",e.isProjectOwner)}}var sv=class i{constructor(t){this.dialog=t}taskGroups=[];isProjectOwner=!1;onGroupClick=new Ge;onGroupMove=new Ge;onEditGroup=new Ge;timelineRef;headerRef;groupDetailModal;viewStartDate=new Date;draggingGroup=null;dragStartDate=null;isDragging=!1;dragStartPos=null;weeklyDates=[];timelineHeight=400;selectedGroup=null;modalRef=null;endDate=new Date;ghostElement=null;navigationInterval;weeksToShow=12;mouseMoveListener;mouseUpListener;ngOnInit(){this.processTaskGroups(),this.initializeViewStartDate(),this.generateWeeklyDates(),this.calculateTimelineHeight(),this.setupGlobalListeners(),this.getEndDate()}ngOnDestroy(){this.cleanupGlobalListeners(),this.modalRef&&this.modalRef.close()}ngOnChanges(t){t.taskGroups&&(this.processTaskGroups(),this.initializeViewStartDate(),this.generateWeeklyDates(),this.calculateTimelineHeight())}processTaskGroups(){this.taskGroups&&this.taskGroups.forEach(t=>{if(t.subtasks&&t.subtasks.length>0){let e=t.subtasks.filter(n=>n.status&&n.status.toLowerCase()==="completed").length;t.progress=Math.round(e/t.subtasks.length*100)}else t.progress=0})}initializeViewStartDate(){if(!this.taskGroups||this.taskGroups.length===0){this.viewStartDate=new Date,this.viewStartDate.setDate(this.viewStartDate.getDate()-this.viewStartDate.getDay());return}let t=this.taskGroups.flatMap(a=>a.subtasks).map(a=>{if(a.start)return a.start.getTime();if(a.startDate){let o=new Date(a.startDate);return isNaN(o.getTime())?void 0:o.getTime()}}).filter(a=>a!==void 0);if(t.length===0&&(t=this.taskGroups.map(a=>a.startDate?.getTime()).filter(a=>a!==void 0&&!isNaN(a))),t.length===0){this.viewStartDate=new Date,this.viewStartDate.setDate(this.viewStartDate.getDate()-this.viewStartDate.getDay());return}let e=Math.min(...t),n=new Date(e),r=new Date(n);r.setDate(r.getDate()-r.getDay()),this.viewStartDate=r}calculateTimelineHeight(){this.timelineHeight=Math.max(200,this.taskGroups.length*60+40)}setupGlobalListeners(){this.mouseMoveListener=t=>this.handleDragOver(t),this.mouseUpListener=t=>this.handleDragEnd(t),document.addEventListener("mousemove",this.mouseMoveListener),document.addEventListener("mouseup",this.mouseUpListener)}cleanupGlobalListeners(){this.mouseMoveListener&&document.removeEventListener("mousemove",this.mouseMoveListener),this.mouseUpListener&&document.removeEventListener("mouseup",this.mouseUpListener)}generateWeeklyDates(){this.weeklyDates=[];for(let t=0;t<this.weeksToShow;t++){let e=new Date(this.viewStartDate);e.setDate(e.getDate()+t*7);let n=[];for(let r=0;r<7;r++){let a=new Date(e);a.setDate(a.getDate()+r),n.push(a)}this.weeklyDates.push({start:e,days:n})}}navigateTimeline(t){let e=new Date(this.viewStartDate);e.setDate(e.getDate()+t),this.viewStartDate=e,this.generateWeeklyDates(),this.getEndDate()}startTimelineNavigation(t){this.navigateTimeline(t),this.navigationInterval=setInterval(()=>{this.navigateTimeline(t)},100)}stopTimelineNavigation(){clearInterval(this.navigationInterval)}onGridScroll(){this.headerRef?.nativeElement&&this.timelineRef?.nativeElement&&(this.headerRef.nativeElement.scrollLeft=this.timelineRef.nativeElement.scrollLeft)}getScheduleStatus(t){if(!t.startDate||!t.endDate)return"on-track";let e=new Date;e.setHours(0,0,0,0);let n=new Date(t.startDate);n.setHours(0,0,0,0);let r=new Date(t.endDate);r.setHours(0,0,0,0);let a=t.progress||0;if(a===100)return"on-track";if(e>r&&a<100)return"behind";if(e<n)return"on-track";let o=yo(r,n),s=yo(e,n);if(o<=0)return e>r?"behind":"on-track";let d=Math.min(100,s/o*100);return a<d?"behind":"on-track"}openGroupModal(t){this.selectedGroup=Ti(Ct({},t),{scheduleStatus:this.getScheduleStatus(t)}),this.modalRef=this.dialog.open(this.groupDetailModal,{width:"600px",maxHeight:"80vh",disableClose:!1,data:{group:this.selectedGroup}})}closeGroupModal(){this.modalRef&&(this.modalRef.close(),this.modalRef=null),this.selectedGroup=null}editGroup(t){this.onEditGroup.emit(t),this.closeGroupModal()}handleDragStart(t,e){if(!this.isProjectOwner){this.openGroupModal(e);return}t.button!==2&&(this.dragStartPos={x:t.clientX,y:t.clientY},this.draggingGroup=e.title,e&&e.startDate&&(this.dragStartDate=new Date(e.startDate)))}handleDragOver(t){if(!this.dragStartPos||!this.draggingGroup)return;let e=t.clientX-this.dragStartPos.x,n=t.clientY-this.dragStartPos.y;!this.isDragging&&Math.sqrt(e*e+n*n)>5&&(this.isDragging=!0,this.createGhostElement()),this.isDragging&&(t.preventDefault(),this.updateGhostPosition(t.clientX))}handleDragEnd(t){let e=this.taskGroups.find(n=>n.title===this.draggingGroup);if(this.isDragging){if(!this.draggingGroup||!this.dragStartDate||!this.timelineRef?.nativeElement||!this.dragStartPos){this.resetDrag();return}let r=this.timelineRef.nativeElement.getBoundingClientRect().width,a=this.weeksToShow*7,o=r/a,s=t.clientX-this.dragStartPos.x,d=Math.round(s/o);if(e&&e.startDate&&e.endDate&&d!==0){let m=yo(e.endDate,e.startDate),h=gd(this.dragStartDate,d),v=gd(h,m);this.onGroupMove.emit({groupId:e.title,newStartDate:h,newEndDate:v})}}else e&&this.openGroupModal(e);this.resetDrag()}createGhostElement(){if(!this.draggingGroup||!this.timelineRef)return;let t=this.timelineRef.nativeElement.querySelector(`[data-group="${this.draggingGroup}"]`);if(!t)return;this.ghostElement=t.cloneNode(!0),this.ghostElement.classList.add("group-ghost");let e=t.getBoundingClientRect();this.ghostElement.style.width=`${e.width}px`,this.ghostElement.style.height=`${e.height}px`,this.ghostElement.style.top=`${e.top}px`,this.ghostElement.style.left=`${e.left}px`,document.body.appendChild(this.ghostElement),t.classList.add("dragging-source")}updateGhostPosition(t){if(!this.ghostElement||!this.dragStartPos)return;let e=t-this.dragStartPos.x;this.ghostElement.style.transform=`translateX(${e}px)`}resetDrag(){if(this.ghostElement&&(this.ghostElement.remove(),this.ghostElement=null),this.draggingGroup){let t=document.querySelector(`[data-group="${this.draggingGroup}"]`);t&&(t.classList.remove("dragging-source"),t.style.transform="")}this.draggingGroup=null,this.dragStartDate=null,this.isDragging=!1,this.dragStartPos=null}getGroupStyle(t,e){if(!t.startDate||!t.endDate)return{};let n=this.weeksToShow*7,r=yo(t.startDate,this.viewStartDate),a=yo(t.endDate,t.startDate)+1,o=`${r/n*100}%`,s=`${Math.min(a/n*100,95)}%`,d=`${e*60+10}px`;return{left:o,width:s,top:d}}getGroupTooltip(t){let e=t.startDate&&t.endDate?yo(t.endDate,t.startDate)+1:0;return`${t.title}
${t.subtasks.length} subtasks
${e} days
Progress: ${t.progress||0}%`}isGroupCritical(t){return t.subtasks.some(e=>e.isCritical)}getTodayPosition(){let t=this.weeksToShow*7,n=yo(new Date,this.viewStartDate)/t*100;return`${Math.max(0,Math.min(n,100))}%`}getEndDate(){let t=new Date(this.viewStartDate);return t.setDate(t.getDate()+this.weeksToShow*7-1),t}isCurrentWeek(t){let e=new Date,n=new Date(t);return n.setDate(n.getDate()+6),e>=t&&e<=n}isWeekend(t){return t.getDay()===0||t.getDay()===6}isToday(t){let e=new Date;return t.toDateString()===e.toDateString()}formatDate(t,e){if(!t)return"";let n=this.parseMultipleFormats(t);return n?wb(n,e):""}parseMultipleFormats(t){if(!t)return null;if(t instanceof Date)return rm(t)?t:null;if(typeof t!="string")return null;let e=t.trim();if(!e)return null;let n=["dd/MM/yyyy","dd-MM-yyyy","MM/dd/yyyy","MM-dd-yyyy","yyyy-MM-dd","yyyy/MM/dd","dd/MM/yy","dd-MM-yy","MM/dd/yy","MM-dd-yy"];for(let r of n)try{let a=t3(e,r,new Date);if(rm(a))return a}catch{}try{let r=new Date(e);if(rm(r))return r}catch{}return null}getDuration(t){return!t.start||!t.end?0:yo(t.end,t.start)+1}getSafeDate(t,e){if(t)return t;if(e){let n=new Date(e);if(!isNaN(n.getTime()))return n}return new Date}getGroupStatus(t){return!t.subtasks||t.subtasks.length===0?"pending":t.subtasks.some(e=>e.status==="delayed")?"delayed":(t.progress??0)===100?"completed":(t.progress??0)===0?"pending":"in_progress"}static \u0275fac=function(e){return new(e||i)(k(pn))};static \u0275cmp=fe({type:i,selectors:[["app-timeline"]],viewQuery:function(e,n){if(e&1&&(Ue(mB,5),Ue(pB,5),Ue(hB,7)),e&2){let r;be(r=ve())&&(n.timelineRef=r.first),be(r=ve())&&(n.headerRef=r.first),be(r=ve())&&(n.groupDetailModal=r.first)}},inputs:{taskGroups:"taskGroups",isProjectOwner:"isProjectOwner"},outputs:{onGroupClick:"onGroupClick",onGroupMove:"onGroupMove",onEditGroup:"onEditGroup"},standalone:!0,features:[Ai,ye],decls:46,vars:9,consts:[["headerRef",""],["timelineRef",""],["groupDetailModal",""],[1,"timeline-container"],[1,"timeline-controls"],[1,"timeline-navigation"],[1,"nav-btn",3,"mousedown","mouseup","mouseleave"],["width","16","height","16","fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"date-range"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"timeline-legend"],[1,"legend-item"],[1,"legend-color",2,"background-color","#fbd008"],[1,"legend-color",2,"background-color","#616161"],[1,"legend-color",2,"background-color","#e0e0e0"],[1,"legend-color",2,"background","linear-gradient(135deg, #ffeb3b 0%, #f44336 100%)"],[1,"legend-color","critical",2,"background","#fbd008","border-left","2px solid #ef4444"],[1,"timeline-header"],["class","week-cell",3,"current-week",4,"ngFor","ngForOf"],[1,"timeline-grid",3,"scroll"],[1,"grid-background"],["class","week-grid",3,"current-week-bg",4,"ngFor","ngForOf"],["class","task-group-bar",3,"ngClass","critical","dragging","read-only","style","title","mousedown",4,"ngFor","ngForOf"],[1,"today-line"],[1,"week-cell"],[1,"week-label"],[1,"week-days"],["class","day-cell",3,"weekend","today",4,"ngFor","ngForOf"],[1,"day-cell"],[1,"week-grid"],["class","day-grid",3,"weekend-bg","today-bg",4,"ngFor","ngForOf"],[1,"day-grid"],[1,"task-group-bar",3,"mousedown","ngClass","title"],[1,"task-content"],[1,"task-name"],[1,"task-duration"],[1,"task-count"],[1,"task-meta"],["class","weather-warning-icon",3,"title",4,"ngIf"],[1,"progress-pill"],[1,"weather-warning-icon",3,"title"],[1,"group-modal"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-content"],[1,"group-info"],[1,"info-item"],[1,"subtasks-list"],["class","subtask-item",3,"completed","critical",4,"ngFor","ngForOf"],[1,"modal-actions"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"subtask-item"],[1,"subtask-header"],[1,"subtask-name"],[1,"subtask-status"],[1,"subtask-details"],[1,"duration"],[1,"dates"],[1,"subtask-progress"],[1,"progress-bar-small"],[1,"progress-fill-small"],["class","subtask-weather-warning",4,"ngIf"],[1,"subtask-weather-warning"],["alt","Weather Icon",1,"weather-icon",3,"src"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){if(e&1){let r=ge();l(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),z("mousedown",function(){return q(r),W(n.startTimelineNavigation(-7))})("mouseup",function(){return q(r),W(n.stopTimelineNavigation())})("mouseleave",function(){return q(r),W(n.stopTimelineNavigation())}),xi(),l(4,"svg",7),F(5,"path",8),c()(),Rr(),l(6,"button",6),z("mousedown",function(){return q(r),W(n.startTimelineNavigation(7))})("mouseup",function(){return q(r),W(n.stopTimelineNavigation())})("mouseleave",function(){return q(r),W(n.stopTimelineNavigation())}),xi(),l(7,"svg",7),F(8,"path",9),c()(),Rr(),l(9,"div",10),xi(),l(10,"svg",7),F(11,"path",11),c(),Rr(),l(12,"span"),u(13),c()()(),l(14,"div",12)(15,"div",13),F(16,"div",14),l(17,"span"),u(18,"Active"),c()(),l(19,"div",13),F(20,"div",15),l(21,"span"),u(22,"Completed"),c()(),l(23,"div",13),F(24,"div",16),l(25,"span"),u(26,"Pending"),c()(),l(27,"div",13),F(28,"div",17),l(29,"span"),u(30,"Behind Schedule"),c()(),l(31,"div",13),F(32,"div",18),l(33,"span"),u(34,"Critical Path"),c()()()(),l(35,"div",19,0),I(37,bB,5,4,"div",20),c(),l(38,"div",21,1),z("scroll",function(){return q(r),W(n.onGridScroll())}),l(40,"div",22),I(41,_B,2,3,"div",23),c(),I(42,xB,12,20,"div",24),F(43,"div",25),c()(),I(44,MB,29,10,"ng-template",null,2,ur)}e&2&&(b(13),ir(" ",n.formatDate(n.viewStartDate,"MMM d, yyyy")," - ",n.formatDate(n.getEndDate(),"MMM d, yyyy")," "),b(24),C("ngForOf",n.weeklyDates),b(),Qn("height",n.timelineHeight,"px"),b(3),C("ngForOf",n.weeklyDates),b(),C("ngForOf",n.taskGroups),b(),Qn("left",n.getTodayPosition()))},dependencies:[Dt,Nr,Ji,Pt,li],styles:[".timeline-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f9f9f9);border:1px solid #d9d9d9;border-radius:8px;overflow:hidden;font-family:Arial,sans-serif}.timeline-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:#fff;border-bottom:1px solid #d9d9d9}.timeline-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.nav-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #d9d9d9;background:#fff;border-radius:4px;cursor:pointer;transition:all .2s ease}.nav-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;border-color:#fbd008}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:1rem;font-weight:500;color:#333}.timeline-legend[_ngcontent-%COMP%]{display:flex;gap:1rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}.legend-color.critical[_ngcontent-%COMP%]{border-width:1px!important}.timeline-header[_ngcontent-%COMP%]{display:flex;background-color:#fbd008;border-bottom:2px solid #d9d9d9}.week-cell[_ngcontent-%COMP%]{flex:1;min-width:140px;border-right:1px solid #d9d9d9}.week-cell.current-week[_ngcontent-%COMP%]{background-color:#fbd0084d}.week-label[_ngcontent-%COMP%]{padding:.5rem;font-weight:600;color:#000;text-align:center;border-bottom:1px solid rgba(217,217,217,.5)}.week-days[_ngcontent-%COMP%]{display:flex}.day-cell[_ngcontent-%COMP%]{flex:1;padding:.25rem 0;text-align:center;font-size:.75rem;color:#000;border-right:1px solid rgba(217,217,217,.3);min-width:20px}.day-cell.weekend[_ngcontent-%COMP%]{background-color:#0000000d}.day-cell.today[_ngcontent-%COMP%]{background-color:#fbd008;font-weight:700}.timeline-grid[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:hidden;background-color:#fff}.grid-background[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;right:0;height:100%}.week-grid[_ngcontent-%COMP%]{flex:1;min-width:0;border-right:1px solid rgba(217,217,217,.3);display:flex}.week-grid.current-week-bg[_ngcontent-%COMP%]{background-color:#fbd0080d}.day-grid[_ngcontent-%COMP%]{flex:1;border-right:1px solid rgba(217,217,217,.2);height:100%}.day-grid.weekend-bg[_ngcontent-%COMP%]{background-color:#00000005}.day-grid.today-bg[_ngcontent-%COMP%]{background-color:#fbd0081a}.task-group-bar[_ngcontent-%COMP%]{position:absolute;height:48px;background:#fbd008;border-radius:6px;box-shadow:0 2px 8px #fbd0081a;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid #fbc02d;overflow:hidden;z-index:3;margin:4px 0}.task-group-bar[_ngcontent-%COMP%]:hover{background:#fbd008;border-color:#fbc02d;box-shadow:0 6px 16px #fbd0084d;transform:translateY(-2px) scale(1.02)}.task-group-bar.critical[_ngcontent-%COMP%]{border-left:4px solid #ef4444;box-shadow:0 2px 8px #ef444433}.task-group-bar.dragging-source[_ngcontent-%COMP%]{opacity:.4;border-style:dashed}.task-group-bar.status-completed[_ngcontent-%COMP%]{background:#616161;border-color:#424242}.task-group-bar.status-pending[_ngcontent-%COMP%]{background:#e0e0e0;border-color:#bdbdbd}.task-group-bar.status-delayed[_ngcontent-%COMP%], .task-group-bar.schedule-status-behind[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffeb3b,#f44336);border-color:#f44336}.group-ghost[_ngcontent-%COMP%]{position:fixed;pointer-events:none;z-index:9999;opacity:.8;box-shadow:0 8px 25px #00000040;transform:rotate(1deg) scale(1.05);transition:none}.task-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:0 .75rem;height:100%;color:#030303;position:relative;z-index:2}.task-meta[_ngcontent-%COMP%]{position:absolute;top:50%;right:12px;transform:translateY(-50%);display:flex;align-items:center;gap:8px;z-index:3}.weather-warning-icon[_ngcontent-%COMP%]{font-size:1.1rem;cursor:help;color:#ffc107;text-shadow:0 1px 2px rgba(0,0,0,.2)}.progress-pill[_ngcontent-%COMP%]{background-color:#0003;color:#fff;padding:2px 8px;border-radius:12px;font-size:.75rem;font-weight:600;text-shadow:0 1px 1px rgba(0,0,0,.5)}.task-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2;text-shadow:0 1px 2px rgba(0,0,0,.3)}.task-duration[_ngcontent-%COMP%]{font-size:.75rem;opacity:.9;line-height:1;text-shadow:0 1px 2px rgba(0,0,0,.3)}.task-count[_ngcontent-%COMP%]{font-size:.65rem;opacity:.8;text-shadow:0 1px 2px rgba(0,0,0,.3)}.progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:2px;left:2px;right:2px;height:4px;background-color:#ffffff4d;border-radius:2px}.progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#ffffffe6;border-radius:2px;transition:width .3s ease}.today-line[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:2px;background-color:#585858c7;z-index:5;box-shadow:0 0 4px #ffffff4d}.group-modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 20px 25px -5px #0000001a;max-width:600px;width:100%;max-height:80vh;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e5e7eb;background-color:#f9fafb}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#111827}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6b7280;padding:.25rem;border-radius:4px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-content[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600;color:#111827;display:flex;align-items:center;gap:.5rem}.group-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);padding:1.25rem;border-radius:8px;margin-bottom:1.5rem;border:1px solid #e2e8f0;box-shadow:0 1px 3px #0000000d}.group-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:.875rem;display:flex;align-items:center;gap:.5rem}.group-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.group-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{min-width:80px;color:#374151}.status-on-track[_ngcontent-%COMP%]{color:#059669;font-weight:500}.status-behind[_ngcontent-%COMP%]{color:#dc2626;font-weight:500}.status-ahead[_ngcontent-%COMP%]{color:#2563eb;font-weight:500}.subtasks-list[_ngcontent-%COMP%]{space-y:.75rem}.subtask-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:6px;padding:1rem;margin-bottom:.75rem;transition:all .2s ease}.subtask-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px #0000000d;border-color:#d1d5db}.subtask-item.completed[_ngcontent-%COMP%]{background-color:#f0fdf4;border-color:#bbf7d0}.subtask-item.critical[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.subtask-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.subtask-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.subtask-status[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;text-transform:capitalize}.subtask-details[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.5rem;font-size:.875rem;color:#6b7280;align-items:center}.subtask-details[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%], .subtask-details[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.subtask-details[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .subtask-details[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.subtask-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.progress-bar-small[_ngcontent-%COMP%]{flex:1;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.progress-fill-small[_ngcontent-%COMP%]{height:100%;background-color:#059669;border-radius:3px;transition:width .3s ease}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1.5rem;border-top:1px solid #e5e7eb;background-color:#f9fafb}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;font-weight:500;font-size:.875rem;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.btn-secondary[_ngcontent-%COMP%]{background-color:#f9fafb;color:#374151;border-color:#d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;border-color:#9ca3af}.btn-primary[_ngcontent-%COMP%]{background-color:#fbd008;color:#000}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#e6bd00}  .custom-modal-panel .mat-mdc-dialog-container{padding:0!important;border-radius:8px!important;overflow:hidden!important}.status-badge-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-badge-in_progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.status-badge-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.status-badge-delayed[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.subtask-weather-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;background-color:#fffbe6;border:1px solid #ffe58f;border-radius:4px;margin-top:8px;font-size:.875rem;color:#856404}.weather-icon[_ngcontent-%COMP%]{width:24px;height:24px}"]})};var lv=class i{constructor(t){this.dialogRef=t}onReturn(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||i)(k(Kn))};static \u0275cmp=fe({type:i,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[ye],decls:10,vars:0,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",1,"dialog-btn","return-btn",3,"click"],["mat-button","",1,"dialog-btn","confirm-btn",3,"click"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1,"Are you sure you want to delete?"),c(),l(2,"mat-dialog-content")(3,"p"),u(4," Are you sure you want to delete a subtask line? "),c()(),l(5,"mat-dialog-actions",1)(6,"button",2),z("click",function(){return n.onReturn()}),u(7,"No"),c(),l(8,"button",3),z("click",function(){return n.onConfirm()}),u(9,"Yes"),c()())},dependencies:[li,Zi,tn,en],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.return-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.return-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:333}.confirm-btn[_ngcontent-%COMP%]:hover{background-color:#fbd008}"]})};function kB(i,t){if(i&1&&(l(0,"p",6),u(1),c()),i&2){let e=P();b(),Ce(" \u26A0 ",e.warningMessage," ")}}var cv=class i{constructor(t,e,n){this.dialogRef=t;this.data=e;this.cdr=n}warningMessage=null;disableConfirm=!1;ngOnInit(){this.warningMessage=this.data?.warningMessage||null,this.disableConfirm=!!this.data?.disableConfirm,console.log("Dialog data:",{warningMessage:this.warningMessage,disableConfirm:this.disableConfirm,rawData:this.data}),this.cdr.detectChanges()}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||i)(k(Kn),k(Ca),k(xt))};static \u0275cmp=fe({type:i,selectors:[["app-confirm-ai-acceptance-dialog"]],standalone:!0,features:[ye],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","warning-message","style","border: 2px solid red; display: block !important;",4,"ngIf"],["align","end"],["mat-button","",1,"dialog-btn","return-btn",3,"click"],["mat-button","",1,"dialog-btn","confirm-btn",3,"click","disabled"],[1,"warning-message",2,"border","2px solid red","display","block !important"]],template:function(e,n){e&1&&(l(0,"h1",0),u(1,"Confirm Job Details"),c(),l(2,"div",1)(3,"p"),u(4,"Please confirm that you have reviewed the AI-generated output and subtasks, and that you accept them as correct."),c(),I(5,kB,2,1,"p",2),c(),l(6,"mat-dialog-actions",3)(7,"button",4),z("click",function(){return n.onCancel()}),u(8,"Cancel"),c(),l(9,"button",5),z("click",function(){return n.onConfirm()}),u(10,"Confirm"),c()()),e&2&&(b(5),C("ngIf",n.warningMessage&&n.warningMessage.length>0),b(4),C("disabled",n.disableConfirm))},dependencies:[li,Zi,tn,en,Dt,Pt],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:16px}p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5;margin-bottom:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px}.dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.return-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.return-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333}.confirm-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e6bf00}.confirm-btn[_ngcontent-%COMP%]:disabled{background-color:#e0e0e0!important;color:#9e9e9e!important;cursor:not-allowed;opacity:.6}.warning-message[_ngcontent-%COMP%]{color:#b00020;font-weight:700;margin-top:12px;padding:8px;background-color:#ffebee;border-radius:4px}"],changeDetection:0})};var dv=class i{constructor(t,e,n,r){this.store=t;this.dialog=e;this.snackBar=n;this.jobsService=r}addSubtask(t){let e={id:0,task:"",days:0,startDate:"",endDate:"",status:"Pending",cost:0,deleted:!1};t.subtasks.push(e);let n=this.store.getState().subtaskGroups.map(r=>r.title===t.title?Ti(Ct({},r),{subtasks:[...t.subtasks]}):r);this.store.setState({subtaskGroups:n})}deleteSubtask(t,e){this.dialog.open(lv,{width:"400px",panelClass:"custom-dialog-container",disableClose:!0}).afterClosed().subscribe(r=>{if(r===!0){t.subtasks[e].deleted=!0;let a=this.store.getState().subtaskGroups.map(o=>o.title===t.title?Ti(Ct({},o),{subtasks:[...t.subtasks]}):o);this.store.setState({subtaskGroups:a})}})}updateSubtaskDates(t,e){let n=t.subtasks[e];if(n.days&&n.startDate){let r=new Date(n.startDate),a=new Date(r);a.setDate(r.getDate()+n.days-1),n.endDate=a.toISOString().split("T")[0];for(let o=e+1;o<t.subtasks.length;o++){let s=t.subtasks[o],d=new Date(a);d.setDate(d.getDate()+1),s.startDate=d.toISOString().split("T")[0];let m=new Date(d);m.setDate(d.getDate()+s.days-1),s.endDate=m.toISOString().split("T")[0],a.setDate(m.getDate())}}}acceptAllSubtasks(){let t=this.store.getState().subtaskGroups.map(e=>Ti(Ct({},e),{subtasks:e.subtasks.map(n=>Ti(Ct({},n),{accepted:!0}))}));this.store.setState({subtaskGroups:t})}saveOnly(){let t=this.store.getState().subtaskGroups.flatMap(n=>n.subtasks).filter(n=>!n.deleted&&!n.accepted);this.dialog.open(cv,{data:{warningMessage:t.length>0?"Please accept all subtasks to proceed with saving.":null,disableConfirm:t.length>0}}).afterClosed().subscribe(n=>{n&&this.performSaveJob()})}performSaveJob(){if(this.store.getState().subtaskGroups.flatMap(o=>o.subtasks).filter(o=>!o.deleted&&!o.accepted).length>0){this.snackBar.open("\u26A0 Please accept all subtasks before saving.","Got it",{duration:6e3,panelClass:["custom-snackbar"],verticalPosition:"top",horizontalPosition:"center"});return}let e=this.store.getState().subtaskGroups.map(o=>Ti(Ct({},o),{subtasks:o.subtasks.map(({id:s,task:d,days:m,startDate:h,endDate:v,cost:_,status:g,deleted:D,accepted:E})=>({id:s,task:d,days:m,startDate:h,endDate:v,cost:_,status:g,groupTitle:o.title,deleted:D,accepted:E}))}));this.store.setState({subtaskGroups:e});let n=this.prepareProjectData("DRAFT"),r=e.flatMap(o=>o.subtasks.map(s=>Ti(Ct({},s),{groupTitle:o.title,jobId:this.store.getState().projectDetails.jobId,deleted:s.deleted??!1}))),a=localStorage.getItem("userId");this.jobsService.updateJob(n,this.store.getState().projectDetails.jobId).subscribe({next:o=>{this.jobsService.saveSubtasks(r,a).subscribe({next:()=>{this.snackBar.open("Saved Job Successfully","Close",{duration:3e3})},error:s=>{this.snackBar.open("Job saved Successfully","Close",{duration:3e3})}})},error:o=>{this.snackBar.open("An unexpected error occurred while saving the job.","Close",{duration:3e3})}})}prepareProjectData(t){let e=this.store.getState().projectDetails,n=this.store.getState().subtaskGroups,r=a=>{let o=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${o}-${s}-${d}`};return{Id:e.jobId||0,ProjectName:e.projectName||"",JobType:e.jobType||"",Qty:Number(e.quantity)||1,DesiredStartDate:r(e.desiredStartDate?new Date(e.desiredStartDate):new Date),WallStructure:e.wallStructure||"",WallStructureSubtask:JSON.stringify(n[2]?.subtasks||[]),WallInsulation:e.wallInsulation||"",WallInsulationSubtask:JSON.stringify(n[1]?.subtasks||[]),RoofStructure:e.roofStructure||"",RoofStructureSubtask:JSON.stringify(n[5]?.subtasks||[]),RoofTypeSubtask:"",RoofInsulation:e.roofInsulation||"",RoofInsulationSubtask:JSON.stringify(n[4]?.subtasks||[]),Foundation:e.foundation||"",FoundationSubtask:JSON.stringify(n[0]?.subtasks||[]),Finishes:e.finishes||"",FinishesSubtask:JSON.stringify(n[6]?.subtasks||[]),ElectricalSupplyNeeds:e.electricalSupply||"",ElectricalSupplyNeedsSubtask:JSON.stringify(n[3]?.subtasks||[]),Stories:Number(e.stories)||0,BuildingSize:Number(e.buildingSize)||0,Status:t||"DRAFT",OperatingArea:"GreenField",Address:e.address||"",UserId:localStorage.getItem("userId"),Blueprint:e.blueprintPath||""}}getVisibleSubtasks(t){return t.subtasks?.filter(e=>!e.deleted)||[]}publish(){let t=this.prepareProjectData("PUBLISHED");this.jobsService.updateJob(t,this.store.getState().projectDetails.jobId).subscribe({next:e=>{this.snackBar.open("Published Job Successfully","Close",{duration:3e3})},error:e=>{this.snackBar.open("An unexpected error occurred. Contact support","Close",{duration:3e3})}})}discard(){let t=this.prepareProjectData("DISCARD");this.jobsService.updateJob(t,this.store.getState().projectDetails.jobId).subscribe({next:e=>{this.snackBar.open("Discarded Job Successfully","Close",{duration:3e3})},error:e=>{this.snackBar.open("An unexpected error occurred. Contact support","Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||i)(Xe(Vo),Xe(pn),Xe(Hn),Xe(An))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var i3=St.BACKEND_URL,uv=class i{constructor(t,e,n){this.httpClient=t;this.jobsService=e;this.snackBar=n}documents=[];documentsError=null;isDocumentsLoading=!1;fetchDocuments(t){return this.isDocumentsLoading=!0,this.documentsError=null,this.jobsService.getJobDocuments(t).pipe(aa(e=>{this.documents=e.map(n=>({id:n.id,name:n.fileName,type:this.getFileType(n.fileName),size:n.size})),this.isDocumentsLoading=!1}),It(e=>(console.error("Error fetching documents:",e),this.documentsError="Failed to load documents.",this.isDocumentsLoading=!1,wt([]))))}viewDocument(t){this.jobsService.downloadJobDocument(t.id).subscribe({next:e=>{let n=new Blob([e],{type:"application/pdf"}),r=window.URL.createObjectURL(n);window.open(r,"_blank")||this.snackBar.open("Failed to open document. Please allow pop-ups for this site.","Close",{duration:3e3}),setTimeout(()=>window.URL.revokeObjectURL(r),1e4)},error:e=>{console.error("Error viewing document:",e),this.snackBar.open("Failed to view document.","Close",{duration:3e3})}})}getFileType(t){switch(t.split(".").pop()?.toLowerCase()){case"pdf":return"application/pdf";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";default:return"application/octet-stream"}}uploadFile(t,e,n){let r=new FormData;return r.append("Blueprint",t),r.append("Title","test"),r.append("Description","tester"),r.append("sessionId",n),this.httpClient.post(`${i3}/Jobs/UploadNoteImage`,r,{reportProgress:!0,observe:"events",headers:new Jr({Accept:"application/json"})}).pipe(mu(3e5))}deleteTemporaryFiles(t){return t.length===0?wt(null):this.httpClient.post(`${i3}/Jobs/DeleteTemporaryFiles`,{blobUrls:t})}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(An),Xe(Hn))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var ja=Uint8Array,xo=Uint16Array,rC=Int32Array,mv=new ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pv=new ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eC=new ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o3=function(i,t){for(var e=new xo(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new rC(e[30]),n=1;n<30;++n)for(var a=e[n];a<e[n+1];++a)r[a]=a-e[n]<<5|n;return{b:e,r}},s3=o3(mv,2),l3=s3.b,tC=s3.r;l3[28]=258,tC[258]=28;var c3=o3(pv,0),AB=c3.b,n3=c3.r,iC=new xo(32768);for(ln=0;ln<32768;++ln)jl=(ln&43690)>>1|(ln&21845)<<1,jl=(jl&52428)>>2|(jl&13107)<<2,jl=(jl&61680)>>4|(jl&3855)<<4,iC[ln]=((jl&65280)>>8|(jl&255)<<8)>>1;var jl,ln,Js=function(i,t,e){for(var n=i.length,r=0,a=new xo(t);r<n;++r)i[r]&&++a[i[r]-1];var o=new xo(t);for(r=1;r<t;++r)o[r]=o[r-1]+a[r-1]<<1;var s;if(e){s=new xo(1<<t);var d=15-t;for(r=0;r<n;++r)if(i[r])for(var m=r<<4|i[r],h=t-i[r],v=o[i[r]-1]++<<h,_=v|(1<<h)-1;v<=_;++v)s[iC[v]>>d]=m}else for(s=new xo(n),r=0;r<n;++r)i[r]&&(s[r]=iC[o[i[r]-1]++]>>15-i[r]);return s},Ac=new ja(288);for(ln=0;ln<144;++ln)Ac[ln]=8;var ln;for(ln=144;ln<256;++ln)Ac[ln]=9;var ln;for(ln=256;ln<280;++ln)Ac[ln]=7;var ln;for(ln=280;ln<288;++ln)Ac[ln]=8;var ln,mh=new ja(32);for(ln=0;ln<32;++ln)mh[ln]=5;var ln,IB=Js(Ac,9,0),PB=Js(Ac,9,1),TB=Js(mh,5,0),OB=Js(mh,5,1),Kx=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},fs=function(i,t,e){var n=t/8|0;return(i[n]|i[n+1]<<8)>>(t&7)&e},Xx=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},aC=function(i){return(i+7)/8|0},d3=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new ja(i.subarray(t,e))};var RB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gs=function(i,t,e){var n=new Error(t||RB[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,gs),!e)throw n;return n},NB=function(i,t,e,n){var r=i.length,a=n?n.length:0;if(!r||t.f&&!t.l)return e||new ja(0);var o=!e,s=o||t.i!=2,d=t.i;o&&(e=new ja(r*3));var m=function(We){var ct=e.length;if(We>ct){var ot=new ja(Math.max(ct*2,We));ot.set(e),e=ot}},h=t.f||0,v=t.p||0,_=t.b||0,g=t.l,D=t.d,E=t.m,S=t.n,w=r*8;do{if(!g){h=fs(i,v,1);var O=fs(i,v+1,3);if(v+=3,O)if(O==1)g=PB,D=OB,E=9,S=5;else if(O==2){var Ee=fs(i,v,31)+257,oe=fs(i,v+10,15)+4,Q=Ee+fs(i,v+5,31)+1;v+=14;for(var me=new ja(Q),Te=new ja(19),B=0;B<oe;++B)Te[eC[B]]=fs(i,v+B*3,7);v+=oe*3;for(var H=Kx(Te),Z=(1<<H)-1,X=Js(Te,H,1),B=0;B<Q;){var Ie=X[fs(i,v,Z)];v+=Ie&15;var G=Ie>>4;if(G<16)me[B++]=G;else{var we=0,Oe=0;for(G==16?(Oe=3+fs(i,v,3),v+=2,we=me[B-1]):G==17?(Oe=3+fs(i,v,7),v+=3):G==18&&(Oe=11+fs(i,v,127),v+=7);Oe--;)me[B++]=we}}var ue=me.subarray(0,Ee),Ae=me.subarray(Ee);E=Kx(ue),S=Kx(Ae),g=Js(ue,E,1),D=Js(Ae,S,1)}else gs(1);else{var G=aC(v)+4,ee=i[G-4]|i[G-3]<<8,se=G+ee;if(se>r){d&&gs(0);break}s&&m(_+ee),e.set(i.subarray(G,se),_),t.b=_+=ee,t.p=v=se*8,t.f=h;continue}if(v>w){d&&gs(0);break}}s&&m(_+131072);for(var Fe=(1<<E)-1,pt=(1<<S)-1,L=v;;L=v){var we=g[Xx(i,v)&Fe],$=we>>4;if(v+=we&15,v>w){d&&gs(0);break}if(we||gs(2),$<256)e[_++]=$;else if($==256){L=v,g=null;break}else{var J=$-254;if($>264){var B=$-257,ie=mv[B];J=fs(i,v,(1<<ie)-1)+l3[B],v+=ie}var ce=D[Xx(i,v)&pt],_e=ce>>4;ce||gs(3),v+=ce&15;var Ae=AB[_e];if(_e>3){var ie=pv[_e];Ae+=Xx(i,v)&(1<<ie)-1,v+=ie}if(v>w){d&&gs(0);break}s&&m(_+131072);var Se=_+J;if(_<Ae){var De=a-Ae,$e=Math.min(Ae,Se);for(De+_<0&&gs(3);_<$e;++_)e[_]=n[De+_]}for(;_<Se;++_)e[_]=e[_-Ae]}}t.l=g,t.p=L,t.b=_,t.f=h,g&&(h=1,t.m=E,t.d=D,t.n=S)}while(!h);return _!=e.length&&o?d3(e,0,_):e.subarray(0,_)},Bl=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},dh=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},Zx=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,a=e.slice();if(!r)return{t:m3,l:0};if(r==1){var o=new ja(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(se,Ee){return se.f-Ee.f}),e.push({s:-1,f:25001});var s=e[0],d=e[1],m=0,h=1,v=2;for(e[0]={s:-1,f:s.f+d.f,l:s,r:d};h!=r-1;)s=e[e[m].f<e[v].f?m++:v++],d=e[m!=h&&e[m].f<e[v].f?m++:v++],e[h++]={s:-1,f:s.f+d.f,l:s,r:d};for(var _=a[0].s,n=1;n<r;++n)a[n].s>_&&(_=a[n].s);var g=new xo(_+1),D=nC(e[h-1],g,0);if(D>t){var n=0,E=0,S=D-t,w=1<<S;for(a.sort(function(Ee,oe){return g[oe.s]-g[Ee.s]||Ee.f-oe.f});n<r;++n){var O=a[n].s;if(g[O]>t)E+=w-(1<<D-g[O]),g[O]=t;else break}for(E>>=S;E>0;){var G=a[n].s;g[G]<t?E-=1<<t-g[G]++-1:++n}for(;n>=0&&E;--n){var ee=a[n].s;g[ee]==t&&(--g[ee],++E)}D=t}return{t:new ja(g),l:D}},nC=function(i,t,e){return i.s==-1?Math.max(nC(i.l,t,e+1),nC(i.r,t,e+1)):t[i.s]=e},r3=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new xo(++t),n=0,r=i[0],a=1,o=function(d){e[n++]=d},s=1;s<=t;++s)if(i[s]==r&&s!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=i[s]}return{c:e.subarray(0,n),n:t}},uh=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},u3=function(i,t,e){var n=e.length,r=aC(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var a=0;a<n;++a)i[r+a+4]=e[a];return(r+4+n)*8},a3=function(i,t,e,n,r,a,o,s,d,m,h){Bl(t,h++,e),++r[256];for(var v=Zx(r,15),_=v.t,g=v.l,D=Zx(a,15),E=D.t,S=D.l,w=r3(_),O=w.c,G=w.n,ee=r3(E),se=ee.c,Ee=ee.n,oe=new xo(19),Q=0;Q<O.length;++Q)++oe[O[Q]&31];for(var Q=0;Q<se.length;++Q)++oe[se[Q]&31];for(var me=Zx(oe,7),Te=me.t,B=me.l,H=19;H>4&&!Te[eC[H-1]];--H);var Z=m+5<<3,X=uh(r,Ac)+uh(a,mh)+o,Ie=uh(r,_)+uh(a,E)+o+14+3*H+uh(oe,Te)+2*oe[16]+3*oe[17]+7*oe[18];if(d>=0&&Z<=X&&Z<=Ie)return u3(t,h,i.subarray(d,d+m));var we,Oe,ue,Ae;if(Bl(t,h,1+(Ie<X)),h+=2,Ie<X){we=Js(_,g,0),Oe=_,ue=Js(E,S,0),Ae=E;var Fe=Js(Te,B,0);Bl(t,h,G-257),Bl(t,h+5,Ee-1),Bl(t,h+10,H-4),h+=14;for(var Q=0;Q<H;++Q)Bl(t,h+3*Q,Te[eC[Q]]);h+=3*H;for(var pt=[O,se],L=0;L<2;++L)for(var $=pt[L],Q=0;Q<$.length;++Q){var J=$[Q]&31;Bl(t,h,Fe[J]),h+=Te[J],J>15&&(Bl(t,h,$[Q]>>5&127),h+=$[Q]>>12)}}else we=IB,Oe=Ac,ue=TB,Ae=mh;for(var Q=0;Q<s;++Q){var ie=n[Q];if(ie>255){var J=ie>>18&31;dh(t,h,we[J+257]),h+=Oe[J+257],J>7&&(Bl(t,h,ie>>23&31),h+=mv[J]);var ce=ie&31;dh(t,h,ue[ce]),h+=Ae[ce],ce>3&&(dh(t,h,ie>>5&8191),h+=pv[ce])}else dh(t,h,we[ie]),h+=Oe[ie]}return dh(t,h,we[256]),h+Oe[256]},FB=new rC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m3=new ja(0),LB=function(i,t,e,n,r,a){var o=a.z||i.length,s=new ja(n+o+5*(1+Math.ceil(o/7e3))+r),d=s.subarray(n,s.length-r),m=a.l,h=(a.r||0)&7;if(t){h&&(d[0]=a.r>>3);for(var v=FB[t-1],_=v>>13,g=v&8191,D=(1<<e)-1,E=a.p||new xo(32768),S=a.h||new xo(D+1),w=Math.ceil(e/3),O=2*w,G=function(Yt){return(i[Yt]^i[Yt+1]<<w^i[Yt+2]<<O)&D},ee=new rC(25e3),se=new xo(288),Ee=new xo(32),oe=0,Q=0,me=a.i||0,Te=0,B=a.w||0,H=0;me+2<o;++me){var Z=G(me),X=me&32767,Ie=S[Z];if(E[X]=Ie,S[Z]=X,B<=me){var we=o-me;if((oe>7e3||Te>24576)&&(we>423||!m)){h=a3(i,d,0,ee,se,Ee,Q,Te,H,me-H,h),Te=oe=Q=0,H=me;for(var Oe=0;Oe<286;++Oe)se[Oe]=0;for(var Oe=0;Oe<30;++Oe)Ee[Oe]=0}var ue=2,Ae=0,Fe=g,pt=X-Ie&32767;if(we>2&&Z==G(me-pt))for(var L=Math.min(_,we)-1,$=Math.min(32767,me),J=Math.min(258,we);pt<=$&&--Fe&&X!=Ie;){if(i[me+ue]==i[me+ue-pt]){for(var ie=0;ie<J&&i[me+ie]==i[me+ie-pt];++ie);if(ie>ue){if(ue=ie,Ae=pt,ie>L)break;for(var ce=Math.min(pt,ie-2),_e=0,Oe=0;Oe<ce;++Oe){var Se=me-pt+Oe&32767,De=E[Se],$e=Se-De&32767;$e>_e&&(_e=$e,Ie=Se)}}}X=Ie,Ie=E[X],pt+=X-Ie&32767}if(Ae){ee[Te++]=268435456|tC[ue]<<18|n3[Ae];var We=tC[ue]&31,ct=n3[Ae]&31;Q+=mv[We]+pv[ct],++se[257+We],++Ee[ct],B=me+ue,++oe}else ee[Te++]=i[me],++se[i[me]]}}for(me=Math.max(me,B);me<o;++me)ee[Te++]=i[me],++se[i[me]];h=a3(i,d,m,ee,se,Ee,Q,Te,H,me-H,h),m||(a.r=h&7|d[h/8|0]<<3,h-=7,a.h=S,a.p=E,a.i=me,a.w=B)}else{for(var me=a.w||0;me<o+m;me+=65535){var ot=me+65535;ot>=o&&(d[h/8|0]=m,ot=o),h=u3(d,h+1,i.subarray(me,ot))}a.i=o}return d3(s,0,n+aC(h)+r)};var p3=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,a=e.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)r+=n+=e[o];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},jB=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new ja(a.length+i.length);o.set(a),o.set(i,a.length),i=o,r.w=a.length}return LB(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)};var h3=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8};var BB=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=p3();r.p(t.dictionary),h3(i,2,r.d())}},VB=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&gs(6,"invalid zlib data"),(i[1]>>5&1)==+!t&&gs(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function hv(i,t){t||(t={});var e=p3();e.p(i);var n=jB(i,t,t.dictionary?6:2,4);return BB(n,t),h3(n,n.length-4,e.d()),n}function f3(i,t){return NB(i.subarray(VB(i,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var zB=typeof TextDecoder<"u"&&new TextDecoder,HB=0;try{zB.decode(m3,{stream:!0}),HB=1}catch{}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function oC(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var In={log:oC,warn:function(i){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):oC.call(null,arguments))},error:function(i){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):oC(i))}};function sC(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){_d(n.response,t,e)},n.onerror=function(){In.error("could not download file")},n.send()}function g3(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fv(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var ph,mC,_d=Qt.saveAs||((typeof window>"u"?"undefined":Sn(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=Qt.URL||Qt.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?g3(r.href)?sC(i,t,e):fv(r,r.target="_blank"):fv(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){fv(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(g3(i))sC(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){fv(n)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:Sn(a)!=="object"&&(In.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return sC(i,t,e);var r=i.type==="application/octet-stream",a=/constructor/i.test(Qt.HTMLElement)||Qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&(typeof FileReader>"u"?"undefined":Sn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var h=s.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},s.readAsDataURL(i)}else{var d=Qt.URL||Qt.webkitURL,m=d.createObjectURL(i);n?n.location=m:location.href=m,n=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});function O3(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,a=e[n].process,o=r.exec(i);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return s.length==1&&(s="0"+s),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+s+d+m}}function lC(i,t){var e=i[0],n=i[1],r=i[2],a=i[3];e=Ba(e,n,r,a,t[0],7,-680876936),a=Ba(a,e,n,r,t[1],12,-389564586),r=Ba(r,a,e,n,t[2],17,606105819),n=Ba(n,r,a,e,t[3],22,-1044525330),e=Ba(e,n,r,a,t[4],7,-176418897),a=Ba(a,e,n,r,t[5],12,1200080426),r=Ba(r,a,e,n,t[6],17,-1473231341),n=Ba(n,r,a,e,t[7],22,-45705983),e=Ba(e,n,r,a,t[8],7,1770035416),a=Ba(a,e,n,r,t[9],12,-1958414417),r=Ba(r,a,e,n,t[10],17,-42063),n=Ba(n,r,a,e,t[11],22,-1990404162),e=Ba(e,n,r,a,t[12],7,1804603682),a=Ba(a,e,n,r,t[13],12,-40341101),r=Ba(r,a,e,n,t[14],17,-1502002290),e=Va(e,n=Ba(n,r,a,e,t[15],22,1236535329),r,a,t[1],5,-165796510),a=Va(a,e,n,r,t[6],9,-1069501632),r=Va(r,a,e,n,t[11],14,643717713),n=Va(n,r,a,e,t[0],20,-373897302),e=Va(e,n,r,a,t[5],5,-701558691),a=Va(a,e,n,r,t[10],9,38016083),r=Va(r,a,e,n,t[15],14,-660478335),n=Va(n,r,a,e,t[4],20,-405537848),e=Va(e,n,r,a,t[9],5,568446438),a=Va(a,e,n,r,t[14],9,-1019803690),r=Va(r,a,e,n,t[3],14,-187363961),n=Va(n,r,a,e,t[8],20,1163531501),e=Va(e,n,r,a,t[13],5,-1444681467),a=Va(a,e,n,r,t[2],9,-51403784),r=Va(r,a,e,n,t[7],14,1735328473),e=za(e,n=Va(n,r,a,e,t[12],20,-1926607734),r,a,t[5],4,-378558),a=za(a,e,n,r,t[8],11,-2022574463),r=za(r,a,e,n,t[11],16,1839030562),n=za(n,r,a,e,t[14],23,-35309556),e=za(e,n,r,a,t[1],4,-1530992060),a=za(a,e,n,r,t[4],11,1272893353),r=za(r,a,e,n,t[7],16,-155497632),n=za(n,r,a,e,t[10],23,-1094730640),e=za(e,n,r,a,t[13],4,681279174),a=za(a,e,n,r,t[0],11,-358537222),r=za(r,a,e,n,t[3],16,-722521979),n=za(n,r,a,e,t[6],23,76029189),e=za(e,n,r,a,t[9],4,-640364487),a=za(a,e,n,r,t[12],11,-421815835),r=za(r,a,e,n,t[15],16,530742520),e=Ha(e,n=za(n,r,a,e,t[2],23,-995338651),r,a,t[0],6,-198630844),a=Ha(a,e,n,r,t[7],10,1126891415),r=Ha(r,a,e,n,t[14],15,-1416354905),n=Ha(n,r,a,e,t[5],21,-57434055),e=Ha(e,n,r,a,t[12],6,1700485571),a=Ha(a,e,n,r,t[3],10,-1894986606),r=Ha(r,a,e,n,t[10],15,-1051523),n=Ha(n,r,a,e,t[1],21,-2054922799),e=Ha(e,n,r,a,t[8],6,1873313359),a=Ha(a,e,n,r,t[15],10,-30611744),r=Ha(r,a,e,n,t[6],15,-1560198380),n=Ha(n,r,a,e,t[13],21,1309151649),e=Ha(e,n,r,a,t[4],6,-145523070),a=Ha(a,e,n,r,t[11],10,-1120210379),r=Ha(r,a,e,n,t[2],15,718787259),n=Ha(n,r,a,e,t[9],21,-343485551),i[0]=Pc(e,i[0]),i[1]=Pc(n,i[1]),i[2]=Pc(r,i[2]),i[3]=Pc(a,i[3])}function Mv(i,t,e,n,r,a){return t=Pc(Pc(t,i),Pc(n,a)),Pc(t<<r|t>>>32-r,e)}function Ba(i,t,e,n,r,a,o){return Mv(t&e|~t&n,i,t,r,a,o)}function Va(i,t,e,n,r,a,o){return Mv(t&n|e&~n,i,t,r,a,o)}function za(i,t,e,n,r,a,o){return Mv(t^e^n,i,t,r,a,o)}function Ha(i,t,e,n,r,a,o){return Mv(e^(t|~n),i,t,r,a,o)}function R3(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)lC(n,UB(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(lC(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,lC(n,r),n}function UB(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}ph=Qt.atob.bind(Qt),mC=Qt.btoa.bind(Qt);var b3="0123456789abcdef".split("");function qB(i){for(var t="",e=0;e<4;e++)t+=b3[i>>8*e+4&15]+b3[i>>8*e&15];return t}function WB(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function pC(i){return R3(i).map(WB).join("")}var GB=function(i){for(var t=0;t<i.length;t++)i[t]=qB(i[t]);return i.join("")}(R3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pc(i,t){if(GB){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function hC(i,t){var e,n,r,a;if(i!==e){for(var o=(r=i,a=1+(256/i.length>>0),new Array(a+1).join(r)),s=[],d=0;d<256;d++)s[d]=d;var m=0;for(d=0;d<256;d++){var h=s[d];m=(m+h+o.charCodeAt(d))%256,s[d]=s[m],s[m]=h}e=i,n=s}else s=n;var v=t.length,_=0,g=0,D="";for(d=0;d<v;d++)g=(g+(h=s[_=(_+1)%256]))%256,s[_]=s[g],s[g]=h,o=s[(s[_]+s[g])%256],D+=String.fromCharCode(t.charCodeAt(d)^o);return D}var v3={print:4,modify:8,copy:16,"annot-forms":32};function hm(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(s){if(v3.perm!==void 0)throw new Error("Invalid permission: "+s);r+=v3[s]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^r)),this.encryptionKey=pC(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hC(this.encryptionKey,this.padding)}function fm(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=i[n]}return t}function _3(i){if(Sn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[e]){var o=t[e][a];try{o[0].apply(i,n)}catch(s){Qt.console&&In.error("jsPDF PubSub Error",s.message,s)}o[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function wv(i){if(!(this instanceof wv))return new wv(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function N3(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function yd(i,t,e,n,r){if(!(this instanceof yd))return new yd(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,N3.call(this,n,r)}function gm(i,t,e,n,r){if(!(this instanceof gm))return new gm(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,N3.call(this,n,r)}function Lt(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],a=arguments[3],o=[],s=1,d=16,m="S",h=null;Sn(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,a=i.compress||i.compressPdf||a,(h=i.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),s=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(d=i.floatPrecision),m=i.defaultPathOperation||"S"),o=i.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",e=(""+(e||"P")).toLowerCase();var v=i.putOnlyUsedFonts||!1,_={},g={internal:{},__private__:{}};g.__private__.PubSub=_3;var D="1.3",E=g.__private__.getPdfVersion=function(){return D};g.__private__.setPdfVersion=function(y){D=y};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return S};var w=g.__private__.getPageFormat=function(y){return S[y]};r=r||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},G=O.COMPAT;function ee(){this.saveGraphicsState(),K(new Ht(mt,0,0,-mt,0,Kl()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),m="n",G=O.ADVANCED}function se(){this.restoreGraphicsState(),m="S",G=O.COMPAT}var Ee=g.__private__.combineFontStyleAndFontWeight=function(y,T){if(y=="bold"&&T=="normal"||y=="bold"&&T==400||y=="normal"&&T=="italic"||y=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(y=T==400||T==="normal"?y==="italic"?"italic":"normal":T!=700&&T!=="bold"||y!=="normal"?(T==700?"bold":T)+""+y:"bold"),y};g.advancedAPI=function(y){var T=G===O.COMPAT;return T&&ee.call(this),typeof y!="function"||(y(this),T&&se.call(this)),this},g.compatAPI=function(y){var T=G===O.ADVANCED;return T&&se.call(this),typeof y!="function"||(y(this),T&&ee.call(this)),this},g.isAdvancedAPI=function(){return G===O.ADVANCED};var oe,Q=function(y){if(G!==O.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},me=g.roundToPrecision=g.__private__.roundToPrecision=function(y,T){var Y=t||T;if(isNaN(y)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(Y).replace(/0+$/,"")};oe=g.hpf=g.__private__.hpf=typeof d=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return me(y,d)}:d==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return me(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return me(y,16)};var Te=g.f2=g.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return me(y,2)},B=g.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return me(y,3)},H=g.scale=g.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return G===O.COMPAT?y*mt:G===O.ADVANCED?y:void 0},Z=function(y){return G===O.COMPAT?Kl()-y:G===O.ADVANCED?y:void 0},X=function(y){return H(Z(y))};g.__private__.setPrecision=g.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(t=parseInt(y,10))};var Ie,we="00000000000000000000000000000000",Oe=g.__private__.getFileId=function(){return we},ue=g.__private__.setFileId=function(y){return we=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():we.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(fa=new hm(h.userPermissions,h.userPassword,h.ownerPassword,we)),we};g.setFileId=function(y){return ue(y),this},g.getFileId=function(){return Oe()};var Ae=g.__private__.convertDateToPDFDate=function(y){var T=y.getTimezoneOffset(),Y=T<0?"+":"-",te=Math.floor(Math.abs(T/60)),de=Math.abs(T%60),Re=[Y,J(te),"'",J(de),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),Re].join("")},Fe=g.__private__.convertPDFDateToDate=function(y){var T=parseInt(y.substr(2,4),10),Y=parseInt(y.substr(6,2),10)-1,te=parseInt(y.substr(8,2),10),de=parseInt(y.substr(10,2),10),Re=parseInt(y.substr(12,2),10),He=parseInt(y.substr(14,2),10);return new Date(T,Y,te,de,Re,He,0)},pt=g.__private__.setCreationDate=function(y){var T;if(y===void 0&&(y=new Date),y instanceof Date)T=Ae(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=y}return Ie=T},L=g.__private__.getCreationDate=function(y){var T=Ie;return y==="jsDate"&&(T=Fe(Ie)),T};g.setCreationDate=function(y){return pt(y),this},g.getCreationDate=function(y){return L(y)};var $,J=g.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ie=g.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ce=0,_e=[],Se=[],De=0,$e=[],We=[],ct=!1,ot=Se,Yt=function(){ce=0,De=0,Se=[],_e=[],$e=[],dl=Ir(),Ko=Ir()};g.__private__.setCustomOutputDestination=function(y){ct=!0,ot=y};var Ne=function(y){ct||(ot=y)};g.__private__.resetCustomOutputDestination=function(){ct=!1,ot=Se};var K=g.__private__.out=function(y){return y=y.toString(),De+=y.length+1,ot.push(y),ot},di=g.__private__.write=function(y){return K(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},At=g.__private__.getArrayBuffer=function(y){for(var T=y.length,Y=new ArrayBuffer(T),te=new Uint8Array(Y);T--;)te[T]=y.charCodeAt(T);return Y},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return qe};var tt=i.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(y){return tt=G===O.ADVANCED?y/mt:y,this};var ut,lt=g.__private__.getFontSize=g.getFontSize=function(){return G===O.COMPAT?tt:tt*mt},Ot=i.R2L||!1;g.__private__.setR2L=g.setR2L=function(y){return Ot=y,this},g.__private__.getR2L=g.getR2L=function(){return Ot};var ri,gi=g.__private__.setZoomMode=function(y){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))ut=y;else if(isNaN(y)){if(T.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');ut=y}else ut=parseInt(y,10)};g.__private__.getZoomMode=function(){return ut};var yi,qi=g.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');ri=y};g.__private__.getPageMode=function(){return ri};var vn=g.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');yi=y};g.__private__.getLayoutMode=function(){return yi},g.__private__.setDisplayMode=g.setDisplayMode=function(y,T,Y){return gi(y),vn(T),qi(Y),this};var Zt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(y){if(Object.keys(Zt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zt[y]},g.__private__.getDocumentProperties=function(){return Zt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(y){for(var T in Zt)Zt.hasOwnProperty(T)&&y[T]&&(Zt[T]=y[T]);return this},g.__private__.setDocumentProperty=function(y,T){if(Object.keys(Zt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zt[y]=T};var Si,mt,ha,Yi,Yo,kn={},Yn={},ws=[],cn={},Uc={},ar={},Qo={},cl=null,or=0,ai=[],dn=new _3(g),qc=i.hotfixes||[],ia={},Ss={},Ms=[],Ht=function y(T,Y,te,de,Re,He){if(!(this instanceof y))return new y(T,Y,te,de,Re,He);isNaN(T)&&(T=1),isNaN(Y)&&(Y=0),isNaN(te)&&(te=0),isNaN(de)&&(de=1),isNaN(Re)&&(Re=0),isNaN(He)&&(He=0),this._matrix=[T,Y,te,de,Re,He]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(oe).join(y)},Ht.prototype.multiply=function(y){var T=y.sx*this.sx+y.shy*this.shx,Y=y.sx*this.shy+y.shy*this.sy,te=y.shx*this.sx+y.sy*this.shx,de=y.shx*this.shy+y.sy*this.sy,Re=y.tx*this.sx+y.ty*this.shx+this.tx,He=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ht(T,Y,te,de,Re,He)},Ht.prototype.decompose=function(){var y=this.sx,T=this.shy,Y=this.shx,te=this.sy,de=this.tx,Re=this.ty,He=Math.sqrt(y*y+T*T),ht=(y/=He)*Y+(T/=He)*te;Y-=y*ht,te-=T*ht;var Rt=Math.sqrt(Y*Y+te*te);return ht/=Rt,y*(te/=Rt)<T*(Y/=Rt)&&(y=-y,T=-T,ht=-ht,He=-He),{scale:new Ht(He,0,0,Rt,0,0),translate:new Ht(1,0,0,1,de,Re),rotate:new Ht(y,T,-T,y,0,0),skew:new Ht(1,0,ht,1,0,0)}},Ht.prototype.toString=function(y){return this.join(" ")},Ht.prototype.inversed=function(){var y=this.sx,T=this.shy,Y=this.shx,te=this.sy,de=this.tx,Re=this.ty,He=1/(y*te-T*Y),ht=te*He,Rt=-T*He,ui=-Y*He,oi=y*He;return new Ht(ht,Rt,ui,oi,-ht*de-ui*Re,-Rt*de-oi*Re)},Ht.prototype.applyToPoint=function(y){var T=y.x*this.sx+y.y*this.shx+this.tx,Y=y.x*this.shy+y.y*this.sy+this.ty;return new Qd(T,Y)},Ht.prototype.applyToRectangle=function(y){var T=this.applyToPoint(y),Y=this.applyToPoint(new Qd(y.x+y.w,y.y+y.h));return new np(T.x,T.y,Y.x-T.x,Y.y-T.y)},Ht.prototype.clone=function(){var y=this.sx,T=this.shy,Y=this.shx,te=this.sy,de=this.tx,Re=this.ty;return new Ht(y,T,Y,te,de,Re)},g.Matrix=Ht;var Jo=g.matrixMult=function(y,T){return T.multiply(y)},ks=new Ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ks;var Qa=function(y,T){if(!Uc[y]){var Y=(T instanceof yd?"Sh":"P")+(Object.keys(cn).length+1).toString(10);T.id=Y,Uc[y]=Y,cn[Y]=T,dn.publish("addPattern",T)}};g.ShadingPattern=yd,g.TilingPattern=gm,g.addShadingPattern=function(y,T){return Q("addShadingPattern()"),Qa(y,T),this},g.beginTilingPattern=function(y){Q("beginTilingPattern()"),Mf(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},g.endTilingPattern=function(y,T){Q("endTilingPattern()"),T.stream=We[$].join(`
`),Qa(y,T),dn.publish("endTilingPattern",T),Ms.pop().restore()};var jr=g.__private__.newObject=function(){var y=Ir();return uo(y,!0),y},Ir=g.__private__.newObjectDeferred=function(){return ce++,_e[ce]=function(){return De},ce},uo=function(y,T){return T=typeof T=="boolean"&&T,_e[y]=De,T&&K(y+" 0 obj"),y},Fd=g.__private__.newAdditionalObject=function(){var y={objId:Ir(),content:""};return $e.push(y),y},dl=Ir(),Ko=Ir(),Xo=g.__private__.decodeColorString=function(y){var T=y.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var Y=parseFloat(T[0]);T=[Y,Y,Y,"r"]}for(var te="#",de=0;de<3;de++)te+=("0"+Math.floor(255*parseFloat(T[de])).toString(16)).slice(-2);return te},Zo=g.__private__.encodeColorString=function(y){var T;typeof y=="string"&&(y={ch1:y});var Y=y.ch1,te=y.ch2,de=y.ch3,Re=y.ch4,He=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var ht=new O3(Y);if(ht.ok)Y=ht.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var Rt=parseInt(Y.substr(1),16);Y=Rt>>16&255,te=Rt>>8&255,de=255&Rt}if(te===void 0||Re===void 0&&Y===te&&te===de)if(typeof Y=="string")T=Y+" "+He[0];else switch(y.precision){case 2:T=Te(Y/255)+" "+He[0];break;case 3:default:T=B(Y/255)+" "+He[0]}else if(Re===void 0||Sn(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return T=["1.","1.","1.",He[1]].join(" ");if(typeof Y=="string")T=[Y,te,de,He[1]].join(" ");else switch(y.precision){case 2:T=[Te(Y/255),Te(te/255),Te(de/255),He[1]].join(" ");break;default:case 3:T=[B(Y/255),B(te/255),B(de/255),He[1]].join(" ")}}else if(typeof Y=="string")T=[Y,te,de,Re,He[2]].join(" ");else switch(y.precision){case 2:T=[Te(Y),Te(te),Te(de),Te(Re),He[2]].join(" ");break;case 3:default:T=[B(Y),B(te),B(de),B(Re),He[2]].join(" ")}return T},Ds=g.__private__.getFilters=function(){return o},So=g.__private__.putStream=function(y){var T=(y=y||{}).data||"",Y=y.filters||Ds(),te=y.alreadyAppliedFilters||[],de=y.addLength1||!1,Re=T.length,He=y.objectId,ht=function(ga){return ga};if(h!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(ht=fa.encryptor(He,0));var Rt={};Y===!0&&(Y=["FlateEncode"]);var ui=y.additionalKeyValues||[],oi=(Rt=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(T,Y):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(Rt.data.length!==0&&(ui.push({key:"Length",value:Rt.data.length}),de===!0&&ui.push({key:"Length1",value:Re})),oi.length!=0)if(oi.split("/").length-1==1)ui.push({key:"Filter",value:oi});else{ui.push({key:"Filter",value:"["+oi+"]"});for(var Ri=0;Ri<ui.length;Ri+=1)if(ui[Ri].key==="DecodeParms"){for(var er=[],sr=0;sr<Rt.reverseChain.split("/").length-1;sr+=1)er.push("null");er.push(ui[Ri].value),ui[Ri].value="["+er.join(" ")+"]"}}K("<<");for(var Pr=0;Pr<ui.length;Pr++)K("/"+ui[Pr].key+" "+ui[Pr].value);K(">>"),Rt.data.length!==0&&(K("stream"),K(ht(Rt.data)),K("endstream"))},Es=g.__private__.putPage=function(y){var T=y.number,Y=y.data,te=y.objId,de=y.contentsObjId;uo(te,!0),K("<</Type /Page"),K("/Parent "+y.rootDictionaryObjId+" 0 R"),K("/Resources "+y.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(oe(y.mediaBox.bottomLeftX))+" "+parseFloat(oe(y.mediaBox.bottomLeftY))+" "+oe(y.mediaBox.topRightX)+" "+oe(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&K("/CropBox ["+oe(y.cropBox.bottomLeftX)+" "+oe(y.cropBox.bottomLeftY)+" "+oe(y.cropBox.topRightX)+" "+oe(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&K("/BleedBox ["+oe(y.bleedBox.bottomLeftX)+" "+oe(y.bleedBox.bottomLeftY)+" "+oe(y.bleedBox.topRightX)+" "+oe(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&K("/TrimBox ["+oe(y.trimBox.bottomLeftX)+" "+oe(y.trimBox.bottomLeftY)+" "+oe(y.trimBox.topRightX)+" "+oe(y.trimBox.topRightY)+"]"),y.artBox!==null&&K("/ArtBox ["+oe(y.artBox.bottomLeftX)+" "+oe(y.artBox.bottomLeftY)+" "+oe(y.artBox.topRightX)+" "+oe(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&K("/UserUnit "+y.userUnit),dn.publish("putPage",{objId:te,pageContext:ai[T],pageNumber:T,page:Y}),K("/Contents "+de+" 0 R"),K(">>"),K("endobj");var Re=Y.join(`
`);return G===O.ADVANCED&&(Re+=`
Q`),uo(de,!0),So({data:Re,filters:Ds(),objectId:de}),K("endobj"),te},Wc=g.__private__.putPages=function(){var y,T,Y=[];for(y=1;y<=or;y++)ai[y].objId=Ir(),ai[y].contentsObjId=Ir();for(y=1;y<=or;y++)Y.push(Es({number:y,data:We[y],objId:ai[y].objId,contentsObjId:ai[y].contentsObjId,mediaBox:ai[y].mediaBox,cropBox:ai[y].cropBox,bleedBox:ai[y].bleedBox,trimBox:ai[y].trimBox,artBox:ai[y].artBox,userUnit:ai[y].userUnit,rootDictionaryObjId:dl,resourceDictionaryObjId:Ko}));uo(dl,!0),K("<</Type /Pages");var te="/Kids [";for(T=0;T<or;T++)te+=Y[T]+" 0 R ";K(te+"]"),K("/Count "+or),K(">>"),K("endobj"),dn.publish("postPutPages")},Ld=function(y){dn.publish("putFont",{font:y,out:K,newObject:jr,putStream:So}),y.isAlreadyPutted!==!0&&(y.objectNumber=jr(),K("<<"),K("/Type /Font"),K("/BaseFont /"+fm(y.postScriptName)),K("/Subtype /Type1"),typeof y.encoding=="string"&&K("/Encoding /"+y.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},jd=function(){for(var y in kn)kn.hasOwnProperty(y)&&(v===!1||v===!0&&_.hasOwnProperty(y))&&Ld(kn[y])},Bd=function(y){y.objectNumber=jr();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[oe(y.x),oe(y.y),oe(y.x+y.width),oe(y.y+y.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var Y=y.pages[1].join(`
`);So({data:Y,additionalKeyValues:T,objectId:y.objectNumber}),K("endobj")},Vd=function(){for(var y in ia)ia.hasOwnProperty(y)&&Bd(ia[y])},sf=function(y,T){var Y,te=[],de=1/(T-1);for(Y=0;Y<1;Y+=de)te.push(Y);if(te.push(1),y[0].offset!=0){var Re={offset:0,color:y[0].color};y.unshift(Re)}if(y[y.length-1].offset!=1){var He={offset:1,color:y[y.length-1].color};y.push(He)}for(var ht="",Rt=0,ui=0;ui<te.length;ui++){for(Y=te[ui];Y>y[Rt+1].offset;)Rt++;var oi=y[Rt].offset,Ri=(Y-oi)/(y[Rt+1].offset-oi),er=y[Rt].color,sr=y[Rt+1].color;ht+=ie(Math.round((1-Ri)*er[0]+Ri*sr[0]).toString(16))+ie(Math.round((1-Ri)*er[1]+Ri*sr[1]).toString(16))+ie(Math.round((1-Ri)*er[2]+Ri*sr[2]).toString(16))}return ht.trim()},b1=function(y,T){T||(T=21);var Y=jr(),te=sf(y.colors,T),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+T+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),So({data:te,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),K("endobj"),y.objectNumber=jr(),K("<< /ShadingType "+y.type),K("/ColorSpace /DeviceRGB");var Re="/Coords ["+oe(parseFloat(y.coords[0]))+" "+oe(parseFloat(y.coords[1]))+" ";y.type===2?Re+=oe(parseFloat(y.coords[2]))+" "+oe(parseFloat(y.coords[3])):Re+=oe(parseFloat(y.coords[2]))+" "+oe(parseFloat(y.coords[3]))+" "+oe(parseFloat(y.coords[4]))+" "+oe(parseFloat(y.coords[5])),K(Re+="]"),y.matrix&&K("/Matrix ["+y.matrix.toString()+"]"),K("/Function "+Y+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},v1=function(y,T){var Y=Ir(),te=jr();T.push({resourcesOid:Y,objectOid:te}),y.objectNumber=te;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+y.boundingBox.map(oe).join(" ")+"]"}),de.push({key:"XStep",value:oe(y.xStep)}),de.push({key:"YStep",value:oe(y.yStep)}),de.push({key:"Resources",value:Y+" 0 R"}),y.matrix&&de.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),So({data:y.stream,additionalKeyValues:de,objectId:y.objectNumber}),K("endobj")},zd=function(y){var T;for(T in cn)cn.hasOwnProperty(T)&&(cn[T]instanceof yd?b1(cn[T]):cn[T]instanceof gm&&v1(cn[T],y))},lf=function(y){for(var T in y.objectNumber=jr(),K("<<"),y)switch(T){case"opacity":K("/ca "+Te(y[T]));break;case"stroke-opacity":K("/CA "+Te(y[T]))}K(">>"),K("endobj")},_1=function(){var y;for(y in ar)ar.hasOwnProperty(y)&&lf(ar[y])},$m=function(){for(var y in K("/XObject <<"),ia)ia.hasOwnProperty(y)&&ia[y].objectNumber>=0&&K("/"+y+" "+ia[y].objectNumber+" 0 R");dn.publish("putXobjectDict"),K(">>")},y1=function(){fa.oid=jr(),K("<<"),K("/Filter /Standard"),K("/V "+fa.v),K("/R "+fa.r),K("/U <"+fa.toHexString(fa.U)+">"),K("/O <"+fa.toHexString(fa.O)+">"),K("/P "+fa.P),K(">>"),K("endobj")},cf=function(){for(var y in K("/Font <<"),kn)kn.hasOwnProperty(y)&&(v===!1||v===!0&&_.hasOwnProperty(y))&&K("/"+y+" "+kn[y].objectNumber+" 0 R");K(">>")},x1=function(){if(Object.keys(cn).length>0){for(var y in K("/Shading <<"),cn)cn.hasOwnProperty(y)&&cn[y]instanceof yd&&cn[y].objectNumber>=0&&K("/"+y+" "+cn[y].objectNumber+" 0 R");dn.publish("putShadingPatternDict"),K(">>")}},Hd=function(y){if(Object.keys(cn).length>0){for(var T in K("/Pattern <<"),cn)cn.hasOwnProperty(T)&&cn[T]instanceof g.TilingPattern&&cn[T].objectNumber>=0&&cn[T].objectNumber<y&&K("/"+T+" "+cn[T].objectNumber+" 0 R");dn.publish("putTilingPatternDict"),K(">>")}},C1=function(){if(Object.keys(ar).length>0){var y;for(y in K("/ExtGState <<"),ar)ar.hasOwnProperty(y)&&ar[y].objectNumber>=0&&K("/"+y+" "+ar[y].objectNumber+" 0 R");dn.publish("putGStateDict"),K(">>")}},_r=function(y){uo(y.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cf(),x1(),Hd(y.objectOid),C1(),$m(),K(">>"),K("endobj")},df=function(){var y=[];jd(),_1(),Vd(),zd(y),dn.publish("putResources"),y.forEach(_r),_r({resourcesOid:Ko,objectOid:Number.MAX_SAFE_INTEGER}),dn.publish("postPutResources")},uf=function(){dn.publish("putAdditionalObjects");for(var y=0;y<$e.length;y++){var T=$e[y];uo(T.objId,!0),K(T.content),K("endobj")}dn.publish("postPutAdditionalObjects")},mf=function(y){Yn[y.fontName]=Yn[y.fontName]||{},Yn[y.fontName][y.fontStyle]=y.id},Ym=function(y,T,Y,te,de){var Re={id:"F"+(Object.keys(kn).length+1).toString(10),postScriptName:y,fontName:T,fontStyle:Y,encoding:te,isStandardFont:de||!1,metadata:{}};return dn.publish("addFont",{font:Re,instance:this}),kn[Re.id]=Re,mf(Re),Re.id},w1=function(y){for(var T=0,Y=qe.length;T<Y;T++){var te=Ym.call(this,y[T][0],y[T][1],y[T][2],qe[T][3],!0);v===!1&&(_[te]=!0);var de=y[T][0].split("-");mf({id:te,fontName:de[0],fontStyle:de[1]||""})}dn.publish("addFonts",{fonts:kn,dictionary:Yn})},es=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(te){var T=te.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var Y="Error in function "+T.split(`
`)[0].split("<")[0]+": "+te.message;if(!Qt.console)throw new Error(Y);Qt.console.error(Y,te),Qt.alert&&alert(Y)}},y.foo.bar=y,y.foo},Ud=function(y,T){var Y,te,de,Re,He,ht,Rt,ui,oi;if(de=(T=T||{}).sourceEncoding||"Unicode",He=T.outputEncoding,(T.autoencode||He)&&kn[Si].metadata&&kn[Si].metadata[de]&&kn[Si].metadata[de].encoding&&(Re=kn[Si].metadata[de].encoding,!He&&kn[Si].encoding&&(He=kn[Si].encoding),!He&&Re.codePages&&(He=Re.codePages[0]),typeof He=="string"&&(He=Re[He]),He)){for(Rt=!1,ht=[],Y=0,te=y.length;Y<te;Y++)(ui=He[y.charCodeAt(Y)])?ht.push(String.fromCharCode(ui)):ht.push(y[Y]),ht[Y].charCodeAt(0)>>8&&(Rt=!0);y=ht.join("")}for(Y=y.length;Rt===void 0&&Y!==0;)y.charCodeAt(Y-1)>>8&&(Rt=!0),Y--;if(!Rt)return y;for(ht=T.noBOM?[]:[254,255],Y=0,te=y.length;Y<te;Y++){if((oi=(ui=y.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(oi),ht.push(ui-(oi<<8))}return String.fromCharCode.apply(void 0,ht)},Ja=g.__private__.pdfEscape=g.pdfEscape=function(y,T){return Ud(y,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qm=g.__private__.beginPage=function(y){We[++or]=[],ai[or]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},hf(or),Ne(We[$])},pf=function(y,T){var Y,te,de;switch(e=T||e,typeof y=="string"&&(Y=w(y.toLowerCase()),Array.isArray(Y)&&(te=Y[0],de=Y[1])),Array.isArray(y)&&(te=y[0]*mt,de=y[1]*mt),isNaN(te)&&(te=r[0],de=r[1]),(te>14400||de>14400)&&(In.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),de=Math.min(14400,de)),r=[te,de],e.substr(0,1)){case"l":de>te&&(r=[de,te]);break;case"p":te>de&&(r=[de,te])}Qm(r),yf(Zm),K(ts),tp!==0&&K(tp+" J"),ip!==0&&K(ip+" j"),dn.publish("addPage",{pageNumber:or})},S1=function(y){y>0&&y<=or&&(We.splice(y,1),ai.splice(y,1),or--,$>or&&($=or),this.setPage($))},hf=function(y){y>0&&y<=or&&($=y)},M1=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return We.length-1},ff=function(y,T,Y){var te,de=void 0;return Y=Y||{},y=y!==void 0?y:kn[Si].fontName,T=T!==void 0?T:kn[Si].fontStyle,te=y.toLowerCase(),Yn[te]!==void 0&&Yn[te][T]!==void 0?de=Yn[te][T]:Yn[y]!==void 0&&Yn[y][T]!==void 0?de=Yn[y][T]:Y.disableWarning===!1&&In.warn("Unable to look up font label for font '"+y+"', '"+T+"'. Refer to getFontList() for available fonts."),de||Y.noFallback||(de=Yn.times[T])==null&&(de=Yn.times.normal),de},k1=g.__private__.putInfo=function(){var y=jr(),T=function(te){return te};for(var Y in h!==null&&(T=fa.encryptor(y,0)),K("<<"),K("/Producer ("+Ja(T("jsPDF "+Lt.version))+")"),Zt)Zt.hasOwnProperty(Y)&&Zt[Y]&&K("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+Ja(T(Zt[Y]))+")");K("/CreationDate ("+Ja(T(Ie))+")"),K(">>"),K("endobj")},Jm=g.__private__.putCatalog=function(y){var T=(y=y||{}).rootDictionaryObjId||dl;switch(jr(),K("<<"),K("/Type /Catalog"),K("/Pages "+T+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+ut;Y.substr(Y.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&K("/OpenAction [3 0 R /XYZ null null "+Te(ut)+"]")}switch(yi||(yi="continuous"),yi){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}ri&&K("/PageMode /"+ri),dn.publish("putCatalog"),K(">>"),K("endobj")},D1=g.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ce+1)),K("/Root "+ce+" 0 R"),K("/Info "+(ce-1)+" 0 R"),h!==null&&K("/Encrypt "+fa.oid+" 0 R"),K("/ID [ <"+we+"> <"+we+"> ]"),K(">>")},E1=g.__private__.putHeader=function(){K("%PDF-"+D),K("%\xBA\xDF\xAC\xE0")},A1=g.__private__.putXRef=function(){var y="0000000000";K("xref"),K("0 "+(ce+1)),K("0000000000 65535 f ");for(var T=1;T<=ce;T++)typeof _e[T]=="function"?K((y+_e[T]()).slice(-10)+" 00000 n "):_e[T]!==void 0?K((y+_e[T]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ul=g.__private__.buildDocument=function(){Yt(),Ne(Se),dn.publish("buildDocument"),E1(),Wc(),uf(),df(),h!==null&&y1(),k1(),Jm();var y=De;return A1(),D1(),K("startxref"),K(""+y),K("%%EOF"),Ne(We[$]),Se.join(`
`)},qd=g.__private__.getBlob=function(y){return new Blob([At(y)],{type:"application/pdf"})},Wd=g.output=g.__private__.output=es(function(y,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",y){case void 0:return ul();case"save":g.save(T.filename);break;case"arraybuffer":return At(ul());case"blob":return qd(ul());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(qd(ul()))||void 0;In.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",te=ul();try{Y=mC(te)}catch{Y=mC(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+T.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(de=T.pdfObjectUrl,Re="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",ht=Qt.open();return ht!==null&&ht.document.write(He),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',ui=Qt.open();if(ui!==null){ui.document.write(Rt);var oi=this;ui.document.documentElement.querySelector("#pdfViewer").onload=function(){ui.document.title=T.filename,ui.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(oi.output("bloburl"))}}return ui}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',er=Qt.open();if(er!==null&&(er.document.write(Ri),er.document.title=T.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",T);default:return null}}),gf=function(y){return Array.isArray(qc)===!0&&qc.indexOf(y)>-1};switch(n){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=gf("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);mt=n}var fa=null;pt(),ue();var I1=function(y){return h!==null?fa.encryptor(y,0):function(T){return T}},bf=g.__private__.getPageInfo=g.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ai[y].objId,pageNumber:y,pageContext:ai[y]}},ti=g.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in ai)if(ai[T].objId===y)break;return bf(T)},P1=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ai[$].objId,pageNumber:$,pageContext:ai[$]}};g.addPage=function(){return pf.apply(this,arguments),this},g.setPage=function(){return hf.apply(this,arguments),Ne.call(this,We[$]),this},g.insertPage=function(y){return this.addPage(),this.movePage($,y),this},g.movePage=function(y,T){var Y,te;if(y>T){Y=We[y],te=ai[y];for(var de=y;de>T;de--)We[de]=We[de-1],ai[de]=ai[de-1];We[T]=Y,ai[T]=te,this.setPage(T)}else if(y<T){Y=We[y],te=ai[y];for(var Re=y;Re<T;Re++)We[Re]=We[Re+1],ai[Re]=ai[Re+1];We[T]=Y,ai[T]=te,this.setPage(T)}return this},g.deletePage=function(){return S1.apply(this,arguments),this},g.__private__.text=g.text=function(y,T,Y,te,de){var Re,He,ht,Rt,ui,oi,Ri,er,sr,Pr=(te=te||{}).scope||this;if(typeof y=="number"&&typeof T=="number"&&(typeof Y=="string"||Array.isArray(Y))){var ga=Y;Y=T,T=y,y=ga}if(arguments[3]instanceof Ht?(Q("The transform parameter of text() with a Matrix value"),sr=de):(ht=arguments[4],Rt=arguments[5],Sn(Ri=arguments[3])==="object"&&Ri!==null||(typeof ht=="string"&&(Rt=ht,ht=null),typeof Ri=="string"&&(Rt=Ri,Ri=null),typeof Ri=="number"&&(ht=Ri,Ri=null),te={flags:Ri,angle:ht,align:Rt})),isNaN(T)||isNaN(Y)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Pr;var Wr="",is=!1,mo=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:$c,Ps=Pr.internal.scaleFactor;function kf(Rn){return Rn=Rn.split("	").join(Array(te.TabLen||9).join(" ")),Ja(Rn,Ri)}function sp(Rn){for(var Nn,xr=Rn.concat(),Br=[],gl=xr.length;gl--;)typeof(Nn=xr.shift())=="string"?Br.push(Nn):Array.isArray(Rn)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?Br.push(Nn[0]):Br.push([Nn[0],Nn[1],Nn[2]]);return Br}function lp(Rn,Nn){var xr;if(typeof Rn=="string")xr=Nn(Rn)[0];else if(Array.isArray(Rn)){for(var Br,gl,gp=Rn.concat(),ou=[],Pf=gp.length;Pf--;)typeof(Br=gp.shift())=="string"?ou.push(Nn(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(gl=Nn(Br[0],Br[1],Br[2]),ou.push([gl[0],gl[1],gl[2]]));xr=ou}return xr}var Kd=!1,cp=!0;if(typeof y=="string")Kd=!0;else if(Array.isArray(y)){var dp=y.concat();He=[];for(var Xd,na=dp.length;na--;)(typeof(Xd=dp.shift())!="string"||Array.isArray(Xd)&&typeof Xd[0]!="string")&&(cp=!1);Kd=cp}if(Kd===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Zd=tt/Pr.internal.scaleFactor,eu=Zd*(mo-1);switch(te.baseline){case"bottom":Y-=eu;break;case"top":Y+=Zd-eu;break;case"hanging":Y+=Zd-2*eu;break;case"middle":Y+=Zd/2-eu}if((oi=te.maxWidth||0)>0&&(typeof y=="string"?y=Pr.splitTextToSize(y,oi):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Rn,Nn){return Rn.concat(Pr.splitTextToSize(Nn,oi))},[]))),Re={text:y,x:T,y:Y,options:te,mutex:{pdfEscape:Ja,activeFontKey:Si,fonts:kn,activeFontSize:tt}},dn.publish("preProcessText",Re),y=Re.text,ht=(te=Re.options).angle,!(sr instanceof Ht)&&ht&&typeof ht=="number"){ht*=Math.PI/180,te.rotationDirection===0&&(ht=-ht),G===O.ADVANCED&&(ht=-ht);var tu=Math.cos(ht),up=Math.sin(ht);sr=new Ht(tu,up,-up,tu,0,0)}else ht&&ht instanceof Ht&&(sr=ht);G!==O.ADVANCED||sr||(sr=ks),(ui=te.charSpace||Yd)!==void 0&&(Wr+=oe(H(ui))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=te.horizontalScale)!==void 0&&(Wr+=oe(100*er)+` Tz
`),te.lang;var Ka=-1,z1=te.renderingMode!==void 0?te.renderingMode:te.stroke,mp=Pr.internal.getCurrentPageInfo().pageContext;switch(z1){case 0:case!1:case"fill":Ka=0;break;case 1:case!0:case"stroke":Ka=1;break;case 2:case"fillThenStroke":Ka=2;break;case 3:case"invisible":Ka=3;break;case 4:case"fillAndAddForClipping":Ka=4;break;case 5:case"strokeAndAddPathForClipping":Ka=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ka=6;break;case 7:case"addToPathForClipping":Ka=7}var Df=mp.usedRenderingMode!==void 0?mp.usedRenderingMode:-1;Ka!==-1?Wr+=Ka+` Tr
`:Df!==-1&&(Wr+=`0 Tr
`),Ka!==-1&&(mp.usedRenderingMode=Ka),Rt=te.align||"left";var Mo,iu=tt*mo,Ef=Pr.internal.pageSize.getWidth(),Af=kn[Si];ui=te.charSpace||Yd,oi=te.maxWidth||0,Ri=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Xl=[],Jc=function(Rn){return Pr.getStringUnitWidth(Rn,{font:Af,charSpace:ui,fontSize:tt,doKerning:!1})*tt/Ps};if(Object.prototype.toString.call(y)==="[object Array]"){var Xa;He=sp(y),Rt!=="left"&&(Mo=He.map(Jc));var Ua,Zl=0;if(Rt==="right"){T-=Mo[0],y=[],na=He.length;for(var pl=0;pl<na;pl++)pl===0?(Ua=Is(T),Xa=ml(Y)):(Ua=H(Zl-Mo[pl]),Xa=-iu),y.push([He[pl],Ua,Xa]),Zl=Mo[pl]}else if(Rt==="center"){T-=Mo[0]/2,y=[],na=He.length;for(var hl=0;hl<na;hl++)hl===0?(Ua=Is(T),Xa=ml(Y)):(Ua=H((Zl-Mo[hl])/2),Xa=-iu),y.push([He[hl],Ua,Xa]),Zl=Mo[hl]}else if(Rt==="left"){y=[],na=He.length;for(var nu=0;nu<na;nu++)y.push(He[nu])}else if(Rt==="justify"&&Af.encoding==="Identity-H"){y=[],na=He.length,oi=oi!==0?oi:Ef;for(var fl=0,yr=0;yr<na;yr++)if(Xa=yr===0?ml(Y):-iu,Ua=yr===0?Is(T):fl,yr<na-1){var pp=H((oi-Mo[yr])/(He[yr].split(" ").length-1)),qa=He[yr].split(" ");y.push([qa[0]+" ",Ua,Xa]),fl=0;for(var ko=1;ko<qa.length;ko++){var ru=(Jc(qa[ko-1]+" "+qa[ko])-Jc(qa[ko]))*Ps+pp;ko==qa.length-1?y.push([qa[ko],ru,0]):y.push([qa[ko]+" ",ru,0]),fl-=ru}}else y.push([He[yr],Ua,Xa]);y.push(["",fl,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],na=He.length,oi=oi!==0?oi:Ef,yr=0;yr<na;yr++)Xa=yr===0?ml(Y):-iu,Ua=yr===0?Is(T):0,yr<na-1?Xl.push(oe(H((oi-Mo[yr])/(He[yr].split(" ").length-1)))):Xl.push(0),y.push([He[yr],Ua,Xa])}}var If=typeof te.R2L=="boolean"?te.R2L:Ot;If===!0&&(y=lp(y,function(Rn,Nn,xr){return[Rn.split("").reverse().join(""),Nn,xr]})),Re={text:y,x:T,y:Y,options:te,mutex:{pdfEscape:Ja,activeFontKey:Si,fonts:kn,activeFontSize:tt}},dn.publish("postProcessText",Re),y=Re.text,is=Re.mutex.isHex||!1;var hp=kn[Si].encoding;hp!=="WinAnsiEncoding"&&hp!=="StandardEncoding"||(y=lp(y,function(Rn,Nn,xr){return[kf(Rn),Nn,xr]})),He=sp(y),y=[];for(var Kc,Xc,ec,Zc=0,au=1,ed=Array.isArray(He[0])?au:Zc,tc="",fp=function(Rn,Nn,xr){var Br="";return xr instanceof Ht?(xr=typeof te.angle=="number"?Jo(xr,new Ht(1,0,0,1,Rn,Nn)):Jo(new Ht(1,0,0,1,Rn,Nn),xr),G===O.ADVANCED&&(xr=Jo(new Ht(1,0,0,-1,0,0),xr)),Br=xr.join(" ")+` Tm
`):Br=oe(Rn)+" "+oe(Nn)+` Td
`,Br},Do=0;Do<He.length;Do++){switch(tc="",ed){case au:ec=(is?"<":"(")+He[Do][0]+(is?">":")"),Kc=parseFloat(He[Do][1]),Xc=parseFloat(He[Do][2]);break;case Zc:ec=(is?"<":"(")+He[Do]+(is?">":")"),Kc=Is(T),Xc=ml(Y)}Xl!==void 0&&Xl[Do]!==void 0&&(tc=Xl[Do]+` Tw
`),Do===0?y.push(tc+fp(Kc,Xc,sr)+ec):ed===Zc?y.push(tc+ec):ed===au&&y.push(tc+fp(Kc,Xc,sr)+ec)}y=ed===Zc?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Eo=`BT
/`;return Eo+=Si+" "+tt+` Tf
`,Eo+=oe(tt*mo)+` TL
`,Eo+=Yc+`
`,Eo+=Wr,Eo+=y,K(Eo+="ET"),_[Si]=!0,Pr};var T1=g.__private__.clip=g.clip=function(y){return K(y==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return T1("evenodd")},g.__private__.discardPath=g.discardPath=function(){return K("n"),this};var As=g.__private__.isValidStyle=function(y){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(T=!0),T};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(y){return As(y)&&(m=y),this};var vf=g.__private__.getStyle=g.getStyle=function(y){var T=m;switch(y){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=y}return T},_f=g.close=function(){return K("h"),this};g.stroke=function(){return K("S"),this},g.fill=function(y){return Gd("f",y),this},g.fillEvenOdd=function(y){return Gd("f*",y),this},g.fillStroke=function(y){return Gd("B",y),this},g.fillStrokeEvenOdd=function(y){return Gd("B*",y),this};var Gd=function(y,T){Sn(T)==="object"?R1(T,y):K(y)},Km=function(y){y===null||G===O.ADVANCED&&y===void 0||(y=vf(y),K(y))};function O1(y,T,Y,te,de){var Re=new gm(T||this.boundingBox,Y||this.xStep,te||this.yStep,this.gState,de||this.matrix);Re.stream=this.stream;var He=y+"$$"+this.cloneIndex+++"$$";return Qa(He,Re),Re}var R1=function(y,T){var Y=Uc[y.key],te=cn[Y];if(te instanceof yd)K("q"),K(N1(T)),te.gState&&g.setGState(te.gState),K(y.matrix.toString()+" cm"),K("/"+Y+" sh"),K("Q");else if(te instanceof gm){var de=new Ht(1,0,0,-1,0,Kl());y.matrix&&(de=de.multiply(y.matrix||ks),Y=O1.call(te,y.key,y.boundingBox,y.xStep,y.yStep,de).id),K("q"),K("/Pattern cs"),K("/"+Y+" scn"),te.gState&&g.setGState(te.gState),K(T),K("Q")}},N1=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xm=g.moveTo=function(y,T){return K(oe(H(y))+" "+oe(X(T))+" m"),this},Gc=g.lineTo=function(y,T){return K(oe(H(y))+" "+oe(X(T))+" l"),this},Ql=g.curveTo=function(y,T,Y,te,de,Re){return K([oe(H(y)),oe(X(T)),oe(H(Y)),oe(X(te)),oe(H(de)),oe(X(Re)),"c"].join(" ")),this};g.__private__.line=g.line=function(y,T,Y,te,de){if(isNaN(y)||isNaN(T)||isNaN(Y)||isNaN(te)||!As(de))throw new Error("Invalid arguments passed to jsPDF.line");return G===O.COMPAT?this.lines([[Y-y,te-T]],y,T,[1,1],de||"S"):this.lines([[Y-y,te-T]],y,T,[1,1]).stroke()},g.__private__.lines=g.lines=function(y,T,Y,te,de,Re){var He,ht,Rt,ui,oi,Ri,er,sr,Pr,ga,Wr,is;if(typeof y=="number"&&(is=Y,Y=T,T=y,y=is),te=te||[1,1],Re=Re||!1,isNaN(T)||isNaN(Y)||!Array.isArray(y)||!Array.isArray(te)||!As(de)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xm(T,Y),He=te[0],ht=te[1],ui=y.length,ga=T,Wr=Y,Rt=0;Rt<ui;Rt++)(oi=y[Rt]).length===2?(ga=oi[0]*He+ga,Wr=oi[1]*ht+Wr,Gc(ga,Wr)):(Ri=oi[0]*He+ga,er=oi[1]*ht+Wr,sr=oi[2]*He+ga,Pr=oi[3]*ht+Wr,ga=oi[4]*He+ga,Wr=oi[5]*ht+Wr,Ql(Ri,er,sr,Pr,ga,Wr));return Re&&_f(),Km(de),this},g.path=function(y){for(var T=0;T<y.length;T++){var Y=y[T],te=Y.c;switch(Y.op){case"m":Xm(te[0],te[1]);break;case"l":Gc(te[0],te[1]);break;case"c":Ql.apply(this,te);break;case"h":_f()}}return this},g.__private__.rect=g.rect=function(y,T,Y,te,de){if(isNaN(y)||isNaN(T)||isNaN(Y)||isNaN(te)||!As(de))throw new Error("Invalid arguments passed to jsPDF.rect");return G===O.COMPAT&&(te=-te),K([oe(H(y)),oe(X(T)),oe(H(Y)),oe(H(te)),"re"].join(" ")),Km(de),this},g.__private__.triangle=g.triangle=function(y,T,Y,te,de,Re,He){if(isNaN(y)||isNaN(T)||isNaN(Y)||isNaN(te)||isNaN(de)||isNaN(Re)||!As(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-y,te-T],[de-Y,Re-te],[y-de,T-Re]],y,T,[1,1],He,!0),this},g.__private__.roundedRect=g.roundedRect=function(y,T,Y,te,de,Re,He){if(isNaN(y)||isNaN(T)||isNaN(Y)||isNaN(te)||isNaN(de)||isNaN(Re)||!As(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Y),Re=Math.min(Re,.5*te),this.lines([[Y-2*de,0],[de*ht,0,de,Re-Re*ht,de,Re],[0,te-2*Re],[0,Re*ht,-de*ht,Re,-de,Re],[2*de-Y,0],[-de*ht,0,-de,-Re*ht,-de,-Re],[0,2*Re-te],[0,-Re*ht,de*ht,-Re,de,-Re]],y+de,T,[1,1],He,!0),this},g.__private__.ellipse=g.ellipse=function(y,T,Y,te,de){if(isNaN(y)||isNaN(T)||isNaN(Y)||isNaN(te)||!As(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*Y,He=4/3*(Math.SQRT2-1)*te;return Xm(y+Y,T),Ql(y+Y,T-He,y+Re,T-te,y,T-te),Ql(y-Re,T-te,y-Y,T-He,y-Y,T),Ql(y-Y,T+He,y-Re,T+te,y,T+te),Ql(y+Re,T+te,y+Y,T+He,y+Y,T),Km(de),this},g.__private__.circle=g.circle=function(y,T,Y,te){if(isNaN(y)||isNaN(T)||isNaN(Y)||!As(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,T,Y,Y,te)},g.setFont=function(y,T,Y){return Y&&(T=Ee(T,Y)),Si=ff(y,T,{disableWarning:!1}),this};var F1=g.__private__.getFont=g.getFont=function(){return kn[ff.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var y,T,Y={};for(y in Yn)if(Yn.hasOwnProperty(y))for(T in Y[y]=[],Yn[y])Yn[y].hasOwnProperty(T)&&Y[y].push(T);return Y},g.addFont=function(y,T,Y,te,de){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(Y=Ee(Y,te)),de=de||"Identity-H",Ym.call(this,y,T,Y,de)};var $c,Zm=i.lineWidth||.200025,$d=g.__private__.getLineWidth=g.getLineWidth=function(){return Zm},yf=g.__private__.setLineWidth=g.setLineWidth=function(y){return Zm=y,K(oe(H(y))+" w"),this};g.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(y,T){if(y=y||[],T=T||0,isNaN(T)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(Y){return oe(H(Y))}).join(" "),T=oe(H(T)),K("["+y+"] "+T+" d"),this};var xf=g.__private__.getLineHeight=g.getLineHeight=function(){return tt*$c};g.__private__.getLineHeight=g.getLineHeight=function(){return tt*$c};var Cf=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&($c=y),this},wf=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return $c};Cf(i.lineHeight);var Is=g.__private__.getHorizontalCoordinate=function(y){return H(y)},ml=g.__private__.getVerticalCoordinate=function(y){return G===O.ADVANCED?y:ai[$].mediaBox.topRightY-ai[$].mediaBox.bottomLeftY-H(y)},L1=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(y){return oe(Is(y))},Jl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(y){return oe(ml(y))},ts=i.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Xo(ts)},g.__private__.setStrokeColor=g.setDrawColor=function(y,T,Y,te){return ts=Zo({ch1:y,ch2:T,ch3:Y,ch4:te,pdfColorType:"draw",precision:2}),K(ts),this};var ep=i.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Xo(ep)},g.__private__.setFillColor=g.setFillColor=function(y,T,Y,te){return ep=Zo({ch1:y,ch2:T,ch3:Y,ch4:te,pdfColorType:"fill",precision:2}),K(ep),this};var Yc=i.textColor||"0 g",j1=g.__private__.getTextColor=g.getTextColor=function(){return Xo(Yc)};g.__private__.setTextColor=g.setTextColor=function(y,T,Y,te){return Yc=Zo({ch1:y,ch2:T,ch3:Y,ch4:te,pdfColorType:"text",precision:3}),this};var Yd=i.charSpace,B1=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Yd||0)};g.__private__.setCharSpace=g.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yd=y,this};var tp=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(y){var T=g.CapJoinStyles[y];if(T===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tp=T,K(T+" J"),this};var ip=0;g.__private__.setLineJoin=g.setLineJoin=function(y){var T=g.CapJoinStyles[y];if(T===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ip=T,K(T+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(oe(H(y))+" M"),this},g.GState=wv,g.setGState=function(y){(y=typeof y=="string"?ar[Qo[y]]:Sf(null,y)).equals(cl)||(K("/"+y.id+" gs"),cl=y)};var Sf=function(y,T){if(!y||!Qo[y]){var Y=!1;for(var te in ar)if(ar.hasOwnProperty(te)&&ar[te].equals(T)){Y=!0;break}if(Y)T=ar[te];else{var de="GS"+(Object.keys(ar).length+1).toString(10);ar[de]=T,T.id=de}return y&&(Qo[y]=T.id),dn.publish("addGState",T),T}};g.addGState=function(y,T){return Sf(y,T),this},g.saveGraphicsState=function(){return K("q"),ws.push({key:Si,size:tt,color:Yc}),this},g.restoreGraphicsState=function(){K("Q");var y=ws.pop();return Si=y.key,tt=y.size,Yc=y.color,cl=null,this},g.setCurrentTransformationMatrix=function(y){return K(y.toString()+" cm"),this},g.comment=function(y){return K("#"+y),this};var Qd=function(y,T){var Y=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Re){isNaN(Re)||(Y=parseFloat(Re))}});var te=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Re){isNaN(Re)||(te=parseFloat(Re))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Re){de=Re.toString()}}),this},np=function(y,T,Y,te){Qd.call(this,y,T),this.type="rect";var de=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(He){isNaN(He)||(de=parseFloat(He))}});var Re=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(He){isNaN(He)||(Re=parseFloat(He))}}),this},rp=function(){this.page=or,this.currentPage=$,this.pages=We.slice(0),this.pagesContext=ai.slice(0),this.x=ha,this.y=Yi,this.matrix=Yo,this.width=Qc($),this.height=Kl($),this.outputDestination=ot,this.id="",this.objectNumber=-1};rp.prototype.restore=function(){or=this.page,$=this.currentPage,ai=this.pagesContext,We=this.pages,ha=this.x,Yi=this.y,Yo=this.matrix,ap($,this.width),op($,this.height),ot=this.outputDestination};var Mf=function(y,T,Y,te,de){Ms.push(new rp),or=$=0,We=[],ha=y,Yi=T,Yo=de,Qm([Y,te])},V1=function(y){if(Ss[y])Ms.pop().restore();else{var T=new rp,Y="Xo"+(Object.keys(ia).length+1).toString(10);T.id=Y,Ss[y]=Y,ia[Y]=T,dn.publish("addFormObject",T),Ms.pop().restore()}};for(var Jd in g.beginFormObject=function(y,T,Y,te,de){return Mf(y,T,Y,te,de),this},g.endFormObject=function(y){return V1(y),this},g.doFormObject=function(y,T){var Y=ia[Ss[y]];return K("q"),K(T.toString()+" cm"),K("/"+Y.id+" Do"),K("Q"),this},g.getFormObject=function(y){var T=ia[Ss[y]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},g.save=function(y,T){return y=y||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(_d(qd(ul()),y),typeof _d.unload=="function"&&Qt.setTimeout&&setTimeout(_d.unload,911),this):new Promise(function(Y,te){try{var de=_d(qd(ul()),y);typeof _d.unload=="function"&&Qt.setTimeout&&setTimeout(_d.unload,911),Y(de)}catch(Re){te(Re.message)}})},Lt.API)Lt.API.hasOwnProperty(Jd)&&(Jd==="events"&&Lt.API.events.length?function(y,T){var Y,te,de;for(de=T.length-1;de!==-1;de--)Y=T[de][0],te=T[de][1],y.subscribe.apply(y,[Y].concat(typeof te=="function"?[te]:te))}(dn,Lt.API.events):g[Jd]=Lt.API[Jd]);var Qc=g.getPageWidth=function(y){return(ai[y=y||$].mediaBox.topRightX-ai[y].mediaBox.bottomLeftX)/mt},ap=g.setPageWidth=function(y,T){ai[y].mediaBox.topRightX=T*mt+ai[y].mediaBox.bottomLeftX},Kl=g.getPageHeight=function(y){return(ai[y=y||$].mediaBox.topRightY-ai[y].mediaBox.bottomLeftY)/mt},op=g.setPageHeight=function(y,T){ai[y].mediaBox.topRightY=T*mt+ai[y].mediaBox.bottomLeftY};return g.internal={pdfEscape:Ja,getStyle:vf,getFont:F1,getFontSize:lt,getCharSpace:B1,getTextColor:j1,getLineHeight:xf,getLineHeightFactor:wf,getLineWidth:$d,write:di,getHorizontalCoordinate:Is,getVerticalCoordinate:ml,getCoordinateString:L1,getVerticalCoordinateString:Jl,collections:{},newObject:jr,newAdditionalObject:Fd,newObjectDeferred:Ir,newObjectDeferredBegin:uo,getFilters:Ds,putStream:So,events:dn,scaleFactor:mt,pageSize:{getWidth:function(){return Qc($)},setWidth:function(y){ap($,y)},getHeight:function(){return Kl($)},setHeight:function(y){op($,y)}},encryptionOptions:h,encryption:fa,getEncryptor:I1,output:Wd,getNumberOfPages:M1,pages:We,out:K,f2:Te,f3:B,getPageInfo:bf,getPageInfoByObjId:ti,getCurrentPageInfo:P1,getPDFVersion:E,Point:Qd,Rectangle:np,Matrix:Ht,hasHotfix:gf},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Qc($)},set:function(y){ap($,y)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Kl($)},set:function(y){op($,y)},enumerable:!0,configurable:!0}),w1.call(g,qe),Si="F1",pf(r,e),dn.publish("initialized"),g}hm.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},hm.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hm.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},hm.prototype.processOwnerPassword=function(i,t){return hC(pC(t).substr(0,5),i)},hm.prototype.encryptor=function(i,t){var e=pC(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return hC(e,n)}},wv.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Sn(i)!==Sn(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Lt.API={events:[]},Lt.version="3.0.1";var vr=Lt.API,vC=1,Cd=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mm=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ci=function(i){return i.toFixed(2)},Ic=function(i){return i.toFixed(5)};vr.__acroform__={};var lo=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},y3=function(i){return i*vC},Ks=function(i){var t=new L3,e=kt.internal.getHeight(i)||0,n=kt.internal.getWidth(i)||0;return t.BBox=[0,0,Number(ci(n)),Number(ci(e))],t},$B=vr.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},YB=vr.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},QB=vr.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},kr=vr.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QB(i,t-1)},Dr=vr.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $B(i,t-1)},Er=vr.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YB(i,t-1)},JB=vr.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],a=i[1],o=i[2],s=i[3],d={};return d.lowerLeft_X=e(r)||0,d.lowerLeft_Y=n(a+s)||0,d.upperRight_X=e(r+o)||0,d.upperRight_Y=n(a)||0,[Number(ci(d.lowerLeft_X)),Number(ci(d.lowerLeft_Y)),Number(ci(d.upperRight_X)),Number(ci(d.upperRight_Y))]},KB=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=fC(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+ci(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ks(i);return a.scope=i.scope,a.stream=t.join(`
`),a}},fC=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(B){return B.split(`
`)}):r.map(function(B){return[B]});var a=e,o=kt.internal.getHeight(i)||0;o=o<0?-o:o;var s=kt.internal.getWidth(i)||0;s=s<0?-s:s;var d=function(B,H,Z){if(B+1<r.length){var X=H+" "+r[B+1][0];return gv(X,i,Z).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var m,h,v=gv("3",i,a).height,_=i.multiline?o-a:(o-v)/2,g=_+=2,D=0,E=0,S=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+gv(t,i,a=12).width+", FieldWidth:"+s+`
`;break}for(var w="",O=0,G=0;G<r.length;G++)if(r.hasOwnProperty(G)){var ee=!1;if(r[G].length!==1&&S!==r[G].length-1){if((v+2)*(O+2)+2>o)continue e;w+=r[G][S],ee=!0,E=G,G--}else{w=(w+=r[G][S]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var se=parseInt(G),Ee=d(se,w,a),oe=G>=r.length-1;if(Ee&&!oe){w+=" ",S=0;continue}if(Ee||oe){if(oe)E=se;else if(i.multiline&&(v+2)*(O+2)+2>o)continue e}else{if(!i.multiline||(v+2)*(O+2)+2>o)continue e;E=se}}for(var Q="",me=D;me<=E;me++){var Te=r[me];if(i.multiline){if(me===E){Q+=Te[S]+" ",S=(S+1)%Te.length;continue}if(me===D){Q+=Te[Te.length-1]+" ";continue}}Q+=Te[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,h=gv(Q,i,a).width,i.textAlign){case"right":m=s-h-2;break;case"center":m=(s-h)/2;break;case"left":default:m=2}t+=ci(m)+" "+ci(g)+` Td
`,t+="("+Cd(Q)+`) Tj
`,t+=-ci(m)+` 0 Td
`,g=-(a+2),h=0,D=ee?E:E+1,O++,w=""}break}return n.text=t,n.fontSize=a,n},gv=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},XB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZB=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},e9=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var n=e,r=i[e];t.internal.newObjectDeferredBegin(r.objId,!0),Sn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},t9=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(XB)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vC=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new j3,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];a.objId=void 0,a.hasAnnotation&&ZB(a,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var a=!n;for(var o in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],d=[],m=s.Rect;if(s.Rect&&(s.Rect=JB(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=kt.createDefaultAppearanceStream(s),Sn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(d=s.getKeyValueListForStream()),s.Rect=m,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=KB(s);d.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var v="";for(var _ in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(_)){var g=s.appearanceStreamContent[_];if(v+="/"+_+" ",v+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var D=g[o];typeof D=="function"&&(D=D.call(r,s)),v+="/"+o+" "+D+" ",r.internal.acroformPlugin.xForms.indexOf(D)>=0||r.internal.acroformPlugin.xForms.push(D)}}else typeof(D=g)=="function"&&(D=D.call(r,s)),v+="/"+o+" "+D,r.internal.acroformPlugin.xForms.indexOf(D)>=0||r.internal.acroformPlugin.xForms.push(D);v+=">>"}d.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:d,objectId:s.objId}),r.internal.out("endobj")}a&&e9(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},F3=vr.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(o){return o};if(Array.isArray(i)){for(var r="[",a=0;a<i.length;a++)switch(a!==0&&(r+=" "),Sn(i[a])){case"boolean":case"number":case"object":r+=i[a].toString();break;case"string":i[a].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+Cd(n(i[a].toString()))+")"):r+=i[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cC=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+Cd(n(i))+")"},Xs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xs.prototype.toString=function(){return this.objId+" 0 R"},Xs.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Xs.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:F3(r,this.objId,this.scope)}):r instanceof Xs?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var L3=function(){Xs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};lo(L3,Xs);var j3=function(){Xs.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Cd(e(i))+")"}},set:function(e){i=e}})};lo(j3,Xs);var vs=function i(){Xs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kr(t,3)},set:function(w){w?this.F=Dr(t,3):this.F=Er(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');e=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Sv)return;a="FieldObject"+i.FieldNum++}var w=function(O){return O};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Cd(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/vC:m},set:function(w){m=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Sv||this instanceof xd))return cC(v,this.objId,this.scope)},set:function(w){w=w.toString(),v=w}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ta?_:cC(_,this.objId,this.scope)},set:function(w){w=w.toString(),_=this instanceof ta?w:w.substr(0,1)==="("?mm(w.substr(1,w.length-2)):mm(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ta?mm(_.substr(1,_.length-1)):_},set:function(w){w=w.toString(),_=this instanceof ta?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ta?g:cC(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof ta?w:w.substr(0,1)==="("?mm(w.substr(1,w.length-2)):mm(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ta?mm(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof ta?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var D,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(w){w=!!w,E=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(D)return D},set:function(w){D=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,1)},set:function(w){w?this.Ff=Dr(this.Ff,1):this.Ff=Er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,2)},set:function(w){w?this.Ff=Dr(this.Ff,2):this.Ff=Er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,3)},set:function(w){w?this.Ff=Dr(this.Ff,3):this.Ff=Er(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');S=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(S){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};lo(vs,Xs);var bm=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F3(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=function(a,o,s){s||(s=1);for(var d,m=[];d=o.exec(a);)m.push(d[s]);return m}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,18)},set:function(e){e?this.Ff=Dr(this.Ff,18):this.Ff=Er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Dr(this.Ff,19):this.Ff=Er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,20)},set:function(e){e?(this.Ff=Dr(this.Ff,20),t.sort()):this.Ff=Er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,22)},set:function(e){e?this.Ff=Dr(this.Ff,22):this.Ff=Er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(e){e?this.Ff=Dr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,27)},set:function(e){e?this.Ff=Dr(this.Ff,27):this.Ff=Er(this.Ff,27)}}),this.hasAppearanceStream=!1};lo(bm,vs);var vm=function(){bm.call(this),this.fontName="helvetica",this.combo=!1};lo(vm,bm);var _m=function(){vm.call(this),this.combo=!0};lo(_m,vm);var _v=function(){_m.call(this),this.edit=!0};lo(_v,_m);var ta=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,15)},set:function(e){e?this.Ff=Dr(this.Ff,15):this.Ff=Er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,16)},set:function(e){e?this.Ff=Dr(this.Ff,16):this.Ff=Er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,17)},set:function(e){e?this.Ff=Dr(this.Ff,17):this.Ff=Er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(e){e?this.Ff=Dr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Cd(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Sn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};lo(ta,vs);var yv=function(){ta.call(this),this.pushButton=!0};lo(yv,ta);var ym=function(){ta.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};lo(ym,ta);var Sv=function(){var i,t;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Cd(r(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Sn(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lo(Sv,vs),ym.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},ym.prototype.createOption=function(i){var t=new Sv;return t.Parent=this,t.optionName=i,this.Kids.push(t),i9.call(this.scope,t),t};var xv=function(){ta.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};lo(xv,ta);var xd=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,13)},set:function(t){t?this.Ff=Dr(this.Ff,13):this.Ff=Er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,21)},set:function(t){t?this.Ff=Dr(this.Ff,21):this.Ff=Er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(t){t?this.Ff=Dr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,24)},set:function(t){t?this.Ff=Dr(this.Ff,24):this.Ff=Er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,25)},set:function(t){t?this.Ff=Dr(this.Ff,25):this.Ff=Er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(t){t?this.Ff=Dr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lo(xd,vs);var Cv=function(){xd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,14)},set:function(i){i?this.Ff=Dr(this.Ff,14):this.Ff=Er(this.Ff,14)}}),this.password=!0};lo(Cv,xd);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Ks(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=fC(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+ci(kt.internal.getWidth(i))+" "+ci(kt.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+ci(a.fontSize)+" Tf "+r),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Ks(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],a=kt.internal.getHeight(i),o=kt.internal.getWidth(i),s=fC(i,i.caption);return r.push("1 g"),r.push("0 0 "+ci(o)+" "+ci(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ci(o-1)+" "+ci(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+ci(s.fontSize)+" Tf "+n),r.push(s.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Ks(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ci(kt.internal.getWidth(i))+" "+ci(kt.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=kt.RadioButton.Circle.YesNormal,t.D[i]=kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Ks(i);t.scope=i.scope;var e=[],n=kt.internal.getWidth(i)<=kt.internal.getHeight(i)?kt.internal.getWidth(i)/4:kt.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=kt.internal.Bezier_C,a=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ic(kt.internal.getWidth(i)/2)+" "+Ic(kt.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Ks(i);t.scope=i.scope;var e=[],n=kt.internal.getWidth(i)<=kt.internal.getHeight(i)?kt.internal.getWidth(i)/4:kt.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*kt.internal.Bezier_C).toFixed(5)),o=Number((n*kt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ic(kt.internal.getWidth(i)/2)+" "+Ic(kt.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ic(kt.internal.getWidth(i)/2)+" "+Ic(kt.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Ks(i);t.scope=i.scope;var e=[],n=kt.internal.getWidth(i)<=kt.internal.getHeight(i)?kt.internal.getWidth(i)/4:kt.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*kt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ic(kt.internal.getWidth(i)/2)+" "+Ic(kt.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=kt.RadioButton.Cross.YesNormal,t.D[i]=kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Ks(i);t.scope=i.scope;var e=[],n=kt.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+ci(kt.internal.getWidth(i)-2)+" "+ci(kt.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(ci(n.x1.x)+" "+ci(n.x1.y)+" m"),e.push(ci(n.x2.x)+" "+ci(n.x2.y)+" l"),e.push(ci(n.x4.x)+" "+ci(n.x4.y)+" m"),e.push(ci(n.x3.x)+" "+ci(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Ks(i);t.scope=i.scope;var e=kt.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+ci(kt.internal.getWidth(i))+" "+ci(kt.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ci(kt.internal.getWidth(i)-2)+" "+ci(kt.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(ci(e.x1.x)+" "+ci(e.x1.y)+" m"),n.push(ci(e.x2.x)+" "+ci(e.x2.y)+" l"),n.push(ci(e.x4.x)+" "+ci(e.x4.y)+" m"),n.push(ci(e.x3.x)+" "+ci(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Ks(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ci(kt.internal.getWidth(i))+" "+ci(kt.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};kt.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=kt.internal.getWidth(i),e=kt.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},kt.internal.getWidth=function(i){var t=0;return Sn(i)==="object"&&(t=y3(i.Rect[2])),t},kt.internal.getHeight=function(i){var t=0;return Sn(i)==="object"&&(t=y3(i.Rect[3])),t};var i9=vr.addField=function(i){if(t9(this,i),!(i instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=bm,vr.AcroFormListBox=vm,vr.AcroFormComboBox=_m,vr.AcroFormEditBox=_v,vr.AcroFormButton=ta,vr.AcroFormPushButton=yv,vr.AcroFormRadioButton=ym,vr.AcroFormCheckBox=xv,vr.AcroFormTextField=xd,vr.AcroFormPasswordField=Cv,vr.AcroFormAppearance=kt,vr.AcroForm={ChoiceField:bm,ListBox:vm,ComboBox:_m,EditBox:_v,Button:ta,PushButton:yv,RadioButton:ym,CheckBox:xv,TextField:xd,PasswordField:Cv,Appearance:kt},Lt.AcroForm={ChoiceField:bm,ListBox:vm,ComboBox:_m,EditBox:_v,Button:ta,PushButton:yv,RadioButton:ym,CheckBox:xv,TextField:xd,PasswordField:Cv,Appearance:kt};var ZCe=Lt.AcroForm;function B3(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(B,H){var Z,X,Ie,we,Oe,ue=t;if((H=H||t)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(Ee(B))for(Oe in e)for(Ie=e[Oe],Z=0;Z<Ie.length;Z+=1){for(we=!0,X=0;X<Ie[Z].length;X+=1)if(Ie[Z][X]!==void 0&&Ie[Z][X]!==B[X]){we=!1;break}if(we===!0){ue=Oe;break}}else for(Oe in e)for(Ie=e[Oe],Z=0;Z<Ie.length;Z+=1){for(we=!0,X=0;X<Ie[Z].length;X+=1)if(Ie[Z][X]!==void 0&&Ie[Z][X]!==B.charCodeAt(X)){we=!1;break}if(we===!0){ue=Oe;break}}return ue===t&&H!==t&&(ue=H),ue},r=function B(H){for(var Z=this.internal.write,X=this.internal.putStream,Ie=(0,this.internal.getFilters)();Ie.indexOf("FlateEncode")!==-1;)Ie.splice(Ie.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var we=[];if(we.push({key:"Type",value:"/XObject"}),we.push({key:"Subtype",value:"/Image"}),we.push({key:"Width",value:H.width}),we.push({key:"Height",value:H.height}),H.colorSpace===S.INDEXED?we.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(we.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===S.DEVICE_CMYK&&we.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),we.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&we.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var Oe="",ue=0,Ae=H.transparency.length;ue<Ae;ue++)Oe+=H.transparency[ue]+" "+H.transparency[ue]+" ";we.push({key:"Mask",value:"["+Oe+"]"})}H.sMask!==void 0&&we.push({key:"SMask",value:H.objectId+1+" 0 R"});var Fe=H.filter!==void 0?["/"+H.filter]:void 0;if(X({data:H.data,additionalKeyValues:we,alreadyAppliedFilters:Fe,objectId:H.objectId}),Z("endobj"),"sMask"in H&&H.sMask!==void 0){var pt="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,L={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:pt,data:H.sMask};"filter"in H&&(L.filter=H.filter),B.call(this,L)}if(H.colorSpace===S.INDEXED){var $=this.internal.newObject();X({data:Q(new Uint8Array(H.palette)),objectId:$}),Z("endobj")}},a=function(){var B=this.internal.collections.addImage_images;for(var H in B)r.call(this,B[H])},o=function(){var B,H=this.internal.collections.addImage_images,Z=this.internal.write;for(var X in H)Z("/I"+(B=H[X]).index,B.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var B=this.internal.collections.addImage_images;return s.call(this),B},m=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(B){return typeof i["process"+B.toUpperCase()]=="function"},v=function(B){return Sn(B)==="object"&&B.nodeType===1},_=function(B,H){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var Z=""+B.getAttribute("src");if(Z.indexOf("data:image/")===0)return ph(unescape(Z).split("base64,").pop());var X=i.loadFile(Z,!0);if(X!==void 0)return X}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var Ie;switch(H){case"PNG":Ie="image/png";break;case"WEBP":Ie="image/webp";break;case"JPEG":case"JPG":default:Ie="image/jpeg"}return ph(B.toDataURL(Ie,1).split("base64,").pop())}},g=function(B){var H=this.internal.collections.addImage_images;if(H){for(var Z in H)if(B===H[Z].alias)return H[Z]}},D=function(B,H,Z){return B||H||(B=-96,H=-96),B<0&&(B=-1*Z.width*72/B/this.internal.scaleFactor),H<0&&(H=-1*Z.height*72/H/this.internal.scaleFactor),B===0&&(B=H*Z.width/Z.height),H===0&&(H=B*Z.height/Z.width),[B,H]},E=function(B,H,Z,X,Ie,we){var Oe=D.call(this,Z,X,Ie),ue=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,Fe=d.call(this);if(Z=Oe[0],X=Oe[1],Fe[Ie.index]=Ie,we){we*=Math.PI/180;var pt=Math.cos(we),L=Math.sin(we),$=function(ie){return ie.toFixed(4)},J=[$(pt),$(L),$(-1*L),$(pt),0,0,"cm"]}this.internal.write("q"),we?(this.internal.write([1,"0","0",1,ue(B),Ae(H+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ue(Z),"0","0",ue(X),"0","0","cm"].join(" "))):this.internal.write([ue(Z),"0","0",ue(X),ue(B),Ae(H+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ie.index+" Do"),this.internal.write("Q")},S=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=i.__addimage__.sHashCode=function(B){var H,Z,X=0;if(typeof B=="string")for(Z=B.length,H=0;H<Z;H++)X=(X<<5)-X+B.charCodeAt(H),X|=0;else if(Ee(B))for(Z=B.byteLength/2,H=0;H<Z;H++)X=(X<<5)-X+B[H],X|=0;return X},G=i.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var H=!0;return B.length===0&&(H=!1),B.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(H=!1),H},ee=i.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var H=B.indexOf(",");return H<0?null:B.substring(0,H).trim().endsWith("base64")?B.substring(H+1):null},se=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(B){return se()&&B instanceof ArrayBuffer};var Ee=i.__addimage__.isArrayBufferView=function(B){return se()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},oe=i.__addimage__.binaryStringToUint8Array=function(B){for(var H=B.length,Z=new Uint8Array(H),X=0;X<H;X++)Z[X]=B.charCodeAt(X);return Z},Q=i.__addimage__.arrayBufferToBinaryString=function(B){for(var H="",Z=Ee(B)?B:new Uint8Array(B),X=0;X<Z.length;X+=8192)H+=String.fromCharCode.apply(null,Z.subarray(X,X+8192));return H};i.addImage=function(){var B,H,Z,X,Ie,we,Oe,ue,Ae;if(typeof arguments[1]=="number"?(H=t,Z=arguments[1],X=arguments[2],Ie=arguments[3],we=arguments[4],Oe=arguments[5],ue=arguments[6],Ae=arguments[7]):(H=arguments[1],Z=arguments[2],X=arguments[3],Ie=arguments[4],we=arguments[5],Oe=arguments[6],ue=arguments[7],Ae=arguments[8]),Sn(B=arguments[0])==="object"&&!v(B)&&"imageData"in B){var Fe=B;B=Fe.imageData,H=Fe.format||H||t,Z=Fe.x||Z||0,X=Fe.y||X||0,Ie=Fe.w||Fe.width||Ie,we=Fe.h||Fe.height||we,Oe=Fe.alias||Oe,ue=Fe.compression||ue,Ae=Fe.rotation||Fe.angle||Ae}var pt=this.internal.getFilters();if(ue===void 0&&pt.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(Z)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=me.call(this,B,H,Oe,ue);return E.call(this,Z,X,Ie,we,L,Ae),this};var me=function(B,H,Z,X){var Ie,we,Oe;if(typeof B=="string"&&n(B)===t){B=unescape(B);var ue=Te(B,!1);(ue!==""||(ue=i.loadFile(B,!0))!==void 0)&&(B=ue)}if(v(B)&&(B=_(B,H)),H=n(B,H),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((Oe=Z)==null||Oe.length===0)&&(Z=function(Ae){return typeof Ae=="string"||Ee(Ae)?O(Ae):Ee(Ae.data)?O(Ae.data):null}(B)),(Ie=g.call(this,Z))||(se()&&(B instanceof Uint8Array||H==="RGBA"||(we=B,B=oe(B))),Ie=this["process"+H.toUpperCase()](B,m.call(this),Z,function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in i.image_compression?Ae:w.NONE}(X),we)),!Ie)throw new Error("An unknown error occurred whilst processing the image.");return Ie},Te=i.__addimage__.convertBase64ToBinaryString=function(B,H){H=typeof H!="boolean"||H;var Z,X="";if(typeof B=="string"){var Ie;Z=(Ie=ee(B))!==null&&Ie!==void 0?Ie:B;try{X=ph(Z)}catch(we){if(H)throw G(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+we.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};i.getImageProperties=function(B){var H,Z,X="";if(v(B)&&(B=_(B)),typeof B=="string"&&n(B)===t&&((X=Te(B,!1))===""&&(X=i.loadFile(B)||""),B=X),Z=n(B),!h(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(!se()||B instanceof Uint8Array||(B=oe(B)),!(H=this["process"+Z.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=Z,H}})(Lt.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Lt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,h=!1,v=0;v<m.length&&!h;v++)switch((n=m[v]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var _=0;_<m.length;_++){n=m[_];var g=this.internal.pdfEscape,D=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(E.objId),O=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+g(w(O))+") >>",E.content=a;var G=E.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+G,n.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(E.objId,"0 R",S.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var ee=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(D(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var se=this.annotations._nameMap[n.options.name];n.options.pageNumber=se.page,n.options.top=se.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(D(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Ee=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+Ee+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,a,o){var s=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:d(e),y:m(n),w:d(e+r),h:m(n+a)},options:o,type:"link"})},i.textWithLink=function(e,n,r,a){var o,s,d=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var h=this.splitTextToSize(e,s).length;o=Math.ceil(m*h)}else s=d,o=m;return this.text(e,n,r,a),r+=.2*m,a.align==="center"&&(n-=d/2),a.align==="right"&&(n-=d),this.link(n,r-m,s,o,a),d},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Lt.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var a=i.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},s=i.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length<=2},d=i.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&r.indexOf(E.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=1};var m=i.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=3};var h=i.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length==4},v=i.__arabicParser__.resolveLigatures=function(E){var S=0,w=e,O="",G=0;for(S=0;S<E.length;S+=1)w[E.charCodeAt(S)]!==void 0?(G++,typeof(w=w[E.charCodeAt(S)])=="number"&&(O+=String.fromCharCode(w),w=e,G=0),S===E.length-1&&(w=e,O+=E.charAt(S-(G-1)),S-=G-1,G=0)):(w=e,O+=E.charAt(S-G),S-=G,G=0);return O};i.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var _=i.__arabicParser__.getCorrectForm=function(E,S,w){return o(E)?a(E)===!1?-1:!m(E)||!o(S)&&!o(w)||!o(w)&&s(S)||s(E)&&!o(S)||s(E)&&d(S)||s(E)&&s(S)?0:h(E)&&o(S)&&!s(S)&&o(w)&&m(w)?3:s(E)||!o(w)?1:2:-1},g=function(E){var S=0,w=0,O=0,G="",ee="",se="",Ee=(E=E||"").split("\\s+"),oe=[];for(S=0;S<Ee.length;S+=1){for(oe.push(""),w=0;w<Ee[S].length;w+=1)G=Ee[S][w],ee=Ee[S][w-1],se=Ee[S][w+1],o(G)?(O=_(G,ee,se),oe[S]+=O!==-1?String.fromCharCode(t[G.charCodeAt(0)][O]):G):oe[S]+=G;oe[S]=v(oe[S])}return oe.join(" ")},D=i.__arabicParser__.processArabic=i.processArabic=function(){var E,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(S)){var O=0;for(w=[],O=0;O<S.length;O+=1)Array.isArray(S[O])?w.push([g(S[O][0]),S[O][1],S[O][2]]):w.push([g(S[O])]);E=w}else E=g(S);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};i.events.push(["preProcessText",D])}(Lt.API),Lt.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(s){e=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Lt.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var D=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return D},set:function(E){D=E}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},i.getTextDimensions=function(d,m){n.call(this);var h=(m=m||{}).fontSize||this.getFontSize(),v=m.font||this.getFont(),_=m.scaleFactor||this.internal.scaleFactor,g=0,D=0,E=0,S=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var w=m.maxWidth;w>0?typeof d=="string"?d=this.splitTextToSize(d,w):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(G,ee){return G.concat(S.splitTextToSize(ee,w))},[])):d=Array.isArray(d)?d:[d];for(var O=0;O<d.length;O++)g<(E=this.getStringUnitWidth(d[O],{font:v})*h)&&(g=E);return g!==0&&(D=d.length),{w:g/=_,h:Math.max((D*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/_,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var m=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=v.top,g&&_&&(this.printHeaderRow(d.lineNumber,!0),d.y+=_[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,e===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};i.table=function(d,m,h,v,_){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,D,E,S,w=[],O=[],G=[],ee={},se={},Ee=[],oe=[],Q=(_=_||{}).autoSize||!1,me=_.printHeaders!==!1,Te=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,B=_.margins||Object.assign({width:this.getPageWidth()},t),H=typeof _.padding=="number"?_.padding:3,Z=_.headerBackgroundColor||"#c8c8c8",X=_.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=me,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=Te,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=X,this.setFontSize(Te),v==null)O=w=Object.keys(h[0]),G=w.map(function(){return"left"});else if(Array.isArray(v)&&Sn(v[0])==="object")for(w=v.map(function(Fe){return Fe.name}),O=v.map(function(Fe){return Fe.prompt||Fe.name||""}),G=v.map(function(Fe){return Fe.align||"left"}),g=0;g<v.length;g+=1)se[v[g].name]=v[g].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(O=w=v,G=w.map(function(){return"left"}));if(Q||Array.isArray(v)&&typeof v[0]=="string")for(g=0;g<w.length;g+=1){for(ee[S=w[g]]=h.map(function(Fe){return Fe[S]}),this.setFont(void 0,"bold"),Ee.push(this.getTextDimensions(O[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),D=ee[S],this.setFont(void 0,"normal"),E=0;E<D.length;E+=1)Ee.push(this.getTextDimensions(D[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[S]=Math.max.apply(null,Ee)+H+H,Ee=[]}if(me){var Ie={};for(g=0;g<w.length;g+=1)Ie[w[g]]={},Ie[w[g]].text=O[g],Ie[w[g]].align=G[g];var we=s.call(this,Ie,se);oe=w.map(function(Fe){return new a(d,m,se[Fe],we,Ie[Fe].text,void 0,Ie[Fe].align)}),this.setTableHeaderRow(oe),this.printHeaderRow(1,!1)}var Oe=v.reduce(function(Fe,pt){return Fe[pt.name]=pt.align,Fe},{});for(g=0;g<h.length;g+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:g,data:h[g]},this);var ue=s.call(this,h[g],se);for(E=0;E<w.length;E+=1){var Ae=h[g][w[E]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:g,col:E,data:Ae},this),o.call(this,new a(d,m,se[w[E]],ue,Ae,g+2,Oe[w[E]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var s=function(d,m){var h=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(d).map(function(g){var D=d[g];return this.splitTextToSize(D.hasOwnProperty("text")?D.text:D,m[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*v/_+h+h},this).reduce(function(g,D){return Math.max(g,D)},0)};i.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},i.printHeaderRow=function(d,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),m&&(h.y=this.internal.__cell__.margins.top||0,_.push(h)),h.lineNumber=d;var D=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(D)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),e=!1}}(Lt.API);var V3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},z3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gC=B3(z3),H3=[100,200,300,400,500,600,700,800,900],n9=B3(H3);function bC(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return V3[a=a||"normal"]?a:"normal"}(i.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(a){return typeof gC[a=a||"normal"]=="number"?a:"normal"}(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function x3(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var r9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},C3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w3(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function a9(i,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},r9,e.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(r[(a=bC(t[s])).family]&&(a.family=r[a.family]),i.hasOwnProperty(a.family)){o=i[a.family];break}if(!(o=o||i[n]))throw new Error("Could not find a font-family for the rule '"+w3(a)+"' and default family '"+n+"'.");if(o=function(d,m){if(m[d])return m[d];var h=gC[d],v=h<=gC.normal?-1:1,_=x3(m,z3,h,v);if(!_)throw new Error("Could not find a matching font-stretch value for "+d);return _}(a.stretch,o),o=function(d,m){if(m[d])return m[d];for(var h=V3[d],v=0;v<h.length;++v)if(m[h[v]])return m[h[v]];throw new Error("Could not find a matching font-style for "+d)}(a.style,o),!(o=function(d,m){if(m[d])return m[d];if(d===400&&m[500])return m[500];if(d===500&&m[400])return m[400];var h=n9[d],v=x3(m,H3,h,d<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+d);return v}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+w3(a)+"'.");return o}function S3(i){return i.trimLeft()}function o9(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function s9(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var bv,M3,k3,dC=["times"];(function(i){var t,e,n,r,a,o,s,d,m,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new d,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,d=this.internal.Matrix,m=new h}]);var v=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=L;Object.defineProperty(this,"pdf",{get:function(){return $}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ne){J=!!Ne}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Ne){ie=!!Ne}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=Ne)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Ne){isNaN(Ne)||(_e=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(Ne){var K;typeof Ne=="number"?K=[Ne,Ne,Ne,Ne]:((K=new Array(4))[0]=Ne[0],K[1]=Ne.length>=2?Ne[1]:K[0],K[2]=Ne.length>=3?Ne[2]:K[0],K[3]=Ne.length>=4?Ne[3]:K[1]),m.margin=K}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Ne){Se=Ne}});var De=0;Object.defineProperty(this,"lastBreak",{get:function(){return De},set:function(Ne){De=Ne}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(Ne){$e=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(Ne){Ne instanceof h&&(m=Ne)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(Ne){m.path=Ne}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(Ne){We=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var K;K=_(Ne),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var K=_(Ne);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var ct=null;function ot(Ne,K){if(ct===null){var di=function(At){var qe=[];return Object.keys(At).forEach(function(tt){At[tt].forEach(function(ut){var lt=null;switch(ut){case"bold":lt={family:tt,weight:"bold"};break;case"italic":lt={family:tt,style:"italic"};break;case"bolditalic":lt={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:tt}}lt!==null&&(lt.ref={name:tt,style:ut},qe.push(lt))})}),qe}(Ne.getFontList());ct=function(At){for(var qe={},tt=0;tt<At.length;++tt){var ut=bC(At[tt]),lt=ut.family,Ot=ut.stretch,ri=ut.style,gi=ut.weight;qe[lt]=qe[lt]||{},qe[lt][Ot]=qe[lt][Ot]||{},qe[lt][Ot][ri]=qe[lt][Ot][ri]||{},qe[lt][Ot][ri][gi]=ut}return qe}(di.concat(K))}return ct}var Yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yt},set:function(Ne){ct=null,Yt=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var K;if(this.ctx.font=Ne,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var di=K[1];K[2];var At=K[3],qe=K[4];K[5];var tt=K[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(ut==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var lt=function(Zt){var Si,mt,ha=[],Yi=Zt.trim();if(Yi==="")return dC;if(Yi in C3)return[C3[Yi]];for(;Yi!=="";){switch(mt=null,Si=(Yi=S3(Yi)).charAt(0)){case'"':case"'":mt=o9(Yi.substring(1),Si);break;default:mt=s9(Yi)}if(mt===null||(ha.push(mt[0]),(Yi=S3(mt[1]))!==""&&Yi.charAt(0)!==","))return dC;Yi=Yi.replace(/^,/,"")}return ha}(tt);if(this.fontFaces){var Ot=a9(ot(this.pdf,this.fontFaces),lt.map(function(Zt){return{family:Zt,stretch:"normal",weight:At,style:di}}));this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var ri="";(At==="bold"||parseInt(At,10)>=700||di==="bold")&&(ri="bold"),di==="italic"&&(ri+="italic"),ri.length===0&&(ri="normal");for(var gi="",yi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qi=0;qi<lt.length;qi++){if(this.pdf.internal.getFont(lt[qi],ri,{noFallback:!0,disableWarning:!0})!==void 0){gi=lt[qi];break}if(ri==="bolditalic"&&this.pdf.internal.getFont(lt[qi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gi=lt[qi],ri="bold";else if(this.pdf.internal.getFont(lt[qi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gi=lt[qi],ri="normal";break}}if(gi===""){for(var vn=0;vn<lt.length;vn++)if(yi[lt[vn]]){gi=yi[lt[vn]];break}}gi=gi===""?"Times":gi,this.pdf.setFont(gi,ri)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,pt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,pt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};v.prototype.setLineDash=function(L){this.lineDash=L},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){ee.call(this,"fill",!1)},v.prototype.stroke=function(){ee.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(L,$){if(isNaN(L)||isNaN($))throw In.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(L,$));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(L,$)},v.prototype.closePath=function(){var L=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Sn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){L=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},v.prototype.lineTo=function(L,$){if(isNaN(L)||isNaN($))throw In.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(L,$));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},v.prototype.quadraticCurveTo=function(L,$,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(L)||isNaN($))throw In.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(J,ie)),_e=this.ctx.transform.applyToPoint(new o(L,$));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},v.prototype.bezierCurveTo=function(L,$,J,ie,ce,_e){if(isNaN(ce)||isNaN(_e)||isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie))throw In.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new o(ce,_e)),De=this.ctx.transform.applyToPoint(new o(L,$)),$e=this.ctx.transform.applyToPoint(new o(J,ie));this.path.push({type:"bct",x1:De.x,y1:De.y,x2:$e.x,y2:$e.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new o(Se.x,Se.y)},v.prototype.arc=function(L,$,J,ie,ce,_e){if(isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie)||isNaN(ce))throw In.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new o(L,$));L=Se.x,$=Se.y;var De=this.ctx.transform.applyToPoint(new o(0,J)),$e=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(De.x-$e.x,2)+Math.pow(De.y-$e.y,2))}Math.abs(ce-ie)>=2*Math.PI&&(ie=0,ce=2*Math.PI),this.path.push({type:"arc",x:L,y:$,radius:J,startAngle:ie,endAngle:ce,counterclockwise:_e})},v.prototype.arcTo=function(L,$,J,ie,ce){throw new Error("arcTo not implemented.")},v.prototype.rect=function(L,$,J,ie){if(isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie))throw In.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,$),this.lineTo(L+J,$),this.lineTo(L+J,$+ie),this.lineTo(L,$+ie),this.lineTo(L,$),this.lineTo(L+J,$),this.lineTo(L,$)},v.prototype.fillRect=function(L,$,J,ie){if(isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie))throw In.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,$,J,ie),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},v.prototype.strokeRect=function(L,$,J,ie){if(isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie))throw In.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");D.call(this)||(this.beginPath(),this.rect(L,$,J,ie),this.stroke())},v.prototype.clearRect=function(L,$,J,ie){if(isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie))throw In.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,$,J,ie))},v.prototype.save=function(L){L=typeof L!="boolean"||L;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage($),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},v.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage($),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var $,J,ie,ce;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))$=0,J=0,ie=0,ce=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(_e!==null)$=parseInt(_e[1]),J=parseInt(_e[2]),ie=parseInt(_e[3]),ce=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)$=parseInt(_e[1]),J=parseInt(_e[2]),ie=parseInt(_e[3]),ce=parseFloat(_e[4]);else{if(ce=1,typeof L=="string"&&L.charAt(0)!=="#"){var Se=new O3(L);L=Se.ok?Se.toHex():"#000000"}L.length===4?($=L.substring(1,2),$+=$,J=L.substring(2,3),J+=J,ie=L.substring(3,4),ie+=ie):($=L.substring(1,3),J=L.substring(3,5),ie=L.substring(5,7)),$=parseInt($,16),J=parseInt(J,16),ie=parseInt(ie,16)}}return{r:$,g:J,b:ie,a:ce,style:L}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},D=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(L,$,J,ie){if(isNaN($)||isNaN(J)||typeof L!="string")throw In.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!g.call(this)){var ce=ue(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;H.call(this,{text:L,x:$,y:J,scale:_e,angle:ce,align:this.textAlign,maxWidth:ie})}},v.prototype.strokeText=function(L,$,J,ie){if(isNaN($)||isNaN(J)||typeof L!="string")throw In.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!D.call(this)){ie=isNaN(ie)?void 0:ie;var ce=ue(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;H.call(this,{text:L,x:$,y:J,scale:_e,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ie})}},v.prototype.measureText=function(L){if(typeof L!="string")throw In.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,J=this.pdf.internal.scaleFactor,ie=$.internal.getFontSize(),ce=$.getStringUnitWidth(L)*ie/$.internal.scaleFactor,_e=function(Se){var De=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this};return new _e({width:ce*=Math.round(96*J/72*1e4)/1e4})},v.prototype.scale=function(L,$){if(isNaN(L)||isNaN($))throw In.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new d(L,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.rotate=function(L){if(isNaN(L))throw In.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new d(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.translate=function(L,$){if(isNaN(L)||isNaN($))throw In.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new d(1,0,0,1,L,$);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.transform=function(L,$,J,ie,ce,_e){if(isNaN(L)||isNaN($)||isNaN(J)||isNaN(ie)||isNaN(ce)||isNaN(_e))throw In.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new d(L,$,J,ie,ce,_e);this.ctx.transform=this.ctx.transform.multiply(Se)},v.prototype.setTransform=function(L,$,J,ie,ce,_e){L=isNaN(L)?1:L,$=isNaN($)?0:$,J=isNaN(J)?0:J,ie=isNaN(ie)?1:ie,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?0:_e,this.ctx.transform=new d(L,$,J,ie,ce,_e)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(L,$,J,ie,ce,_e,Se,De,$e){var We=this.pdf.getImageProperties(L),ct=1,ot=1,Yt=1,Ne=1;ie!==void 0&&De!==void 0&&(Yt=De/ie,Ne=$e/ce,ct=We.width/ie*De/ie,ot=We.height/ce*$e/ce),_e===void 0&&(_e=$,Se=J,$=0,J=0),ie!==void 0&&De===void 0&&(De=ie,$e=ce),ie===void 0&&De===void 0&&(De=We.width,$e=We.height);for(var K,di=this.ctx.transform.decompose(),At=ue(di.rotate.shx),qe=new d,tt=(qe=(qe=(qe=qe.multiply(di.translate)).multiply(di.skew)).multiply(di.scale)).applyToRectangle(new s(_e-$*Yt,Se-J*Ne,ie*ct,ce*ot)),ut=S.call(this,tt),lt=[],Ot=0;Ot<ut.length;Ot+=1)lt.indexOf(ut[Ot])===-1&&lt.push(ut[Ot]);if(G(lt),this.autoPaging)for(var ri=lt[0],gi=lt[lt.length-1],yi=ri;yi<gi+1;yi++){this.pdf.setPage(yi);var qi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vn=yi===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Si=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=yi===1?0:Zt+(yi-2)*Si;if(this.ctx.clip_path.length!==0){var ha=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(K,this.posX+this.margin[3],-mt+vn+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=ha}var Yi=JSON.parse(JSON.stringify(tt));Yi=O([Yi],this.posX+this.margin[3],-mt+vn+this.ctx.prevPageLastElemOffset)[0];var Yo=(yi>ri||yi<gi)&&E.call(this);Yo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qi,Si,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Yi.x,Yi.y,Yi.w,Yi.h,null,null,At),Yo&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,At)};var S=function(L,$,J){var ie=[];$=$||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+ce)/J)+1);break;case"arc":ie.push(Math.floor((L.y+ce-L.radius)/J)+1),ie.push(Math.floor((L.y+ce+L.radius)/J)+1);break;case"qct":var _e=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((_e.y+ce)/J)+1),ie.push(Math.floor((_e.y+_e.h+ce)/J)+1);break;case"bct":var Se=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((Se.y+ce)/J)+1),ie.push(Math.floor((Se.y+Se.h+ce)/J)+1);break;case"rect":ie.push(Math.floor((L.y+ce)/J)+1),ie.push(Math.floor((L.y+L.h+ce)/J)+1)}for(var De=0;De<ie.length;De+=1)for(;this.pdf.internal.getNumberOfPages()<ie[De];)w.call(this);return ie},w=function(){var L=this.fillStyle,$=this.strokeStyle,J=this.font,ie=this.lineCap,ce=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=$,this.font=J,this.lineCap=ie,this.lineWidth=ce,this.lineJoin=_e},O=function(L,$,J){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=$,L[ie].y2+=J;case"qct":L[ie].x1+=$,L[ie].y1+=J;case"mt":case"lt":case"arc":default:L[ie].x+=$,L[ie].y+=J}return L},G=function(L){return L.sort(function($,J){return $-J})},ee=function(L,$){for(var J,ie,ce=this.fillStyle,_e=this.strokeStyle,Se=this.lineCap,De=this.lineWidth,$e=Math.abs(De*this.ctx.transform.scaleX),We=this.lineJoin,ct=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),Yt=[],Ne=0;Ne<ot.length;Ne++)if(ot[Ne].x!==void 0)for(var K=S.call(this,ot[Ne]),di=0;di<K.length;di+=1)Yt.indexOf(K[di])===-1&&Yt.push(K[di]);for(var At=0;At<Yt.length;At++)for(;this.pdf.internal.getNumberOfPages()<Yt[At];)w.call(this);if(G(Yt),this.autoPaging)for(var qe=Yt[0],tt=Yt[Yt.length-1],ut=qe;ut<tt+1;ut++){this.pdf.setPage(ut),this.fillStyle=ce,this.strokeStyle=_e,this.lineCap=Se,this.lineWidth=$e,this.lineJoin=We;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=ut===1?this.posY+this.margin[0]:this.margin[0],ri=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yi=ut===1?0:ri+(ut-2)*gi;if(this.ctx.clip_path.length!==0){var qi=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(J,this.posX+this.margin[3],-yi+Ot+this.ctx.prevPageLastElemOffset),se.call(this,L,!0),this.path=qi}if(ie=JSON.parse(JSON.stringify(ct)),this.path=O(ie,this.posX+this.margin[3],-yi+Ot+this.ctx.prevPageLastElemOffset),$===!1||ut===0){var vn=(ut>qe||ut<tt)&&E.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,gi,null).clip().discardPath()),se.call(this,L,$),vn&&this.pdf.restoreGraphicsState()}this.lineWidth=De}else this.lineWidth=$e,se.call(this,L,$),this.lineWidth=De;this.path=ct},se=function(L,$){if((L!=="stroke"||$||!D.call(this))&&(L==="stroke"||$||!g.call(this))){for(var J,ie,ce=[],_e=this.path,Se=0;Se<_e.length;Se++){var De=_e[Se];switch(De.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:De,deltas:[],abs:[]});break;case"lt":var $e=ce.length;if(_e[Se-1]&&!isNaN(_e[Se-1].x)&&(J=[De.x-_e[Se-1].x,De.y-_e[Se-1].y],$e>0)){for(;$e>=0;$e--)if(ce[$e-1].close!==!0&&ce[$e-1].begin!==!0){ce[$e-1].deltas.push(J),ce[$e-1].abs.push(De);break}}break;case"bct":J=[De.x1-_e[Se-1].x,De.y1-_e[Se-1].y,De.x2-_e[Se-1].x,De.y2-_e[Se-1].y,De.x-_e[Se-1].x,De.y-_e[Se-1].y],ce[ce.length-1].deltas.push(J);break;case"qct":var We=_e[Se-1].x+2/3*(De.x1-_e[Se-1].x),ct=_e[Se-1].y+2/3*(De.y1-_e[Se-1].y),ot=De.x+2/3*(De.x1-De.x),Yt=De.y+2/3*(De.y1-De.y),Ne=De.x,K=De.y;J=[We-_e[Se-1].x,ct-_e[Se-1].y,ot-_e[Se-1].x,Yt-_e[Se-1].y,Ne-_e[Se-1].x,K-_e[Se-1].y],ce[ce.length-1].deltas.push(J);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(De)}}ie=$?null:L==="stroke"?"stroke":"fill";for(var di=!1,At=0;At<ce.length;At++)if(ce[At].arc)for(var qe=ce[At].abs,tt=0;tt<qe.length;tt++){var ut=qe[tt];ut.type==="arc"?Q.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,$,!di):Z.call(this,ut.x,ut.y),di=!0}else if(ce[At].close===!0)this.pdf.internal.out("h"),di=!1;else if(ce[At].begin!==!0){var lt=ce[At].start.x,Ot=ce[At].start.y;X.call(this,ce[At].deltas,lt,Ot),di=!0}ie&&me.call(this,ie),$&&Te.call(this)}},Ee=function(L){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+$-J;case"hanging":return L+$-2*J;case"middle":return L+$/2-J;case"ideographic":return L;case"alphabetic":default:return L}},oe=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function($,J){this.colorStops.push([$,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(L,$,J,ie,ce,_e,Se,De,$e){for(var We=we.call(this,J,ie,ce,_e),ct=0;ct<We.length;ct++){var ot=We[ct];ct===0&&($e?B.call(this,ot.x1+L,ot.y1+$):Z.call(this,ot.x1+L,ot.y1+$)),Ie.call(this,L,$,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}De?Te.call(this):me.call(this,Se)},me=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Te=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(L,$){this.pdf.internal.out(e(L)+" "+n($)+" m")},H=function(L){var $;switch(L.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var J=this.pdf.getTextDimensions(L.text),ie=Ee.call(this,L.y),ce=oe.call(this,ie)-J.h,_e=this.ctx.transform.applyToPoint(new o(L.x,ie)),Se=this.ctx.transform.decompose(),De=new d;De=(De=(De=De.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var $e,We,ct,ot=this.ctx.transform.applyToRectangle(new s(L.x,ie,J.w,J.h)),Yt=De.applyToRectangle(new s(L.x,ce,J.w,J.h)),Ne=S.call(this,Yt),K=[],di=0;di<Ne.length;di+=1)K.indexOf(Ne[di])===-1&&K.push(Ne[di]);if(G(K),this.autoPaging)for(var At=K[0],qe=K[K.length-1],tt=At;tt<qe+1;tt++){this.pdf.setPage(tt);var ut=tt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[2],ri=Ot-this.margin[0],gi=this.pdf.internal.pageSize.width-this.margin[1],yi=gi-this.margin[3],qi=tt===1?0:lt+(tt-2)*ri;if(this.ctx.clip_path.length!==0){var vn=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O($e,this.posX+this.margin[3],-1*qi+ut),se.call(this,"fill",!0),this.path=vn}var Zt=O([JSON.parse(JSON.stringify(Yt))],this.posX+this.margin[3],-qi+ut+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*L.scale),ct=this.lineWidth,this.lineWidth=ct*L.scale);var Si=this.autoPaging!=="text";if(Si||Zt.y+Zt.h<=Ot){if(Si||Zt.y>=ut&&Zt.x<=gi){var mt=Si?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||gi-Zt.x)[0],ha=O([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-qi+ut+this.ctx.prevPageLastElemOffset)[0],Yi=Si&&(tt>At||tt<qe)&&E.call(this);Yi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yi,ri,null).clip().discardPath()),this.pdf.text(mt,ha.x,ha.y,{angle:L.angle,align:$,renderingMode:L.renderingMode}),Yi&&this.pdf.restoreGraphicsState()}}else Zt.y<Ot&&(this.ctx.prevPageLastElemOffset+=Ot-Zt.y);L.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=ct)}else L.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*L.scale),ct=this.lineWidth,this.lineWidth=ct*L.scale),this.pdf.text(L.text,_e.x+this.posX,_e.y+this.posY,{angle:L.angle,align:$,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=ct)},Z=function(L,$,J,ie){J=J||0,ie=ie||0,this.pdf.internal.out(e(L+J)+" "+n($+ie)+" l")},X=function(L,$,J){return this.pdf.lines(L,$,J,null,null)},Ie=function(L,$,J,ie,ce,_e,Se,De){this.pdf.internal.out([t(r(J+L)),t(a(ie+$)),t(r(ce+L)),t(a(_e+$)),t(r(Se+L)),t(a(De+$)),"c"].join(" "))},we=function(L,$,J,ie){for(var ce=2*Math.PI,_e=Math.PI/2;$>J;)$-=ce;var Se=Math.abs(J-$);Se<ce&&ie&&(Se=ce-Se);for(var De=[],$e=ie?-1:1,We=$;Se>1e-5;){var ct=We+$e*Math.min(Se,_e);De.push(Oe.call(this,L,We,ct)),Se-=Math.abs(ct-We),We=ct}return De},Oe=function(L,$,J){var ie=(J-$)/2,ce=L*Math.cos(ie),_e=L*Math.sin(ie),Se=ce,De=-_e,$e=Se*Se+De*De,We=$e+Se*ce+De*_e,ct=4/3*(Math.sqrt(2*$e*We)-We)/(Se*_e-De*ce),ot=Se-ct*De,Yt=De+ct*Se,Ne=ot,K=-Yt,di=ie+$,At=Math.cos(di),qe=Math.sin(di);return{x1:L*Math.cos($),y1:L*Math.sin($),x2:ot*At-Yt*qe,y2:ot*qe+Yt*At,x3:Ne*At-K*qe,y3:Ne*qe+K*At,x4:L*Math.cos(J),y4:L*Math.sin(J)}},ue=function(L){return 180*L/Math.PI},Ae=function(L,$,J,ie,ce,_e){var Se=L+.5*(J-L),De=$+.5*(ie-$),$e=ce+.5*(J-ce),We=_e+.5*(ie-_e),ct=Math.min(L,ce,Se,$e),ot=Math.max(L,ce,Se,$e),Yt=Math.min($,_e,De,We),Ne=Math.max($,_e,De,We);return new s(ct,Yt,ot-ct,Ne-Yt)},Fe=function(L,$,J,ie,ce,_e,Se,De){var $e,We,ct,ot,Yt,Ne,K,di,At,qe,tt,ut,lt,Ot,ri=J-L,gi=ie-$,yi=ce-J,qi=_e-ie,vn=Se-ce,Zt=De-_e;for(We=0;We<41;We++)At=(K=(ct=L+($e=We/40)*ri)+$e*((Yt=J+$e*yi)-ct))+$e*(Yt+$e*(ce+$e*vn-Yt)-K),qe=(di=(ot=$+$e*gi)+$e*((Ne=ie+$e*qi)-ot))+$e*(Ne+$e*(_e+$e*Zt-Ne)-di),We==0?(tt=At,ut=qe,lt=At,Ot=qe):(tt=Math.min(tt,At),ut=Math.min(ut,qe),lt=Math.max(lt,At),Ot=Math.max(Ot,qe));return new s(Math.round(tt),Math.round(ut),Math.round(lt-tt),Math.round(Ot-ut))},pt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,$,J=(L=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:$}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Lt.API),function(i){var t=function(a){var o,s,d,m,h,v,_,g,D,E;for(/[^\x00-\xFF]/.test(a),s=[],d=0,m=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;m>d;d+=4)(h=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(v=(h=((h=((h=((h=(h-(E=h%85))/85)-(D=h%85))/85)-(g=h%85))/85)-(_=h%85))/85)%85,s.push(v+33,_+33,g+33,D+33,E+33)):s.push(122);return function(S,w){for(var O=w;O>0;O--)S.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},e=function(a){var o,s,d,m,h,v=String,_="length",g=255,D="charCodeAt",E="slice",S="replace";for(a[E](-2),a=a[E](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),d=[],m=0,h=(a+=o="uuuuu"[E](a[_]%5||5))[_];h>m;m+=5)s=52200625*(a[D](m)-33)+614125*(a[D](m+1)-33)+7225*(a[D](m+2)-33)+85*(a[D](m+3)-33)+(a[D](m+4)-33),d.push(g&s>>24,g&s>>16,g&s>>8,g&s);return function(w,O){for(var G=O;G>0;G--)w.pop()}(d,o[_]),v.fromCharCode.apply(v,d)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",d=0;d<a.length;d+=2)s+=String.fromCharCode("0x"+(a[d]+a[d+1]));return s},r=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=hv(o)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(a,o){var s=0,d=a||"",m=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=r(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}}(Lt.API),function(i){i.loadFile=function(t,e,n){return function(r,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(d,m,h){var v=new XMLHttpRequest,_=0,g=function(D){var E=D.length,S=[],w=String.fromCharCode;for(_=0;_<E;_+=1)S.push(w(255&D.charCodeAt(_)));return S.join("")};if(v.open("GET",d,!m),v.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(v.onload=function(){v.status===200?h(g(this.responseText)):h(void 0)}),v.send(null),m&&v.status===200)return g(v.responseText)}(r,a,o)}catch{}return s}(t,e,n)},i.loadImageFile=i.loadFile}(Lt.API),function(i){function t(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):import("./chunk-NHU2NPDK.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):import("./chunk-NBIQJ3GQ.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=Sn(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},r=function(o,s){var d=document.createElement(o);for(var m in s.className&&(d.className=s.className),s.innerHTML&&s.dompurify&&(d.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)d.style[m]=s.style[m];return d},a=function o(s){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),m=o.convert(Promise.resolve(),d);return m=(m=m.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(d){return this.set({src:r("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function d(m,h){for(var v=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),_=m.firstChild;_;_=_.nextSibling)h!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||v.appendChild(d(_,h));return m.nodeType===1&&(m.nodeName==="CANVAS"?(v.width=m.width,v.height=m.height,v.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(v.value=m.value),v.addEventListener("load",function(){v.scrollTop=m.scrollTop,v.scrollLeft=m.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,s(this.prop.container,d)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var d=this.opt.jsPDF,m=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var _=0;_<m.length;++_){var g=m[_],D=g.src.find(function(E){return E.format==="truetype"});D&&d.addFont(D.url,g.ref.name,g.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,d.context2d.save(!0),s(this.prop.container,v)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var d=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(d):d})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(o=o||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,d,m){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,d,m){return this.setProgress(o?this.progress.val+o:null,s||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},a.prototype.then=function(o,s){var d=this;return this.thenCore(o,s,function(m,h){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(v){return d.updateProgress(null,m),v}).then(m,h).then(function(v){return d.updateProgress(1),v})})},a.prototype.thenCore=function(o,s,d){d=d||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=d.call(m,o,s);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(d){s=s.thenCore(d)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Lt.getPageSize=function(o,s,d){if(Sn(o)==="object"){var m=o;o=m.orientation,s=m.unit||s,d=m.format||d}s=s||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var h,v=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+s}var g,D=0,E=0;if(_.hasOwnProperty(v))D=_[v][1]/h,E=_[v][0]/h;else try{D=d[1],E=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",E>D&&(g=E,E=D,D=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",D>E&&(g=E,E=D,D=g)}return{width:E,height:D,unit:s,k:h,orientation:o}},i.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(bC):null;var d=new a(s);return s.worker?d:d.from(o).doCallback()}}(Lt.API),Lt.API.addJS=function(i){return k3=i,this.internal.events.subscribe("postPutResources",function(){bv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),M3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bv!==void 0&&M3!==void 0&&this.internal.out("/Names <</JavaScript "+bv+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var o=r[a],s=n.exec(o);if(s!=null){var d=s[1];e.internal.newObjectDeferredBegin(d,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,h=[];for(a=0;a<m;a++){var v=e.internal.newObject();h.push(v);var _=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var g=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<h.length;a++)e.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+g+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,a){var o={title:r,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var d=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var a=0;a<r.children.length;a++)n.count++,this.count_r(n,r.children[a]);return n.count}}])}(Lt.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,a,o,s){var d,m=this.decode.DCT_DECODE,h=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(d=function(v){for(var _,g=256*v.charCodeAt(4)+v.charCodeAt(5),D=v.length,E={width:0,height:0,numcomponents:1},S=4;S<D;S+=2){if(S+=g,t.indexOf(v.charCodeAt(S+1))!==-1){_=256*v.charCodeAt(S+5)+v.charCodeAt(S+6),E={width:256*v.charCodeAt(S+7)+v.charCodeAt(S+8),height:_,numcomponents:v.charCodeAt(S+9)};break}g=256*v.charCodeAt(S+2)+v.charCodeAt(S+3)}return E}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}h={data:e,width:d.width,height:d.height,colorSpace:s,bitsPerComponent:8,filter:m,index:n,alias:r}}return h}}(Lt.API);var pm,vv,D3,E3,A3,l9=function(){var i,t,e;function n(a){var o,s,d,m,h,v,_,g,D,E,S,w,O,G;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),D=function(){var ee,se;for(se=[],ee=0;ee<4;++ee)se.push(String.fromCharCode(this.data[this.pos++]));return se}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),m=this.readUInt16()||100,v.delay=1e3*h/m,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(D==="fdAT"&&(this.pos+=4,o-=4),a=v?.data||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((E=d-this.transparency.indexed.length)>0)for(O=0;0<=E?O<E:O>E;0<=E?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":_=(S=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,S.slice(0,_)),this.text[g]=String.fromCharCode.apply(String,S.slice(_+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(G=this.colorType)===4||G===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),d=0,m=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(v,_,g,D){var E,S,w,O,G,ee,se,Ee,oe,Q,me,Te,B,H,Z,X,Ie,we,Oe,ue,Ae,Fe=Math.ceil((m.width-v)/g),pt=Math.ceil((m.height-_)/D),L=m.width==Fe&&m.height==pt;for(H=o*Fe,Te=L?s:new Uint8Array(H*pt),ee=a.length,B=0,S=0;B<pt&&d<ee;){switch(a[d++]){case 0:for(O=Ie=0;Ie<H;O=Ie+=1)Te[S++]=a[d++];break;case 1:for(O=we=0;we<H;O=we+=1)E=a[d++],G=O<o?0:Te[S-o],Te[S++]=(E+G)%256;break;case 2:for(O=Oe=0;Oe<H;O=Oe+=1)E=a[d++],w=(O-O%o)/o,Z=B&&Te[(B-1)*H+w*o+O%o],Te[S++]=(Z+E)%256;break;case 3:for(O=ue=0;ue<H;O=ue+=1)E=a[d++],w=(O-O%o)/o,G=O<o?0:Te[S-o],Z=B&&Te[(B-1)*H+w*o+O%o],Te[S++]=(E+Math.floor((G+Z)/2))%256;break;case 4:for(O=Ae=0;Ae<H;O=Ae+=1)E=a[d++],w=(O-O%o)/o,G=O<o?0:Te[S-o],B===0?Z=X=0:(Z=Te[(B-1)*H+w*o+O%o],X=w&&Te[(B-1)*H+(w-1)*o+O%o]),se=G+Z-X,Ee=Math.abs(se-G),Q=Math.abs(se-Z),me=Math.abs(se-X),oe=Ee<=Q&&Ee<=me?G:Q<=me?Z:X,Te[S++]=(E+oe)%256;break;default:throw new Error("Invalid filter algorithm: "+a[d-1])}if(!L){var $=((_+B*D)*m.width+v)*o,J=B*H;for(O=0;O<Fe;O+=1){for(var ie=0;ie<o;ie+=1)s[$++]=Te[J++];$+=(g-1)*o}}B++}}return a=f3(a),m.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),s},n.prototype.decodePalette=function(){var a,o,s,d,m,h,v,_,g;for(s=this.palette,h=this.transparency.indexed||[],m=new Uint8Array((h.length||0)+s.length),d=0,a=0,o=v=0,_=s.length;v<_;o=v+=3)m[d++]=s[o],m[d++]=s[o+1],m[d++]=s[o+2],m[d++]=(g=h[a++])!=null?g:255;return m},n.prototype.copyToImageData=function(a,o){var s,d,m,h,v,_,g,D,E,S,w;if(d=this.colors,E=null,s=this.hasAlphaChannel,this.palette.length&&(E=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),d=4,s=!0),D=(m=a.data||a).length,v=E||o,h=_=0,d===1)for(;h<D;)g=E?4*o[h/4]:_,S=v[g++],m[h++]=S,m[h++]=S,m[h++]=S,m[h++]=s?v[g++]:255,_=g;else for(;h<D;)g=E?4*o[h/4]:_,m[h++]=v[g++],m[h++]=v[g++],m[h++]=v[g++],m[h++]=s?v[g++]:255,_=g},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(Qt)==="[object Window]"){try{t=Qt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(a){var o;if(r()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,s,d,m,h,v,_,g;if(this.animation){for(g=[],s=h=0,v=(_=this.animation.frames).length;h<v;s=++h)o=_[s],d=a.createImageData(o.width,o.height),m=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(d,m),o.imageData=d,g.push(o.image=i(d));return g}},n.prototype.renderFrame=function(a,o){var s,d,m;return s=(d=this.animation.frames)[o],m=d[o-1],o===0&&a.clearRect(0,0,this.width,this.height),m?.disposeOp===1?a.clearRect(m.xOffset,m.yOffset,m.width,m.height):m?.disposeOp===2&&a.putImageData(m.imageData,m.xOffset,m.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(a){var o,s,d,m,h,v,_=this;return s=0,v=this.animation,m=v.numFrames,d=v.frames,h=v.numPlays,(o=function(){var g,D;if(g=s++%m,D=d[g],_.renderFrame(a,g),m>1&&s/m<h)return _.animation._timeout=setTimeout(o,D.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();function c9(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],a=r>>7,o=1<<(7&r)+1;i[t++],i[t++];var s=null,d=null;a&&(s=t,d=o,t+=3*o);var m=!0,h=[],v=0,_=null,g=0,D=null;for(this.width=e,this.height=n;m&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,D=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((B=i[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=i[t++];v=i[t++]|i[t++]<<8,_=i[t++],!(1&E)&&(_=null),g=E>>2&7,t++;break;case 254:for(;;){if(!((B=i[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var S=i[t++]|i[t++]<<8,w=i[t++]|i[t++]<<8,O=i[t++]|i[t++]<<8,G=i[t++]|i[t++]<<8,ee=i[t++],se=ee>>6&1,Ee=1<<(7&ee)+1,oe=s,Q=d,me=!1;ee>>7&&(me=!0,oe=t,Q=Ee,t+=3*Ee);var Te=t;for(t++;;){var B;if(!((B=i[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}h.push({x:S,y:w,width:O,height:G,has_local_palette:me,palette_offset:oe,palette_size:Q,data_offset:Te,data_length:t-Te,transparent_index:_,interlaced:!!se,delay:v,disposal:g});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return D},this.frameInfo=function(H){if(H<0||H>=h.length)throw new Error("Frame index out of range.");return h[H]},this.decodeAndBlitFrameBGRA=function(H,Z){var X=this.frameInfo(H),Ie=X.width*X.height,we=new Uint8Array(Ie);I3(i,X.data_offset,we,Ie);var Oe=X.palette_offset,ue=X.transparent_index;ue===null&&(ue=256);var Ae=X.width,Fe=e-Ae,pt=Ae,L=4*(X.y*e+X.x),$=4*((X.y+X.height)*e+X.x),J=L,ie=4*Fe;X.interlaced===!0&&(ie+=4*e*7);for(var ce=8,_e=0,Se=we.length;_e<Se;++_e){var De=we[_e];if(pt===0&&(pt=Ae,(J+=ie)>=$&&(ie=4*Fe+4*e*(ce-1),J=L+(Ae+Fe)*(ce<<1),ce>>=1)),De===ue)J+=4;else{var $e=i[Oe+3*De],We=i[Oe+3*De+1],ct=i[Oe+3*De+2];Z[J++]=ct,Z[J++]=We,Z[J++]=$e,Z[J++]=255}--pt}},this.decodeAndBlitFrameRGBA=function(H,Z){var X=this.frameInfo(H),Ie=X.width*X.height,we=new Uint8Array(Ie);I3(i,X.data_offset,we,Ie);var Oe=X.palette_offset,ue=X.transparent_index;ue===null&&(ue=256);var Ae=X.width,Fe=e-Ae,pt=Ae,L=4*(X.y*e+X.x),$=4*((X.y+X.height)*e+X.x),J=L,ie=4*Fe;X.interlaced===!0&&(ie+=4*e*7);for(var ce=8,_e=0,Se=we.length;_e<Se;++_e){var De=we[_e];if(pt===0&&(pt=Ae,(J+=ie)>=$&&(ie=4*Fe+4*e*(ce-1),J=L+(Ae+Fe)*(ce<<1),ce>>=1)),De===ue)J+=4;else{var $e=i[Oe+3*De],We=i[Oe+3*De+1],ct=i[Oe+3*De+2];Z[J++]=$e,Z[J++]=We,Z[J++]=ct,Z[J++]=255}--pt}}}function I3(i,t,e,n){for(var r=i[t++],a=1<<r,o=a+1,s=o+1,d=r+1,m=(1<<d)-1,h=0,v=0,_=0,g=i[t++],D=new Int32Array(4096),E=null;;){for(;h<16&&g!==0;)v|=i[t++]<<h,h+=8,g===1?g=i[t++]:--g;if(h<d)break;var S=v&m;if(v>>=d,h-=d,S!==a){if(S===o)break;for(var w=S<s?S:E,O=0,G=w;G>a;)G=D[G]>>8,++O;var ee=G;if(_+O+(w!==S?1:0)>n)return void In.log("Warning, gif stream longer than expected.");e[_++]=ee;var se=_+=O;for(w!==S&&(e[_++]=ee),G=w;O--;)G=D[G],e[--se]=255&G,G>>=8;E!==null&&s<4096&&(D[s++]=E<<8|ee,s>=m+1&&d<12&&(++d,m=m<<1|1)),E=S}else s=o+1,m=(1<<(d=r+1))-1,E=null}return _!==n&&In.log("Warning, gif stream shorter than expected."),e}function uC(i){var t,e,n,r,a,o=Math.floor,s=new Array(64),d=new Array(64),m=new Array(64),h=new Array(64),v=new Array(65535),_=new Array(65535),g=new Array(64),D=new Array(64),E=[],S=0,w=7,O=new Array(64),G=new Array(64),ee=new Array(64),se=new Array(256),Ee=new Array(2048),oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],me=[0,1,2,3,4,5,6,7,8,9,10,11],Te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(L,$){for(var J=0,ie=0,ce=new Array,_e=1;_e<=16;_e++){for(var Se=1;Se<=L[_e];Se++)ce[$[ie]]=[],ce[$[ie]][0]=J,ce[$[ie]][1]=_e,ie++,J++;J*=2}return ce}function Oe(L){for(var $=L[0],J=L[1]-1;J>=0;)$&1<<J&&(S|=1<<w),J--,--w<0&&(S==255?(ue(255),ue(0)):ue(S),w=7,S=0)}function ue(L){E.push(L)}function Ae(L){ue(L>>8&255),ue(255&L)}function Fe(L,$,J,ie,ce){for(var _e,Se=ce[0],De=ce[240],$e=function(qe,tt){var ut,lt,Ot,ri,gi,yi,qi,vn,Zt,Si,mt=0;for(Zt=0;Zt<8;++Zt){ut=qe[mt],lt=qe[mt+1],Ot=qe[mt+2],ri=qe[mt+3],gi=qe[mt+4],yi=qe[mt+5],qi=qe[mt+6];var ha=ut+(vn=qe[mt+7]),Yi=ut-vn,Yo=lt+qi,kn=lt-qi,Yn=Ot+yi,ws=Ot-yi,cn=ri+gi,Uc=ri-gi,ar=ha+cn,Qo=ha-cn,cl=Yo+Yn,or=Yo-Yn;qe[mt]=ar+cl,qe[mt+4]=ar-cl;var ai=.707106781*(or+Qo);qe[mt+2]=Qo+ai,qe[mt+6]=Qo-ai;var dn=.382683433*((ar=Uc+ws)-(or=kn+Yi)),qc=.5411961*ar+dn,ia=1.306562965*or+dn,Ss=.707106781*(cl=ws+kn),Ms=Yi+Ss,Ht=Yi-Ss;qe[mt+5]=Ht+qc,qe[mt+3]=Ht-qc,qe[mt+1]=Ms+ia,qe[mt+7]=Ms-ia,mt+=8}for(mt=0,Zt=0;Zt<8;++Zt){ut=qe[mt],lt=qe[mt+8],Ot=qe[mt+16],ri=qe[mt+24],gi=qe[mt+32],yi=qe[mt+40],qi=qe[mt+48];var Jo=ut+(vn=qe[mt+56]),ks=ut-vn,Qa=lt+qi,jr=lt-qi,Ir=Ot+yi,uo=Ot-yi,Fd=ri+gi,dl=ri-gi,Ko=Jo+Fd,Xo=Jo-Fd,Zo=Qa+Ir,Ds=Qa-Ir;qe[mt]=Ko+Zo,qe[mt+32]=Ko-Zo;var So=.707106781*(Ds+Xo);qe[mt+16]=Xo+So,qe[mt+48]=Xo-So;var Es=.382683433*((Ko=dl+uo)-(Ds=jr+ks)),Wc=.5411961*Ko+Es,Ld=1.306562965*Ds+Es,jd=.707106781*(Zo=uo+jr),Bd=ks+jd,Vd=ks-jd;qe[mt+40]=Vd+Wc,qe[mt+24]=Vd-Wc,qe[mt+8]=Bd+Ld,qe[mt+56]=Bd-Ld,mt++}for(Zt=0;Zt<64;++Zt)Si=qe[Zt]*tt[Zt],g[Zt]=Si>0?Si+.5|0:Si-.5|0;return g}(L,$),We=0;We<64;++We)D[oe[We]]=$e[We];var ct=D[0]-J;J=D[0],ct==0?Oe(ie[0]):(Oe(ie[_[_e=32767+ct]]),Oe(v[_e]));for(var ot=63;ot>0&&D[ot]==0;)ot--;if(ot==0)return Oe(Se),J;for(var Yt,Ne=1;Ne<=ot;){for(var K=Ne;D[Ne]==0&&Ne<=ot;)++Ne;var di=Ne-K;if(di>=16){Yt=di>>4;for(var At=1;At<=Yt;++At)Oe(De);di&=15}_e=32767+D[Ne],Oe(ce[(di<<4)+_[_e]]),Oe(v[_e]),Ne++}return ot!=63&&Oe(Se),J}function pt(L){L=Math.min(Math.max(L,1),100),a!=L&&(function($){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ce=o((J[ie]*$+50)/100);ce=Math.min(Math.max(ce,1),255),s[oe[ie]]=ce}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var De=o((_e[Se]*$+50)/100);De=Math.min(Math.max(De,1),255),d[oe[Se]]=De}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,ct=0;ct<8;ct++)for(var ot=0;ot<8;ot++)m[We]=1/(s[oe[We]]*$e[ct]*$e[ot]*8),h[We]=1/(d[oe[We]]*$e[ct]*$e[ot]*8),We++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,$){$&&pt($),E=new Array,S=0,w=7,Ae(65496),Ae(65504),Ae(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),Ae(1),Ae(1),ue(0),ue(0),function(){Ae(65499),Ae(132),ue(0);for(var lt=0;lt<64;lt++)ue(s[lt]);ue(1);for(var Ot=0;Ot<64;Ot++)ue(d[Ot])}(),function(lt,Ot){Ae(65472),Ae(17),ue(8),Ae(Ot),Ae(lt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)}(L.width,L.height),function(){Ae(65476),Ae(418),ue(0);for(var lt=0;lt<16;lt++)ue(Q[lt+1]);for(var Ot=0;Ot<=11;Ot++)ue(me[Ot]);ue(16);for(var ri=0;ri<16;ri++)ue(Te[ri+1]);for(var gi=0;gi<=161;gi++)ue(B[gi]);ue(1);for(var yi=0;yi<16;yi++)ue(H[yi+1]);for(var qi=0;qi<=11;qi++)ue(Z[qi]);ue(17);for(var vn=0;vn<16;vn++)ue(X[vn+1]);for(var Zt=0;Zt<=161;Zt++)ue(Ie[Zt])}(),Ae(65498),Ae(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var J=0,ie=0,ce=0;S=0,w=7,this.encode.displayName="_encode_";for(var _e,Se,De,$e,We,ct,ot,Yt,Ne,K=L.data,di=L.width,At=L.height,qe=4*di,tt=0;tt<At;){for(_e=0;_e<qe;){for(We=qe*tt+_e,ot=-1,Yt=0,Ne=0;Ne<64;Ne++)ct=We+(Yt=Ne>>3)*qe+(ot=4*(7&Ne)),tt+Yt>=At&&(ct-=qe*(tt+1+Yt-At)),_e+ot>=qe&&(ct-=_e+ot-qe+4),Se=K[ct++],De=K[ct++],$e=K[ct++],O[Ne]=(Ee[Se]+Ee[De+256>>0]+Ee[$e+512>>0]>>16)-128,G[Ne]=(Ee[Se+768>>0]+Ee[De+1024>>0]+Ee[$e+1280>>0]>>16)-128,ee[Ne]=(Ee[Se+1280>>0]+Ee[De+1536>>0]+Ee[$e+1792>>0]>>16)-128;J=Fe(O,m,J,t,n),ie=Fe(G,h,ie,e,r),ce=Fe(ee,h,ce,e,r),_e+=32}tt+=8}if(w>=0){var ut=[];ut[1]=w+1,ut[0]=(1<<w+1)-1,Oe(ut)}return Ae(65497),new Uint8Array(E)},i=i||50,function(){for(var L=String.fromCharCode,$=0;$<256;$++)se[$]=L($)}(),t=we(Q,me),e=we(H,Z),n=we(Te,B),r=we(X,Ie),function(){for(var L=1,$=2,J=1;J<=15;J++){for(var ie=L;ie<$;ie++)_[32767+ie]=J,v[32767+ie]=[],v[32767+ie][1]=J,v[32767+ie][0]=ie;for(var ce=-($-1);ce<=-L;ce++)_[32767+ce]=J,v[32767+ce]=[],v[32767+ce][1]=J,v[32767+ce][0]=$-1+ce;L<<=1,$<<=1}}(),function(){for(var L=0;L<256;L++)Ee[L]=19595*L,Ee[L+256>>0]=38470*L,Ee[L+512>>0]=7471*L+32768,Ee[L+768>>0]=-11059*L,Ee[L+1024>>0]=-21709*L,Ee[L+1280>>0]=32768*L+8421375,Ee[L+1536>>0]=-27439*L,Ee[L+1792>>0]=-5329*L}(),pt(i)}function bs(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P3(i){function t(Q){if(!Q)throw Error("assert :P")}function e(Q,me,Te){for(var B=0;4>B;B++)if(Q[me+B]!=Te.charCodeAt(B))return!0;return!1}function n(Q,me,Te,B,H){for(var Z=0;Z<H;Z++)Q[me+Z]=Te[B+Z]}function r(Q,me,Te,B){for(var H=0;H<B;H++)Q[me+H]=Te}function a(Q){return new Int32Array(Q)}function o(Q,me){for(var Te=[],B=0;B<Q;B++)Te.push(new me);return Te}function s(Q,me){var Te=[];return function B(H,Z,X){for(var Ie=X[Z],we=0;we<Ie&&(H.push(X.length>Z+1?[]:new me),!(X.length<Z+1));we++)B(H[we],Z+1,X)}(Te,0,Q),Te}var d=function(){var Q=this;function me(p,f){for(var x=1<<f-1>>>0;p&x;)x>>>=1;return x?(p&x-1)+x:p}function Te(p,f,x,M,A){t(!(M%x));do p[f+(M-=x)]=A;while(0<M)}function B(p,f,x,M,A){if(t(2328>=A),512>=A)var R=a(512);else if((R=a(A))==null)return 0;return function(N,j,V,U,ne,pe){var he,le,Be=j,Pe=1<<V,re=a(16),ae=a(16);for(t(ne!=0),t(U!=null),t(N!=null),t(0<V),le=0;le<ne;++le){if(15<U[le])return 0;++re[U[le]]}if(re[0]==ne)return 0;for(ae[1]=0,he=1;15>he;++he){if(re[he]>1<<he)return 0;ae[he+1]=ae[he]+re[he]}for(le=0;le<ne;++le)he=U[le],0<U[le]&&(pe[ae[he]++]=le);if(ae[15]==1)return(U=new H).g=0,U.value=pe[0],Te(N,Be,1,Pe,U),Pe;var Le,Ve=-1,je=Pe-1,gt=0,it=1,jt=1,st=1<<V;for(le=0,he=1,ne=2;he<=V;++he,ne<<=1){if(it+=jt<<=1,0>(jt-=re[he]))return 0;for(;0<re[he];--re[he])(U=new H).g=he,U.value=pe[le++],Te(N,Be+gt,ne,st,U),gt=me(gt,he)}for(he=V+1,ne=2;15>=he;++he,ne<<=1){if(it+=jt<<=1,0>(jt-=re[he]))return 0;for(;0<re[he];--re[he]){if(U=new H,(gt&je)!=Ve){for(Be+=st,Le=1<<(Ve=he)-V;15>Ve&&!(0>=(Le-=re[Ve]));)++Ve,Le<<=1;Pe+=st=1<<(Le=Ve-V),N[j+(Ve=gt&je)].g=Le+V,N[j+Ve].value=Be-j-Ve}U.g=he-V,U.value=pe[le++],Te(N,Be+(gt>>V),ne,st,U),gt=me(gt,he)}}return it!=2*ae[15]-1?0:Pe}(p,f,x,M,A,R)}function H(){this.value=this.g=0}function Z(){this.value=this.g=0}function X(){this.G=o(5,H),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(na,Z)}function Ie(p,f,x,M){t(p!=null),t(f!=null),t(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=f,p.pa=x,p.Jd=f,p.Yc=x+M,p.Zc=4<=M?x+M-4+1:x,_e(p)}function we(p,f){for(var x=0;0<f--;)x|=De(p,128)<<f;return x}function Oe(p,f){var x=we(p,f);return Se(p)?-x:x}function ue(p,f,x,M){var A,R=0;for(t(p!=null),t(f!=null),t(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),A=0;A<M;++A)R+=f[x+A]<<8*A;p.Ra=R,p.bb=M,p.oa=f,p.pa=x}function Ae(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<tu-8>>>0,++p.bb,p.u-=8;J(p)&&(p.h=1,p.u=0)}function Fe(p,f){if(t(0<=f),!p.h&&f<=eu){var x=$(p)&Zd[f];return p.u+=f,Ae(p),x}return p.h=1,p.u=0}function pt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(p){return p.Ra>>>(p.u&tu-1)>>>0}function J(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>tu}function ie(p,f){p.u=f,p.h=J(p)}function ce(p){p.u>=up&&(t(p.u>=up),Ae(p))}function _e(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Se(p){return we(p,1)}function De(p,f){var x=p.Ca;0>p.b&&_e(p);var M=p.b,A=x*f>>>8,R=(p.I>>>M>A)+0;for(R?(x-=A,p.I-=A+1<<M>>>0):x=A+1,M=x,A=0;256<=M;)A+=8,M>>=8;return M=7^A+Ka[M],p.b-=M,p.Ca=(x<<M)-1,R}function $e(p,f,x){p[f+0]=x>>24&255,p[f+1]=x>>16&255,p[f+2]=x>>8&255,p[f+3]=x>>0&255}function We(p,f){return p[f+0]<<0|p[f+1]<<8}function ct(p,f){return We(p,f)|p[f+2]<<16}function ot(p,f){return We(p,f)|We(p,f+2)<<16}function Yt(p,f){var x=1<<f;return t(p!=null),t(0<f),p.X=a(x),p.X==null?0:(p.Mb=32-f,p.Xa=f,1)}function Ne(p,f){t(p!=null),t(f!=null),t(p.Xa==f.Xa),n(f.X,0,p.X,0,1<<f.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function di(p,f,x,M){t(x!=null),t(M!=null);var A=x[0],R=M[0];return A==0&&(A=(p*R+f/2)/f),R==0&&(R=(f*A+p/2)/p),0>=A||0>=R?0:(x[0]=A,M[0]=R,1)}function At(p,f){return p+(1<<f)-1>>>f}function qe(p,f){return((4278255360&p)+(4278255360&f)>>>0&4278255360)+((16711935&p)+(16711935&f)>>>0&16711935)>>>0}function tt(p,f){Q[f]=function(x,M,A,R,N,j,V){var U;for(U=0;U<N;++U){var ne=Q[p](j[V+U-1],A,R+U);j[V+U]=qe(x[M+U],ne)}}}function ut(){this.ud=this.hd=this.jd=0}function lt(p,f){return((4278124286&(p^f))>>>1)+(p&f)>>>0}function Ot(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ri(p,f){return Ot(p+(p-f+.5>>1))}function gi(p,f,x){return Math.abs(f-x)-Math.abs(p-x)}function yi(p,f,x,M,A,R,N){for(M=R[N-1],x=0;x<A;++x)R[N+x]=M=qe(p[f+x],M)}function qi(p,f,x,M,A){var R;for(R=0;R<x;++R){var N=p[f+R],j=N>>8&255,V=16711935&(V=(V=16711935&N)+((j<<16)+j));M[A+R]=(4278255360&N)+V>>>0}}function vn(p,f){f.jd=p>>0&255,f.hd=p>>8&255,f.ud=p>>16&255}function Zt(p,f,x,M,A,R){var N;for(N=0;N<M;++N){var j=f[x+N],V=j>>>8,U=j,ne=255&(ne=(ne=j>>>16)+((p.jd<<24>>24)*(V<<24>>24)>>>5));U=255&(U=(U=U+((p.hd<<24>>24)*(V<<24>>24)>>>5))+((p.ud<<24>>24)*(ne<<24>>24)>>>5)),A[R+N]=(4278255360&j)+(ne<<16)+U}}function Si(p,f,x,M,A){Q[f]=function(R,N,j,V,U,ne,pe,he,le){for(V=pe;V<he;++V)for(pe=0;pe<le;++pe)U[ne++]=A(j[M(R[N++])])},Q[p]=function(R,N,j,V,U,ne,pe){var he=8>>R.b,le=R.Ea,Be=R.K[0],Pe=R.w;if(8>he)for(R=(1<<R.b)-1,Pe=(1<<he)-1;N<j;++N){var re,ae=0;for(re=0;re<le;++re)re&R||(ae=M(V[U++])),ne[pe++]=A(Be[ae&Pe]),ae>>=he}else Q["VP8LMapColor"+x](V,U,Be,Pe,ne,pe,N,j,le)}}function mt(p,f,x,M,A){for(x=f+x;f<x;){var R=p[f++];M[A++]=R>>16&255,M[A++]=R>>8&255,M[A++]=R>>0&255}}function ha(p,f,x,M,A){for(x=f+x;f<x;){var R=p[f++];M[A++]=R>>16&255,M[A++]=R>>8&255,M[A++]=R>>0&255,M[A++]=R>>24&255}}function Yi(p,f,x,M,A){for(x=f+x;f<x;){var R=(N=p[f++])>>16&240|N>>12&15,N=N>>0&240|N>>28&15;M[A++]=R,M[A++]=N}}function Yo(p,f,x,M,A){for(x=f+x;f<x;){var R=(N=p[f++])>>16&248|N>>13&7,N=N>>5&224|N>>3&31;M[A++]=R,M[A++]=N}}function kn(p,f,x,M,A){for(x=f+x;f<x;){var R=p[f++];M[A++]=R>>0&255,M[A++]=R>>8&255,M[A++]=R>>16&255}}function Yn(p,f,x,M,A,R){if(R==0)for(x=f+x;f<x;)$e(M,((R=p[f++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),A+=32;else n(M,A,p,f,x)}function ws(p,f){Q[f][0]=Q[p+"0"],Q[f][1]=Q[p+"1"],Q[f][2]=Q[p+"2"],Q[f][3]=Q[p+"3"],Q[f][4]=Q[p+"4"],Q[f][5]=Q[p+"5"],Q[f][6]=Q[p+"6"],Q[f][7]=Q[p+"7"],Q[f][8]=Q[p+"8"],Q[f][9]=Q[p+"9"],Q[f][10]=Q[p+"10"],Q[f][11]=Q[p+"11"],Q[f][12]=Q[p+"12"],Q[f][13]=Q[p+"13"],Q[f][14]=Q[p+"0"],Q[f][15]=Q[p+"0"]}function cn(p){return p==q1||p==W1||p==Lf||p==G1}function Uc(){this.eb=[],this.size=this.A=this.fb=0}function ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qo(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Uc,this.f.kb=new ar,this.sd=null}function cl(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ai(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function dn(p,f){var x=p.T,M=f.ba.f.RGBA,A=M.eb,R=M.fb+p.ka*M.A,N=Io[f.ba.S],j=p.y,V=p.O,U=p.f,ne=p.N,pe=p.ea,he=p.W,le=f.cc,Be=f.dc,Pe=f.Mc,re=f.Nc,ae=p.ka,Le=p.ka+p.T,Ve=p.U,je=Ve+1>>1;for(ae==0?N(j,V,null,null,U,ne,pe,he,U,ne,pe,he,A,R,null,null,Ve):(N(f.ec,f.fc,j,V,le,Be,Pe,re,U,ne,pe,he,A,R-M.A,A,R,Ve),++x);ae+2<Le;ae+=2)le=U,Be=ne,Pe=pe,re=he,ne+=p.Rc,he+=p.Rc,R+=2*M.A,N(j,(V+=2*p.fa)-p.fa,j,V,le,Be,Pe,re,U,ne,pe,he,A,R-M.A,A,R,Ve);return V+=p.fa,p.j+Le<p.o?(n(f.ec,f.fc,j,V,Ve),n(f.cc,f.dc,U,ne,je),n(f.Mc,f.Nc,pe,he,je),x--):1&Le||N(j,V,null,null,U,ne,pe,he,U,ne,pe,he,A,R+M.A,null,null,Ve),x}function qc(p,f,x){var M=p.F,A=[p.J];if(M!=null){var R=p.U,N=f.ba.S,j=N==Ff||N==Lf;f=f.ba.f.RGBA;var V=[0],U=p.ka;V[0]=p.T,p.Kb&&(U==0?--V[0]:(--U,A[0]-=p.width),p.j+p.ka+p.T==p.o&&(V[0]=p.o-p.j-U));var ne=f.eb;U=f.fb+U*f.A,p=Nn(M,A[0],p.width,R,V,ne,U+(j?0:3),f.A),t(x==V),p&&cn(N)&&Eo(ne,U,j,R,V,f.A)}return 0}function ia(p){var f=p.ma,x=f.ba.S,M=11>x,A=x==Rf||x==Nf||x==Ff||x==U1||x==12||cn(x);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!cp(f.Oa,p,A?11:12))return 0;if(A&&cn(x)&&He(),p.da)alert("todo:use_scaling");else{if(M){if(f.Ib=ai,p.Kb){if(x=p.U+1>>1,f.memory=a(p.U+2*x),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+p.U,f.Mc=f.cc,f.Nc=f.dc+x,f.Ib=dn,He()}}else alert("todo:EmitYUV");A&&(f.Jb=qc,M&&de())}if(M&&!Uw){for(p=0;256>p;++p)wT[p]=89858*(p-128)+Bf>>jf,kT[p]=-22014*(p-128)+Bf,MT[p]=-45773*(p-128),ST[p]=113618*(p-128)+Bf>>jf;for(p=vp;p<Q1;++p)f=76283*(p-16)+Bf>>jf,DT[p-vp]=mo(f,255),ET[p-vp]=mo(f+8>>4,15);Uw=1}return 1}function Ss(p){var f=p.ma,x=p.U,M=p.T;return t(!(1&p.ka)),0>=x||0>=M?0:(x=f.Ib(p,f),f.Jb!=null&&f.Jb(p,f,x),f.Dc+=x,1)}function Ms(p){p.ma.memory=null}function Ht(p,f,x,M){return Fe(p,8)!=47?0:(f[0]=Fe(p,14)+1,x[0]=Fe(p,14)+1,M[0]=Fe(p,1),Fe(p,3)!=0?0:!p.h)}function Jo(p,f){if(4>p)return p+1;var x=p-2>>1;return(2+(1&p)<<x)+Fe(f,x)+1}function ks(p,f){return 120<f?f-120:1<=(x=((x=cT[f-1])>>4)*p+(8-(15&x)))?x:1;var x}function Qa(p,f,x){var M=$(x),A=p[f+=255&M].g-8;return 0<A&&(ie(x,x.u+8),M=$(x),f+=p[f].value,f+=M&(1<<A)-1),ie(x,x.u+p[f].g),p[f].value}function jr(p,f,x){return x.g+=p.g,x.value+=p.value<<f>>>0,t(8>=x.g),p.g}function Ir(p,f,x){var M=p.xc;return t((f=M==0?0:p.vc[p.md*(x>>M)+(f>>M)])<p.Wb),p.Ya[f]}function uo(p,f,x,M){var A=p.ab,R=p.c*f,N=p.C;f=N+f;var j=x,V=M;for(M=p.Ta,x=p.Ua;0<A--;){var U=p.gc[A],ne=N,pe=f,he=j,le=V,Be=(V=M,j=x,U.Ea);switch(t(ne<pe),t(pe<=U.nc),U.hc){case 2:Df(he,le,(pe-ne)*Be,V,j);break;case 0:var Pe=ne,re=pe,ae=V,Le=j,Ve=(st=U).Ea;Pe==0&&(z1(he,le,null,null,1,ae,Le),yi(he,le+1,0,0,Ve-1,ae,Le+1),le+=Ve,Le+=Ve,++Pe);for(var je=1<<st.b,gt=je-1,it=At(Ve,st.b),jt=st.K,st=st.w+(Pe>>st.b)*it;Pe<re;){var an=jt,fn=st,Wi=1;for(mp(he,le,ae,Le-Ve,1,ae,Le);Wi<Ve;){var Ei=(Wi&~gt)+je;Ei>Ve&&(Ei=Ve),(0,Xl[an[fn++]>>8&15])(he,le+ +Wi,ae,Le+Wi-Ve,Ei-Wi,ae,Le+Wi),Wi=Ei}le+=Ve,Le+=Ve,++Pe&gt||(st+=it)}pe!=U.nc&&n(V,j-Be,V,j+(pe-ne-1)*Be,Be);break;case 1:for(Be=he,re=le,Ve=(he=U.Ea)-(Le=he&~(ae=(le=1<<U.b)-1)),Pe=At(he,U.b),je=U.K,U=U.w+(ne>>U.b)*Pe;ne<pe;){for(gt=je,it=U,jt=new ut,st=re+Le,an=re+he;re<st;)vn(gt[it++],jt),Jc(jt,Be,re,le,V,j),re+=le,j+=le;re<an&&(vn(gt[it++],jt),Jc(jt,Be,re,Ve,V,j),re+=Ve,j+=Ve),++ne&ae||(U+=Pe)}break;case 3:if(he==V&&le==j&&0<U.b){for(re=V,he=Be=j+(pe-ne)*Be-(Le=(pe-ne)*At(U.Ea,U.b)),le=V,ae=j,Pe=[],Le=(Ve=Le)-1;0<=Le;--Le)Pe[Le]=le[ae+Le];for(Le=Ve-1;0<=Le;--Le)re[he+Le]=Pe[Le];Mo(U,ne,pe,V,Be,V,j)}else Mo(U,ne,pe,he,le,V,j)}j=M,V=x}V!=x&&n(M,x,j,V,R)}function Fd(p,f){var x=p.V,M=p.Ba+p.c*p.C,A=f-p.C;if(t(f<=p.l.o),t(16>=A),0<A){var R=p.l,N=p.Ta,j=p.Ua,V=R.width;if(uo(p,A,x,M),A=j=[j],t((x=p.C)<(M=f)),t(R.v<R.va),M>R.o&&(M=R.o),x<R.j){var U=R.j-x;x=R.j,A[0]+=U*V}if(x>=M?x=0:(A[0]+=4*R.v,R.ka=x-R.j,R.U=R.va-R.v,R.T=M-x,x=1),x){if(j=j[0],11>(x=p.ca).S){var ne=x.f.RGBA,pe=(M=x.S,A=R.U,R=R.T,U=ne.eb,ne.A),he=R;for(ne=ne.fb+p.Ma*ne.A;0<he--;){var le=N,Be=j,Pe=A,re=U,ae=ne;switch(M){case Of:Xa(le,Be,Pe,re,ae);break;case Rf:Ua(le,Be,Pe,re,ae);break;case q1:Ua(le,Be,Pe,re,ae),Eo(re,ae,0,Pe,1,0);break;case Ow:hl(le,Be,Pe,re,ae);break;case Nf:Yn(le,Be,Pe,re,ae,1);break;case W1:Yn(le,Be,Pe,re,ae,1),Eo(re,ae,0,Pe,1,0);break;case Ff:Yn(le,Be,Pe,re,ae,0);break;case Lf:Yn(le,Be,Pe,re,ae,0),Eo(re,ae,1,Pe,1,0);break;case U1:Zl(le,Be,Pe,re,ae);break;case G1:Zl(le,Be,Pe,re,ae),Rn(re,ae,Pe,1,0);break;case Rw:pl(le,Be,Pe,re,ae);break;default:t(0)}j+=V,ne+=pe}p.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=x.height)}}p.C=f,t(p.C<=p.i)}function dl(p){var f;if(0<p.ua)return 0;for(f=0;f<p.Wb;++f){var x=p.Ya[f].G,M=p.Ya[f].H;if(0<x[1][M[1]+0].g||0<x[2][M[2]+0].g||0<x[3][M[3]+0].g)return 0}return 1}function Ko(p,f,x,M,A,R){if(p.Z!=0){var N=p.qd,j=p.rd;for(t(nc[p.Z]!=null);f<x;++f)nc[p.Z](N,j,M,A,M,A,R),N=M,j=A,A+=R;p.qd=N,p.rd=j}}function Xo(p,f){var x=p.l.ma,M=x.Z==0||x.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,t(f<=p.l.o),f>M){var A=p.l.width,R=x.ca,N=x.tb+A*M,j=p.V,V=p.Ba+p.c*M,U=p.gc;t(p.ab==1),t(U[0].hc==3),Ef(U[0],M,f,j,V,R,N),Ko(x,M,f,R,N,A)}p.C=p.Ma=f}function Zo(p,f,x,M,A,R,N){var j=p.$/M,V=p.$%M,U=p.m,ne=p.s,pe=x+p.$,he=pe;A=x+M*A;var le=x+M*R,Be=280+ne.ua,Pe=p.Pb?j:16777216,re=0<ne.ua?ne.Wa:null,ae=ne.wc,Le=pe<le?Ir(ne,V,j):null;t(p.C<R),t(le<=A);var Ve=!1;e:for(;;){for(;Ve||pe<le;){var je=0;if(j>=Pe){var gt=pe-x;t((Pe=p).Pb),Pe.wd=Pe.m,Pe.xd=gt,0<Pe.s.ua&&Ne(Pe.s.Wa,Pe.s.vb),Pe=j+uT}if(V&ae||(Le=Ir(ne,V,j)),t(Le!=null),Le.Qb&&(f[pe]=Le.qb,Ve=!0),!Ve)if(ce(U),Le.jc){je=U,gt=f;var it=pe,jt=Le.pd[$(je)&na-1];t(Le.jc),256>jt.g?(ie(je,je.u+jt.g),gt[it]=jt.value,je=0):(ie(je,je.u+jt.g-256),t(256<=jt.value),je=jt.value),je==0&&(Ve=!0)}else je=Qa(Le.G[0],Le.H[0],U);if(U.h)break;if(Ve||256>je){if(!Ve)if(Le.nd)f[pe]=(Le.qb|je<<8)>>>0;else{if(ce(U),Ve=Qa(Le.G[1],Le.H[1],U),ce(U),gt=Qa(Le.G[2],Le.H[2],U),it=Qa(Le.G[3],Le.H[3],U),U.h)break;f[pe]=(it<<24|Ve<<16|je<<8|gt)>>>0}if(Ve=!1,++pe,++V>=M&&(V=0,++j,N!=null&&j<=R&&!(j%16)&&N(p,j),re!=null))for(;he<pe;)je=f[he++],re.X[(506832829*je&4294967295)>>>re.Mb]=je}else if(280>je){if(je=Jo(je-256,U),gt=Qa(Le.G[4],Le.H[4],U),ce(U),gt=ks(M,gt=Jo(gt,U)),U.h)break;if(pe-x<gt||A-pe<je)break e;for(it=0;it<je;++it)f[pe+it]=f[pe+it-gt];for(pe+=je,V+=je;V>=M;)V-=M,++j,N!=null&&j<=R&&!(j%16)&&N(p,j);if(t(pe<=A),V&ae&&(Le=Ir(ne,V,j)),re!=null)for(;he<pe;)je=f[he++],re.X[(506832829*je&4294967295)>>>re.Mb]=je}else{if(!(je<Be))break e;for(Ve=je-280,t(re!=null);he<pe;)je=f[he++],re.X[(506832829*je&4294967295)>>>re.Mb]=je;je=pe,t(!(Ve>>>(gt=re).Xa)),f[je]=gt.X[Ve],Ve=!0}Ve||t(U.h==J(U))}if(p.Pb&&U.h&&pe<A)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ne(p.s.vb,p.s.Wa);else{if(U.h)break e;N?.(p,j>R?R:j),p.a=0,p.$=pe-x}return 1}return p.a=3,0}function Ds(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var f=p.Wa;f!=null&&(f.X=null),p.vb=null,t(p!=null)}function So(){var p=new V1;return p==null?null:(p.a=0,p.xb=Lw,ws("Predictor","VP8LPredictors"),ws("Predictor","VP8LPredictors_C"),ws("PredictorAdd","VP8LPredictorsAdd"),ws("PredictorAdd","VP8LPredictorsAdd_C"),Df=qi,Jc=Zt,Xa=mt,Ua=ha,Zl=Yi,pl=Yo,hl=kn,Q.VP8LMapColor32b=iu,Q.VP8LMapColor8b=Af,p)}function Es(p,f,x,M,A){var R=1,N=[p],j=[f],V=M.m,U=M.s,ne=null,pe=0;e:for(;;){if(x)for(;R&&Fe(V,1);){var he=N,le=j,Be=M,Pe=1,re=Be.m,ae=Be.gc[Be.ab],Le=Fe(re,2);if(Be.Oc&1<<Le)R=0;else{switch(Be.Oc|=1<<Le,ae.hc=Le,ae.Ea=he[0],ae.nc=le[0],ae.K=[null],++Be.ab,t(4>=Be.ab),Le){case 0:case 1:ae.b=Fe(re,3)+2,Pe=Es(At(ae.Ea,ae.b),At(ae.nc,ae.b),0,Be,ae.K),ae.K=ae.K[0];break;case 3:var Ve,je=Fe(re,8)+1,gt=16<je?0:4<je?1:2<je?2:3;if(he[0]=At(ae.Ea,gt),ae.b=gt,Ve=Pe=Es(je,1,0,Be,ae.K)){var it,jt=je,st=ae,an=1<<(8>>st.b),fn=a(an);if(fn==null)Ve=0;else{var Wi=st.K[0],Ei=st.w;for(fn[0]=st.K[0][0],it=1;it<1*jt;++it)fn[it]=qe(Wi[Ei+it],fn[it-1]);for(;it<4*an;++it)fn[it]=0;st.K[0]=null,st.K[0]=fn,Ve=1}}Pe=Ve;break;case 2:break;default:t(0)}R=Pe}}if(N=N[0],j=j[0],R&&Fe(V,1)&&!(R=1<=(pe=Fe(V,4))&&11>=pe)){M.a=3;break e}var Dn;if(Dn=R)t:{var _n,mi,Tr,Za=M,Or=N,eo=j,gn=pe,ho=x,fo=Za.m,Gr=Za.s,ra=[null],Wa=1,Po=0,Ts=dT[gn];i:for(;;){if(ho&&Fe(fo,1)){var $r=Fe(fo,3)+2,vl=At(Or,$r),td=At(eo,$r),su=vl*td;if(!Es(vl,td,0,Za,ra))break i;for(ra=ra[0],Gr.xc=$r,_n=0;_n<su;++_n){var rc=ra[_n]>>8&65535;ra[_n]=rc,rc>=Wa&&(Wa=rc+1)}}if(fo.h)break i;for(mi=0;5>mi;++mi){var lr=Nw[mi];!mi&&0<gn&&(lr+=1<<gn),Po<lr&&(Po=lr)}var J1=o(Wa*Ts,H),Gw=Wa,$w=o(Gw,X);if($w==null)var zf=null;else t(65536>=Gw),zf=$w;var _p=a(Po);if(zf==null||_p==null||J1==null){Za.a=1;break i}var Hf=J1;for(_n=Tr=0;_n<Wa;++_n){var rs=zf[_n],lu=rs.G,cu=rs.H,Yw=0,Uf=1,Qw=0;for(mi=0;5>mi;++mi){lr=Nw[mi],lu[mi]=Hf,cu[mi]=Tr,!mi&&0<gn&&(lr+=1<<gn);r:{var qf,K1=lr,Wf=Za,yp=_p,PT=Hf,TT=Tr,X1=0,ac=Wf.m,OT=Fe(ac,1);if(r(yp,0,0,K1),OT){var RT=Fe(ac,1)+1,NT=Fe(ac,1),Jw=Fe(ac,NT==0?1:8);yp[Jw]=1,RT==2&&(yp[Jw=Fe(ac,8)]=1);var Gf=1}else{var Kw=a(19),Xw=Fe(ac,4)+4;if(19<Xw){Wf.a=3;var $f=0;break r}for(qf=0;qf<Xw;++qf)Kw[lT[qf]]=Fe(ac,3);var Z1=void 0,xp=void 0,Zw=Wf,FT=Kw,Yf=K1,eS=yp,ey=0,oc=Zw.m,tS=8,iS=o(128,H);n:for(;B(iS,0,7,FT,19);){if(Fe(oc,1)){var LT=2+2*Fe(oc,3);if((Z1=2+Fe(oc,LT))>Yf)break n}else Z1=Yf;for(xp=0;xp<Yf&&Z1--;){ce(oc);var nS=iS[0+(127&$(oc))];ie(oc,oc.u+nS.g);var du=nS.value;if(16>du)eS[xp++]=du,du!=0&&(tS=du);else{var jT=du==16,rS=du-16,BT=oT[rS],aS=Fe(oc,aT[rS])+BT;if(xp+aS>Yf)break n;for(var VT=jT?tS:0;0<aS--;)eS[xp++]=VT}}ey=1;break n}ey||(Zw.a=3),Gf=ey}(Gf=Gf&&!ac.h)&&(X1=B(PT,TT,8,yp,K1)),Gf&&X1!=0?$f=X1:(Wf.a=3,$f=0)}if($f==0)break i;if(Uf&&sT[mi]==1&&(Uf=Hf[Tr].g==0),Yw+=Hf[Tr].g,Tr+=$f,3>=mi){var Cp,ty=_p[0];for(Cp=1;Cp<lr;++Cp)_p[Cp]>ty&&(ty=_p[Cp]);Qw+=ty}}if(rs.nd=Uf,rs.Qb=0,Uf&&(rs.qb=(lu[3][cu[3]+0].value<<24|lu[1][cu[1]+0].value<<16|lu[2][cu[2]+0].value)>>>0,Yw==0&&256>lu[0][cu[0]+0].value&&(rs.Qb=1,rs.qb+=lu[0][cu[0]+0].value<<8)),rs.jc=!rs.Qb&&6>Qw,rs.jc){var Qf,_l=rs;for(Qf=0;Qf<na;++Qf){var sc=Qf,lc=_l.pd[sc],Jf=_l.G[0][_l.H[0]+sc];256<=Jf.value?(lc.g=Jf.g+256,lc.value=Jf.value):(lc.g=0,lc.value=0,sc>>=jr(Jf,8,lc),sc>>=jr(_l.G[1][_l.H[1]+sc],16,lc),sc>>=jr(_l.G[2][_l.H[2]+sc],0,lc),jr(_l.G[3][_l.H[3]+sc],24,lc))}}}Gr.vc=ra,Gr.Wb=Wa,Gr.Ya=zf,Gr.yc=J1,Dn=1;break t}Dn=0}if(!(R=Dn)){M.a=3;break e}if(0<pe){if(U.ua=1<<pe,!Yt(U.Wa,pe)){M.a=1,R=0;break e}}else U.ua=0;var iy=M,oS=N,zT=j,ny=iy.s,ry=ny.xc;if(iy.c=oS,iy.i=zT,ny.md=At(oS,ry),ny.wc=ry==0?-1:(1<<ry)-1,x){M.xb=vT;break e}if((ne=a(N*j))==null){M.a=1,R=0;break e}R=(R=Zo(M,ne,0,N,j,j,null))&&!V.h;break e}return R?(A!=null?A[0]=ne:(t(ne==null),t(x)),M.$=0,x||Ds(U)):Ds(U),R}function Wc(p,f){var x=p.c*p.i,M=x+f+16*f;return t(p.c<=f),p.V=a(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+x+f,1)}function Ld(p,f){var x=p.C,M=f-x,A=p.V,R=p.Ba+p.c*x;for(t(f<=p.l.o);0<M;){var N=16<M?16:M,j=p.l.ma,V=p.l.width,U=V*N,ne=j.ca,pe=j.tb+V*x,he=p.Ta,le=p.Ua;uo(p,N,A,R),xr(he,le,ne,pe,U),Ko(j,x,x+N,ne,pe,V),M-=N,A+=N*p.c,x+=N}t(x==f),p.C=p.Ma=f}function jd(){this.ub=this.yd=this.td=this.Rb=0}function Bd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vd(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function sf(){this.Yb=function(){var p=[];return function f(x,M,A){for(var R=A[M],N=0;N<R&&(x.push(A.length>M+1?[]:0),!(A.length<M+1));N++)f(x[N],M+1,A)}(p,0,[3,11]),p}()}function b1(){this.jb=a(3),this.Wc=s([4,8],sf),this.Xc=s([4,17],sf)}function v1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function zd(){this.ld=this.La=this.dd=this.tc=0}function lf(){this.Na=this.la=0}function _1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $m(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function y1(){this.uc=this.M=this.Nb=0,this.wa=Array(new zd),this.Y=0,this.ya=Array(new $m),this.aa=0,this.l=new Hd}function cf(){this.y=a(16),this.f=a(8),this.ea=a(8)}function x1(){this.cb=this.a=0,this.sc="",this.m=new pt,this.Od=new jd,this.Kc=new Bd,this.ed=new v1,this.Qa=new Vd,this.Ic=this.$c=this.Aa=0,this.D=new y1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,pt),this.ia=0,this.pb=o(4,_1),this.Pa=new b1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cf),this.Hd=0,this.rb=Array(new lf),this.sb=0,this.wa=Array(new zd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $m),this.L=this.aa=0,this.gd=s([4,2],zd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function C1(){var p=new x1;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,bp||(bp=mf)),p}function _r(p,f,x){return p.a==0&&(p.a=f,p.sc=x,p.cb=0),0}function df(p,f,x){return 3<=x&&p[f+0]==157&&p[f+1]==1&&p[f+2]==42}function uf(p,f){if(p==null)return 0;if(p.a=0,p.sc="OK",f==null)return _r(p,2,"null VP8Io passed to VP8GetHeaders()");var x=f.data,M=f.w,A=f.ha;if(4>A)return _r(p,7,"Truncated header.");var R=x[M+0]|x[M+1]<<8|x[M+2]<<16,N=p.Od;if(N.Rb=!(1&R),N.td=R>>1&7,N.yd=R>>4&1,N.ub=R>>5,3<N.td)return _r(p,3,"Incorrect keyframe parameters.");if(!N.yd)return _r(p,4,"Frame not displayable.");M+=3,A-=3;var j=p.Kc;if(N.Rb){if(7>A)return _r(p,7,"cannot parse picture header");if(!df(x,M,A))return _r(p,3,"Bad code word");j.c=16383&(x[M+4]<<8|x[M+3]),j.Td=x[M+4]>>6,j.i=16383&(x[M+6]<<8|x[M+5]),j.Ud=x[M+6]>>6,M+=7,A-=7,p.za=j.c+15>>4,p.Ub=j.i+15>>4,f.width=j.c,f.height=j.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,r((R=p.Pa).jb,0,255,R.jb.length),t((R=p.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,r(R.Zb,0,0,R.Zb.length),r(R.Lb,0,0,R.Lb)}if(N.ub>A)return _r(p,7,"bad partition length");Ie(R=p.m,x,M,N.ub),M+=N.ub,A-=N.ub,N.Rb&&(j.Ld=Se(R),j.Kd=Se(R)),j=p.Qa;var V,U=p.Pa;if(t(R!=null),t(j!=null),j.Cb=Se(R),j.Cb){if(j.Bb=Se(R),Se(R)){for(j.Fb=Se(R),V=0;4>V;++V)j.Zb[V]=Se(R)?Oe(R,7):0;for(V=0;4>V;++V)j.Lb[V]=Se(R)?Oe(R,6):0}if(j.Bb)for(V=0;3>V;++V)U.jb[V]=Se(R)?we(R,8):255}else j.Bb=0;if(R.Ka)return _r(p,3,"cannot parse segment header");if((j=p.ed).zd=Se(R),j.Tb=we(R,6),j.wb=we(R,3),j.Pc=Se(R),j.Pc&&Se(R)){for(U=0;4>U;++U)Se(R)&&(j.vd[U]=Oe(R,6));for(U=0;4>U;++U)Se(R)&&(j.od[U]=Oe(R,6))}if(p.L=j.Tb==0?0:j.zd?1:2,R.Ka)return _r(p,3,"cannot parse filter header");var ne=A;if(A=V=M,M=V+ne,j=ne,p.Xb=(1<<we(p.m,2))-1,ne<3*(U=p.Xb))x=7;else{for(V+=3*U,j-=3*U,ne=0;ne<U;++ne){var pe=x[A+0]|x[A+1]<<8|x[A+2]<<16;pe>j&&(pe=j),Ie(p.Jc[+ne],x,V,pe),V+=pe,j-=pe,A+=3}Ie(p.Jc[+U],x,V,j),x=V<M?0:5}if(x!=0)return _r(p,x,"cannot parse partitions");for(x=we(V=p.m,7),A=Se(V)?Oe(V,4):0,M=Se(V)?Oe(V,4):0,j=Se(V)?Oe(V,4):0,U=Se(V)?Oe(V,4):0,V=Se(V)?Oe(V,4):0,ne=p.Qa,pe=0;4>pe;++pe){if(ne.Cb){var he=ne.Zb[pe];ne.Fb||(he+=x)}else{if(0<pe){p.pb[pe]=p.pb[0];continue}he=x}var le=p.pb[pe];le.Sc[0]=$1[mo(he+A,127)],le.Sc[1]=Y1[mo(he+0,127)],le.Eb[0]=2*$1[mo(he+M,127)],le.Eb[1]=101581*Y1[mo(he+j,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=$1[mo(he+U,117)],le.Qc[1]=Y1[mo(he+V,127)],le.lc=he+V}if(!N.Rb)return _r(p,4,"Not a key frame.");for(Se(R),N=p.Pa,x=0;4>x;++x){for(A=0;8>A;++A)for(M=0;3>M;++M)for(j=0;11>j;++j)U=De(R,gT[x][A][M][j])?we(R,8):hT[x][A][M][j],N.Wc[x][A].Yb[M][j]=U;for(A=0;17>A;++A)N.Xc[x][A]=N.Wc[x][bT[A]]}return p.kc=Se(R),p.kc&&(p.Bd=we(R,8)),p.cb=1}function mf(p,f,x,M,A,R,N){var j=f[A].Yb[x];for(x=0;16>A;++A){if(!De(p,j[x+0]))return A;for(;!De(p,j[x+1]);)if(j=f[++A].Yb[0],x=0,A==16)return 16;var V=f[A+1].Yb;if(De(p,j[x+2])){var U=p,ne=0;if(De(U,(he=j)[(pe=x)+3]))if(De(U,he[pe+6])){for(j=0,pe=2*(ne=De(U,he[pe+8]))+(he=De(U,he[pe+9+ne])),ne=0,he=mT[pe];he[j];++j)ne+=ne+De(U,he[j]);ne+=3+(8<<pe)}else De(U,he[pe+7])?(ne=7+2*De(U,165),ne+=De(U,145)):ne=5+De(U,159);else ne=De(U,he[pe+4])?3+De(U,he[pe+5]):2;j=V[2]}else ne=1,j=V[1];V=N+pT[A],0>(U=p).b&&_e(U);var pe,he=U.b,le=(pe=U.Ca>>1)-(U.I>>he)>>31;--U.b,U.Ca+=le,U.Ca|=1,U.I-=(pe+1&le)<<he,R[V]=((ne^le)-le)*M[(0<A)+0]}return 16}function Ym(p){var f=p.rb[p.sb-1];f.la=0,f.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0}function w1(p,f){if(p==null)return 0;if(f==null)return _r(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!uf(p,f))return 0;if(t(p.cb),f.ac==null||f.ac(f)){f.ob&&(p.L=0);var x=Vf[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=f.v-x>>4,p.zb=f.j-x>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=f.o+15+x>>4,p.Hb=f.va+15+x>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var M=p.ed;for(x=0;4>x;++x){var A;if(p.Qa.Cb){var R=p.Qa.Lb[x];p.Qa.Fb||(R+=M.Tb)}else R=M.Tb;for(A=0;1>=A;++A){var N=p.gd[x][A],j=R;if(M.Pc&&(j+=M.vd[0],A&&(j+=M.od[0])),0<(j=0>j?0:63<j?63:j)){var V=j;0<M.wb&&(V=4<M.wb?V>>2:V>>1)>9-M.wb&&(V=9-M.wb),1>V&&(V=1),N.dd=V,N.tc=2*j+V,N.ld=40<=j?2:15<=j?1:0}else N.tc=0;N.La=A}}}x=0}else _r(p,6,"Frame setup failed"),x=p.a;if(x=x==0){if(x){p.$c=0,0<p.Aa||(p.Ic=IT);e:{x=p.Ic,M=4*(V=p.za);var U=32*V,ne=V+1,pe=0<p.L?V*(0<p.Aa?2:1):0,he=(p.Aa==2?2:1)*V;if((N=M+832+(A=3*(16*x+Vf[p.L])/2*U)+(R=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=N)x=0;else{if(N>p.Vb){if(p.Vb=0,p.Ec=a(N),p.Fc=0,p.Ec==null){x=_r(p,1,"no memory during frame initialization.");break e}p.Vb=N}N=p.Ec,j=p.Fc,p.Ac=N,p.Bc=j,j+=M,p.Gd=o(U,cf),p.Hd=0,p.rb=o(ne+1,lf),p.sb=1,p.wa=pe?o(pe,zd):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=V),t(!0),p.oc=N,p.pc=j,j+=832,p.ya=o(he,$m),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=V),p.R=16*V,p.B=8*V,V=(U=Vf[p.L])*p.R,U=U/2*p.B,p.sa=N,p.ta=j+V,p.qa=p.sa,p.ra=p.ta+16*x*p.R+U,p.Ha=p.qa,p.Ia=p.ra+8*x*p.B+U,p.$c=0,j+=A,p.mb=R?N:null,p.nb=R?j:null,t(j+R<=p.Fc+p.Vb),Ym(p),r(p.Ac,p.Bc,0,M),x=1}}if(x){if(f.ka=0,f.y=p.sa,f.O=p.ta,f.f=p.qa,f.N=p.ra,f.ea=p.Ha,f.Vd=p.Ia,f.fa=p.R,f.Rc=p.B,f.F=null,f.J=0,!Pf){for(x=-255;255>=x;++x)Br[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)gl[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)gp[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)ou[255+x]=0>x?0:255<x?255:x;Pf=1}nu=k1,fl=S1,pp=hf,qa=M1,ko=ff,yr=pf,ru=ep,If=Yc,hp=B1,Kc=tp,Xc=j1,ec=Yd,Zc=ip,au=Sf,ed=wf,tc=Is,fp=ml,Do=L1,ns[0]=As,ns[1]=D1,ns[2]=P1,ns[3]=T1,ns[4]=vf,ns[5]=Gd,ns[6]=_f,ns[7]=Km,ns[8]=R1,ns[9]=O1,ic[0]=gf,ic[1]=A1,ic[2]=ul,ic[3]=qd,ic[4]=fa,ic[5]=I1,ic[6]=bf,bl[0]=Ql,bl[1]=E1,bl[2]=N1,bl[3]=Xm,bl[4]=$c,bl[5]=F1,bl[6]=Zm,x=1}else x=0}x&&(x=function(le,Be){for(le.M=0;le.M<le.Va;++le.M){var Pe,re=le.Jc[le.M&le.Xb],ae=le.m,Le=le;for(Pe=0;Pe<Le.za;++Pe){var Ve=ae,je=Le,gt=je.Ac,it=je.Bc+4*Pe,jt=je.zc,st=je.ya[je.aa+Pe];if(je.Qa.Bb?st.$b=De(Ve,je.Pa.jb[0])?2+De(Ve,je.Pa.jb[2]):De(Ve,je.Pa.jb[1]):st.$b=0,je.kc&&(st.Ad=De(Ve,je.Bd)),st.Za=!De(Ve,145)+0,st.Za){var an=st.Ob,fn=0;for(je=0;4>je;++je){var Wi,Ei=jt[0+je];for(Wi=0;4>Wi;++Wi){Ei=fT[gt[it+Wi]][Ei];for(var Dn=Fw[De(Ve,Ei[0])];0<Dn;)Dn=Fw[2*Dn+De(Ve,Ei[Dn])];Ei=-Dn,gt[it+Wi]=Ei}n(an,fn,gt,it,4),fn+=4,jt[0+je]=Ei}}else Ei=De(Ve,156)?De(Ve,128)?1:3:De(Ve,163)?2:0,st.Ob[0]=Ei,r(gt,it,Ei,4),r(jt,0,Ei,4);st.Dd=De(Ve,142)?De(Ve,114)?De(Ve,183)?1:3:2:0}if(Le.m.Ka)return _r(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(Le=re,Ve=(ae=le).rb[ae.sb-1],gt=ae.rb[ae.sb+ae.ja],Pe=ae.ya[ae.aa+ae.ja],it=ae.kc?Pe.Ad:0)Ve.la=gt.la=0,Pe.Za||(Ve.Na=gt.Na=0),Pe.Hc=0,Pe.Gc=0,Pe.ia=0;else{var _n,mi;if(Ve=gt,gt=Le,it=ae.Pa.Xc,jt=ae.ya[ae.aa+ae.ja],st=ae.pb[jt.$b],je=jt.ad,an=0,fn=ae.rb[ae.sb-1],Ei=Wi=0,r(je,an,0,384),jt.Za)var Tr=0,Za=it[3];else{Dn=a(16);var Or=Ve.Na+fn.Na;if(Or=bp(gt,it[1],Or,st.Eb,0,Dn,0),Ve.Na=fn.Na=(0<Or)+0,1<Or)nu(Dn,0,je,an);else{var eo=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)je[an+Dn]=eo}Tr=1,Za=it[0]}var gn=15&Ve.la,ho=15&fn.la;for(Dn=0;4>Dn;++Dn){var fo=1&ho;for(eo=mi=0;4>eo;++eo)gn=gn>>1|(fo=(Or=bp(gt,Za,Or=fo+(1&gn),st.Sc,Tr,je,an))>Tr)<<7,mi=mi<<2|(3<Or?3:1<Or?2:je[an+0]!=0),an+=16;gn>>=4,ho=ho>>1|fo<<7,Wi=(Wi<<8|mi)>>>0}for(Za=gn,Tr=ho>>4,_n=0;4>_n;_n+=2){for(mi=0,gn=Ve.la>>4+_n,ho=fn.la>>4+_n,Dn=0;2>Dn;++Dn){for(fo=1&ho,eo=0;2>eo;++eo)Or=fo+(1&gn),gn=gn>>1|(fo=0<(Or=bp(gt,it[2],Or,st.Qc,0,je,an)))<<3,mi=mi<<2|(3<Or?3:1<Or?2:je[an+0]!=0),an+=16;gn>>=2,ho=ho>>1|fo<<5}Ei|=mi<<4*_n,Za|=gn<<4<<_n,Tr|=(240&ho)<<_n}Ve.la=Za,fn.la=Tr,jt.Hc=Wi,jt.Gc=Ei,jt.ia=43690&Ei?0:st.ia,it=!(Wi|Ei)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[Pe.$b][Pe.Za],ae.wa[ae.Y+ae.ja].La|=!it),Le.Ka)return _r(le,7,"Premature end-of-file encountered.")}if(Ym(le),ae=Be,Le=1,Pe=(re=le).D,Ve=0<re.L&&re.M>=re.zb&&re.M<=re.Va,re.Aa==0)e:{if(Pe.M=re.M,Pe.uc=Ve,lp(re,Pe),Le=1,Pe=(mi=re.D).Nb,Ve=(Ei=Vf[re.L])*re.R,gt=Ei/2*re.B,Dn=16*Pe*re.R,eo=8*Pe*re.B,it=re.sa,jt=re.ta-Ve+Dn,st=re.qa,je=re.ra-gt+eo,an=re.Ha,fn=re.Ia-gt+eo,ho=(gn=mi.M)==0,Wi=gn>=re.Va-1,re.Aa==2&&lp(re,mi),mi.uc)for(fo=(Or=re).D.M,t(Or.D.uc),mi=Or.yb;mi<Or.Hb;++mi){Tr=mi,Za=fo;var Gr=(ra=(lr=Or).D).Nb;_n=lr.R;var ra=ra.wa[ra.Y+Tr],Wa=lr.sa,Po=lr.ta+16*Gr*_n+16*Tr,Ts=ra.dd,$r=ra.tc;if($r!=0)if(t(3<=$r),lr.L==1)0<Tr&&tc(Wa,Po,_n,$r+4),ra.La&&Do(Wa,Po,_n,$r),0<Za&&ed(Wa,Po,_n,$r+4),ra.La&&fp(Wa,Po,_n,$r);else{var vl=lr.B,td=lr.qa,su=lr.ra+8*Gr*vl+8*Tr,rc=lr.Ha,lr=lr.Ia+8*Gr*vl+8*Tr;Gr=ra.ld,0<Tr&&(If(Wa,Po,_n,$r+4,Ts,Gr),Kc(td,su,rc,lr,vl,$r+4,Ts,Gr)),ra.La&&(ec(Wa,Po,_n,$r,Ts,Gr),au(td,su,rc,lr,vl,$r,Ts,Gr)),0<Za&&(ru(Wa,Po,_n,$r+4,Ts,Gr),hp(td,su,rc,lr,vl,$r+4,Ts,Gr)),ra.La&&(Xc(Wa,Po,_n,$r,Ts,Gr),Zc(td,su,rc,lr,vl,$r,Ts,Gr))}}if(re.ia&&alert("todo:DitherRow"),ae.put!=null){if(mi=16*gn,gn=16*(gn+1),ho?(ae.y=re.sa,ae.O=re.ta+Dn,ae.f=re.qa,ae.N=re.ra+eo,ae.ea=re.Ha,ae.W=re.Ia+eo):(mi-=Ei,ae.y=it,ae.O=jt,ae.f=st,ae.N=je,ae.ea=an,ae.W=fn),Wi||(gn-=Ei),gn>ae.o&&(gn=ae.o),ae.F=null,ae.J=null,re.Fa!=null&&0<re.Fa.length&&mi<gn&&(ae.J=op(re,ae,mi,gn-mi),ae.F=re.mb,ae.F==null&&ae.F.length==0)){Le=_r(re,3,"Could not decode alpha data.");break e}mi<ae.j&&(Ei=ae.j-mi,mi=ae.j,t(!(1&Ei)),ae.O+=re.R*Ei,ae.N+=re.B*(Ei>>1),ae.W+=re.B*(Ei>>1),ae.F!=null&&(ae.J+=ae.width*Ei)),mi<gn&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=mi-ae.j,ae.U=ae.va-ae.v,ae.T=gn-mi,Le=ae.put(ae))}Pe+1!=re.Ic||Wi||(n(re.sa,re.ta-Ve,it,jt+16*re.R,Ve),n(re.qa,re.ra-gt,st,je+8*re.B,gt),n(re.Ha,re.Ia-gt,an,fn+8*re.B,gt))}if(!Le)return _r(le,6,"Output aborted.")}return 1}(p,f)),f.bc!=null&&f.bc(f),x&=1}return x?(p.cb=0,x):0}function es(p,f,x,M,A){A=p[f+x+32*M]+(A>>3),p[f+x+32*M]=-256&A?0>A?0:255:A}function Ud(p,f,x,M,A,R){es(p,f,0,x,M+A),es(p,f,1,x,M+R),es(p,f,2,x,M-R),es(p,f,3,x,M-A)}function Ja(p){return(20091*p>>16)+p}function Qm(p,f,x,M){var A,R=0,N=a(16);for(A=0;4>A;++A){var j=p[f+0]+p[f+8],V=p[f+0]-p[f+8],U=(35468*p[f+4]>>16)-Ja(p[f+12]),ne=Ja(p[f+4])+(35468*p[f+12]>>16);N[R+0]=j+ne,N[R+1]=V+U,N[R+2]=V-U,N[R+3]=j-ne,R+=4,f++}for(A=R=0;4>A;++A)j=(p=N[R+0]+4)+N[R+8],V=p-N[R+8],U=(35468*N[R+4]>>16)-Ja(N[R+12]),es(x,M,0,0,j+(ne=Ja(N[R+4])+(35468*N[R+12]>>16))),es(x,M,1,0,V+U),es(x,M,2,0,V-U),es(x,M,3,0,j-ne),R++,M+=32}function pf(p,f,x,M){var A=p[f+0]+4,R=35468*p[f+4]>>16,N=Ja(p[f+4]),j=35468*p[f+1]>>16;Ud(x,M,0,A+N,p=Ja(p[f+1]),j),Ud(x,M,1,A+R,p,j),Ud(x,M,2,A-R,p,j),Ud(x,M,3,A-N,p,j)}function S1(p,f,x,M,A){Qm(p,f,x,M),A&&Qm(p,f+16,x,M+4)}function hf(p,f,x,M){fl(p,f+0,x,M,1),fl(p,f+32,x,M+128,1)}function M1(p,f,x,M){var A;for(p=p[f+0]+4,A=0;4>A;++A)for(f=0;4>f;++f)es(x,M,f,A,p)}function ff(p,f,x,M){p[f+0]&&qa(p,f+0,x,M),p[f+16]&&qa(p,f+16,x,M+4),p[f+32]&&qa(p,f+32,x,M+128),p[f+48]&&qa(p,f+48,x,M+128+4)}function k1(p,f,x,M){var A,R=a(16);for(A=0;4>A;++A){var N=p[f+0+A]+p[f+12+A],j=p[f+4+A]+p[f+8+A],V=p[f+4+A]-p[f+8+A],U=p[f+0+A]-p[f+12+A];R[0+A]=N+j,R[8+A]=N-j,R[4+A]=U+V,R[12+A]=U-V}for(A=0;4>A;++A)N=(p=R[0+4*A]+3)+R[3+4*A],j=R[1+4*A]+R[2+4*A],V=R[1+4*A]-R[2+4*A],U=p-R[3+4*A],x[M+0]=N+j>>3,x[M+16]=U+V>>3,x[M+32]=N-j>>3,x[M+48]=U-V>>3,M+=64}function Jm(p,f,x){var M,A=f-32,R=po,N=255-p[A-1];for(M=0;M<x;++M){var j,V=R,U=N+p[f-1];for(j=0;j<x;++j)p[f+j]=V[U+p[A+j]];f+=32}}function D1(p,f){Jm(p,f,4)}function E1(p,f){Jm(p,f,8)}function A1(p,f){Jm(p,f,16)}function ul(p,f){var x;for(x=0;16>x;++x)n(p,f+32*x,p,f-32,16)}function qd(p,f){var x;for(x=16;0<x;--x)r(p,f,p[f-1],16),f+=32}function Wd(p,f,x){var M;for(M=0;16>M;++M)r(f,x+32*M,p,16)}function gf(p,f){var x,M=16;for(x=0;16>x;++x)M+=p[f-1+32*x]+p[f+x-32];Wd(M>>5,p,f)}function fa(p,f){var x,M=8;for(x=0;16>x;++x)M+=p[f-1+32*x];Wd(M>>4,p,f)}function I1(p,f){var x,M=8;for(x=0;16>x;++x)M+=p[f+x-32];Wd(M>>4,p,f)}function bf(p,f){Wd(128,p,f)}function ti(p,f,x){return p+2*f+x+2>>2}function P1(p,f){var x,M=f-32;for(M=new Uint8Array([ti(p[M-1],p[M+0],p[M+1]),ti(p[M+0],p[M+1],p[M+2]),ti(p[M+1],p[M+2],p[M+3]),ti(p[M+2],p[M+3],p[M+4])]),x=0;4>x;++x)n(p,f+32*x,M,0,M.length)}function T1(p,f){var x=p[f-1],M=p[f-1+32],A=p[f-1+64],R=p[f-1+96];$e(p,f+0,16843009*ti(p[f-1-32],x,M)),$e(p,f+32,16843009*ti(x,M,A)),$e(p,f+64,16843009*ti(M,A,R)),$e(p,f+96,16843009*ti(A,R,R))}function As(p,f){var x,M=4;for(x=0;4>x;++x)M+=p[f+x-32]+p[f-1+32*x];for(M>>=3,x=0;4>x;++x)r(p,f+32*x,M,4)}function vf(p,f){var x=p[f-1+0],M=p[f-1+32],A=p[f-1+64],R=p[f-1-32],N=p[f+0-32],j=p[f+1-32],V=p[f+2-32],U=p[f+3-32];p[f+0+96]=ti(M,A,p[f-1+96]),p[f+1+96]=p[f+0+64]=ti(x,M,A),p[f+2+96]=p[f+1+64]=p[f+0+32]=ti(R,x,M),p[f+3+96]=p[f+2+64]=p[f+1+32]=p[f+0+0]=ti(N,R,x),p[f+3+64]=p[f+2+32]=p[f+1+0]=ti(j,N,R),p[f+3+32]=p[f+2+0]=ti(V,j,N),p[f+3+0]=ti(U,V,j)}function _f(p,f){var x=p[f+1-32],M=p[f+2-32],A=p[f+3-32],R=p[f+4-32],N=p[f+5-32],j=p[f+6-32],V=p[f+7-32];p[f+0+0]=ti(p[f+0-32],x,M),p[f+1+0]=p[f+0+32]=ti(x,M,A),p[f+2+0]=p[f+1+32]=p[f+0+64]=ti(M,A,R),p[f+3+0]=p[f+2+32]=p[f+1+64]=p[f+0+96]=ti(A,R,N),p[f+3+32]=p[f+2+64]=p[f+1+96]=ti(R,N,j),p[f+3+64]=p[f+2+96]=ti(N,j,V),p[f+3+96]=ti(j,V,V)}function Gd(p,f){var x=p[f-1+0],M=p[f-1+32],A=p[f-1+64],R=p[f-1-32],N=p[f+0-32],j=p[f+1-32],V=p[f+2-32],U=p[f+3-32];p[f+0+0]=p[f+1+64]=R+N+1>>1,p[f+1+0]=p[f+2+64]=N+j+1>>1,p[f+2+0]=p[f+3+64]=j+V+1>>1,p[f+3+0]=V+U+1>>1,p[f+0+96]=ti(A,M,x),p[f+0+64]=ti(M,x,R),p[f+0+32]=p[f+1+96]=ti(x,R,N),p[f+1+32]=p[f+2+96]=ti(R,N,j),p[f+2+32]=p[f+3+96]=ti(N,j,V),p[f+3+32]=ti(j,V,U)}function Km(p,f){var x=p[f+0-32],M=p[f+1-32],A=p[f+2-32],R=p[f+3-32],N=p[f+4-32],j=p[f+5-32],V=p[f+6-32],U=p[f+7-32];p[f+0+0]=x+M+1>>1,p[f+1+0]=p[f+0+64]=M+A+1>>1,p[f+2+0]=p[f+1+64]=A+R+1>>1,p[f+3+0]=p[f+2+64]=R+N+1>>1,p[f+0+32]=ti(x,M,A),p[f+1+32]=p[f+0+96]=ti(M,A,R),p[f+2+32]=p[f+1+96]=ti(A,R,N),p[f+3+32]=p[f+2+96]=ti(R,N,j),p[f+3+64]=ti(N,j,V),p[f+3+96]=ti(j,V,U)}function O1(p,f){var x=p[f-1+0],M=p[f-1+32],A=p[f-1+64],R=p[f-1+96];p[f+0+0]=x+M+1>>1,p[f+2+0]=p[f+0+32]=M+A+1>>1,p[f+2+32]=p[f+0+64]=A+R+1>>1,p[f+1+0]=ti(x,M,A),p[f+3+0]=p[f+1+32]=ti(M,A,R),p[f+3+32]=p[f+1+64]=ti(A,R,R),p[f+3+64]=p[f+2+64]=p[f+0+96]=p[f+1+96]=p[f+2+96]=p[f+3+96]=R}function R1(p,f){var x=p[f-1+0],M=p[f-1+32],A=p[f-1+64],R=p[f-1+96],N=p[f-1-32],j=p[f+0-32],V=p[f+1-32],U=p[f+2-32];p[f+0+0]=p[f+2+32]=x+N+1>>1,p[f+0+32]=p[f+2+64]=M+x+1>>1,p[f+0+64]=p[f+2+96]=A+M+1>>1,p[f+0+96]=R+A+1>>1,p[f+3+0]=ti(j,V,U),p[f+2+0]=ti(N,j,V),p[f+1+0]=p[f+3+32]=ti(x,N,j),p[f+1+32]=p[f+3+64]=ti(M,x,N),p[f+1+64]=p[f+3+96]=ti(A,M,x),p[f+1+96]=ti(R,A,M)}function N1(p,f){var x;for(x=0;8>x;++x)n(p,f+32*x,p,f-32,8)}function Xm(p,f){var x;for(x=0;8>x;++x)r(p,f,p[f-1],8),f+=32}function Gc(p,f,x){var M;for(M=0;8>M;++M)r(f,x+32*M,p,8)}function Ql(p,f){var x,M=8;for(x=0;8>x;++x)M+=p[f+x-32]+p[f-1+32*x];Gc(M>>4,p,f)}function F1(p,f){var x,M=4;for(x=0;8>x;++x)M+=p[f+x-32];Gc(M>>3,p,f)}function $c(p,f){var x,M=4;for(x=0;8>x;++x)M+=p[f-1+32*x];Gc(M>>3,p,f)}function Zm(p,f){Gc(128,p,f)}function $d(p,f,x){var M=p[f-x],A=p[f+0],R=3*(A-M)+H1[1020+p[f-2*x]-p[f+x]],N=Tf[112+(R+4>>3)];p[f-x]=po[255+M+Tf[112+(R+3>>3)]],p[f+0]=po[255+A-N]}function yf(p,f,x,M){var A=p[f+0],R=p[f+x];return Ao[255+p[f-2*x]-p[f-x]]>M||Ao[255+R-A]>M}function xf(p,f,x,M){return 4*Ao[255+p[f-x]-p[f+0]]+Ao[255+p[f-2*x]-p[f+x]]<=M}function Cf(p,f,x,M,A){var R=p[f-3*x],N=p[f-2*x],j=p[f-x],V=p[f+0],U=p[f+x],ne=p[f+2*x],pe=p[f+3*x];return 4*Ao[255+j-V]+Ao[255+N-U]>M?0:Ao[255+p[f-4*x]-R]<=A&&Ao[255+R-N]<=A&&Ao[255+N-j]<=A&&Ao[255+pe-ne]<=A&&Ao[255+ne-U]<=A&&Ao[255+U-V]<=A}function wf(p,f,x,M){var A=2*M+1;for(M=0;16>M;++M)xf(p,f+M,x,A)&&$d(p,f+M,x)}function Is(p,f,x,M){var A=2*M+1;for(M=0;16>M;++M)xf(p,f+M*x,1,A)&&$d(p,f+M*x,1)}function ml(p,f,x,M){var A;for(A=3;0<A;--A)wf(p,f+=4*x,x,M)}function L1(p,f,x,M){var A;for(A=3;0<A;--A)Is(p,f+=4,x,M)}function Jl(p,f,x,M,A,R,N,j){for(R=2*R+1;0<A--;){if(Cf(p,f,x,R,N))if(yf(p,f,x,j))$d(p,f,x);else{var V=p,U=f,ne=x,pe=V[U-2*ne],he=V[U-ne],le=V[U+0],Be=V[U+ne],Pe=V[U+2*ne],re=27*(Le=H1[1020+3*(le-he)+H1[1020+pe-Be]])+63>>7,ae=18*Le+63>>7,Le=9*Le+63>>7;V[U-3*ne]=po[255+V[U-3*ne]+Le],V[U-2*ne]=po[255+pe+ae],V[U-ne]=po[255+he+re],V[U+0]=po[255+le-re],V[U+ne]=po[255+Be-ae],V[U+2*ne]=po[255+Pe-Le]}f+=M}}function ts(p,f,x,M,A,R,N,j){for(R=2*R+1;0<A--;){if(Cf(p,f,x,R,N))if(yf(p,f,x,j))$d(p,f,x);else{var V=p,U=f,ne=x,pe=V[U-ne],he=V[U+0],le=V[U+ne],Be=Tf[112+((Pe=3*(he-pe))+4>>3)],Pe=Tf[112+(Pe+3>>3)],re=Be+1>>1;V[U-2*ne]=po[255+V[U-2*ne]+re],V[U-ne]=po[255+pe+Pe],V[U+0]=po[255+he-Be],V[U+ne]=po[255+le-re]}f+=M}}function ep(p,f,x,M,A,R){Jl(p,f,x,1,16,M,A,R)}function Yc(p,f,x,M,A,R){Jl(p,f,1,x,16,M,A,R)}function j1(p,f,x,M,A,R){var N;for(N=3;0<N;--N)ts(p,f+=4*x,x,1,16,M,A,R)}function Yd(p,f,x,M,A,R){var N;for(N=3;0<N;--N)ts(p,f+=4,1,x,16,M,A,R)}function B1(p,f,x,M,A,R,N,j){Jl(p,f,A,1,8,R,N,j),Jl(x,M,A,1,8,R,N,j)}function tp(p,f,x,M,A,R,N,j){Jl(p,f,1,A,8,R,N,j),Jl(x,M,1,A,8,R,N,j)}function ip(p,f,x,M,A,R,N,j){ts(p,f+4*A,A,1,8,R,N,j),ts(x,M+4*A,A,1,8,R,N,j)}function Sf(p,f,x,M,A,R,N,j){ts(p,f+4,1,A,8,R,N,j),ts(x,M+4,1,A,8,R,N,j)}function Qd(){this.ba=new Qo,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function np(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rp(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mf(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new H}function V1(){this.xb=this.a=0,this.l=new Hd,this.ca=new Qo,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mf,this.ab=0,this.gc=o(4,rp),this.Oc=0}function Jd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qc(p,f,x,M,A,R,N){for(p=p==null?0:p[f+0],f=0;f<N;++f)A[R+f]=p+x[M+f]&255,p=A[R+f]}function ap(p,f,x,M,A,R,N){var j;if(p==null)Qc(null,null,x,M,A,R,N);else for(j=0;j<N;++j)A[R+j]=p[f+j]+x[M+j]&255}function Kl(p,f,x,M,A,R,N){if(p==null)Qc(null,null,x,M,A,R,N);else{var j,V=p[f+0],U=V,ne=V;for(j=0;j<N;++j)U=ne+(V=p[f+j])-U,ne=x[M+j]+(-256&U?0>U?0:255:U)&255,U=V,A[R+j]=ne}}function op(p,f,x,M){var A=f.width,R=f.o;if(t(p!=null&&f!=null),0>x||0>=M||x+M>R)return null;if(!p.Cc){if(p.ga==null){var N;if(p.ga=new Jd,(N=p.ga==null)||(N=f.width*f.o,t(p.Gb.length==0),p.Gb=a(N),p.Uc=0,p.Gb==null?N=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,N=1),N=!N),!N){N=p.ga;var j=p.Fa,V=p.P,U=p.qc,ne=p.mb,pe=p.nb,he=V+1,le=U-1,Be=N.l;if(t(j!=null&&ne!=null&&f!=null),nc[0]=null,nc[1]=Qc,nc[2]=ap,nc[3]=Kl,N.ca=ne,N.tb=pe,N.c=f.width,N.i=f.height,t(0<N.c&&0<N.i),1>=U)f=0;else if(N.$a=j[V+0]>>0&3,N.Z=j[V+0]>>2&3,N.Lc=j[V+0]>>4&3,V=j[V+0]>>6&3,0>N.$a||1<N.$a||4<=N.Z||1<N.Lc||V)f=0;else if(Be.put=Ss,Be.ac=ia,Be.bc=Ms,Be.ma=N,Be.width=f.width,Be.height=f.height,Be.Da=f.Da,Be.v=f.v,Be.va=f.va,Be.j=f.j,Be.o=f.o,N.$a)e:{t(N.$a==1),f=So();t:for(;;){if(f==null){f=0;break e}if(t(N!=null),N.mc=f,f.c=N.c,f.i=N.i,f.l=N.l,f.l.ma=N,f.l.width=N.c,f.l.height=N.i,f.a=0,ue(f.m,j,he,le),!Es(N.c,N.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&dl(f.s)?(N.ic=1,j=f.c*f.i,f.Ta=null,f.Ua=0,f.V=a(j),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(N.ic=0,f=Wc(f,N.c)),!f))break t;f=1;break e}N.mc=null,f=0}else f=le>=N.c*N.i;N=!f}if(N)return null;p.ga.Lc!=1?p.Ga=0:M=R-x}t(p.ga!=null),t(x+M<=R);e:{if(f=(j=p.ga).c,R=j.l.o,j.$a==0){if(he=p.rc,le=p.Vc,Be=p.Fa,V=p.P+1+x*f,U=p.mb,ne=p.nb+x*f,t(V<=p.P+p.qc),j.Z!=0)for(t(nc[j.Z]!=null),N=0;N<M;++N)nc[j.Z](he,le,Be,V,U,ne,f),he=U,le=ne,ne+=f,V+=f;else for(N=0;N<M;++N)n(U,ne,Be,V,f),he=U,le=ne,ne+=f,V+=f;p.rc=he,p.Vc=le}else{if(t(j.mc!=null),f=x+M,t((N=j.mc)!=null),t(f<=N.i),N.C>=f)f=1;else if(j.ic||de(),j.ic){j=N.V,he=N.Ba,le=N.c;var Pe=N.i,re=(Be=1,V=N.$/le,U=N.$%le,ne=N.m,pe=N.s,N.$),ae=le*Pe,Le=le*f,Ve=pe.wc,je=re<Le?Ir(pe,U,V):null;t(re<=ae),t(f<=Pe),t(dl(pe));t:for(;;){for(;!ne.h&&re<Le;){if(U&Ve||(je=Ir(pe,U,V)),t(je!=null),ce(ne),256>(Pe=Qa(je.G[0],je.H[0],ne)))j[he+re]=Pe,++re,++U>=le&&(U=0,++V<=f&&!(V%16)&&Xo(N,V));else{if(!(280>Pe)){Be=0;break t}Pe=Jo(Pe-256,ne);var gt,it=Qa(je.G[4],je.H[4],ne);if(ce(ne),!(re>=(it=ks(le,it=Jo(it,ne)))&&ae-re>=Pe)){Be=0;break t}for(gt=0;gt<Pe;++gt)j[he+re+gt]=j[he+re+gt-it];for(re+=Pe,U+=Pe;U>=le;)U-=le,++V<=f&&!(V%16)&&Xo(N,V);re<Le&&U&Ve&&(je=Ir(pe,U,V))}t(ne.h==J(ne))}Xo(N,V>f?f:V);break t}!Be||ne.h&&re<ae?(Be=0,N.a=ne.h?5:3):N.$=re,f=Be}else f=Zo(N,N.V,N.Ba,N.c,N.i,f,Ld);if(!f){M=0;break e}}x+M>=R&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+x*A}function y(p,f,x,M,A,R){for(;0<A--;){var N,j=p,V=f+(x?1:0),U=p,ne=f+(x?0:3);for(N=0;N<M;++N){var pe=U[ne+4*N];pe!=255&&(pe*=32897,j[V+4*N+0]=j[V+4*N+0]*pe>>23,j[V+4*N+1]=j[V+4*N+1]*pe>>23,j[V+4*N+2]=j[V+4*N+2]*pe>>23)}f+=R}}function T(p,f,x,M,A){for(;0<M--;){var R;for(R=0;R<x;++R){var N=p[f+2*R+0],j=15&(U=p[f+2*R+1]),V=4369*j,U=(240&U|U>>4)*V>>16;p[f+2*R+0]=(240&N|N>>4)*V>>16&240|(15&N|N<<4)*V>>16>>4&15,p[f+2*R+1]=240&U|j}f+=A}}function Y(p,f,x,M,A,R,N,j){var V,U,ne=255;for(U=0;U<A;++U){for(V=0;V<M;++V){var pe=p[f+V];R[N+4*V]=pe,ne&=pe}f+=x,N+=j}return ne!=255}function te(p,f,x,M,A){var R;for(R=0;R<A;++R)x[M+R]=p[f+R]>>8}function de(){Eo=y,Rn=T,Nn=Y,xr=te}function Re(p,f,x){Q[p]=function(M,A,R,N,j,V,U,ne,pe,he,le,Be,Pe,re,ae,Le,Ve){var je,gt=Ve-1>>1,it=j[V+0]|U[ne+0]<<16,jt=pe[he+0]|le[Be+0]<<16;t(M!=null);var st=3*it+jt+131074>>2;for(f(M[A+0],255&st,st>>16,Pe,re),R!=null&&(st=3*jt+it+131074>>2,f(R[N+0],255&st,st>>16,ae,Le)),je=1;je<=gt;++je){var an=j[V+je]|U[ne+je]<<16,fn=pe[he+je]|le[Be+je]<<16,Wi=it+an+jt+fn+524296,Ei=Wi+2*(an+jt)>>3;st=Ei+it>>1,it=(Wi=Wi+2*(it+fn)>>3)+an>>1,f(M[A+2*je-1],255&st,st>>16,Pe,re+(2*je-1)*x),f(M[A+2*je-0],255&it,it>>16,Pe,re+(2*je-0)*x),R!=null&&(st=Wi+jt>>1,it=Ei+fn>>1,f(R[N+2*je-1],255&st,st>>16,ae,Le+(2*je-1)*x),f(R[N+2*je+0],255&it,it>>16,ae,Le+(2*je+0)*x)),it=an,jt=fn}1&Ve||(st=3*it+jt+131074>>2,f(M[A+Ve-1],255&st,st>>16,Pe,re+(Ve-1)*x),R!=null&&(st=3*jt+it+131074>>2,f(R[N+Ve-1],255&st,st>>16,ae,Le+(Ve-1)*x)))}}function He(){Io[Of]=_T,Io[Rf]=jw,Io[Ow]=yT,Io[Nf]=Bw,Io[Ff]=Vw,Io[U1]=zw,Io[Rw]=xT,Io[q1]=jw,Io[W1]=Bw,Io[Lf]=Vw,Io[G1]=zw}function ht(p){return p&~CT?0>p?0:255:p>>Hw}function Rt(p,f){return ht((19077*p>>8)+(26149*f>>8)-14234)}function ui(p,f,x){return ht((19077*p>>8)-(6419*f>>8)-(13320*x>>8)+8708)}function oi(p,f){return ht((19077*p>>8)+(33050*f>>8)-17685)}function Ri(p,f,x,M,A){M[A+0]=Rt(p,x),M[A+1]=ui(p,f,x),M[A+2]=oi(p,f)}function er(p,f,x,M,A){M[A+0]=oi(p,f),M[A+1]=ui(p,f,x),M[A+2]=Rt(p,x)}function sr(p,f,x,M,A){var R=ui(p,f,x);f=R<<3&224|oi(p,f)>>3,M[A+0]=248&Rt(p,x)|R>>5,M[A+1]=f}function Pr(p,f,x,M,A){var R=240&oi(p,f)|15;M[A+0]=240&Rt(p,x)|ui(p,f,x)>>4,M[A+1]=R}function ga(p,f,x,M,A){M[A+0]=255,Ri(p,f,x,M,A+1)}function Wr(p,f,x,M,A){er(p,f,x,M,A),M[A+3]=255}function is(p,f,x,M,A){Ri(p,f,x,M,A),M[A+3]=255}function mo(p,f){return 0>p?0:p>f?f:p}function Ps(p,f,x){Q[p]=function(M,A,R,N,j,V,U,ne,pe){for(var he=ne+(-2&pe)*x;ne!=he;)f(M[A+0],R[N+0],j[V+0],U,ne),f(M[A+1],R[N+0],j[V+0],U,ne+x),A+=2,++N,++V,ne+=2*x;1&pe&&f(M[A+0],R[N+0],j[V+0],U,ne)}}function kf(p,f,x){return x==0?p==0?f==0?6:5:f==0?4:0:x}function sp(p,f,x,M,A){switch(p>>>30){case 3:fl(f,x,M,A,0);break;case 2:yr(f,x,M,A);break;case 1:qa(f,x,M,A)}}function lp(p,f){var x,M,A=f.M,R=f.Nb,N=p.oc,j=p.pc+40,V=p.oc,U=p.pc+584,ne=p.oc,pe=p.pc+600;for(x=0;16>x;++x)N[j+32*x-1]=129;for(x=0;8>x;++x)V[U+32*x-1]=129,ne[pe+32*x-1]=129;for(0<A?N[j-1-32]=V[U-1-32]=ne[pe-1-32]=129:(r(N,j-32-1,127,21),r(V,U-32-1,127,9),r(ne,pe-32-1,127,9)),M=0;M<p.za;++M){var he=f.ya[f.aa+M];if(0<M){for(x=-1;16>x;++x)n(N,j+32*x-4,N,j+32*x+12,4);for(x=-1;8>x;++x)n(V,U+32*x-4,V,U+32*x+4,4),n(ne,pe+32*x-4,ne,pe+32*x+4,4)}var le=p.Gd,Be=p.Hd+M,Pe=he.ad,re=he.Hc;if(0<A&&(n(N,j-32,le[Be].y,0,16),n(V,U-32,le[Be].f,0,8),n(ne,pe-32,le[Be].ea,0,8)),he.Za){var ae=N,Le=j-32+16;for(0<A&&(M>=p.za-1?r(ae,Le,le[Be].y[15],4):n(ae,Le,le[Be+1].y,0,4)),x=0;4>x;x++)ae[Le+128+x]=ae[Le+256+x]=ae[Le+384+x]=ae[Le+0+x];for(x=0;16>x;++x,re<<=2)ae=N,Le=j+qw[x],ns[he.Ob[x]](ae,Le),sp(re,Pe,16*+x,ae,Le)}else if(ae=kf(M,A,he.Ob[0]),ic[ae](N,j),re!=0)for(x=0;16>x;++x,re<<=2)sp(re,Pe,16*+x,N,j+qw[x]);for(x=he.Gc,ae=kf(M,A,he.Dd),bl[ae](V,U),bl[ae](ne,pe),re=Pe,ae=V,Le=U,255&(he=x>>0)&&(170&he?pp(re,256,ae,Le):ko(re,256,ae,Le)),he=ne,re=pe,255&(x>>=8)&&(170&x?pp(Pe,320,he,re):ko(Pe,320,he,re)),A<p.Ub-1&&(n(le[Be].y,0,N,j+480,16),n(le[Be].f,0,V,U+224,8),n(le[Be].ea,0,ne,pe+224,8)),x=8*R*p.B,le=p.sa,Be=p.ta+16*M+16*R*p.R,Pe=p.qa,he=p.ra+8*M+x,re=p.Ha,ae=p.Ia+8*M+x,x=0;16>x;++x)n(le,Be+x*p.R,N,j+32*x,16);for(x=0;8>x;++x)n(Pe,he+x*p.B,V,U+32*x,8),n(re,ae+x*p.B,ne,pe+32*x,8)}}function Kd(p,f,x,M,A,R,N,j,V){var U=[0],ne=[0],pe=0,he=V!=null?V.kd:0,le=V??new np;if(p==null||12>x)return 7;le.data=p,le.w=f,le.ha=x,f=[f],x=[x],le.gb=[le.gb];e:{var Be=f,Pe=x,re=le.gb;if(t(p!=null),t(Pe!=null),t(re!=null),re[0]=0,12<=Pe[0]&&!e(p,Be[0],"RIFF")){if(e(p,Be[0]+8,"WEBP")){re=3;break e}var ae=ot(p,Be[0]+4);if(12>ae||4294967286<ae){re=3;break e}if(he&&ae>Pe[0]-8){re=7;break e}re[0]=ae,Be[0]+=12,Pe[0]-=12}re=0}if(re!=0)return re;for(ae=0<le.gb[0],x=x[0];;){e:{var Le=p;Pe=f,re=x;var Ve=U,je=ne,gt=Be=[0];if((st=pe=[pe])[0]=0,8>re[0])re=7;else{if(!e(Le,Pe[0],"VP8X")){if(ot(Le,Pe[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var it=ot(Le,Pe[0]+8),jt=1+ct(Le,Pe[0]+12);if(2147483648<=jt*(Le=1+ct(Le,Pe[0]+15))){re=3;break e}gt!=null&&(gt[0]=it),Ve!=null&&(Ve[0]=jt),je!=null&&(je[0]=Le),Pe[0]+=18,re[0]-=18,st[0]=1}re=0}}if(pe=pe[0],Be=Be[0],re!=0)return re;if(Pe=!!(2&Be),!ae&&pe)return 3;if(R!=null&&(R[0]=!!(16&Be)),N!=null&&(N[0]=Pe),j!=null&&(j[0]=0),N=U[0],Be=ne[0],pe&&Pe&&V==null){re=0;break}if(4>x){re=7;break}if(ae&&pe||!ae&&!pe&&!e(p,f[0],"ALPH")){x=[x],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{it=p,re=f,ae=x;var st=le.gb;Ve=le.na,je=le.P,gt=le.Sa,jt=22,t(it!=null),t(ae!=null),Le=re[0];var an=ae[0];for(t(Ve!=null),t(gt!=null),Ve[0]=null,je[0]=null,gt[0]=0;;){if(re[0]=Le,ae[0]=an,8>an){re=7;break e}var fn=ot(it,Le+4);if(4294967286<fn){re=3;break e}var Wi=8+fn+1&-2;if(jt+=Wi,0<st&&jt>st){re=3;break e}if(!e(it,Le,"VP8 ")||!e(it,Le,"VP8L")){re=0;break e}if(an[0]<Wi){re=7;break e}e(it,Le,"ALPH")||(Ve[0]=it,je[0]=Le+8,gt[0]=fn),Le+=Wi,an-=Wi}}if(x=x[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],re!=0)break}x=[x],le.Ja=[le.Ja],le.xa=[le.xa];e:if(st=p,re=f,ae=x,Ve=le.gb[0],je=le.Ja,gt=le.xa,it=re[0],Le=!e(st,it,"VP8 "),jt=!e(st,it,"VP8L"),t(st!=null),t(ae!=null),t(je!=null),t(gt!=null),8>ae[0])re=7;else{if(Le||jt){if(st=ot(st,it+4),12<=Ve&&st>Ve-12){re=3;break e}if(he&&st>ae[0]-8){re=7;break e}je[0]=st,re[0]+=8,ae[0]-=8,gt[0]=jt}else gt[0]=5<=ae[0]&&st[it+0]==47&&!(st[it+4]>>5),je[0]=ae[0];re=0}if(x=x[0],le.Ja=le.Ja[0],le.xa=le.xa[0],f=f[0],re!=0)break;if(4294967286<le.Ja)return 3;if(j==null||Pe||(j[0]=le.xa?2:1),N=[N],Be=[Be],le.xa){if(5>x){re=7;break}j=N,he=Be,Pe=R,p==null||5>x?p=0:5<=x&&p[f+0]==47&&!(p[f+4]>>5)?(ae=[0],st=[0],Ve=[0],ue(je=new L,p,f,x),Ht(je,ae,st,Ve)?(j!=null&&(j[0]=ae[0]),he!=null&&(he[0]=st[0]),Pe!=null&&(Pe[0]=Ve[0]),p=1):p=0):p=0}else{if(10>x){re=7;break}j=Be,p==null||10>x||!df(p,f+3,x-3)?p=0:(he=p[f+0]|p[f+1]<<8|p[f+2]<<16,Pe=16383&(p[f+7]<<8|p[f+6]),p=16383&(p[f+9]<<8|p[f+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=le.Ja||!Pe||!p?p=0:(N&&(N[0]=Pe),j&&(j[0]=p),p=1))}if(!p||(N=N[0],Be=Be[0],pe&&(U[0]!=N||ne[0]!=Be)))return 3;V!=null&&(V[0]=le,V.offset=f-V.w,t(4294967286>f-V.w),t(V.offset==V.ha-x));break}return re==0||re==7&&pe&&V==null?(R!=null&&(R[0]|=le.na!=null&&0<le.na.length),M!=null&&(M[0]=N),A!=null&&(A[0]=Be),0):re}function cp(p,f,x){var M=f.width,A=f.height,R=0,N=0,j=M,V=A;if(f.Da=p!=null&&0<p.Da,f.Da&&(j=p.cd,V=p.bd,R=p.v,N=p.j,11>x||(R&=-2,N&=-2),0>R||0>N||0>=j||0>=V||R+j>M||N+V>A))return 0;if(f.v=R,f.j=N,f.va=R+j,f.o=N+V,f.U=j,f.T=V,f.da=p!=null&&0<p.da,f.da){if(!di(j,V,x=[p.ib],R=[p.hb]))return 0;f.ib=x[0],f.hb=R[0]}return f.ob=p!=null&&p.ob,f.Kb=p==null||!p.Sd,f.da&&(f.ob=f.ib<3*M/4&&f.hb<3*A/4,f.Kb=0),1}function dp(p){if(p==null)return 2;if(11>p.S){var f=p.f.RGBA;f.fb+=(p.height-1)*f.A,f.A=-f.A}else f=p.f.kb,p=p.height,f.O+=(p-1)*f.fa,f.fa=-f.fa,f.N+=(p-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(p-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(p-1)*f.lb,f.lb=-f.lb);return 0}function Xd(p,f,x,M){if(M==null||0>=p||0>=f)return 2;if(x!=null){if(x.Da){var A=x.cd,R=x.bd,N=-2&x.v,j=-2&x.j;if(0>N||0>j||0>=A||0>=R||N+A>p||j+R>f)return 2;p=A,f=R}if(x.da){if(!di(p,f,A=[x.ib],R=[x.hb]))return 2;p=A[0],f=R[0]}}M.width=p,M.height=f;e:{var V=M.width,U=M.height;if(p=M.S,0>=V||0>=U||!(p>=Of&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){N=R=A=f=0;var ne=(j=V*Ww[p])*U;if(11>p||(R=(U+1)/2*(f=(V+1)/2),p==12&&(N=(A=V)*U)),(U=a(ne+2*R+N))==null){p=1;break e}M.sd=U,11>p?((V=M.f.RGBA).eb=U,V.fb=0,V.A=j,V.size=ne):((V=M.f.kb).y=U,V.O=0,V.fa=j,V.Fd=ne,V.f=U,V.N=0+ne,V.Ab=f,V.Cd=R,V.ea=U,V.W=0+ne+R,V.Db=f,V.Ed=R,p==12&&(V.F=U,V.J=0+ne+2*R),V.Tc=N,V.lb=A)}if(f=1,A=M.S,R=M.width,N=M.height,A>=Of&&13>A)if(11>A)p=M.f.RGBA,f&=(j=Math.abs(p.A))*(N-1)+R<=p.size,f&=j>=R*Ww[A],f&=p.eb!=null;else{p=M.f.kb,j=(R+1)/2,ne=(N+1)/2,V=Math.abs(p.fa),U=Math.abs(p.Ab);var pe=Math.abs(p.Db),he=Math.abs(p.lb),le=he*(N-1)+R;f&=V*(N-1)+R<=p.Fd,f&=U*(ne-1)+j<=p.Cd,f=(f&=pe*(ne-1)+j<=p.Ed)&V>=R&U>=j&pe>=j,f&=p.y!=null,f&=p.f!=null,f&=p.ea!=null,A==12&&(f&=he>=R,f&=le<=p.Tc,f&=p.F!=null)}else f=0;p=f?0:2}}return p!=0||x!=null&&x.fd&&(p=dp(M)),p}var na=64,Zd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eu=24,tu=32,up=8,Ka=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(p){return p},Q.Predictor2=function(p,f,x){return f[x+0]},Q.Predictor3=function(p,f,x){return f[x+1]},Q.Predictor4=function(p,f,x){return f[x-1]},Q.Predictor5=function(p,f,x){return lt(lt(p,f[x+1]),f[x+0])},Q.Predictor6=function(p,f,x){return lt(p,f[x-1])},Q.Predictor7=function(p,f,x){return lt(p,f[x+0])},Q.Predictor8=function(p,f,x){return lt(f[x-1],f[x+0])},Q.Predictor9=function(p,f,x){return lt(f[x+0],f[x+1])},Q.Predictor10=function(p,f,x){return lt(lt(p,f[x-1]),lt(f[x+0],f[x+1]))},Q.Predictor11=function(p,f,x){var M=f[x+0];return 0>=gi(M>>24&255,p>>24&255,(f=f[x-1])>>24&255)+gi(M>>16&255,p>>16&255,f>>16&255)+gi(M>>8&255,p>>8&255,f>>8&255)+gi(255&M,255&p,255&f)?M:p},Q.Predictor12=function(p,f,x){var M=f[x+0];return(Ot((p>>24&255)+(M>>24&255)-((f=f[x-1])>>24&255))<<24|Ot((p>>16&255)+(M>>16&255)-(f>>16&255))<<16|Ot((p>>8&255)+(M>>8&255)-(f>>8&255))<<8|Ot((255&p)+(255&M)-(255&f)))>>>0},Q.Predictor13=function(p,f,x){var M=f[x-1];return(ri((p=lt(p,f[x+0]))>>24&255,M>>24&255)<<24|ri(p>>16&255,M>>16&255)<<16|ri(p>>8&255,M>>8&255)<<8|ri(p>>0&255,M>>0&255))>>>0};var z1=Q.PredictorAdd0;Q.PredictorAdd1=yi,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var mp=Q.PredictorAdd2;Si("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Si("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Df,Mo=Q.ColorIndexInverseTransform,iu=Q.MapARGB,Ef=Q.VP8LColorIndexInverseTransformAlpha,Af=Q.MapAlpha,Xl=Q.VP8LPredictorsAdd=[];Xl.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var Jc,Xa,Ua,Zl,pl,hl,nu,fl,yr,pp,qa,ko,ru,If,hp,Kc,Xc,ec,Zc,au,ed,tc,fp,Do,Eo,Rn,Nn,xr,Br=a(511),gl=a(2041),gp=a(225),ou=a(767),Pf=0,H1=gl,Tf=gp,po=ou,Ao=Br,Of=0,Rf=1,Ow=2,Nf=3,Ff=4,U1=5,Rw=6,q1=7,W1=8,Lf=9,G1=10,aT=[2,3,7],oT=[3,3,11],Nw=[280,256,256,256,40],sT=[0,1,1,1,0],lT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uT=8,$1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Y1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bp=null,mT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ic=[],ns=[],bl=[],vT=1,Lw=2,nc=[],Io=[];Re("UpsampleRgbLinePair",Ri,3),Re("UpsampleBgrLinePair",er,3),Re("UpsampleRgbaLinePair",is,4),Re("UpsampleBgraLinePair",Wr,4),Re("UpsampleArgbLinePair",ga,4),Re("UpsampleRgba4444LinePair",Pr,2),Re("UpsampleRgb565LinePair",sr,2);var _T=Q.UpsampleRgbLinePair,yT=Q.UpsampleBgrLinePair,jw=Q.UpsampleRgbaLinePair,Bw=Q.UpsampleBgraLinePair,Vw=Q.UpsampleArgbLinePair,zw=Q.UpsampleRgba4444LinePair,xT=Q.UpsampleRgb565LinePair,jf=16,Bf=1<<jf-1,vp=-227,Q1=482,Hw=6,CT=(256<<Hw)-1,Uw=0,wT=a(256),ST=a(256),MT=a(256),kT=a(256),DT=a(Q1-vp),ET=a(Q1-vp);Ps("YuvToRgbRow",Ri,3),Ps("YuvToBgrRow",er,3),Ps("YuvToRgbaRow",is,4),Ps("YuvToBgraRow",Wr,4),Ps("YuvToArgbRow",ga,4),Ps("YuvToRgba4444Row",Pr,2),Ps("YuvToRgb565Row",sr,2);var qw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vf=[0,2,8],AT=[8,7,6,4,4,2,2,2,1,1,1,1],IT=1;this.WebPDecodeRGBA=function(p,f,x,M,A){var R=Rf,N=new Qd,j=new Qo;N.ba=j,j.S=R,j.width=[j.width],j.height=[j.height];var V=j.width,U=j.height,ne=new cl;if(ne==null||p==null)var pe=2;else t(ne!=null),pe=Kd(p,f,x,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(pe!=0?V=0:(V!=null&&(V[0]=ne.width[0]),U!=null&&(U[0]=ne.height[0]),V=1),V){j.width=j.width[0],j.height=j.height[0],M!=null&&(M[0]=j.width),A!=null&&(A[0]=j.height);e:{if(M=new Hd,(A=new np).data=p,A.w=f,A.ha=x,A.kd=1,f=[0],t(A!=null),((p=Kd(A.data,A.w,A.ha,null,null,null,f,null,A))==0||p==7)&&f[0]&&(p=4),(f=p)==0){if(t(N!=null),M.data=A.data,M.w=A.w+A.offset,M.ha=A.ha-A.offset,M.put=Ss,M.ac=ia,M.bc=Ms,M.ma=N,A.xa){if((p=So())==null){N=1;break e}if(function(he,le){var Be=[0],Pe=[0],re=[0];t:for(;;){if(he==null)return 0;if(le==null)return he.a=2,0;if(he.l=le,he.a=0,ue(he.m,le.data,le.w,le.ha),!Ht(he.m,Be,Pe,re)){he.a=3;break t}if(he.xb=Lw,le.width=Be[0],le.height=Pe[0],!Es(Be[0],Pe[0],1,he,null))break t;return 1}return t(he.a!=0),0}(p,M)){if(M=(f=Xd(M.width,M.height,N.Oa,N.ba))==0){t:{M=p;i:for(;;){if(M==null){M=0;break t}if(t(M.s.yc!=null),t(M.s.Ya!=null),t(0<M.s.Wb),t((x=M.l)!=null),t((A=x.ma)!=null),M.xb!=0){if(M.ca=A.ba,M.tb=A.tb,t(M.ca!=null),!cp(A.Oa,x,Nf)){M.a=2;break i}if(!Wc(M,x.width)||x.da)break i;if((x.da||cn(M.ca.S))&&de(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&de()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!Yt(M.s.vb,M.s.Wa.Xa)){M.a=1;break i}M.xb=0}if(!Zo(M,M.V,M.Ba,M.c,M.i,x.o,Fd))break i;A.Dc=M.Ma,M=1;break t}t(M.a!=0),M=0}M=!M}M&&(f=p.a)}else f=p.a}else{if((p=new C1)==null){N=1;break e}if(p.Fa=A.na,p.P=A.P,p.qc=A.Sa,uf(p,M)){if((f=Xd(M.width,M.height,N.Oa,N.ba))==0){if(p.Aa=0,x=N.Oa,t((A=p)!=null),x!=null){if(0<(V=0>(V=x.Md)?0:100<V?255:255*V/100)){for(U=ne=0;4>U;++U)12>(pe=A.pb[U]).lc&&(pe.ia=V*AT[0>pe.lc?0:pe.lc]>>3),ne|=pe.ia;ne&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=x.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}w1(p,M)||(f=p.a)}}else f=p.a}f==0&&N.Oa!=null&&N.Oa.fd&&(f=dp(N.ba))}N=f}R=N!=0?null:11>R?j.f.RGBA.eb:j.f.kb.y}else R=null;return R};var Ww=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Q,me){for(var Te="",B=0;B<4;B++)Te+=String.fromCharCode(Q[me++]);return Te}function h(Q,me){return(Q[me+0]<<0|Q[me+1]<<8|Q[me+2]<<16)>>>0}function v(Q,me){return(Q[me+0]<<0|Q[me+1]<<8|Q[me+2]<<16|Q[me+3]<<24)>>>0}new d;var _=[0],g=[0],D=[],E=new d,S=i,w=function(Q,me){var Te={},B=0,H=!1,Z=0,X=0;if(Te.frames=[],!function($,J,ie,ce){for(var _e=0;_e<ce;_e++)if($[J+_e]!=ie.charCodeAt(_e))return!0;return!1}(Q,me,"RIFF",4)){for(v(Q,me+=4),me+=8;me<Q.length;){var Ie=m(Q,me),we=v(Q,me+=4);me+=4;var Oe=we+(1&we);switch(Ie){case"VP8 ":case"VP8L":Te.frames[B]===void 0&&(Te.frames[B]={}),(Fe=Te.frames[B]).src_off=H?X:me-8,Fe.src_size=Z+we+8,B++,H&&(H=!1,Z=0,X=0);break;case"VP8X":(Fe=Te.header={}).feature_flags=Q[me];var ue=me+4;Fe.canvas_width=1+h(Q,ue),ue+=3,Fe.canvas_height=1+h(Q,ue),ue+=3;break;case"ALPH":H=!0,Z=Oe+8,X=me-8;break;case"ANIM":(Fe=Te.header).bgcolor=v(Q,me),ue=me+4,Fe.loop_count=(pt=Q)[(L=ue)+0]<<0|pt[L+1]<<8,ue+=2;break;case"ANMF":var Ae,Fe;(Fe=Te.frames[B]={}).offset_x=2*h(Q,me),me+=3,Fe.offset_y=2*h(Q,me),me+=3,Fe.width=1+h(Q,me),me+=3,Fe.height=1+h(Q,me),me+=3,Fe.duration=h(Q,me),me+=3,Ae=Q[me++],Fe.dispose=1&Ae,Fe.blend=Ae>>1&1}Ie!="ANMF"&&(me+=Oe)}var pt,L;return Te}}(S,0);w.response=S,w.rgbaoutput=!0,w.dataurl=!1;var O=w.header?w.header:null,G=w.frames?w.frames:null;if(O){O.loop_counter=O.loop_count,_=[O.canvas_height],g=[O.canvas_width];for(var ee=0;ee<G.length&&G[ee].blend!=0;ee++);}var se=G[0],Ee=E.WebPDecodeRGBA(S,se.src_off,se.src_size,g,_);se.rgba=Ee,se.imgwidth=g[0],se.imgheight=_[0];for(var oe=0;oe<g[0]*_[0]*4;oe++)D[oe]=Ee[oe];return this.width=g,this.height=_,this.data=D,this}(function(i){var t=function(){return typeof hv=="function"},e=function(_,g,D,E){var S=4,w=o;switch(E){case i.image_compression.FAST:S=1,w=a;break;case i.image_compression.MEDIUM:S=6,w=s;break;case i.image_compression.SLOW:S=9,w=d}_=n(_,g,D,w);var O=hv(_,{level:S});return i.__addimage__.arrayBufferToBinaryString(O)},n=function(_,g,D,E){for(var S,w,O,G=_.length/g,ee=new Uint8Array(_.length+G),se=h(),Ee=0;Ee<G;Ee+=1){if(O=Ee*g,S=_.subarray(O,O+g),E)ee.set(E(S,D,w),O+Ee);else{for(var oe,Q=se.length,me=[];oe<Q;oe+=1)me[oe]=se[oe](S,D,w);var Te=v(me.concat());ee.set(me[Te],O+Ee)}w=S}return ee},r=function(_){var g=Array.apply([],_);return g.unshift(0),g},a=function(_,g){var D,E=[],S=_.length;E[0]=1;for(var w=0;w<S;w+=1)D=_[w-g]||0,E[w+1]=_[w]-D+256&255;return E},o=function(_,g,D){var E,S=[],w=_.length;S[0]=2;for(var O=0;O<w;O+=1)E=D&&D[O]||0,S[O+1]=_[O]-E+256&255;return S},s=function(_,g,D){var E,S,w=[],O=_.length;w[0]=3;for(var G=0;G<O;G+=1)E=_[G-g]||0,S=D&&D[G]||0,w[G+1]=_[G]+256-(E+S>>>1)&255;return w},d=function(_,g,D){var E,S,w,O,G=[],ee=_.length;G[0]=4;for(var se=0;se<ee;se+=1)E=_[se-g]||0,S=D&&D[se]||0,w=D&&D[se-g]||0,O=m(E,S,w),G[se+1]=_[se]-O+256&255;return G},m=function(_,g,D){if(_===g&&g===D)return _;var E=Math.abs(g-D),S=Math.abs(_-D),w=Math.abs(_+g-D-D);return E<=S&&E<=w?_:S<=w?g:D},h=function(){return[r,a,o,s,d]},v=function(_){var g=_.map(function(D){return D.reduce(function(E,S){return E+Math.abs(S)},0)});return g.indexOf(Math.min.apply(null,g))};i.processPNG=function(_,g,D,E){var S,w,O,G,ee,se,Ee,oe,Q,me,Te,B,H,Z,X,Ie=this.decode.FLATE_DECODE,we="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(O=new l9(_)).imgData,w=O.bits,S=O.colorSpace,ee=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){Q=(oe=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,Te=new Uint8Array(Q*O.colors),me=new Uint8Array(Q);var Oe,ue=O.pixelBitlength-O.bits;for(Z=0,X=0;Z<Q;Z++){for(H=oe[Z],Oe=0;Oe<ue;)Te[X++]=H>>>Oe&255,Oe+=O.bits;me[Z]=H>>>Oe&255}}if(O.bits===16){Q=(oe=new Uint32Array(O.decodePixels().buffer)).length,Te=new Uint8Array(Q*(32/O.pixelBitlength)*O.colors),me=new Uint8Array(Q*(32/O.pixelBitlength)),B=O.colors>1,Z=0,X=0;for(var Ae=0;Z<Q;)H=oe[Z++],Te[X++]=H>>>0&255,B&&(Te[X++]=H>>>16&255,H=oe[Z++],Te[X++]=H>>>0&255),me[Ae++]=H>>>16&255;w=8}E!==i.image_compression.NONE&&t()?(_=e(Te,O.width*O.colors,O.colors,E),Ee=e(me,O.width,1,E)):(_=Te,Ee=me,Ie=void 0)}if(O.colorType===3&&(S=this.color_spaces.INDEXED,se=O.palette,O.transparency.indexed)){var Fe=O.transparency.indexed,pt=0;for(Z=0,Q=Fe.length;Z<Q;++Z)pt+=Fe[Z];if((pt/=255)===Q-1&&Fe.indexOf(0)!==-1)G=[Fe.indexOf(0)];else if(pt!==Q){for(oe=O.decodePixels(),me=new Uint8Array(oe.length),Z=0,Q=oe.length;Z<Q;Z++)me[Z]=Fe[oe[Z]];Ee=e(me,O.width,1)}}var L=function($){var J;switch($){case i.image_compression.FAST:J=11;break;case i.image_compression.MEDIUM:J=13;break;case i.image_compression.SLOW:J=14;break;default:J=12}return J}(E);return Ie===this.decode.FLATE_DECODE&&(we="/Predictor "+L+" "),we+="/Colors "+ee+" /BitsPerComponent "+w+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(Ee&&this.__addimage__.isArrayBuffer(Ee)||this.__addimage__.isArrayBufferView(Ee))&&(Ee=this.__addimage__.arrayBufferToBinaryString(Ee)),{alias:D,data:_,index:g,filter:Ie,decodeParameters:we,transparency:G,palette:se,sMask:Ee,predictor:L,width:O.width,height:O.height,bitsPerComponent:w,colorSpace:S}}}})(Lt.API),function(i){i.processGIF89A=function(t,e,n,r){var a=new c9(t),o=a.width,s=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:o,height:s},h=new uC(100).encode(m,100);return i.processJPEG.call(this,h,e,n,r)},i.processGIF87A=i.processGIF89A}(Lt.API),bs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bs.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){In.log("bit decode error:"+e)}},bs.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var d=this.palette[a>>7-s&1];this.data[o+4*s]=d.blue,this.data[o+4*s+1]=d.green,this.data[o+4*s+2]=d.red,this.data[o+4*s+3]=255}e!==0&&(this.pos+=4-e)}},bs.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*r*4,s=a>>4,d=15&a,m=this.palette[s];if(this.data[o]=m.blue,this.data[o+1]=m.green,this.data[o+2]=m.red,this.data[o+3]=255,2*r+1>=this.width)break;m=this.palette[d],this.data[o+4]=m.blue,this.data[o+4+1]=m.green,this.data[o+4+2]=m.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},bs.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;if(r<this.palette.length){var o=this.palette[r];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}i!==0&&(this.pos+=4-i)}},bs.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,d=(a>>10&t)/t*255|0,m=a>>15?255:0,h=n*this.width*4+4*r;this.data[h]=d,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=m}this.pos+=i}},bs.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,d=(o>>5&e)/e*255|0,m=(o>>11)/t*255|0,h=r*this.width*4+4*a;this.data[h]=m,this.data[h+1]=d,this.data[h+2]=s,this.data[h+3]=255}this.pos+=i}},bs.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},bs.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=o}},bs.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,n,r){var a=new bs(t,!1),o=a.width,s=a.height,d={data:a.getData(),width:o,height:s},m=new uC(100).encode(d,100);return i.processJPEG.call(this,m,e,n,r)}}(Lt.API),P3.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,n,r){var a=new P3(t),o=a.width,s=a.height,d={data:a.getData(),width:o,height:s},m=new uC(100).encode(d,100);return i.processJPEG.call(this,m,e,n,r)}}(Lt.API),Lt.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,a=new Uint8Array(r/4*3),o=new Uint8Array(r/4),s=0,d=0,m=0;m<r;m+=4){var h=n[m],v=n[m+1],_=n[m+2],g=n[m+3];a[s++]=h,a[s++]=v,a[s++]=_,o[d++]=g}var D=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:D,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Lt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pm=Lt.API,vv=pm.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:r.metadata.Unicode.widths,d=s.fof?s.fof:1,m=t.kerning?t.kerning:r.metadata.Unicode.kerning,h=m.fof?m.fof:1,v=t.doKerning!==!1,_=0,g=i.length,D=0,E=s[0]||d,S=[];for(e=0;e<g;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?S.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(_=v&&Sn(m[n])==="object"&&!isNaN(parseInt(m[n][D],10))?m[n][D]/h:0,S.push((s[n]||E)/d+_)),D=n;return S},D3=pm.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return pm.processArabic&&(i=pm.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:vv.apply(this,arguments).reduce(function(a,o){return a+o},0)},E3=function(i,t,e,n){for(var r=[],a=0,o=i.length,s=0;a!==o&&s+t[a]<e;)s+=t[a],a++;r.push(i.slice(0,a));var d=a;for(s=0;a!==o;)s+t[a]>n&&(r.push(i.slice(d,a)),s=0,d=a),s+=t[a],a++;return d!==a&&r.push(i.slice(d,a)),r},A3=function(i,t,e){e||(e={});var n,r,a,o,s,d,m,h=[],v=[h],_=e.textIndent||0,g=0,D=0,E=i.split(" "),S=vv.apply(this,[" ",e])[0];if(d=e.lineIndent===-1?E[0].length+2:e.lineIndent||0){var w=Array(d).join(" "),O=[];E.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?O=O.concat(ee.map(function(se,Ee){return(Ee&&se.length?`
`:"")+se})):O.push(ee[0])}),E=O,d=D3.apply(this,[w,e])}for(a=0,o=E.length;a<o;a++){var G=0;if(n=E[a],d&&n[0]==`
`&&(n=n.substr(1),G=1),_+g+(D=(r=vv.apply(this,[n,e])).reduce(function(ee,se){return ee+se},0))>t||G){if(D>t){for(s=E3.apply(this,[n,r,t-(_+g),t]),h.push(s.shift()),h=[s.pop()];s.length;)v.push([s.shift()]);D=r.slice(n.length-(h[0]?h[0].length:0)).reduce(function(ee,se){return ee+se},0)}else h=[n];v.push(h),_=D+d,g=S}else h.push(n),_+=g+D,g=S}return m=d?function(ee,se){return(se?w:"")+ee.join(" ")}:function(ee){return ee.join(" ")},v.map(m)},pm.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),a=function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var v=this.internal.getFont(h.fontName,h.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=e.lineIndent;var s,d,m=[];for(s=0,d=n.length;s<d;s++)m=m.concat(A3.apply(this,[n[s],o,a]));return m},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=t[r];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=i.__fontmetrics__.compress=function(v){var _,g,D,E,S=["{"];for(var w in v){if(_=v[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=a(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof _=="number")_<0?(D=a(_).slice(3),E="-"):(D=a(_).slice(2),E=""),D=E+D.slice(0,-1)+n[D.slice(-1)];else{if(Sn(_)!=="object")throw new Error("Don't know what to do with value type "+Sn(_)+".");D=o(_)}S.push(g+D)}return S.push("}"),S.join("")},s=i.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,g,D,E,S={},w=1,O=S,G=[],ee="",se="",Ee=v.length-1,oe=1;oe<Ee;oe+=1)(E=v[oe])=="'"?_?(D=_.join(""),_=void 0):_=[]:_?_.push(E):E=="{"?(G.push([O,D]),O={},D=void 0):E=="}"?((g=G.pop())[0][g[1]]=O,D=void 0,O=g[0]):E=="-"?w=-1:D===void 0?e.hasOwnProperty(E)?(ee+=e[E],D=parseInt(ee,16)*w,w=1,ee=""):ee+=E:e.hasOwnProperty(E)?(se+=e[E],O[D]=parseInt(se,16)*w,w=1,D=void 0,se=""):se+=E;return S},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(v){var _=v.font,g=h.Unicode[_.postScriptName];g&&(_.metadata.Unicode={},_.metadata.Unicode.widths=g.widths,_.metadata.Unicode.kerning=g.kerning);var D=m.Unicode[_.postScriptName];D&&(_.metadata.Unicode.encoding=D,_.encoding=D.codePages[0])}])}(Lt.API),function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=e.charCodeAt(a);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,a=e.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(ph(s)),o.metadata=i.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,n)}}])}(Lt),function(i){function t(){return(Qt.canvg?Promise.resolve(Qt.canvg):import("./chunk-F4OYGKG3.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Lt.API.addSvgAsImage=function(e,n,r,a,o,s,d,m){if(isNaN(n)||isNaN(r))throw In.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw In.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var v=h.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,h.width,h.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(D){return D.fromString(v,e,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(D){return D.render(_)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),n,r,a,o,d,m)})}}(),Lt.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},Lt.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),d=[],m=0,h=0,v=0;function _(D,E){var S,w=!1;for(S=0;S<D.length;S+=1)D[S]===E&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var g=s.length;for(v=0;v<g;v+=1)e[s[v]].value=e[s[v]].defaultValue,e[s[v]].explicitSet=!1}if(Sn(i)==="object"){for(r in i)if(a=i[r],_(s,r)&&a!==void 0){if(e[r].type==="boolean"&&typeof a=="boolean")e[r].value=a;else if(e[r].type==="name"&&_(e[r].valueSet,a))e[r].value=a;else if(e[r].type==="integer"&&Number.isInteger(a))e[r].value=a;else if(e[r].type==="array"){for(m=0;m<a.length;m+=1)if(n=!0,a[m].length===1&&typeof a[m][0]=="number")d.push(String(a[m]-1));else if(a[m].length>1){for(h=0;h<a[m].length;h+=1)typeof a[m][h]!="number"&&(n=!1);n===!0&&d.push([a[m][0]-1,a[m][1]-1].join(" "))}e[r].value="["+d.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var D,E=[];for(D in e)e[D].explicitSet===!0&&(e[D].type==="name"?E.push("/"+D+" /"+e[D].value):E.push("/"+D+" "+e[D].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=a.length+o.length+s.length+r.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(r+a+o+s+d),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Lt.API),function(i){var t=i.API,e=t.pdfEscape16=function(a,o){for(var s,d=o.metadata.Unicode.widths,m=["","0","00","000","0000"],h=[""],v=0,_=a.length;v<_;++v){if(s=o.metadata.characterToGlyph(a.charCodeAt(v)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(v),d.indexOf(s)==-1&&(d.push(s),d.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return h.join("");s=s.toString(16),h.push(m[4-s.length],s)}return h.join("")},n=function(a){var o,s,d,m,h,v,_;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],v=0,_=(s=Object.keys(a).sort(function(g,D){return g-D})).length;v<_;v++)o=s[v],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(m=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+m+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,d=o.out,m=o.newObject,h=o.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="Identity-H"){for(var v=s.metadata.Unicode.widths,_=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),g="",D=0;D<_.length;D++)g+=String.fromCharCode(_[D]);var E=m();h({data:g,addLength1:!0,objectId:E}),d("endobj");var S=m();h({data:n(s.metadata.toUnicode),addLength1:!0,objectId:S}),d("endobj");var w=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+fm(s.fontName)),d("/FontFile2 "+E+" 0 R"),d("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),d("/Flags "+s.metadata.flags),d("/StemV "+s.metadata.stemV),d("/ItalicAngle "+s.metadata.italicAngle),d("/Ascent "+s.metadata.ascender),d("/Descent "+s.metadata.decender),d("/CapHeight "+s.metadata.capHeight),d(">>"),d("endobj");var O=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+fm(s.fontName)),d("/FontDescriptor "+w+" 0 R"),d("/W "+i.API.PDFObject.convert(v)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+s.encoding+")"),d(">>"),d(">>"),d("endobj"),s.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+S+" 0 R"),d("/BaseFont /"+fm(s.fontName)),d("/Encoding /"+s.encoding),d("/DescendantFonts ["+O+" 0 R]"),d(">>"),d("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,d=o.out,m=o.newObject,h=o.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var v=s.metadata.rawData,_="",g=0;g<v.length;g++)_+=String.fromCharCode(v[g]);var D=m();h({data:_,addLength1:!0,objectId:D}),d("endobj");var E=m();h({data:n(s.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var S=m();d("<<"),d("/Descent "+s.metadata.decender),d("/CapHeight "+s.metadata.capHeight),d("/StemV "+s.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+D+" 0 R"),d("/Flags 96"),d("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),d("/FontName /"+fm(s.fontName)),d("/ItalicAngle "+s.metadata.italicAngle),d("/Ascent "+s.metadata.ascender),d(">>"),d("endobj"),s.objectNumber=m();for(var w=0;w<s.metadata.hmtx.widths.length;w++)s.metadata.hmtx.widths[w]=parseInt(s.metadata.hmtx.widths[w]*(1e3/s.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+fm(s.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),d("endobj"),s.isAlreadyPutted=!0}})(a)}]);var r=function(a){var o,s=a.text||"",d=a.x,m=a.y,h=a.options||{},v=a.mutex||{},_=v.pdfEscape,g=v.activeFontKey,D=v.fonts,E=g,S="",w=0,O="",G=D[E].encoding;if(D[E].encoding!=="Identity-H")return{text:s,x:d,y:m,options:h,mutex:v};for(O=s,E=g,Array.isArray(s)&&(O=s[0]),w=0;w<O.length;w+=1)D[E].metadata.hasOwnProperty("cmap")&&(o=D[E].metadata.cmap.unicode.codeMap[O[w].charCodeAt(0)]),o||O[w].charCodeAt(0)<256&&D[E].metadata.hasOwnProperty("Unicode")?S+=O[w]:S+="";var ee="";return parseInt(E.slice(1))<14||G==="WinAnsiEncoding"?ee=_(S,E).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(ee=e(S,D[E])),v.isHex=!0,{text:ee,x:d,y:m,options:h,mutex:v}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],d={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var m=0;for(m=0;m<o.length;m+=1)Array.isArray(o[m])&&o[m].length===3?s.push([r(Object.assign({},d,{text:o[m][0]})).text,o[m][1],o[m][2]]):s.push(r(Object.assign({},d,{text:o[m]})).text);a.text=s}else a.text=r(Object.assign({},d,{text:o})).text}])}(Lt),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Lt.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,a,o,s,d,m,h,v=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],D={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,G=0;this.__bidiEngine__={};var ee=function(B){var H=B.charCodeAt(),Z=H>>8,X=E[Z];return X!==void 0?v[256*X+(255&H)]:Z===252||Z===253?"AL":w.test(Z)?"L":Z===8?"R":"N"},se=function(B){for(var H,Z=0;Z<B.length;Z++){if((H=ee(B.charAt(Z)))==="L")return!1;if(H==="R")return!0}return!1},Ee=function(B,H,Z,X){var Ie,we,Oe,ue,Ae=H[X];switch(Ae){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(Ae="AN");break;case"AL":O=!0,Ae="R";break;case"WS":Ae="N";break;case"CS":X<1||X+1>=H.length||(Ie=Z[X-1])!=="EN"&&Ie!=="AN"||(we=H[X+1])!=="EN"&&we!=="AN"?Ae="N":O&&(we="AN"),Ae=we===Ie?we:"N";break;case"ES":Ae=(Ie=X>0?Z[X-1]:"B")==="EN"&&X+1<H.length&&H[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&Z[X-1]==="EN"){Ae="EN";break}if(O){Ae="N";break}for(Oe=X+1,ue=H.length;Oe<ue&&H[Oe]==="ET";)Oe++;Ae=Oe<ue&&H[Oe]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(ue=H.length,Oe=X+1;Oe<ue&&H[Oe]==="NSM";)Oe++;if(Oe<ue){var Fe=B[X],pt=Fe>=1425&&Fe<=2303||Fe===64286;if(Ie=H[Oe],pt&&(Ie==="R"||Ie==="AL")){Ae="R";break}}}Ae=X<1||(Ie=H[X-1])==="B"?"N":Z[X-1];break;case"B":O=!1,r=!0,Ae=G;break;case"S":a=!0,Ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":Ae="N"}return Ae},oe=function(B,H,Z){var X=B.split("");return Z&&Q(X,Z,{hiLevel:G}),X.reverse(),H&&H.reverse(),X.join("")},Q=function(B,H,Z){var X,Ie,we,Oe,ue,Ae=-1,Fe=B.length,pt=0,L=[],$=G?g:_,J=[];for(O=!1,r=!1,a=!1,Ie=0;Ie<Fe;Ie++)J[Ie]=ee(B[Ie]);for(we=0;we<Fe;we++){if(ue=pt,L[we]=Ee(B,J,L,we),X=240&(pt=$[ue][D[L[we]]]),pt&=15,H[we]=Oe=$[pt][5],X>0)if(X===16){for(Ie=Ae;Ie<we;Ie++)H[Ie]=1;Ae=-1}else Ae=-1;if($[pt][6])Ae===-1&&(Ae=we);else if(Ae>-1){for(Ie=Ae;Ie<we;Ie++)H[Ie]=Oe;Ae=-1}J[we]==="B"&&(H[we]=0),Z.hiLevel|=Oe}a&&function(ie,ce,_e){for(var Se=0;Se<_e;Se++)if(ie[Se]==="S"){ce[Se]=G;for(var De=Se-1;De>=0&&ie[De]==="WS";De--)ce[De]=G}}(J,H,Fe)},me=function(B,H,Z,X,Ie){if(!(Ie.hiLevel<B)){if(B===1&&G===1&&!r)return H.reverse(),void(Z&&Z.reverse());for(var we,Oe,ue,Ae,Fe=H.length,pt=0;pt<Fe;){if(X[pt]>=B){for(ue=pt+1;ue<Fe&&X[ue]>=B;)ue++;for(Ae=pt,Oe=ue-1;Ae<Oe;Ae++,Oe--)we=H[Ae],H[Ae]=H[Oe],H[Oe]=we,Z&&(we=Z[Ae],Z[Ae]=Z[Oe],Z[Oe]=we);pt=ue}pt++}}},Te=function(B,H,Z){var X=B.split(""),Ie={hiLevel:G};return Z||(Z=[]),Q(X,Z,Ie),function(we,Oe,ue){if(ue.hiLevel!==0&&h)for(var Ae,Fe=0;Fe<we.length;Fe++)Oe[Fe]===1&&(Ae=S.indexOf(we[Fe]))>=0&&(we[Fe]=S[Ae+1])}(X,Z,Ie),me(2,X,H,Z,Ie),me(1,X,H,Z,Ie),X.join("")};return this.__bidiEngine__.doBidiReorder=function(B,H,Z){if(function(Ie,we){if(we)for(var Oe=0;Oe<Ie.length;Oe++)we[Oe]=Oe;s===void 0&&(s=se(Ie)),m===void 0&&(m=se(Ie))}(B,H),o||!d||m)if(o&&d&&s^m)G=s?1:0,B=oe(B,H,Z);else if(!o&&d&&m)G=s?1:0,B=Te(B,H,Z),B=oe(B,H);else if(!o||s||d||m){if(o&&!d&&s^m)B=oe(B,H),s?(G=0,B=Te(B,H,Z)):(G=1,B=Te(B,H,Z),B=oe(B,H));else if(o&&s&&!d&&m)G=1,B=Te(B,H,Z),B=oe(B,H);else if(!o&&!d&&s^m){var X=h;s?(G=1,B=Te(B,H,Z),G=0,h=!1,B=Te(B,H,Z),h=X):(G=0,B=Te(B,H,Z),B=oe(B,H),G=1,h=!1,B=Te(B,H,Z),h=X,B=oe(B,H))}}else G=0,B=Te(B,H,Z);else G=s?1:0,B=Te(B,H,Z);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,d=B.isOutputVisual,s=B.isInputRtl,m=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var s=0;for(o=[],s=0;s<r.length;s+=1)Object.prototype.toString.call(r[s])==="[object Array]"?o.push([e.doBidiReorder(r[s][0]),r[s][1],r[s][2]]):o.push([e.doBidiReorder(r[s])]);n.text=o}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Lt),Lt.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new Tc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new S9(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new d9(this.contents),this.head=new m9(this),this.name=new b9(this),this.cmap=new U3(this),this.toUnicode={},this.hhea=new p9(this),this.maxp=new v9(this),this.hmtx=new _9(this),this.post=new f9(this),this.os2=new h9(this),this.loca=new w9(this),this.glyf=new y9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,s,d,m;for(m=[],o=0,s=(d=this.bbox).length;o<s;o++)t=d[o],m.push(Math.round(t*this.scaleFactor));return m}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var _s,Tc=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,a,o,s,d;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^d)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*a+65536*o+256*s+d},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,a;for(a=[],n=0,r=t.length;n<r;n++)e=t[n],a.push(this.writeByte(e));return a},i}(),d9=function(){var i;function t(e){var n,r,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,a,o,s,d,m,h,v,_,g,D,E;for(E in g=Object.keys(e).length,d=Math.log(2),v=16*Math.floor(Math.log(g)/d),o=Math.floor(v/d),h=16*g-v,(r=new Tc).writeInt(this.scalarType),r.writeShort(g),r.writeShort(v),r.writeShort(o),r.writeShort(h),a=16*g,m=r.pos+a,s=null,D=[],e)for(_=e[E],r.writeString(E),r.writeInt(i(_)),r.writeInt(m),r.writeInt(_.length),D=D.concat(_),E==="head"&&(s=m),m+=_.length;m%4;)D.push(0),m++;return r.write(D),n=2981146554-i(r.data),r.pos=s+8,r.writeUInt32(n),r.data},i=function(e){var n,r,a,o;for(e=q3.call(e);e.length%4;)e.push(0);for(a=new Tc(e),r=0,n=0,o=e.length;n<o;n=n+=4)r+=a.readUInt32();return 4294967295&r},t}(),u9={}.hasOwnProperty,Zs=function(i,t){for(var e in t)u9.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};_s=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var m9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Tc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),T3=function(){function i(t,e){var n,r,a,o,s,d,m,h,v,_,g,D,E,S,w,O,G;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),_=g/2,t.pos+=6,a=function(){var ee,se;for(se=[],d=ee=0;0<=_?ee<_:ee>_;d=0<=_?++ee:--ee)se.push(t.readUInt16());return se}(),t.pos+=2,E=function(){var ee,se;for(se=[],d=ee=0;0<=_?ee<_:ee>_;d=0<=_?++ee:--ee)se.push(t.readUInt16());return se}(),m=function(){var ee,se;for(se=[],d=ee=0;0<=_?ee<_:ee>_;d=0<=_?++ee:--ee)se.push(t.readUInt16());return se}(),h=function(){var ee,se;for(se=[],d=ee=0;0<=_?ee<_:ee>_;d=0<=_?++ee:--ee)se.push(t.readUInt16());return se}(),r=(this.length-t.pos+this.offset)/2,s=function(){var ee,se;for(se=[],d=ee=0;0<=r?ee<r:ee>r;d=0<=r?++ee:--ee)se.push(t.readUInt16());return se}(),d=w=0,G=a.length;w<G;d=++w)for(S=a[d],n=O=D=E[d];D<=S?O<=S:O>=S;n=D<=S?++O:--O)h[d]===0?o=n+m[d]:(o=s[h[d]/2+(n-D)-(_-d)]||0)!==0&&(o+=m[d]),this.codeMap[n]=65535&o}t.pos=v}return i.encode=function(t,e){var n,r,a,o,s,d,m,h,v,_,g,D,E,S,w,O,G,ee,se,Ee,oe,Q,me,Te,B,H,Z,X,Ie,we,Oe,ue,Ae,Fe,pt,L,$,J,ie,ce,_e,Se,De,$e,We,ct;switch(X=new Tc,o=Object.keys(t).sort(function(ot,Yt){return ot-Yt}),e){case"macroman":for(E=0,S=function(){var ot=[];for(D=0;D<256;++D)ot.push(0);return ot}(),O={0:0},a={},Ie=0,Ae=o.length;Ie<Ae;Ie++)O[De=t[r=o[Ie]]]==null&&(O[De]=++E),a[r]={old:t[r],new:O[t[r]]},S[r]=O[t[r]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(S),{charMap:a,subtable:X.data,maxGlyphID:E+1};case"unicode":for(H=[],v=[],G=0,O={},n={},w=m=null,we=0,Fe=o.length;we<Fe;we++)O[se=t[r=o[we]]]==null&&(O[se]=++G),n[r]={old:se,new:O[se]},s=O[se]-r,w!=null&&s===m||(w&&v.push(w),H.push(r),m=s),w=r;for(w&&v.push(w),v.push(65535),H.push(65535),Te=2*(me=H.length),Q=2*Math.pow(Math.log(me)/Math.LN2,2),_=Math.log(Q/2)/Math.LN2,oe=2*me-Q,d=[],Ee=[],g=[],D=Oe=0,pt=H.length;Oe<pt;D=++Oe){if(B=H[D],h=v[D],B===65535){d.push(0),Ee.push(0);break}if(B-(Z=n[B].new)>=32768)for(d.push(0),Ee.push(2*(g.length+me-D)),r=ue=B;B<=h?ue<=h:ue>=h;r=B<=h?++ue:--ue)g.push(n[r].new);else d.push(Z-B),Ee.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*me+2*g.length),X.writeUInt16(0),X.writeUInt16(Te),X.writeUInt16(Q),X.writeUInt16(_),X.writeUInt16(oe),_e=0,L=v.length;_e<L;_e++)r=v[_e],X.writeUInt16(r);for(X.writeUInt16(0),Se=0,$=H.length;Se<$;Se++)r=H[Se],X.writeUInt16(r);for($e=0,J=d.length;$e<J;$e++)s=d[$e],X.writeUInt16(s);for(We=0,ie=Ee.length;We<ie;We++)ee=Ee[We],X.writeUInt16(ee);for(ct=0,ce=g.length;ct<ce;ct++)E=g[ct],X.writeUInt16(E);return{charMap:n,subtable:X.data,maxGlyphID:G+1}}},i}(),U3=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)n=new T3(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,a;return n==null&&(n="macroman"),r=T3.encode(e,n),(a=new Tc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t}(),p9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),h9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),f9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)n=e.readByte(),a.push(this.names.push(e.readString(n)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=function(){var s,d,m;for(m=[],o=s=0,d=this.file.maxp.numGlyphs;0<=d?s<d:s>d;o=0<=d?++s:--s)m.push(e.readUInt32());return m}.call(this)}},t}(),g9=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},b9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,a,o,s,d,m,h,v,_,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),d=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(m={},o=v=0,_=r.length;v<_;o=++v)a=r[o],e.pos=a.offset,h=e.readString(a.length),s=new g9(h,a),m[g=a.nameID]==null&&(m[g]=[]),m[a.nameID].push(s);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),v9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,a,o,s,d,m;for(e.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,v;for(v=[],n=h=0;0<=a?h<a:h>a;n=0<=a?++h:--h)v.push(e.readInt16());return v}(),this.widths=function(){var h,v,_,g;for(g=[],h=0,v=(_=this.metrics).length;h<v;h++)o=_[h],g.push(o.advance);return g}.call(this),r=this.widths[this.widths.length-1],m=[],n=s=0;0<=a?s<a:s>a;n=0<=a?++s:--s)m.push(this.widths.push(r));return m},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),q3=[].slice,y9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,a,o,s,d,m,h,v,_;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(d=new Tc(n.read(a))).readShort(),h=d.readShort(),_=d.readShort(),m=d.readShort(),v=d.readShort(),this.cache[e]=s===-1?new C9(d,h,_,m,v):new x9(d,s,h,_,m,v),this.cache[e]))},t.prototype.encode=function(e,n,r){var a,o,s,d,m;for(s=[],o=[],d=0,m=n.length;d<m;d++)a=e[n[d]],o.push(s.length),a&&(s=s.concat(a.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),x9=function(){function i(t,e,n,r,a,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),C9=function(){function i(t,e,n,r,a){var o,s;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new Tc(q3.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),w9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,_s),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<r.length;++s)if(r[s]=a,o<n.length&&n[o]==s){++o,r[s]=a;var d=this.offsets[s],m=this.offsets[s+1]-d;m>0&&(a+=m)}for(var h=new Array(4*r.length),v=0;v<r.length;++v)h[4*v+3]=255&r[v],h[4*v+2]=(65280&r[v])>>8,h[4*v+1]=(16711680&r[v])>>16,h[4*v]=(4278190080&r[v])>>24;return h},t}(),S9=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,a;for(e in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,a,o,s,d;for(r={},o=0,s=t.length;o<s;o++)r[a=t[o]]=this.font.glyf.glyphFor(a);for(a in e=[],r)(n=r[a])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(a in d=this.glyphsFor(e))n=d[a],r[a]=n;return r},i.prototype.encode=function(t,e){var n,r,a,o,s,d,m,h,v,_,g,D,E,S,w;for(r in n=U3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},w=n.charMap)g[(d=w[r]).old]=d.new;for(D in _=n.maxGlyphID,o)D in g||(g[D]=_++);return h=function(O){var G,ee;for(G in ee={},O)ee[O[G]]=G;return ee}(g),v=Object.keys(h).sort(function(O,G){return O-G}),E=function(){var O,G,ee;for(ee=[],O=0,G=v.length;O<G;O++)s=v[O],ee.push(h[s]);return ee}(),a=this.font.glyf.encode(o,E,g),m=this.font.loca.encode(a.offsets,E),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},i}();Lt.API.PDFObject=function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,a,o;if(Array.isArray(e))return"["+function(){var s,d,m;for(m=[],s=0,d=e.length;s<d;s++)n=e[s],m.push(t.convert(n));return m}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in a=["<<"],e)o=e[r],a.push("/"+r+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+e},t}();function J3(i,t,e,n,r){n=n||{};var a=1.15,o=r.internal.scaleFactor,s=r.internal.getFontSize()/o,d=r.getLineHeightFactor?r.getLineHeightFactor():a,m=s*d,h=/\r\n|\r|\n/g,v="",_=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(v=typeof i=="string"?i.split(h):i,_=v.length||1),e+=s*(2-a),n.valign==="middle"?e-=_/2*m:n.valign==="bottom"&&(e-=_*m),n.halign==="center"||n.halign==="right"){var g=s;if(n.halign==="center"&&(g*=.5),v&&_>=1){for(var D=0;D<v.length;D++)r.text(v[D],t-r.getStringUnitWidth(v[D])*g,e),e+=m;return r}t-=r.getStringUnitWidth(i)*g}return n.halign==="justify"?r.text(i,t,e,{maxWidth:n.maxWidth||100,align:"justify"}):r.text(i,t,e),r}var W3={},xm=function(){function i(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return i.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:W3=t},i.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},i.prototype.applyStyles=function(t,e){var n,r,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,d=o.fontName;if(t.font&&(d=t.font),t.fontStyle){s=t.fontStyle;var m=this.getFontList()[d];m&&m.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),s=m[0])}if(this.jsPDFDocument.setFont(d,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var h=i.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=i.unifyColor(t.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=i.unifyColor(t.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},i.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},i.prototype.rect=function(t,e,n,r,a){return this.jsPDFDocument.rect(t,e,n,r,a)},i.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},i.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},i.prototype.getDocument=function(){return this.jsPDFDocument},i.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},i.prototype.addPage=function(){return this.jsPDFDocument.addPage()},i.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},i.prototype.getGlobalOptions=function(){return W3||{}},i.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},i.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},i.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},i.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},i.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},i.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},i}(),MC=function(i,t){return MC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},MC(i,t)};function K3(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");MC(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var X3=function(i){K3(t,i);function t(e){var n=i.call(this)||this;return n._element=e,n}return t}(Array);function M9(i){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/i,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function k9(i){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[i]}function kv(i,t,e){e.applyStyles(t,!0);var n=Array.isArray(i)?i:[i],r=n.map(function(a){return e.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return r}function Z3(i,t,e,n){var r=t.settings.tableLineWidth,a=t.settings.tableLineColor;i.applyStyles({lineWidth:r,lineColor:a});var o=eA(r,!1);o&&i.rect(e.x,e.y,t.getWidth(i.pageSize().width),n.y-e.y,o)}function eA(i,t){var e=i>0,n=t||t===0;return e&&n?"DF":e?"S":n?"F":null}function Ev(i,t){var e,n,r,a;if(i=i||t,Array.isArray(i)){if(i.length>=4)return{top:i[0],right:i[1],bottom:i[2],left:i[3]};if(i.length===3)return{top:i[0],right:i[1],bottom:i[2],left:i[1]};if(i.length===2)return{top:i[0],right:i[1],bottom:i[0],left:i[1]};i.length===1?i=i[0]:i=t}return typeof i=="object"?(typeof i.vertical=="number"&&(i.top=i.vertical,i.bottom=i.vertical),typeof i.horizontal=="number"&&(i.right=i.horizontal,i.left=i.horizontal),{left:(e=i.left)!==null&&e!==void 0?e:t,top:(n=i.top)!==null&&n!==void 0?n:t,right:(r=i.right)!==null&&r!==void 0?r:t,bottom:(a=i.bottom)!==null&&a!==void 0?a:t}):(typeof i!="number"&&(i=t),{top:i,right:i,bottom:i,left:i})}function tA(i,t){var e=Ev(t.settings.margin,0);return i.pageSize().width-(e.left+e.right)}function D9(i,t,e,n,r){var a={},o=1.3333333333333333,s=_C(t,function(G){return r.getComputedStyle(G).backgroundColor});s!=null&&(a.fillColor=s);var d=_C(t,function(G){return r.getComputedStyle(G).color});d!=null&&(a.textColor=d);var m=A9(n,e);m&&(a.cellPadding=m);var h="borderTopColor",v=o*e,_=n.borderTopWidth;if(n.borderBottomWidth===_&&n.borderRightWidth===_&&n.borderLeftWidth===_){var g=(parseFloat(_)||0)/v;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/v,right:(parseFloat(n.borderRightWidth)||0)/v,bottom:(parseFloat(n.borderBottomWidth)||0)/v,left:(parseFloat(n.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var D=_C(t,function(G){return r.getComputedStyle(G)[h]});D!=null&&(a.lineColor=D);var E=["left","right","center","justify"];E.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),E=["middle","bottom","top"],E.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var S=parseInt(n.fontSize||"");isNaN(S)||(a.fontSize=S/o);var w=E9(n);w&&(a.fontStyle=w);var O=(n.fontFamily||"").toLowerCase();return i.indexOf(O)!==-1&&(a.font=O),a}function E9(i){var t="";return(i.fontWeight==="bold"||i.fontWeight==="bolder"||parseInt(i.fontWeight)>=700)&&(t="bold"),(i.fontStyle==="italic"||i.fontStyle==="oblique")&&(t+="italic"),t}function _C(i,t){var e=iA(i,t);if(!e)return null;var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function iA(i,t){var e=t(i);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?i.parentElement==null?null:iA(i.parentElement,t):e}function A9(i,t){var e=[i.paddingTop,i.paddingRight,i.paddingBottom,i.paddingLeft],n=96/(72/t),r=(parseInt(i.lineHeight)-parseInt(i.fontSize))/t/2,a=e.map(function(s){return parseInt(s||"0")/n}),o=Ev(a,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function nA(i,t,e,n,r){var a,o;n===void 0&&(n=!1),r===void 0&&(r=!1);var s;typeof t=="string"?s=e.document.querySelector(t):s=t;var d=Object.keys(i.getFontList()),m=i.scaleFactor(),h=[],v=[],_=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:h,body:v,foot:_};for(var g=0;g<s.rows.length;g++){var D=s.rows[g],E=(o=(a=D?.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),S=I9(d,m,e,D,n,r);S&&(E==="thead"?h.push(S):E==="tfoot"?_.push(S):v.push(S))}return{head:h,body:v,foot:_}}function I9(i,t,e,n,r,a){for(var o=new X3(n),s=0;s<n.cells.length;s++){var d=n.cells[s],m=e.getComputedStyle(d);if(r||m.display!=="none"){var h=void 0;a&&(h=D9(i,d,t,m,e)),o.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:h,_element:d,content:P9(d)})}}var v=e.getComputedStyle(n);if(o.length>0&&(r||v.display!=="none"))return o}function P9(i){var t=i.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function T9(i,t,e){for(var n=0,r=[i,t,e];n<r.length;n++){var a=r[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Vl(i,t,e,n,r){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(i),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a}function rA(i,t){var e=new xm(i),n=e.getDocumentOptions(),r=e.getGlobalOptions();T9(r,n,t);var a=Vl({},r,n,t),o;typeof window<"u"&&(o=window);var s=O9(r,n,t),d=R9(r,n,t),m=N9(e,a),h=L9(e,a,o);return{id:t.tableId,content:h,hooks:d,styles:s,settings:m}}function O9(i,t,e){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(d){if(d==="columnStyles"){var m=i[d],h=t[d],v=e[d];n.columnStyles=Vl({},m,h,v)}else{var _=[i,t,e],g=_.map(function(D){return D[d]||{}});n[d]=Vl({},g[0],g[1],g[2])}},a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];r(s)}return n}function R9(i,t,e){for(var n=[i,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var s=o[a];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}function N9(i,t){var e,n,r,a,o,s,d,m,h,v,_,g,D=Ev(t.margin,40/i.scaleFactor()),E=(e=F9(i,t.startY))!==null&&e!==void 0?e:D.top,S;t.showFoot===!0?S="everyPage":t.showFoot===!1?S="never":S=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var w;t.showHead===!0?w="everyPage":t.showHead===!1?w="never":w=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var O=(a=t.useCss)!==null&&a!==void 0?a:!1,G=t.theme||(O?"plain":"striped"),ee=!!t.horizontalPageBreak,se=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:O,theme:G,startY:E,margin:D,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(m=t.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:w,showFoot:S,tableLineWidth:(v=t.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(_=t.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function F9(i,t){var e=i.getLastAutoTable(),n=i.scaleFactor(),r=i.pageNumber(),a=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;a=o===r}return typeof t=="number"?t:(t==null||t===!1)&&a&&e?.finalY!=null?e.finalY+20/n:null}function L9(i,t,e){var n=t.head||[],r=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var s=nA(i,t.html,e,o,t.useCss)||{};n=s.head||n,r=s.body||n,a=s.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||j9(n,r,a);return{columns:d,head:n,body:r,foot:a}}function j9(i,t,e){var n=i[0]||t[0]||e[0]||[],r=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(n)?s=n[parseInt(a)]:s=n[a],typeof s=="object"&&!Array.isArray(s)&&(o=s?.colSpan||1);for(var d=0;d<o;d++){var m=void 0;Array.isArray(n)?m=r.length:m=a+(d>0?"_".concat(d):"");var h={dataKey:m};r.push(h)}}),r}var kC=function(){function i(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}return i}(),B9=function(i){K3(t,i);function t(e,n,r,a,o,s){var d=i.call(this,e,n,s)||this;return d.cell=r,d.row=a,d.column=o,d.section=a.section,d}return t}(kC),V9=function(){function i(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return i.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},i.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},i.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},i.prototype.callCellHooks=function(t,e,n,r,a,o){for(var s=0,d=e;s<d.length;s++){var m=d[s],h=new B9(t,this,n,r,a,o),v=m(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],v)return!1}return!0},i.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var a=r[n];a(new kC(t,this,e))}},i.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var a=r[n];a(new kC(t,this,e))}},i.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return e}else{var n=this.settings.margin;return t-n.left-n.right}},i}(),aA=function(){function i(t,e,n,r,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof X3&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=r,this.spansMultiplePages=a}return i.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(n,r){var a;return Math.max(n,((a=e.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},i.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(n){var r=e.cells[n.index];return r?r.rowSpan>1:!1}).length>0},i.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},i.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(r,a){var o=n.cells[a.index];if(!o)return 0;var s=e.getLineHeight(o.styles.fontSize),d=o.padding("vertical"),m=d+s;return m>r?m:r},0)},i}(),oA=function(){function i(t,e,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return i.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");n=this.x+r/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},i.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var n=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,a=n*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},i.prototype.padding=function(t){var e=Ev(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},i}(),z9=function(){function i(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return i.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,r=t.allRows();n<r.length;n++){var a=r[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},i}();function H9(i,t){U9(i,t);var e=[],n=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,e.push(a)),n+=a.width});var r=t.getWidth(i.pageSize().width)-n;r&&(r=DC(e,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=DC(e,r,function(a){return a.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/i.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),W9(t),G9(t,i),q9(t)}function U9(i,t){var e=i.scaleFactor(),n=t.settings.horizontalPageBreak,r=tA(i,t);t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var d=s[o],m=a.cells[d.index];if(m){var h=t.hooks.didParseCell;t.callCellHooks(i,h,m,a,d,null);var v=m.padding("horizontal");m.contentWidth=kv(m.text,m.styles,i)+v;var _=kv(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,i);if(m.minReadableWidth=_+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||n===!0)m.contentWidth>r?(m.minWidth=r,m.wrappedWidth=r):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var g=10/e;m.minWidth=m.styles.minCellWidth||g,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var d=s[o],m=a.cells[d.index];if(m&&m.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,m.wrappedWidth),d.minWidth=Math.max(d.minWidth,m.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,m.minReadableWidth);else{var h=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},v=h.cellWidth||h.minCellWidth;v&&typeof v=="number"&&(d.minWidth=v,d.wrappedWidth=v)}m&&(m.colSpan>1&&!d.minWidth&&(d.minWidth=m.minWidth),m.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=m.minWidth))}})}function DC(i,t,e){for(var n=t,r=i.reduce(function(g,D){return g+D.wrappedWidth},0),a=0;a<i.length;a++){var o=i[a],s=o.wrappedWidth/r,d=n*s,m=o.width+d,h=e(o),v=m<h?h:m;t-=v-o.width,o.width=v}if(t=Math.round(t*1e10)/1e10,t){var _=i.filter(function(g){return t<0?g.width>e(g):!0});_.length&&(t=DC(_,t,e))}return t}function q9(i){for(var t={},e=1,n=i.allRows(),r=0;r<n.length;r++)for(var a=n[r],o=0,s=i.columns;o<s.length;o++){var d=s[o],m=t[d.index];if(e>1)e--,delete a.cells[d.index];else if(m)m.cell.height+=a.height,e=m.cell.colSpan,delete a.cells[d.index],m.left--,m.left<=1&&delete t[d.index];else{var h=a.cells[d.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var v=n.length-r,_=h.rowSpan>v?v:h.rowSpan;t[d.index]={cell:h,left:_,row:a}}}}}function W9(i){for(var t=i.allRows(),e=0;e<t.length;e++)for(var n=t[e],r=null,a=0,o=0,s=0;s<i.columns.length;s++){var d=i.columns[s];if(o-=1,o>1&&i.columns[s+1])a+=d.width,delete n.cells[d.index];else if(r){var m=r;delete n.cells[d.index],r=null,m.width=d.width+a}else{var m=n.cells[d.index];if(!m)continue;if(o=m.colSpan,a=0,m.colSpan>1){r=m,a+=d.width;continue}m.width=d.width+a}}}function G9(i,t){for(var e={count:0,height:0},n=0,r=i.allRows();n<r.length;n++){for(var a=r[n],o=0,s=i.columns;o<s.length;o++){var d=s[o],m=a.cells[d.index];if(m){t.applyStyles(m.styles,!0);var h=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=t.splitTextToSize(m.text,h+1/t.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=G3(m.text,h,m.styles,t,"...");else if(m.styles.overflow==="hidden")m.text=G3(m.text,h,m.styles,t,"");else if(typeof m.styles.overflow=="function"){var v=m.styles.overflow(m.text,h);typeof v=="string"?m.text=[v]:m.text=v}m.contentHeight=m.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var _=m.contentHeight/m.rowSpan;m.rowSpan>1&&e.count*e.height<_*m.rowSpan?e={height:_,count:m.rowSpan}:e&&e.count>0&&e.height>_&&(_=e.height),_>a.height&&(a.height=_)}}e.count--}}function G3(i,t,e,n,r){return i.map(function(a){return $9(a,t,e,n,r)})}function $9(i,t,e,n,r){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=kv(i,e,n))return i;for(;t<kv(i+r,e,n)&&!(i.length<=1);)i=i.substring(0,i.length-1);return i.trim()+r}function sA(i,t){var e=new xm(i),n=Y9(t,e.scaleFactor()),r=new V9(t,n);return H9(e,r),e.applyStyles(e.userStyles),r}function Y9(i,t){var e=i.content,n=J9(e.columns);if(e.head.length===0){var r=$3(n,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=$3(n,"foot");r&&e.foot.push(r)}var a=i.settings.theme,o=i.styles;return{columns:n,head:yC("head",e.head,n,o,a,t),body:yC("body",e.body,n,o,a,t),foot:yC("foot",e.foot,n,o,a,t)}}function yC(i,t,e,n,r,a){var o={},s=t.map(function(d,m){for(var h=0,v={},_=0,g=0,D=0,E=e;D<E.length;D++){var S=E[D];if(o[S.index]==null||o[S.index].left===0)if(g===0){var w=void 0;Array.isArray(d)?w=d[S.index-_-h]:w=d[S.dataKey];var O={};typeof w=="object"&&!Array.isArray(w)&&(O=w?.styles||{});var G=K9(i,S,m,r,n,a,O),ee=new oA(w,G,i);v[S.dataKey]=ee,v[S.index]=ee,g=ee.colSpan-1,o[S.index]={left:ee.rowSpan-1,times:g}}else g--,_++;else o[S.index].left--,g=o[S.index].times,h++}return new aA(d,m,i,v)});return s}function $3(i,t){var e={};return i.forEach(function(n){if(n.raw!=null){var r=Q9(t,n.raw);r!=null&&(e[n.dataKey]=r)}}),Object.keys(e).length>0?e:null}function Q9(i,t){if(i==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(i==="foot"&&typeof t=="object")return t.footer;return null}function J9(i){return i.map(function(t,e){var n,r;return typeof t=="object"?r=(n=t.dataKey)!==null&&n!==void 0?n:e:r=e,new z9(r,t,e)})}function K9(i,t,e,n,r,a,o){var s=k9(n),d;i==="head"?d=r.headStyles:i==="body"?d=r.bodyStyles:i==="foot"&&(d=r.footStyles);var m=Vl({},s.table,s[i],r.styles,d),h=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},v=i==="body"?h:{},_=i==="body"&&e%2===0?Vl({},s.alternateRow,r.alternateRowStyles):{},g=M9(a),D=Vl({},g,m,_,v);return Vl(D,o)}function X9(i,t,e){var n;e===void 0&&(e={});var r=tA(i,t),a=new Map,o=[],s=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(_){var g=t.columns.find(function(D){return D.dataKey===_||D.index===_});g&&!a.has(g.index)&&(a.set(g.index,!0),o.push(g.index),s.push(t.columns[g.index]),r-=g.wrappedWidth)});for(var m=!0,h=(n=e?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(a.has(h)){h++;continue}var v=t.columns[h].wrappedWidth;if(m||r>=v)m=!1,o.push(h),s.push(t.columns[h]),r-=v;else break;h++}return{colIndexes:o,columns:s,lastIndex:h-1}}function Z9(i,t){for(var e=[],n=0;n<t.columns.length;n++){var r=X9(i,t,{start:n});r.columns.length&&(e.push(r),n=r.lastIndex)}return e}function lA(i,t){var e=t.settings,n=e.startY,r=e.margin,a={x:r.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+r.bottom+o;if(e.pageBreak==="avoid"){var d=t.body,m=d.reduce(function(_,g){return _+g.height},0);s+=m}var h=new xm(i);(e.pageBreak==="always"||e.startY!=null&&s>h.pageSize().height)&&(dA(h),a.y=r.top),t.callWillDrawPageHooks(h,a);var v=Vl({},a);t.startPageNumber=h.pageNumber(),e.horizontalPageBreak?eV(h,t,v,a):(h.applyStyles(h.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(_){return zl(h,t,_,a,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(_,g){var D=g===t.body.length-1;Dv(h,t,_,D,v,a,t.columns)}),h.applyStyles(h.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(_){return zl(h,t,_,a,t.columns)})),Z3(h,t,v,a),t.callEndPageHooks(h,a),t.finalY=a.y,i.lastAutoTable=t,h.applyStyles(h.userStyles)}function eV(i,t,e,n){var r=Z9(i,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(m,h){i.applyStyles(i.userStyles),h>0?hh(i,t,e,n,m.columns,!0):Y3(i,t,n,m.columns),tV(i,t,e,n,m.columns),xC(i,t,n,m.columns)});else for(var o=-1,s=r[0],d=function(){var m=o;if(s){i.applyStyles(i.userStyles);var h=s.columns;o>=0?hh(i,t,e,n,h,!0):Y3(i,t,n,h),m=Q3(i,t,o+1,n,h),xC(i,t,n,h)}var v=m-o;r.slice(1).forEach(function(_){i.applyStyles(i.userStyles),hh(i,t,e,n,_.columns,!0),Q3(i,t,o+1,n,_.columns,v),xC(i,t,n,_.columns)}),o=m};o<t.body.length-1;)d()}function Y3(i,t,e,n){var r=t.settings;i.applyStyles(i.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(a){return zl(i,t,a,e,n)})}function tV(i,t,e,n,r){i.applyStyles(i.userStyles),t.body.forEach(function(a,o){var s=o===t.body.length-1;Dv(i,t,a,s,e,n,r)})}function Q3(i,t,e,n,r,a){i.applyStyles(i.userStyles),a=a??t.body.length;var o=Math.min(e+a,t.body.length),s=-1;return t.body.slice(e,o).forEach(function(d,m){var h=e+m===t.body.length-1,v=cA(i,t,h,n);d.canEntireRowFit(v,r)&&(zl(i,t,d,n,r),s=e+m)}),s}function xC(i,t,e,n){var r=t.settings;i.applyStyles(i.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(a){return zl(i,t,a,e,n)})}function iV(i,t,e){var n=e.getLineHeight(i.styles.fontSize),r=i.padding("vertical"),a=Math.floor((t-r)/n);return Math.max(0,a)}function nV(i,t,e,n){var r={};i.spansMultiplePages=!0,i.height=0;for(var a=0,o=0,s=e.columns;o<s.length;o++){var d=s[o],m=i.cells[d.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var h=new oA(m.raw,m.styles,m.section);h=Vl(h,m),h.text=[];var v=iV(m,t,n);m.text.length>v&&(h.text=m.text.splice(v,m.text.length));var _=n.scaleFactor(),g=n.getLineHeightFactor();m.contentHeight=m.getContentHeight(_,g),m.contentHeight>=t&&(m.contentHeight=t,h.styles.minCellHeight-=t),m.contentHeight>i.height&&(i.height=m.contentHeight),h.contentHeight=h.getContentHeight(_,g),h.contentHeight>a&&(a=h.contentHeight),r[d.index]=h}}var D=new aA(i.raw,-1,i.section,r,!0);D.height=a;for(var E=0,S=e.columns;E<S.length;E++){var d=S[E],h=D.cells[d.index];h&&(h.height=D.height);var m=i.cells[d.index];m&&(m.height=i.height)}return D}function rV(i,t,e,n){var r=i.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,s=r-o;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,i),m=d<e;if(d>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var h=t.hasRowSpan(n.columns),v=t.getMaxCellHeight(n.columns)>s;return v?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Dv(i,t,e,n,r,a,o){var s=cA(i,t,n,a);if(e.canEntireRowFit(s,o))zl(i,t,e,a,o);else if(rV(i,e,s,t)){var d=nV(e,s,t,i);zl(i,t,e,a,o),hh(i,t,r,a,o),Dv(i,t,d,n,r,a,o)}else hh(i,t,r,a,o),Dv(i,t,e,n,r,a,o)}function zl(i,t,e,n,r){n.x=t.settings.margin.left;for(var a=0,o=r;a<o.length;a++){var s=o[a],d=e.cells[s.index];if(!d){n.x+=s.width;continue}i.applyStyles(d.styles),d.x=n.x,d.y=n.y;var m=t.callCellHooks(i,t.hooks.willDrawCell,d,e,s,n);if(m===!1){n.x+=s.width;continue}aV(i,d,n);var h=d.getTextPos();J3(d.text,h.x,h.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},i.getDocument()),t.callCellHooks(i,t.hooks.didDrawCell,d,e,s,n),n.x+=s.width}n.y+=e.height}function aV(i,t,e){var n=t.styles;if(i.getDocument().setFillColor(i.getDocument().getFillColor()),typeof n.lineWidth=="number"){var r=eA(n.lineWidth,n.fillColor);r&&i.rect(t.x,e.y,t.width,t.height,r)}else typeof n.lineWidth=="object"&&(n.fillColor&&i.rect(t.x,e.y,t.width,t.height,"F"),oV(i,t,e,n.lineWidth))}function oV(i,t,e,n){var r,a,o,s;n.top&&(r=e.x,a=e.y,o=e.x+t.width,s=e.y,n.right&&(o+=.5*n.right),n.left&&(r-=.5*n.left),d(n.top,r,a,o,s)),n.bottom&&(r=e.x,a=e.y+t.height,o=e.x+t.width,s=e.y+t.height,n.right&&(o+=.5*n.right),n.left&&(r-=.5*n.left),d(n.bottom,r,a,o,s)),n.left&&(r=e.x,a=e.y,o=e.x,s=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),d(n.left,r,a,o,s)),n.right&&(r=e.x+t.width,a=e.y,o=e.x+t.width,s=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),d(n.right,r,a,o,s));function d(m,h,v,_,g){i.getDocument().setLineWidth(m),i.getDocument().line(h,v,_,g,"S")}}function cA(i,t,e,n){var r=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),i.pageSize().height-n.y-r}function hh(i,t,e,n,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),i.applyStyles(i.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(s){return zl(i,t,s,n,r)}),t.callEndPageHooks(i,n);var o=t.settings.margin;Z3(i,t,e,n),dA(i),t.pageNumber++,n.x=o.left,n.y=o.top,e.y=o.top,t.callWillDrawPageHooks(i,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return zl(i,t,s,n,r)}),i.applyStyles(i.userStyles))}function dA(i){var t=i.pageNumber();i.setPage(t+1);var e=i.pageNumber();return e===t?(i.addPage(),!0):!1}function sV(i){i.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=rA(this,n),a=sA(this,r);return lA(this,a),this},i.API.lastAutoTable=!1,i.API.autoTableText=function(t,e,n,r){J3(t,e,n,r,this)},i.API.autoTableSetDefaults=function(t){return xm.setDefaults(t,this),this},i.autoTableSetDefaults=function(t,e){xm.setDefaults(t,e)},i.API.autoTableHtmlToJson=function(t,e){var n;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new xm(this),a=nA(r,t,window,e,!1),o=a.head,s=a.body,d=((n=o[0])===null||n===void 0?void 0:n.map(function(m){return m.content}))||[];return{columns:d,rows:s,data:s}}}var CC;function uA(i,t){var e=rA(i,t),n=sA(i,e);lA(i,n)}try{typeof window<"u"&&window&&(wC=window,SC=wC.jsPDF||((CC=wC.jspdf)===null||CC===void 0?void 0:CC.jsPDF),SC&&sV(SC))}catch(i){console.error("Could not apply autoTable plugin",i)}var wC,SC;var Av=class i{constructor(t,e){this.jobsService=t;this.snackBar=e}getBillOfMaterials(t){return this.jobsService.GetBillOfMaterials(t).pipe(bi(e=>e.length>0?e.map(n=>({id:n.id,jobId:n.jobId,documentId:n.DocumentId,bomJson:"",materialsEstimateJson:n.materialsEstimateJson,fullResponse:n.fullResponse,createdAt:n.createdAt,parsedReport:this.parseReport(n.fullResponse)})):{message:e.message,isProcessingComplete:!1}),It(e=>wt({error:e.error?.error||"Failed to check AI processing status."})))}parseReport(t){if(!t)return{sections:[]};let e=[],n={2:"Groundwork & Foundation",3:"Framing & Structure",4:"Roofing",5:"Exterior Enclosure",6:"Electrical",7:"Plumbing",8:"HVAC",9:"Insulation",10:"Drywall",11:"Painting & Coatings",12:"Interior Trim & Doors",13:"Kitchen & Bath",14:"Flooring",15:"Exterior Flatwork & Landscaping",16:"Cleaning & Final Touches"},r=(m,h)=>{let v=-1;for(let _=h;_<m.length;_++)if(m[_].trim().startsWith("|")&&!m[_].includes("---")){v=_;break}if(v!==-1){let _=m[v].split("|").map(D=>D.trim().replace(/\*\*/g,"")).slice(1,-1),g=[];for(let D=v+2;D<m.length;D++){let S=m[D].trim();if(S.startsWith("|")){let w=S.split("|").map(O=>O.trim().replace(/\*/g,"")).slice(1,-1);w.length>0&&w.join("").trim()!==""&&g.push(w)}else if(S.startsWith("###")||S.startsWith("Ready for the next prompt")||S.startsWith("*Note:"))break}if(_.length>0&&g.length>0)return{headers:_,content:g}}return null},a=t.split(/(?=Ready for the next prompt \d+\.)/);for(let m of a){let h=m.match(/Ready for the next prompt (\d+)\./);if(!h)continue;let v=parseInt(h[1],10),_=n[v];if(_){let g=m.trim().split(`
`),D=g.findIndex(S=>S.includes("Materials Bill of Materials (BOM)"));if(D!==-1){let S=r(g,D+1);S&&e.push(Ct({title:`${_} - Bill of Materials`,type:"table"},S))}let E=g.findIndex(S=>S.includes("Subcontractor Cost Breakdown"));if(E!==-1){let S=r(g,E+1);S&&e.push(Ct({title:`${_} - Subcontractor Cost Breakdown`,type:"table"},S))}}}let o=t.split(`
`),s=-1,d=[/### \*\*.*Detailed Cost Breakdown\*\*/i,/### \*\*.*As-Specced Project Budget\*\*/i,/### \*\*.*Cost Breakdown\*\*/i];for(let m of d){let h=o.findIndex(v=>m.test(v));if(h!==-1){s=h;break}}if(s!==-1){let m=r(o,s+1);m&&e.push(Ct({title:"Total Cost Breakdown",type:"table"},m))}return{sections:e}}generateBOMPDF(t){if(!t||t.length===0){this.snackBar.open("No data available to generate PDF.","Close",{duration:3e3});return}let e=new Lt,n=new Image;n.src="assets/logo.png";let r=t[0].parsedReport,a=o=>{let s=()=>{o&&e.addImage(n,"PNG",10,10,50,15),e.setFontSize(18),e.text("Bill of Materials",10,o?35:15)};r.sections.forEach((d,m)=>{m>0&&e.addPage(),s(),e.setFontSize(14),e.text(d.title,10,o?45:25),uA(e,{head:[d.headers],body:d.content,startY:o?50:30,theme:"grid",headStyles:{fillColor:"#FFC107",textColor:"#000000"}})}),e.save("bill-of-materials.pdf")};n.onload=()=>{a(!0)},n.onerror=()=>{this.snackBar.open("Could not load logo, proceeding without it.","Close",{duration:3e3}),a(!1)}}static \u0275fac=function(e){return new(e||i)(Xe(An),Xe(Hn))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Iv=class i{constructor(t,e){this.jobsService=t;this.snackBar=e}downloadEnvironmentalReport(t){return Yr(this,null,function*(){try{let e=yield this.jobsService.GetBillOfMaterials(t).toPromise();if(!e||e.length===0||!e[0].fullResponse){this.snackBar.open("Could not retrieve the report data.","Close",{duration:3e3});return}let n=e[0].fullResponse,r="Ready for the next prompt 20.",a="Ready for the next prompt 21.",o=n.indexOf(r);if(o===-1){this.snackBar.open("Environmental report section not found.","Close",{duration:3e3});return}o+=r.length;let s=n.indexOf(a,o);if(s===-1){this.snackBar.open("End of environmental report section not found.","Close",{duration:3e3});return}let d=n.substring(o,s).trim();["Here is the comprehensive Environmental Lifecycle Report for the Hernandez Residence.","**Prepared By:** Gemini Sustainability Consulting","**From:** Gemini - Sustainability Consultant & Estimator","### **Phase 20: Environmental Lifecycle Report**"].forEach(g=>{d=d.replace(new RegExp(g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),"").trim()});let h=yield Promise.resolve(T5(d)),v=new Image;v.src="assets/logo.png";let _=g=>{let D=new Worker(new URL("worker-RX6PUQE5.js",import.meta.url),{type:"module"});D.onmessage=({data:S})=>{if(S.success){let w=document.createElement("a");w.href=URL.createObjectURL(S.pdfBlob),w.download="environmental-lifecycle-report.pdf",w.click(),URL.revokeObjectURL(w.href)}else this.snackBar.open(S.error,"Close",{duration:3e3});D.terminate()},D.onerror=S=>{console.error("Worker error:",S),this.snackBar.open("An error occurred while generating the PDF.","Close",{duration:3e3}),D.terminate()};let E=this._parseHtmlToJson(h);D.postMessage({reportContent:E,logoDataUrl:g})};v.onload=()=>{let g=document.createElement("canvas"),D=g.getContext("2d");g.width=v.width,g.height=v.height,D.drawImage(v,0,0);let E=g.toDataURL("image/png");_(E)},v.onerror=()=>{console.warn("Could not load logo, proceeding without it."),_()}}catch(e){console.error("Failed to get bill of materials for report:",e),this.snackBar.open("Failed to fetch report data.","Close",{duration:3e3})}})}_parseHtmlToJson(t){let n=new DOMParser().parseFromString(t,"text/html"),r=[];return Array.from(n.body.children).forEach(o=>{switch(o.tagName){case"H3":r.push({type:"h3",text:o.textContent||""});break;case"P":r.push({type:"p",text:o.textContent||""});break;case"UL":let s=Array.from(o.querySelectorAll("li")).map(v=>v.textContent||"");r.push({type:"ul",items:s});break;case"OL":let d=Array.from(o.querySelectorAll("li")).map(v=>v.textContent||"");r.push({type:"ol",items:d});break;case"TABLE":let m=Array.from(o.querySelectorAll("thead tr")).map(v=>Array.from(v.querySelectorAll("th")).map(_=>_.textContent||"")),h=Array.from(o.querySelectorAll("tbody tr")).map(v=>Array.from(v.querySelectorAll("td")).map(_=>_.textContent||""));r.push({type:"table",head:m,body:h});break}}),r}static \u0275fac=function(e){return new(e||i)(Xe(An),Xe(Hn))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var dV=St.BACKEND_URL,Pv=class i{constructor(t,e){this.httpClient=t;this.snackBar=e}isGoogleMapsLoaded=!1;loadGoogleMapsScript(){return new Promise((t,e)=>{if(typeof google<"u"&&google.maps){t();return}let n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${St.Google_API}&libraries=places`,n.async=!0,n.defer=!0,n.onload=()=>{typeof google<"u"&&google.maps?(this.isGoogleMapsLoaded=!0,t()):e(new Error("Google Maps API script loaded but google object is not defined"))},n.onerror=r=>{console.error("Google Maps script failed to load:",r),e(r)},document.head.appendChild(n)})}getPlacePredictions(t){if(!t||!this.isGoogleMapsLoaded)return wt([]);let e=new google.maps.places.AutocompleteService;return new yl(n=>{e.getPlacePredictions({input:t,componentRestrictions:{country:"us"},types:["address"]},(r,a)=>{a===google.maps.places.PlacesServiceStatus.OK&&r?n.next(r.map(o=>({description:o.description,place_id:o.place_id}))):n.next([]),n.complete()})})}onAddressSelected(t,e){let n=t.option.value;if(!n||!n.place_id)return wt(null);if(!e?.nativeElement)return wt(null);let r=new google.maps.places.PlacesService(e.nativeElement);return new yl(a=>{r.getDetails({placeId:n.place_id,fields:["address_components","formatted_address","geometry","name","place_id"]},(o,s)=>{if(s===google.maps.places.PlacesServiceStatus.OK&&o){let d=(m,h)=>{let v=m.find(_=>_.types.includes(h));return v?v.long_name:""};if(o.address_components&&o.geometry&&o.geometry.location){let m={streetNumber:d(o.address_components,"street_number"),streetName:d(o.address_components,"route"),city:d(o.address_components,"locality"),state:d(o.address_components,"administrative_area_level_1"),zipCode:d(o.address_components,"postal_code"),country:d(o.address_components,"country"),latitude:o.geometry.location.lat(),longitude:o.geometry.location.lng(),formatted_address:o.formatted_address,google_place_id:o.place_id};a.next({place:o,selectedAddress:m,description:n.description})}else a.next(null)}else a.next(null);a.complete()})})}saveAddress(t,e){return!e||!t?(this.snackBar.open("Please select a valid address from the suggestions.","Close",{duration:3e3}),wt(null)):this.httpClient.put(`${dV}/Jobs/${t}/address`,e)}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(Hn))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Tv=class i{constructor(t,e,n){this.store=t;this.dialog=e;this.http=n;this.timelineGroups$=this.store.select(r=>r.subtaskGroups).pipe(bi(r=>(r||[]).map(a=>{let o=a.subtasks.filter(S=>!S.deleted);if(o.length===0)return{title:a.title,subtasks:[],startDate:new Date,endDate:new Date,progress:0,scheduleStatus:"on-track"};let s=o.map(S=>new Date(S.startDate||S.start)).filter(S=>!isNaN(S.getTime())),d=o.map(S=>new Date(S.endDate||S.end)).filter(S=>!isNaN(S.getTime())),m=s.length>0?new Date(Math.min(...s.map(S=>S.getTime()))):new Date,h=d.length>0?new Date(Math.max(...d.map(S=>S.getTime()))):new Date,v=o.filter(S=>S.status==="completed"||S.accepted).length,_=o.length>0?Math.round(v/o.length*100):0,g=new Date,E=o.some(S=>new Date(S.endDate||S.end)<g&&S.status!=="completed"&&!S.accepted)?"behind":_===100?"ahead":"on-track";return{title:a.title,subtasks:o.map(S=>({id:S.id||Math.random().toString(),name:S.task,task:S.task,start:new Date(S.startDate||S.start),end:new Date(S.endDate||S.end),startDate:S.startDate,endDate:S.endDate,days:S.days,progress:S.accepted||S.status==="completed"?100:0,status:S.status||"pending",isCritical:this.isTaskCritical(S),cost:S.cost,deleted:S.deleted,accepted:S.accepted})),startDate:m,endDate:h,progress:_,scheduleStatus:E}})))}timelineGroups$;get timelineTaskData(){let t=this.extractMainTasksFromGroups(this.store.getState().subtaskGroups);return t?t.map(e=>({id:e.id,name:e.name,start:new Date(e.start),end:new Date(e.end),progress:e.progress||0,dependencies:e.dependencies,resource:e.resource,color:this.getTaskColor(e),isCritical:this.isTaskCritical(e)})):[]}getTaskColor(t){return{Foundation:"#3b82f6","Roof Structure":"#10b981","Wall Structure":"#f59e0b",Electrical:"#ef4444",Plumbing:"#8b5cf6"}[t.name]||"#61a0af"}isTaskCritical(t){let e=["foundation","structural","inspection","permit"],n=(t.task||t.name||"").toLowerCase();return e.some(r=>n.includes(r))}handleTaskMove(t){let e=this.store.getState().subtaskGroups||[];for(let n of e){let r=n.subtasks.findIndex(a=>a.id===t.taskId);if(r!==-1){n.subtasks[r].startDate=t.newStartDate.toISOString().split("T")[0],n.subtasks[r].endDate=t.newEndDate.toISOString().split("T")[0],this.store.setState({subtaskGroups:[...e]});break}}}handleGroupMove(t,e,n){this.dialog.open(Tl,{data:{title:"Confirm Move",message:`Please confirm you want to move this task to ${wb(t.newStartDate,"MMM d, yyyy")}. This will notify all users assigned to this task.`}}).afterClosed().subscribe(a=>{if(a){let o=this.store.getState().subtaskGroups||[],s=o.findIndex(d=>d.title===t.groupId);if(s!==-1){let d=o[s],m=new Date(Math.min(...d.subtasks.map(v=>new Date(v.startDate||v.start).getTime()))),h=yo(t.newStartDate,m);d.subtasks.forEach(v=>{let _=new Date(v.startDate||v.start),g=new Date(v.endDate||v.end);_.setDate(_.getDate()+h),g.setDate(g.getDate()+h),v.startDate=_.toISOString().split("T")[0],v.endDate=g.toISOString().split("T")[0],this.notifyTimelineUpdate(e,v.id,n).subscribe()}),this.store.setState({subtaskGroups:[...o]})}}})}notifyTimelineUpdate(t,e,n){return this.http.post(`${St.BACKEND_URL}/Jobs/NotifyTimelineUpdate`,{jobId:t,subtaskId:e,senderId:n})}handleGroupClick(t){console.log("Group clicked:",t)}handleEditGroup(t){console.log("Edit group:",t)}extractMainTasksFromGroups(t){return t.map((e,n)=>{let r=e.subtasks?.filter(m=>!m.deleted)||[];if(r.length===0)return null;let a=new Date(r[0].startDate),o=new Date(r[r.length-1].endDate),s=r.filter(m=>m.status?.toLowerCase()==="completed").length,d=Math.round(s/r.length*100);return{id:(n+1).toString(),name:this.cleanTaskName(e.title),start:a,end:o,progress:d,dependencies:null}}).filter(Boolean)}cleanTaskName(t){return typeof t=="string"?t.replace(/^\*\*|\*\*$/g,"").trim():t}static \u0275fac=function(e){return new(e||i)(Xe(Vo),Xe(pn),Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ov=class i{constructor(t){this.authService=t}hubConnection;progress=new vt;uploadComplete=new vt;startConnection(t){this.hubConnection=new _c().withUrl(`https://probuildai-backend.wonderfulgrass-0f331ae8.centralus.azurecontainerapps.io/progressHub?sessionId=${t}`,{accessTokenFactory:()=>Yr(this,null,function*(){return(yield this.authService.getToken())||""})}).withAutomaticReconnect([0,2e3,1e4,3e4]).configureLogging(Ru.Debug).build(),this.hubConnection.onreconnecting(e=>console.warn("Connection lost. Reconnecting...",e)),this.hubConnection.start().then(()=>console.log("SignalR connection established successfully")).catch(e=>console.error("SignalR Connection Error:",e)),this.hubConnection.on("ReceiveProgress",e=>{this.progress.next(e)}),this.hubConnection.on("UploadComplete",e=>{this.uploadComplete.next(e)})}stopConnection(){this.hubConnection&&this.hubConnection.stop()}static \u0275fac=function(e){return new(e||i)(Xe(hi))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Cm=class i{constructor(t,e){this.http=t;this.authService=e}apiUrl=`${St.BACKEND_URL}/jobAssignment`;getHeaders(){let t=this.authService.getToken();return new Jr(Ct({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{}))}getJobAssignment(){let t=this.authService.currentUserSubject.value?.id;if(!t)return console.error("No userId available"),si(()=>new Error("User not authenticated"));let e=`${this.apiUrl}/GetAssignedUsers/${t}`;return this.http.get(e,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error fetching profile:",n),si(()=>new Error("Failed to load profile")))))}getAvailableUser(){let t=`${this.apiUrl}/GetUsers`;return this.http.get(t,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error fetching profile:",e),si(()=>new Error("Failed to load profile")))))}createJobAssignment(t){return this.http.post(this.apiUrl,t,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error creating job assignment:",e),si(()=>new Error("Failed to create job assignment")))))}deleteUserAssignment(t){let e=`${this.apiUrl}/DeleteAssignment`;return this.http.post(e,t,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error deleting user assignment:",n),si(()=>new Error("Failed to delete user assignment")))))}handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.message}`,console.error(e),si(()=>new Error(e))}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(hi))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Rv=class i{constructor(t){this.httpClient=t}baseUrl="https://weather.googleapis.com/v1/forecast/days:lookup";getWeatherForecast(t,e){let n=`${this.baseUrl}?key=${St.Google_API}&location.latitude=${t}&location.longitude=${e}&unitsSystem=METRIC`;return this.httpClient.get(n).pipe(bi(r=>{if(!r.forecastDays)throw new Error("No forecast data available");return r.forecastDays.map(a=>({date:new Date(a.displayDate.year,a.displayDate.month-1,a.displayDate.day).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),iconUrl:a.daytimeForecast.weatherCondition.iconBaseUri||"https://via.placeholder.com/50",condition:this.capitalize(a.daytimeForecast.weatherCondition.description.text),highTemp:Math.round(a.maxTemperature.degrees),lowTemp:Math.round(a.minTemperature.degrees),precipitationProbability:a.daytimeForecast.precipitation.probability.percent}))}),It(r=>(console.error("Failed to fetch forecast:",r),si(()=>new Error("Unable to fetch weather forecast")))))}capitalize(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}getFutureWeather(t,e){return this.httpClient.get(`https://some-other-api?location=${t}&date=${e}`)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Nv=class i{RAIN_AFFECTED_CATEGORIES=["site preparation","excavation","foundation","concrete","framing","structural carpentry","roof installation","masonry","bricklaying","exterior finishes","waterproofing","damp proofing","window installation","door installation","landscaping","exterior works","1. Pre-construction","2. Site preparation","3. Excavation","4. Foundation","5. Concrete work","6. Framing","7. Roofing","8. Exterior finishes","9. Interior finishes","10. Landscaping","11. Final inspection","12. Handover"];constructor(){}applyWeatherImpact(t,e){return!e||e.length===0?t:t.map(n=>{let r=!1,a=[];return n.subtasks.forEach(o=>{let s=o.name.toLowerCase();if(this.RAIN_AFFECTED_CATEGORIES.some(m=>s.includes(m))){let m=new Date(o.start);m.setHours(0,0,0,0);let h=new Date(o.end);h.setHours(0,0,0,0);let v=m.getFullYear(),_=e.filter(g=>{let D=new Date(`${g.date} ${v}`);D.setHours(0,0,0,0);let E=g.condition.toLowerCase().includes("rain")||g.condition.toLowerCase().includes("thunderstorm")||g.precipitationProbability>50;return D>=m&&D<=h&&E});if(_.length>0){o.hasWeatherWarning=!0;let g=_[0];o.weatherWarningMessage=`Potential delay due to ${g.condition}.`,o.weatherIconUrl=g.iconUrl;let D=`Task '${o.name}' may be delayed due to rain forecast on ${_.length} day(s).`;a.includes(D)||a.push(D),r=!0}else o.hasWeatherWarning=!1}else o.hasWeatherWarning=!1}),r&&(n.hasWeatherWarning=!0,n.weatherWarningMessage=a.join(`
`)),n})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var gV=["documentsDialog"],bV=["billOfMaterialsDialog"],vV=["noteDialog"],_V=["addressInput"];function yV(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function xV(i,t){if(i&1&&(l(0,"span"),u(1),c()),i&2){let e=P(2);b(),xe(e.projectDetails.address)}}function CV(i,t){if(i&1&&(l(0,"span"),u(1),c()),i&2){let e=P(2);b(),xe(e.projectDetails.jobAddress.formatted_address)}}function wV(i,t){if(i&1){let e=ge();l(0,"button",33),z("click",function(){q(e);let r=P(2);return W(r.toggleAddressEdit(!0))}),l(1,"mat-icon"),u(2,"edit"),c()()}}function SV(i,t){if(i&1&&(l(0,"div",31)(1,"span")(2,"strong"),u(3,"Address: "),c(),I(4,xV,2,1,"span",8)(5,CV,2,1,"span",8),c(),I(6,wV,3,0,"button",32),c()),i&2){let e=P();b(4),C("ngIf",e.projectDetails.address),b(),C("ngIf",!e.projectDetails.address&&(e.projectDetails.jobAddress==null?null:e.projectDetails.jobAddress.formatted_address)),b(),C("ngIf",e.authService.hasPermission("editJobs"))}}function MV(i,t){if(i&1&&(l(0,"mat-option",42),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e.description," ")}}function kV(i,t){if(i&1){let e=ge();l(0,"div",34)(1,"mat-form-field",35)(2,"mat-label"),u(3,"Address"),c(),F(4,"input",36,3),l(6,"mat-autocomplete",37,4),z("optionSelected",function(r){q(e);let a=P();return W(a.onAddressSelected(r))}),I(8,MV,2,2,"mat-option",38),c()(),l(9,"div",39)(10,"button",40),z("click",function(){q(e);let r=P();return W(r.saveAddress())}),u(11,"Save"),c(),l(12,"button",41),z("click",function(){q(e);let r=P();return W(r.toggleAddressEdit(!1))}),u(13,"Cancel"),c()()()}if(i&2){let e=Vt(7),n=P();b(4),C("formControl",n.addressControl)("matAutocomplete",e),b(4),C("ngForOf",n.addressSuggestions),b(2),C("disabled",n.isLoading)}}function DV(i,t){if(i&1&&(l(0,"div",45)(1,"div",46),u(2),c(),F(3,"img",47),l(4,"div",48),u(5),c(),l(6,"div",49)(7,"span",50),u(8),c(),l(9,"span",51),u(10),c()(),l(11,"div",52),u(12),c()()),i&2){let e=t.$implicit;b(2),xe(e.date),b(),C("src",e.iconUrl,bu),b(2),xe(e.condition),b(3),Ce("",e.highTemp,"\xB0"),b(2),Ce("",e.lowTemp,"\xB0"),b(2),Ce(" ",e.precipitationProbability,"% ")}}function EV(i,t){if(i&1&&(l(0,"div",43),I(1,DV,13,6,"div",44),c()),i&2){let e=P();b(),C("ngForOf",e.store.getState().forecast)}}function AV(i,t){if(i&1&&(l(0,"div",53),u(1),c()),i&2){let e=P();b(),Ce(" ",e.store.getState().weatherError," ")}}function IV(i,t){if(i&1){let e=ge();l(0,"button",59),z("click",function(){q(e);let r=P().$implicit,a=P();return W(a.subtaskService.addSubtask(r))}),u(1," Add Subtask "),c()}}function PV(i,t){if(i&1){let e=ge();l(0,"button",66),z("click",function(){q(e);let r=P().index,a=P().$implicit,o=P();return W(o.subtaskService.deleteSubtask(a,r))}),u(1," Delete "),c()}}function TV(i,t){if(i&1){let e=ge();l(0,"tr")(1,"td")(2,"input",60),jn("ngModelChange",function(r){let a=q(e).$implicit;return Ln(a.task,r)||(a.task=r),W(r)}),c()(),l(3,"td")(4,"input",61),jn("ngModelChange",function(r){let a=q(e).$implicit;return Ln(a.days,r)||(a.days=r),W(r)}),z("change",function(){let r=q(e).index,a=P().$implicit,o=P();return W(o.isProjectOwner&&o.subtaskService.updateSubtaskDates(a,r))}),c()(),l(5,"td")(6,"input",62),jn("ngModelChange",function(r){let a=q(e).$implicit;return Ln(a.startDate,r)||(a.startDate=r),W(r)}),z("change",function(){let r=q(e).index,a=P().$implicit,o=P();return W(o.isProjectOwner&&o.subtaskService.updateSubtaskDates(a,r))}),c()(),l(7,"td")(8,"input",63),jn("ngModelChange",function(r){let a=q(e).$implicit;return Ln(a.endDate,r)||(a.endDate=r),W(r)}),c()(),l(9,"td"),u(10),c(),l(11,"td"),I(12,PV,2,0,"button",64),c(),l(13,"td")(14,"button",59),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.openNoteDialog(r))}),u(15," Update "),c()(),l(16,"td")(17,"mat-checkbox",65),jn("ngModelChange",function(r){let a=q(e).$implicit;return Ln(a.accepted,r)||(a.accepted=r),W(r)}),c()()()}if(i&2){let e=t.$implicit,n=P(2);b(2),Fn("ngModel",e.task),C("readonly",!n.isProjectOwner),b(2),Fn("ngModel",e.days),C("readonly",!n.isProjectOwner),b(2),Fn("ngModel",e.startDate),C("readonly",!n.isProjectOwner),b(2),Fn("ngModel",e.endDate),C("readonly",!n.isProjectOwner),b(2),Ce(" ",e.status||"Pending"," "),b(2),C("ngIf",n.authService.hasPermission("deleteJobs")),b(5),Fn("ngModel",e.accepted),C("disabled",!n.isProjectOwner)}}function OV(i,t){if(i&1&&(l(0,"div",54)(1,"div",55)(2,"h3"),u(3),c(),I(4,IV,2,0,"button",56),c(),l(5,"table",57)(6,"thead")(7,"tr")(8,"th"),u(9,"Task"),c(),l(10,"th"),u(11,"Days"),c(),l(12,"th"),u(13,"Start Date"),c(),l(14,"th"),u(15,"End Date"),c(),l(16,"th"),u(17,"Task Status"),c(),l(18,"th"),u(19,"Actions"),c(),l(20,"th"),u(21,"Notes"),c(),l(22,"th"),u(23,"Approve"),c()()(),l(24,"tbody"),I(25,TV,18,12,"tr",58),c()()()),i&2){let e=t.$implicit,n=P();b(3),xe(e.title),b(),C("ngIf",n.authService.hasPermission("createJobs")),b(21),C("ngForOf",n.subtaskService.getVisibleSubtasks(e))}}function RV(i,t){if(i&1){let e=ge();l(0,"button",67),z("click",function(){q(e);let r=P();return W(r.subtaskService.publish())}),u(1," Publish Job "),c()}}function NV(i,t){if(i&1){let e=ge();l(0,"button",27),z("click",function(){q(e);let r=P();return W(r.subtaskService.saveOnly())}),u(1," Save Job "),c()}}function FV(i,t){if(i&1){let e=ge();l(0,"button",68),z("click",function(){q(e);let r=P();return W(r.subtaskService.discard())}),u(1," Discard Job "),c()}}function LV(i,t){i&1&&(l(0,"span"),u(1,"Download Environmental Report"),c())}function jV(i,t){i&1&&(l(0,"span"),u(1,"Generating..."),c())}function BV(i,t){if(i&1){let e=ge();l(0,"button",69),z("click",function(){q(e);let r=P();return W(r.subtaskService.acceptAllSubtasks())}),u(1," Accept All Subtasks "),c()}}function VV(i,t){i&1&&(l(0,"div",74),F(1,"app-loader"),l(2,"p"),u(3,"Loading documents..."),c()())}function zV(i,t){i&1&&(l(0,"div",77)(1,"p"),u(2,"No documents available for this quote."),c()())}function HV(i,t){if(i&1&&(l(0,"div",77)(1,"p"),u(2),c()()),i&2){let e=P(3);b(2),xe(e.documentsError)}}function UV(i,t){if(i&1){let e=ge();l(0,"div",80)(1,"div",81)(2,"span",82),u(3),c(),l(4,"span",83),u(5),dt(6,"filesize"),c()(),l(7,"button",84),z("click",function(){let r=q(e).$implicit,a=P(4);return W(a.viewDocument(r))}),u(8," View "),c()()}if(i&2){let e=t.$implicit;b(3),xe(e.fileName),b(2),ir("",e.type," - ",Wt(6,3,e.size),"")}}function qV(i,t){if(i&1&&(l(0,"div",78),I(1,UV,9,5,"div",79),c()),i&2){let e=P(3);b(),C("ngForOf",e.documents)}}function WV(i,t){if(i&1&&(l(0,"div"),I(1,zV,3,0,"div",75)(2,HV,3,1,"div",75)(3,qV,2,1,"div",76),c()),i&2){let e=P(2);b(),C("ngIf",e.documents.length===0&&!e.documentsError),b(),C("ngIf",e.documentsError),b(),C("ngIf",e.documents.length>0)}}function GV(i,t){if(i&1){let e=ge();l(0,"div",70)(1,"h2",71),u(2,"Quote Documents"),c(),l(3,"mat-dialog-content"),I(4,VV,4,0,"div",72)(5,WV,4,3,"div",8),c(),l(6,"mat-dialog-actions")(7,"button",73),z("click",function(){q(e);let r=P();return W(r.closeDocumentsDialog())}),u(8,"Close"),c()()()}if(i&2){let e=P();b(4),C("ngIf",e.isDocumentsLoading),b(),C("ngIf",!e.isDocumentsLoading)}}function $V(i,t){i&1&&(l(0,"div",74),F(1,"app-loader"),l(2,"p"),u(3,"Loading processing results..."),c()())}function YV(i,t){if(i&1&&(l(0,"div",77)(1,"p"),u(2),c()()),i&2){let e=P(3);at("error",e.bomError?"":null),b(2),xe(e.bomError||"No document processing results available.")}}function QV(i,t){if(i&1&&F(0,"p",100),i&2){let e=t.$implicit;C("innerHTML",e,eg)}}function JV(i,t){if(i&1&&(l(0,"div",98),I(1,QV,1,1,"p",99),c()),i&2){let e=P().$implicit;b(),C("ngForOf",e.content)}}function KV(i,t){if(i&1&&(l(0,"li"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e)}}function XV(i,t){if(i&1&&(l(0,"div",101)(1,"ul"),I(2,KV,2,1,"li",58),c()()),i&2){let e=P().$implicit;b(2),C("ngForOf",e.content)}}function ZV(i,t){if(i&1&&(l(0,"th"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e)}}function ez(i,t){if(i&1&&(l(0,"td"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e)}}function tz(i,t){if(i&1&&(l(0,"tr"),I(1,ez,2,1,"td",58),c()),i&2){let e=t.$implicit;b(),C("ngForOf",e)}}function iz(i,t){if(i&1&&(l(0,"div",102)(1,"table",57)(2,"thead")(3,"tr"),I(4,ZV,2,1,"th",58),c()(),l(5,"tbody"),I(6,tz,2,1,"tr",58),c()()()),i&2){let e=P().$implicit;b(4),C("ngForOf",e.headers),b(2),C("ngForOf",e.content)}}function nz(i,t){if(i&1&&(l(0,"div",92)(1,"h3",93),u(2),c(),l(3,"div",94),I(4,JV,2,1,"div",95)(5,XV,3,1,"div",96)(6,iz,7,2,"div",97),c()()),i&2){let e=t.$implicit;b(2),xe(e.title),b(2),C("ngIf",e.type==="text"),b(),C("ngIf",e.type==="list"),b(),C("ngIf",e.type==="table")}}function rz(i,t){if(i&1&&(l(0,"div",90),I(1,nz,7,4,"div",91),c()),i&2){let e=t.$implicit;b(),C("ngForOf",e.parsedReport.sections)}}function az(i,t){if(i&1&&(l(0,"div",88),I(1,rz,2,1,"div",89),c()),i&2){let e=P(3);b(),C("ngForOf",e.processingResults)}}function oz(i,t){if(i&1&&(l(0,"div"),I(1,YV,3,2,"div",75)(2,az,2,1,"div",87),c()),i&2){let e=P(2);b(),C("ngIf",e.processingResults.length===0||e.bomError),b(),C("ngIf",e.processingResults.length>0&&!e.bomError)}}function sz(i,t){if(i&1){let e=ge();l(0,"div",85)(1,"h2",71),u(2,"Document Processing Results"),c(),l(3,"mat-dialog-content",86),I(4,$V,4,0,"div",72)(5,oz,3,2,"div",8),c(),l(6,"mat-dialog-actions")(7,"button",73),z("click",function(){q(e);let r=P();return W(r.generateBOMPDF())}),u(8,"Download PDF"),c(),l(9,"button",73),z("click",function(){q(e);let r=P();return W(r.closeBillOfMaterialsDialog())}),u(10,"Close"),c()()()}if(i&2){let e=P();b(4),C("ngIf",e.isBomLoading),b(),C("ngIf",!e.isBomLoading)}}function lz(i,t){if(i&1&&(l(0,"div",117)(1,"p"),u(2),c(),F(3,"mat-progress-bar",118),c()),i&2){let e=P(2);b(2),Ce("Upload Progress: ",e.progress,"%"),b(),C("value",e.progress)}}function cz(i,t){if(i&1&&(l(0,"div",119)(1,"p",120),u(2),c()()),i&2){let e=P(2);b(),C("matTooltip",e.uploadedFileNames.join(", ")),b(),Ce(" ",e.uploadedFilesCount," file(s) uploaded successfully ")}}function dz(i,t){if(i&1){let e=ge();l(0,"div",103)(1,"h2",71),u(2,"Subtask Note"),c(),l(3,"mat-dialog-content",104)(4,"mat-form-field",105)(5,"textarea",106),jn("ngModelChange",function(r){q(e);let a=P();return Ln(a.noteText,r)||(a.noteText=r),W(r)}),c()()(),l(6,"mat-dialog-actions",107)(7,"div",108)(8,"div",109)(9,"button",27),z("click",function(){q(e);let r=P();return W(r.closeNoteDialog())}),u(10,"Cancel"),c(),l(11,"button",27),z("click",function(){q(e);let r=P();return W(r.saveNoteDialog())}),u(12,"Save"),c()(),l(13,"div",110),I(14,lz,4,2,"div",111)(15,cz,3,2,"div",112),l(16,"div",113)(17,"label",114),F(18,"img",115),u(19," Upload File "),c(),l(20,"input",116),z("change",function(r){q(e);let a=P();return W(a.onFileSelected(r))}),c()()()()()()}if(i&2){let e=P();b(5),Fn("ngModel",e.noteText),b(9),C("ngIf",e.isUploading),b(),C("ngIf",!e.isUploading&&e.uploadedFilesCount>0)}}function uz(i,t){if(i&1){let e=ge();l(0,"div",121)(1,"div",122)(2,"p"),u(3),c(),l(4,"button",123),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var fh=class i{constructor(t,e,n,r,a,o,s,d,m,h,v,_,g,D,E,S,w,O,G,ee,se){this.route=t;this.store=e;this.router=n;this.snackBar=r;this.dialog=a;this.location=o;this.platformId=s;this.cdr=d;this.jobDataService=m;this.subtaskService=h;this.documentService=v;this.bomService=_;this.reportService=g;this.addressService=D;this.noteService=E;this.timelineService=S;this.signalrService=w;this.jobAssignmentService=O;this.authService=G;this.weatherService=ee;this.weatherImpactService=se;this.jobCardForm=new pc({}),this.isBrowser=sa(this.platformId)}documentsDialog;billOfMaterialsDialog;noteDialog;addressInput;addressSuggestions=[];projectDetails;isEditingAddress=!1;addressControl=new ya("");selectedPlace=null;selectedAddress;startDateDisplay;initialStartDate;noteText="";documents=[];documentsError=null;alertMessage="";isDialogOpened=!1;isBomLoading=!1;isBomProcessing=!1;bomError=null;bom=null;processingResults=[];showAlert=!1;routeURL="";isLoading=!1;isDocumentsLoading=!1;isBrowser;IsAIProcessed=!1;currentNoteTarget=null;noteDialogRef;progress=0;isUploading=!1;uploadedFilesCount=0;uploadedFileNames=[];uploadedFileUrls=[];jobCardForm;sessionId="";isGeneratingReport=!1;isProjectOwner=!1;currentUserId="";pollingSubscription=null;timelineGroups=[];get isDialogOpen(){return this.dialog.openDialogs.length>0}ngOnInit(){this.sessionId=us(),this.signalrService.startConnection(this.sessionId),this.signalrService.progress.subscribe(t=>{this.progress=t}),this.signalrService.uploadComplete.subscribe(()=>{this.isUploading=!1,this.resetFileInput()}),this.route.queryParams.subscribe(t=>{this.projectDetails=t,this.startDateDisplay=new Date(this.projectDetails.date).toISOString().split("T")[0],this.jobDataService.fetchJobData(this.projectDetails),this.projectDetails?.jobId&&this.authService.currentUser$.pipe(ii(e=>!!e),Mi(1)).subscribe(e=>{this.currentUserId=e.id,this.checkProjectOwnerStatus(this.projectDetails.jobId,e.id)})}),this.store.select(t=>t.projectDetails).pipe(Fi(t=>!t||!t.latitude||!t.longitude?wt([]):this.timelineService.timelineGroups$.pipe(Fi(e=>this.store.select(n=>n.forecast).pipe(bi(n=>n?this.weatherImpactService.applyWeatherImpact(e,n):e)))))).subscribe(t=>{this.timelineGroups=t,this.cdr.detectChanges()})}ngAfterViewInit(){sa(this.platformId)&&this.addressService.loadGoogleMapsScript().then(()=>{this.addressControl.valueChanges.pipe(hu(300),Fi(t=>this.addressService.getPlacePredictions(t))).subscribe(t=>{this.addressSuggestions=t})})}ngOnDestroy(){this.signalrService.stopConnection(),this.pollingSubscription&&this.pollingSubscription.unsubscribe()}onFileSelected(t){let e=t.target;if(!e?.files?.length)return;let n=e.files[0];this.isUploading=!0,this.progress=0,this.documentService.uploadFile(n,this.projectDetails.jobId,this.sessionId).subscribe(r=>{r.type===1&&r.total?this.progress=Math.round(100*r.loaded/r.total):r.type===4&&(this.isUploading=!1,this.resetFileInput(),r.body?.fileUrls&&(this.uploadedFileUrls=[...this.uploadedFileUrls,...r.body.fileUrls]))})}resetFileInput(){let t=document.getElementById("file-upload");t&&(t.value="")}openNoteDialog(t){this.currentNoteTarget=t,this.noteDialogRef=this.dialog.open(this.noteDialog,{width:"250vw",height:"60vh",panelClass:"subtask-note-dialog",data:{note:t?.note||"",jobId:this.projectDetails?.jobId,subtaskId:t?.id,createdByUserId:localStorage.getItem("userId"),sessionId:this.sessionId}})}saveNoteDialog(){let t=localStorage.getItem("userId");this.noteService.saveNote(this.projectDetails.jobId,this.projectDetails.userId,this.currentNoteTarget.id,this.noteText,t||"",this.sessionId).subscribe(()=>{this.jobCardForm.reset(),this.uploadedFilesCount=0,this.uploadedFileNames=[],this.uploadedFileUrls=[],this.noteText="",this.noteDialogRef.close()})}closeNoteDialog(){this.noteDialogRef.close()}openBillOfMaterialsDialog(){this.isBomLoading=!0,this.bomService.getBillOfMaterials(this.projectDetails.jobId).subscribe(t=>{this.isBomLoading=!1,t.error?this.bomError=t.error:(this.processingResults=t,this.IsAIProcessed=!0),this.dialog.open(this.billOfMaterialsDialog,{width:"20000px",maxHeight:"100vh",maxWidth:"150vw"})})}closeBillOfMaterialsDialog(){this.dialog.closeAll()}generateBOMPDF(){this.bomService.generateBOMPDF(this.processingResults)}downloadEnvironmentalReport(t){this.isGeneratingReport=!0,this.reportService.downloadEnvironmentalReport(t).finally(()=>this.isGeneratingReport=!1)}openDocumentsDialog(){this.documentService.fetchDocuments(this.projectDetails.jobId).subscribe(t=>{this.documents=t,this.dialog.open(this.documentsDialog,{width:"500px",maxHeight:"80vh",autoFocus:!0})})}closeDocumentsDialog(){this.dialog.closeAll()}viewDocument(t){this.documentService.viewDocument(t)}toggleAddressEdit(t){this.isEditingAddress=t,t?(this.addressControl.setValue(this.projectDetails.address,{emitEvent:!0}),setTimeout(()=>{this.addressInput?.nativeElement&&this.addressInput.nativeElement.focus()},0)):(this.selectedPlace=null,this.addressSuggestions=[])}onAddressSelected(t){this.addressService.onAddressSelected(t,this.addressInput).subscribe(e=>{e?(this.selectedPlace=e.place,this.selectedAddress=e.selectedAddress,this.addressControl.setValue(e.description,{emitEvent:!1})):(this.selectedPlace=null,this.selectedAddress=null)})}saveAddress(){this.isLoading=!0,this.addressService.saveAddress(this.projectDetails.jobId,this.selectedAddress).subscribe({next:()=>{this.isLoading=!1,this.isEditingAddress=!1,this.jobDataService.fetchJobData(this.projectDetails),this.snackBar.open("Address updated successfully!","Close",{duration:3e3})},error:t=>{this.isLoading=!1,this.snackBar.open("Failed to update address.","Close",{duration:3e3})}})}handleGroupMove(t){this.authService.currentUser$.pipe(ii(e=>!!e),Mi(1)).subscribe(e=>{this.timelineService.handleGroupMove(t,this.projectDetails.jobId,e.id)})}NavigateBack(){this.location.back()}closeAlert(){this.showAlert=!1}checkProjectOwnerStatus(t,e){if(!e||!t){this.isProjectOwner=!1;return}this.store.select(n=>n.projectDetails).subscribe(n=>{n&&n.userId===e?this.isProjectOwner=!0:this.jobAssignmentService.getJobAssignment().subscribe(r=>{let a=+t,o=r.find(s=>s.id===a);if(o){let s=o.jobUser.find(d=>d.id===e);this.isProjectOwner=!!s}else this.isProjectOwner=!1})})}static \u0275fac=function(e){return new(e||i)(k(_a),k(Vo),k(Ii),k(Hn),k(pn),k(OS),k(va),k(xt),k(Vs),k(dv),k(uv),k(Av),k(Iv),k(Pv),k($s),k(Tv),k(Ov),k(Cm),k(hi),k(Rv),k(Nv))};static \u0275cmp=fe({type:i,selectors:[["app-jobs"]],viewQuery:function(e,n){if(e&1&&(Ue(gV,5),Ue(bV,5),Ue(vV,5),Ue(_V,5)),e&2){let r;be(r=ve())&&(n.documentsDialog=r.first),be(r=ve())&&(n.billOfMaterialsDialog=r.first),be(r=ve())&&(n.noteDialog=r.first),be(r=ve())&&(n.addressInput=r.first)}},standalone:!0,features:[ye],decls:53,vars:19,consts:[["documentsDialog",""],["billOfMaterialsDialog",""],["noteDialog",""],["addressInput",""],["auto","matAutocomplete"],[1,"container"],[1,"row"],[1,"fullcolumn"],[4,"ngIf"],[1,"job-details"],[1,"address-container"],["class","address-display",4,"ngIf"],["class","address-edit",4,"ngIf"],["class","weather-scroll-container",4,"ngIf"],["class","weather-error",4,"ngIf"],[1,"timeline-section"],[1,"timeline-title"],[1,"timeline-divider"],[1,"chart-container"],[1,"timeline-wrapper"],[3,"onGroupClick","onGroupMove","onEditGroup","taskGroups","isProjectOwner"],[1,"subtask-section"],["class","subtask-table",4,"ngFor","ngForOf"],[1,"action-buttons"],["class","submit-btn publish-btn","mat-raised-button","",3,"click",4,"ngIf"],["class","submit-btn save-btn","mat-raised-button","",3,"click",4,"ngIf"],["class","submit-btn delete-btn","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"submit-btn","save-btn",3,"click"],["mat-raised-button","",1,"submit-btn","save-btn",3,"click","disabled"],["class","submit-btn save-btn",3,"click",4,"ngIf"],["class","alert-overlay",4,"ngIf"],[1,"address-display"],["mat-icon-button","","class","edit-icon",3,"click",4,"ngIf"],["mat-icon-button","",1,"edit-icon",3,"click"],[1,"address-edit"],["appearance","fill"],["matInput","","placeholder","Enter an address",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"edit-buttons"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","",3,"click"],[3,"value"],[1,"weather-scroll-container"],["class","forecast-card",4,"ngFor","ngForOf"],[1,"forecast-card"],[1,"date"],["alt","Weather Icon",3,"src"],[1,"condition"],[1,"temp"],[1,"high"],[1,"low"],[1,"precip"],[1,"weather-error"],[1,"subtask-table"],[1,"table-header"],["class","submit-btn",3,"click",4,"ngIf"],[1,"themed-table"],[4,"ngFor","ngForOf"],[1,"submit-btn",3,"click"],["type","text",1,"no-border",3,"ngModelChange","ngModel","readonly"],["type","number",1,"no-border",3,"ngModelChange","change","ngModel","readonly"],["type","date",1,"no-border",3,"ngModelChange","change","ngModel","readonly"],["type","date",1,"no-border",3,"ngModelChange","ngModel","readonly"],["class","submit-btn delete-btn",3,"click",4,"ngIf"],[3,"ngModelChange","ngModel","disabled"],[1,"submit-btn","delete-btn",3,"click"],["mat-raised-button","",1,"submit-btn","publish-btn",3,"click"],["mat-raised-button","",1,"submit-btn","delete-btn",3,"click"],[1,"submit-btn","save-btn",3,"click"],[1,"documents-dialog"],["mat-dialog-title",""],["class","loading-documents",4,"ngIf"],["mat-raised-button","",1,"submit-btn",3,"click"],[1,"loading-documents"],["class","no-documents",4,"ngIf"],["class","documents-list",4,"ngIf"],[1,"no-documents"],[1,"documents-list"],["class","document-item",4,"ngFor","ngForOf"],[1,"document-item"],[1,"document-info"],[1,"document-name"],[1,"document-meta"],["mat-raised-button","",1,"view-btn",3,"click"],[1,"documents-dialog","report-dialog"],[1,"report-content"],["class","report-list",4,"ngIf"],[1,"report-list"],["class","report-item",4,"ngFor","ngForOf"],[1,"report-item"],["class","report-section",4,"ngFor","ngForOf"],[1,"report-section"],[1,"report-section-title"],[1,"report-section-content"],["class","report-text",4,"ngIf"],["class","report-list-items",4,"ngIf"],["class","report-table",4,"ngIf"],[1,"report-text"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"report-list-items"],[1,"report-table"],[1,"subtask-note-modal"],[1,"note-content"],["appearance","fill","floatLabel","always",1,"note-field"],["matInput","","placeholder","Enter note here...","cdkTextareaAutosize","","cdkAutosizeMinRows","16","cdkAutosizeMaxRows","30",3,"ngModelChange","ngModel"],["align","end",1,"note-actions"],[1,"form-row","button-row"],[1,"button-group"],[1,"upload-container"],["class","upload-progress",4,"ngIf"],["class","upload-complete",4,"ngIf"],[1,"custom-file-upload"],["for","file-upload",1,"upload-label","submit-btn"],["src","assets/custom-svg/upload-folder-svgrepo-com.svg","alt","Upload Icon",1,"upload-icon"],["id","file-upload","type","file",3,"change"],[1,"upload-progress"],["mode","determinate",3,"value"],[1,"upload-complete"],["matTooltipPosition","above",3,"matTooltip"],[1,"alert-overlay"],[1,"alert-modal"],["mat-raised-button","",1,"alert-button","submit-btn",3,"click"]],template:function(e,n){if(e&1){let r=ge();l(0,"div",5)(1,"div",6)(2,"div",7)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),u(6),c()(),l(7,"mat-card-content"),F(8,"mat-divider"),I(9,yV,2,0,"div",8),l(10,"div",9)(11,"p")(12,"strong"),u(13,"Start Date:"),c(),u(14),c(),l(15,"div",10),I(16,SV,7,3,"div",11)(17,kV,14,4,"div",12),c(),I(18,EV,2,1,"div",13)(19,AV,2,1,"div",14),c(),l(20,"div",15)(21,"mat-card-title",16),u(22,"Probuild Construction Timeline"),c(),F(23,"mat-divider",17),l(24,"div",18)(25,"div",19)(26,"app-timeline",20),z("onGroupClick",function(o){return q(r),W(n.timelineService.handleGroupClick(o))})("onGroupMove",function(o){return q(r),W(n.handleGroupMove(o))})("onEditGroup",function(o){return q(r),W(n.timelineService.handleEditGroup(o))}),c()()()(),l(27,"mat-card-title"),u(28,"Tasks and Subtasks"),c(),F(29,"mat-divider"),l(30,"div",21),I(31,OV,26,3,"div",22),c(),l(32,"div",23),I(33,RV,2,0,"button",24)(34,NV,2,0,"button",25)(35,FV,2,0,"button",26),l(36,"button",27),z("click",function(){return q(r),W(n.openDocumentsDialog())}),u(37," View Documents "),c(),l(38,"button",27),z("click",function(){return q(r),W(n.openBillOfMaterialsDialog())}),u(39," View Bill of Materials "),c(),l(40,"button",28),z("click",function(){return q(r),W(n.downloadEnvironmentalReport(n.projectDetails.jobId))}),I(41,LV,2,0,"span",8)(42,jV,2,0,"span",8),c(),l(43,"button",27),z("click",function(){return q(r),W(n.NavigateBack())}),u(44," Back "),c(),I(45,BV,2,0,"button",29),c()()()()()(),I(46,GV,9,2,"ng-template",null,0,ur)(48,sz,11,2,"ng-template",null,1,ur)(50,dz,21,3,"ng-template",null,2,ur)(52,uz,6,1,"div",30)}if(e&2){let r;at("inert",n.showAlert||n.isDialogOpen?"":null),b(6),Ce("Job: ",n.projectDetails.projectName,""),b(3),C("ngIf",n.isLoading),b(5),Ce(" ",n.startDateDisplay,""),b(2),C("ngIf",!n.isEditingAddress),b(),C("ngIf",n.isEditingAddress),b(),C("ngIf",(r=n.store.getState().forecast)==null?null:r.length),b(),C("ngIf",n.store.getState().weatherError),b(7),C("taskGroups",n.timelineGroups)("isProjectOwner",n.isProjectOwner),b(5),C("ngForOf",n.store.getState().subtaskGroups),b(2),C("ngIf",n.isProjectOwner),b(),C("ngIf",n.isProjectOwner),b(),C("ngIf",n.isProjectOwner),b(5),C("disabled",n.isGeneratingReport),b(),C("ngIf",!n.isGeneratingReport),b(),C("ngIf",n.isGeneratingReport),b(3),C("ngIf",n.isProjectOwner),b(7),C("ngIf",n.showAlert)}},dependencies:[wn,xn,Fs,pi,xa,Pi,Ls,Pt,Ji,Nt,Li,rn,ji,nn,un,zn,Fr,Fo,No,fr,li,Zi,tn,en,yg,js,vc,vi,hn,Mn,Vi,gr,sM,Tu,Da,ao,sv,Ws,qs,hr,cs],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{min-width:100vw;min-height:calc(100vh - 65px);padding:1rem;overflow-x:auto;overflow-y:auto;display:block}.fullcolumn[_ngcontent-%COMP%]{width:100%;overflow-x:auto;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0}.job-details[_ngcontent-%COMP%]{padding:1rem 0}.job-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000;margin-bottom:.5rem}.job-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin:.25rem 0}.address-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:1rem}.address-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.edit-icon[_ngcontent-%COMP%]{color:#61a0af;background-color:transparent;border:none}.address-edit[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.address-edit[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:400px}.edit-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.timeline-section[_ngcontent-%COMP%]{padding:2rem;display:block;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;background-color:#fff;border-radius:12px;margin:2rem 0;box-shadow:0 2px 8px #0000001a;border:1px solid #d9d9d9}.timeline-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:1.5rem;text-align:center;display:flex;align-items:center;justify-content:center;gap:.5rem}.timeline-divider[_ngcontent-%COMP%]{background-color:#fbd008;height:4px;margin:0 auto 2rem;width:120px;border-radius:2px}.chart-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;max-width:unset;padding:1.5rem;background-color:#f9f9f9;border:2px solid #fcd02d;border-radius:12px;box-shadow:inset 0 2px 4px #00000008,0 2px 8px #0000001a;position:relative}  .subtask-note-dialog .mat-mdc-dialog-surface{width:50vw!important;max-width:90vw!important;margin:auto!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;position:absolute!important}.ng-deep[_ngcontent-%COMP%]   .subtask-note-dialog[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:2rem!important;border-radius:20px;background-color:#fefef6;height:80vh;display:flex;flex-direction:column}.subtask-note-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.note-content[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden}textarea[matInput][_ngcontent-%COMP%]{width:100%;height:100%;resize:none;font-size:1rem;padding:1rem;background-color:#fffdf5;border-radius:8px}.btn-primary[_ngcontent-%COMP%]{background-color:#fbd008;color:#fbd008;padding:.5rem 1.25rem;border-radius:8px;font-weight:500;border:none;transition:background .2s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0d5f17}  .mat-mdc-snack-bar-container.snack-success{background-color:#fbd008!important;color:#333!important;font-weight:600}.weather-scroll-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:1rem;padding:1rem;background:#f5f7fa;border-radius:8px}.forecast-card[_ngcontent-%COMP%]{flex:0 0 auto;width:95px;background:#fff;border-radius:10px;box-shadow:0 1px 4px #0000001a;text-align:center;padding:.75rem;font-size:12px}.forecast-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:600;font-size:13px;margin-bottom:4px}.forecast-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;margin-bottom:4px}.forecast-card[_ngcontent-%COMP%]   .condition[_ngcontent-%COMP%]{font-size:11px;margin-bottom:4px;text-transform:capitalize}.forecast-card[_ngcontent-%COMP%]   .temp[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px}.forecast-card[_ngcontent-%COMP%]   .temp[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600}.forecast-card[_ngcontent-%COMP%]   .temp[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%]{color:#3498db}.forecast-card[_ngcontent-%COMP%]   .precip[_ngcontent-%COMP%]{margin-top:4px;display:flex;align-items:center;justify-content:center;gap:4px;font-size:11px;color:#555}.weather-error[_ngcontent-%COMP%]{color:red;font-size:13px;padding:.5rem}  .mat-mdc-snack-bar-container.snack-success .mat-simple-snackbar-action{color:#333!important;font-weight:600}  .custom-snackbar{background-color:#ffc107!important;color:#000!important;font-size:18px!important;font-weight:700!important;text-align:center;border:2px solid #ff9800;box-shadow:0 4px 10px #0000004d;padding:16px 24px!important}  .custom-snackbar .mat-mdc-snack-bar-action{color:#fbd008!important;font-weight:600}.subtask-note-modal[_ngcontent-%COMP%]{background-color:#fefef6;padding:2rem;border-radius:20px;max-width:2000vw;width:100%;height:auto;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 10px 25px #0000001a;overflow:hidden}.subtask-note-modal[_ngcontent-%COMP%]{width:200vw!important;max-width:100%;height:75vh;display:flex;flex-direction:column;justify-content:space-between;padding:2rem 2rem 1rem;background-color:#fefef6;border-radius:20px}  .super-wide-dialog .mat-mdc-dialog-surface{width:90vw!important;max-width:90vw!important}  .super-wide-dialog .mat-mdc-dialog-container{width:100%!important;max-width:100%!important;background:#fefef6;border-radius:20px;padding:2rem}.note-content[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;margin-top:1rem}.note-field[_ngcontent-%COMP%]{width:100%;height:100%}textarea[matInput][_ngcontent-%COMP%]{min-height:300px;height:100%;font-size:1rem;padding:1rem;background-color:#fffdf5;border-radius:8px;resize:none}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#fbd008;border:1px solid #127c20;padding:.5rem 1.25rem;border-radius:8px;font-weight:500;transition:background .2s ease}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#127c201a}.timeline-chart[_ngcontent-%COMP%]{width:100%;min-height:300px;font-family:Arial,sans-serif}.timeline-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f9f9f9);padding:0;border-radius:8px;border:1px solid #d9d9d9;display:block;min-width:max-content;width:fit-content}app-timeline[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}app-timeline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:max-content}@media (max-width: 768px){.timeline-chart[_ngcontent-%COMP%]{min-height:250px}}.gantt-chart[_ngcontent-%COMP%]{font-family:Arial,sans-serif;width:100%;min-height:200px;position:relative;display:flex}.gantt-chart[_ngcontent-%COMP%]   .task-labels[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:200px;padding:.5rem 1rem;background-color:#fff;border-right:2px solid #d9d9d9;box-sizing:border-box;flex-shrink:0}.gantt-chart[_ngcontent-%COMP%]   .task-label[_ngcontent-%COMP%]{font-size:.9rem;color:#333;font-weight:500;text-transform:uppercase;padding:.5rem 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.gantt-chart[_ngcontent-%COMP%]   .timeline-grid[_ngcontent-%COMP%]{margin-left:200px;position:relative;flex-grow:1;background:repeating-linear-gradient(to right,transparent,transparent 1px,#d9d9d9 1px,#d9d9d9 2px);background-size:40px 100%}.gantt-chart[_ngcontent-%COMP%]   .date-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-left:200px;padding:.5rem 0;border-top:1px solid #d9d9d9}.gantt-chart[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem;color:#333;text-align:center;flex:1}.gantt-chart[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]{position:absolute;height:20px;background-color:#61a0af;border-radius:4px;box-shadow:0 2px 4px #0000001a;transition:all .3s ease;margin-left:200px;box-sizing:border-box}.gantt-chart[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]:hover{background-color:#fbd008;cursor:pointer}.gantt-chart[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);position:absolute;top:-40px;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:.5rem;border-radius:4px;font-size:.8rem;white-space:nowrap;z-index:10}.subtask-section[_ngcontent-%COMP%]{padding:1rem 0}.subtask-table[_ngcontent-%COMP%]{margin-bottom:2rem}.subtask-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.subtask-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-size:1.2rem}.themed-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fbd008;color:#000;font-weight:500;padding:8px;text-align:left;border-bottom:2px solid #d9d9d9}.themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #d9d9d9}.themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input.no-border[_ngcontent-%COMP%]{border:none;width:100%;padding:4px}.themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input.no-border[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #61a0af}.themed-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.imgBtn[_ngcontent-%COMP%]{width:200px;height:40px;display:flex;align-items:center;justify-content:center}.imgBtn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn-note[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn-note[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.publish-btn[_ngcontent-%COMP%]{background:#fbd008}.submit-btn.publish-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.save-btn[_ngcontent-%COMP%]{background:#fcd02d}.submit-btn.save-btn[_ngcontent-%COMP%]:hover{background:#f3c003}.submit-btn.delete-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}.submit-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;justify-content:flex-start;gap:1rem}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#000}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.documents-dialog[_ngcontent-%COMP%]{padding:1rem}.documents-dialog[_ngcontent-%COMP%]   h2[mat-dialog-title][_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin-bottom:1rem}.no-documents[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#333}.no-documents[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.no-documents[error][_ngcontent-%COMP%]{color:#da4167;font-weight:500}.loading-documents[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#333}.loading-documents[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1rem}.documents-list[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:.5rem}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#61a0af;border-radius:3px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:20px}.button-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-right:20px}.upload-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.upload-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:15px;background-color:#f9f9f9;padding:8px;border-radius:6px;box-shadow:0 1px 3px #0000001a}.upload-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;font-size:12px;color:#333}.upload-progress[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{width:150px;height:8px;border-radius:4px}.upload-progress[_ngcontent-%COMP%]     mat-progress-bar .mdc-linear-progress__bar-inner{background-color:#fbd008!important}.upload-progress[_ngcontent-%COMP%]     mat-progress-bar .mdc-linear-progress__buffer{background-color:#e0e0e0!important}.upload-complete[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:15px;background-color:#e6ffe6;padding:8px;border-radius:6px;box-shadow:0 1px 3px #0000001a}.upload-complete[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#2e7d32}.custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 20px;background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease;box-sizing:border-box;box-shadow:0 2px 4px #0000001a}.upload-label[_ngcontent-%COMP%]:hover{background-color:#e6bf00;box-shadow:0 3px 6px #00000026}.upload-icon[_ngcontent-%COMP%]{height:24px;width:24px;vertical-align:middle}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none;opacity:0;width:0;height:0}.document-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;margin-bottom:.5rem;border:1px solid #d9d9d9;border-radius:8px;background-color:#fff;transition:all .3s ease}.document-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;border-color:#61a0af;box-shadow:0 2px 8px #0000001a}.document-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.document-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.document-meta[_ngcontent-%COMP%]{font-size:.85rem;color:#333}.view-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#000;padding:.25rem 1rem;font-size:.9rem;line-height:1.5;margin-left:1rem}.view-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00;color:#333}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:1rem}mat-dialog-actions[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}mat-dialog-actions[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.report-dialog[_ngcontent-%COMP%]{padding:1.5rem}.report-dialog[_ngcontent-%COMP%]   .report-content[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:1rem}.report-dialog[_ngcontent-%COMP%]   .report-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.report-dialog[_ngcontent-%COMP%]   .report-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.report-dialog[_ngcontent-%COMP%]   .report-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#61a0af;border-radius:3px}.report-dialog[_ngcontent-%COMP%]   .report-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.report-dialog[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:8px;padding:1rem;background-color:#fff;box-shadow:0 2px 8px #0000001a}.report-dialog[_ngcontent-%COMP%]   .report-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.report-dialog[_ngcontent-%COMP%]   .report-section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:.75rem;border-bottom:2px solid #fcd02d;padding-bottom:.25rem}.report-dialog[_ngcontent-%COMP%]   .report-section-content[_ngcontent-%COMP%]{padding-left:.5rem}.report-dialog[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#000;line-height:1.5;word-wrap:break-word}.report-dialog[_ngcontent-%COMP%]   .report-list-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:1.5rem;margin:.5rem 0}.report-dialog[_ngcontent-%COMP%]   .report-list-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;margin-bottom:.25rem;line-height:1.5}.report-dialog[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]{margin:.5rem 0}.report-dialog[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .report-dialog[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;word-wrap:break-word}@media (max-width: 768px){.container[_ngcontent-%COMP%]{width:95vw}.submit-btn[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;padding:6px}.timeline-section[_ngcontent-%COMP%]{padding:1.5rem;margin:1.5rem 0}.timeline-title[_ngcontent-%COMP%]{font-size:1.5rem}.chart-container[_ngcontent-%COMP%]{padding:1rem}.timeline-divider[_ngcontent-%COMP%]{width:80px;margin-bottom:1.5rem}.gantt-chart[_ngcontent-%COMP%]   .task-labels[_ngcontent-%COMP%]{width:120px}.gantt-chart[_ngcontent-%COMP%]   .timeline-grid[_ngcontent-%COMP%], .gantt-chart[_ngcontent-%COMP%]   .date-labels[_ngcontent-%COMP%]{margin-left:120px}.gantt-chart[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]{margin-left:120px;height:16px}.gantt-chart[_ngcontent-%COMP%]   .task-label[_ngcontent-%COMP%]{font-size:.8rem}.gantt-chart[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.75rem}.documents-dialog[_ngcontent-%COMP%]{padding:.5rem}.document-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:.5rem}.document-info[_ngcontent-%COMP%]{margin-bottom:.5rem}.view-btn[_ngcontent-%COMP%]{margin-left:0;width:100%;text-align:center}.document-name[_ngcontent-%COMP%]{font-size:.9rem}.document-meta[_ngcontent-%COMP%]{font-size:.75rem}.report-dialog[_ngcontent-%COMP%]{padding:1rem}.report-dialog[_ngcontent-%COMP%]   .report-content[_ngcontent-%COMP%]{padding-right:.5rem}.report-dialog[_ngcontent-%COMP%]   .report-section-title[_ngcontent-%COMP%]{font-size:1.1rem}.report-dialog[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.report-dialog[_ngcontent-%COMP%]   .report-list-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}.report-dialog[_ngcontent-%COMP%]   .report-list-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem}.report-dialog[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .report-dialog[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;padding:6px}}@media (max-width: 1400px){.report-dialog[_ngcontent-%COMP%]{width:100vw;margin:0 auto}}']})};var PC=["*"];function mz(i,t){i&1&&rt(0)}var pz=["tabListContainer"],hz=["tabList"],fz=["tabListInner"],gz=["nextPaginator"],bz=["previousPaginator"],vz=i=>({animationDuration:i}),_z=(i,t)=>({value:i,params:t});function yz(i,t){}var xz=["tabBodyWrapper"],Cz=["tabHeader"];function wz(i,t){}function Sz(i,t){if(i&1&&I(0,wz,0,0,"ng-template",12),i&2){let e=P().$implicit;C("cdkPortalOutlet",e.templateLabel)}}function Mz(i,t){if(i&1&&u(0),i&2){let e=P().$implicit;xe(e.textLabel)}}function kz(i,t){if(i&1){let e=ge();l(0,"div",7,2),z("click",function(){let r=q(e),a=r.$implicit,o=r.$index,s=P(),d=Vt(1);return W(s._handleClick(a,d,o))})("cdkFocusChange",function(r){let a=q(e).$index,o=P();return W(o._tabFocusChanged(r,a))}),F(2,"span",8)(3,"div",9),l(4,"span",10)(5,"span",11),I(6,Sz,1,1,null,12)(7,Mz,1,1),c()()()}if(i&2){let e=t.$implicit,n=t.$index,r=Vt(1),a=P();wr(e.labelClass),Qe("mdc-tab--active",a.selectedIndex===n),C("id",a._getTabLabelId(n))("disabled",e.disabled)("fitInkBarToContent",a.fitInkBarToContent),at("tabIndex",a._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(n))("aria-selected",a.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),b(3),C("matRippleTrigger",r)("matRippleDisabled",e.disabled||a.disableRipple),b(3),Tt(e.templateLabel?6:7)}}function Dz(i,t){i&1&&rt(0)}function Ez(i,t){if(i&1){let e=ge();l(0,"mat-tab-body",13),z("_onCentered",function(){q(e);let r=P();return W(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){q(e);let a=P();return W(a._setTabBodyWrapperHeight(r))}),c()}if(i&2){let e=t.$implicit,n=t.$index,r=P();wr(e.bodyClass),Qe("mat-mdc-tab-body-active",r.selectedIndex===n),C("id",r._getTabContentId(n))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),at("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}var Az=new yt("MatTabContent"),Iz=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(tr))}}static{this.\u0275dir=Ze({type:i,selectors:[["","matTabContent",""]],standalone:!0,features:[ft([{provide:Az,useExisting:i}])]})}}return i})(),Pz=new yt("MatTabLabel"),fA=new yt("MAT_TAB"),Tz=(()=>{class i extends A5{constructor(e,n,r){super(e,n),this._closestTab=r}static{this.\u0275fac=function(n){return new(n||i)(k(tr),k(Qr),k(fA,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[ft([{provide:Pz,useExisting:i}]),ki]})}}return i})(),gA=new yt("MAT_TAB_GROUP"),gh=(()=>{class i{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,n){this._viewContainerRef=e,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new vt,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Sl(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static{this.\u0275fac=function(n){return new(n||i)(k(Qr),k(gA,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-tab"]],contentQueries:function(n,r,a){if(n&1&&(bt(a,Tz,5),bt(a,Iz,7,tr)),n&2){let o;be(o=ve())&&(r.templateLabel=o.first),be(o=ve())&&(r._explicitContent=o.first)}},viewQuery:function(n,r){if(n&1&&Ue(tr,7),n&2){let a;be(a=ve())&&(r._implicitContent=a.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Ye],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[ft([{provide:fA,useExisting:i}]),qt,Ai,ye],ngContentSelectors:PC,decls:1,vars:0,template:function(n,r){n&1&&(Xt(),I(0,mz,1,0,"ng-template"))},encapsulation:2})}}return i})(),EC="mdc-tab-indicator--active",pA="mdc-tab-indicator--no-transition",AC=class{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){let e=this._items.find(r=>r.elementRef.nativeElement===t),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},Oz=(()=>{class i{constructor(){this._elementRef=Bt(_t),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(EC);return}let r=n.getBoundingClientRect(),a=e.width/r.width,o=e.left-r.left;n.classList.add(pA),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${a})`),n.getBoundingClientRect(),n.classList.remove(pA),n.classList.add(EC),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(EC)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Ze({type:i,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ye]},features:[qt]})}}return i})();var bA=(()=>{class i extends Oz{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(n){return new(n||i)(k(_t))}}static{this.\u0275dir=Ze({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){n&2&&(at("aria-disabled",!!r.disabled),Qe("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",Ye]},standalone:!0,features:[qt,ki]})}}return i})(),hA=Rs({passive:!0}),Rz=650,Nz=100,Fz=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(e,n,r,a,o,s,d){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=a,this._ngZone=o,this._platform=s,this._animationMode=d,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new vt,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new vt,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Ge,this.indexFocused=new Ge,this._sharedResizeObserver=Bt(Vg),this._injector=Bt(cr),o.runOutsideAngular(()=>{Oo(e.nativeElement,"mouseleave").pipe(Ut(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Oo(this._previousPaginator.nativeElement,"touchstart",hA).pipe(Ut(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Oo(this._nextPaginator.nativeElement,"touchstart",hA).pipe(Ut(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:wt("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(hu(32),Ut(this._destroyed)),r=this._viewportRuler.change(150).pipe(Ut(this._destroyed)),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Su(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Vr(a,{injector:this._injector}),Ni(e,r,n,this._items.changes,this._itemsResized()).pipe(Ut(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),a()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return typeof ResizeObserver!="function"?uu:this._items.changes.pipe(Qi(this._items),Fi(e=>new yl(n=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(a=>n.next(a));return e.forEach(a=>r.observe(a.elementRef.nativeElement)),()=>{r.disconnect()}}))),uS(1),ii(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!pr(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:o}=n.elementRef.nativeElement,s,d;this._getLayoutDirection()=="ltr"?(s=a,d=s+o):(d=this._tabListInner.nativeElement.offsetWidth-a,s=d-o);let m=this.scrollDistance,h=this.scrollDistance+r;s<m?this.scrollDistance-=m-s:d>h&&(this.scrollDistance+=Math.min(d-h,s-m))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,r=e-n>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),lS(Rz,Nz).pipe(Ut(Ni(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:a}=this._scrollHeader(e);(a===0||a>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(xt),k(os),k(Sr,8),k(ni),k(mr),k(dr,8))}}static{this.\u0275dir=Ze({type:i,inputs:{disablePagination:[2,"disablePagination","disablePagination",Ye],selectedIndex:[2,"selectedIndex","selectedIndex",Wn]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[qt]})}}return i})(),Lz=(()=>{class i extends Fz{constructor(e,n,r,a,o,s,d){super(e,n,r,a,o,s,d),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new AC(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(xt),k(os),k(Sr,8),k(ni),k(mr),k(dr,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-tab-header"]],contentQueries:function(n,r,a){if(n&1&&bt(a,bA,4),n&2){let o;be(o=ve())&&(r._items=o)}},viewQuery:function(n,r){if(n&1&&(Ue(pz,7),Ue(hz,7),Ue(fz,7),Ue(gz,5),Ue(bz,5)),n&2){let a;be(a=ve())&&(r._tabListContainer=a.first),be(a=ve())&&(r._tabList=a.first),be(a=ve())&&(r._tabListInner=a.first),be(a=ve())&&(r._nextPaginator=a.first),be(a=ve())&&(r._previousPaginator=a.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){n&2&&Qe("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Ye]},standalone:!0,features:[qt,ki,ye],ngContentSelectors:PC,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,r){if(n&1){let a=ge();Xt(),l(0,"div",5,0),z("click",function(){return q(a),W(r._handlePaginatorClick("before"))})("mousedown",function(s){return q(a),W(r._handlePaginatorPress("before",s))})("touchend",function(){return q(a),W(r._stopInterval())}),F(2,"div",6),c(),l(3,"div",7,1),z("keydown",function(s){return q(a),W(r._handleKeydown(s))}),l(5,"div",8,2),z("cdkObserveContent",function(){return q(a),W(r._onContentChanges())}),l(7,"div",9,3),rt(9),c()()(),l(10,"div",10,4),z("mousedown",function(s){return q(a),W(r._handlePaginatorPress("after",s))})("click",function(){return q(a),W(r._handlePaginatorClick("after"))})("touchend",function(){return q(a),W(r._stopInterval())}),F(12,"div",6),c()}n&2&&(Qe("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),C("matRippleDisabled",r._disableScrollBefore||r.disableRipple),b(3),Qe("_mat-animation-noopable",r._animationMode==="NoopAnimations"),b(2),at("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),b(5),Qe("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),C("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[Ns,i5],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return i})(),jz=new yt("MAT_TABS_CONFIG"),Bz={translateTab:En("translateTab",[Di("center, void, left-origin-center, right-origin-center",Et({transform:"none",visibility:"visible"})),Di("left",Et({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Di("right",Et({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),_i("* => left, * => right, left => center, right => center",Ci("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),_i("void => left-origin-center",[Et({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Ci("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),_i("void => right-origin-center",[Et({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Ci("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Vz=(()=>{class i extends Ml{constructor(e,n,r,a){super(e,n,a),this._host=r,this._centeringSub=on.EMPTY,this._leavingSub=on.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Qi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(k(sy),k(Qr),k(ba(()=>vA)),k(Bn))}}static{this.\u0275dir=Ze({type:i,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[ki]})}}return i})(),vA=(()=>{class i{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,n,r){this._elementRef=e,this._dir=n,this._dirChangeSubscription=on.EMPTY,this._translateTabComplete=new vt,this._onCentering=new Ge,this._beforeCentering=new Ge,this._afterLeavingCenter=new Ge,this._onCentered=new Ge(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(a=>{this._computePositionAnimationState(a),r.markForCheck()})),this._translateTabComplete.subscribe(a=>{this._isCenterPosition(a.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(a.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let n=this._getLayoutDirection();return n=="ltr"&&e<=0||n=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(Sr,8),k(xt))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(n&1&&Ue(Ml,5),n&2){let a;be(a=ve())&&(r._portalHost=a.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[ye],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(n&1){let a=ge();l(0,"div",1,0),z("@translateTab.start",function(s){return q(a),W(r._onTranslateTabStarted(s))})("@translateTab.done",function(s){return q(a),W(r._translateTabComplete.next(s))}),I(2,yz,0,0,"ng-template",2),c()}n&2&&C("@translateTab",vu(3,_z,r._position,as(1,vz,r.animationDuration)))},dependencies:[Vz,dc],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Bz.translateTab]}})}}return i})(),zz=0,Hz=!0,Fv=(()=>{class i{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!Hz)throw new Error("mat-tab-group background color must be set through the Sass theming API");let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,n,r,a){this._elementRef=e,this._changeDetectorRef=n,this._animationMode=a,this._tabs=new xl,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=on.EMPTY,this._tabLabelSubscription=on.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Ge,this.focusChange=new Ge,this.animationDone=new Ge,this.selectedTabChange=new Ge(!0),this._isServer=!Bt(mr).isBrowser,this._groupId=zz++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=r&&r.disablePagination!=null?r.disablePagination:!1,this.dynamicHeight=r&&r.dynamicHeight!=null?r.dynamicHeight:!1,r?.contentTabIndex!=null&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=r&&r.fitInkBarToContent!=null?r.fitInkBarToContent:!1,this.stretchTabs=r&&r.stretchTabs!=null?r.stretchTabs:!0}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,a)=>r.isActive=a===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),r;for(let a=0;a<n.length;a++)if(n[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,r=n[a];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Qi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new IC;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ni(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(xt),k(jz,8),k(dr,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-tab-group"]],contentQueries:function(n,r,a){if(n&1&&bt(a,gh,5),n&2){let o;be(o=ve())&&(r._allTabs=o)}},viewQuery:function(n,r){if(n&1&&(Ue(xz,5),Ue(Cz,5)),n&2){let a;be(a=ve())&&(r._tabBodyWrapper=a.first),be(a=ve())&&(r._tabHeader=a.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){n&2&&(wr("mat-"+(r.color||"primary")),Qn("--mat-tab-animation-duration",r.animationDuration),Qe("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ye],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Ye],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Ye],selectedIndex:[2,"selectedIndex","selectedIndex",Wn],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Wn],disablePagination:[2,"disablePagination","disablePagination",Ye],disableRipple:[2,"disableRipple","disableRipple",Ye],preserveContent:[2,"preserveContent","preserveContent",Ye],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[ft([{provide:gA,useExisting:i}]),qt,ye],ngContentSelectors:PC,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(n&1){let a=ge();Xt(),l(0,"mat-tab-header",3,0),z("indexFocused",function(s){return q(a),W(r._focusChanged(s))})("selectFocusedIndex",function(s){return q(a),W(r.selectedIndex=s)}),Cl(2,kz,8,17,"div",4,Sp),c(),I(4,Dz,1,0),l(5,"div",5,1),Cl(7,Ez,1,13,"mat-tab-body",6,Sp),c()}n&2&&(C("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),b(2),wl(r._tabs),b(2),Tt(r._isServer?4:-1),b(),Qe("_mat-animation-noopable",r._animationMode==="NoopAnimations"),b(2),wl(r._tabs))},dependencies:[Lz,bA,lg,Ns,Ml,vA],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return i})(),IC=class{};var Lv=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[$t,$t]})}}return i})();var wm=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Kt({type:i});static \u0275inj=Jt({imports:[Dt]})};var yA=[{name:"Add Team Members",key:"addTeamMembers"},{name:"Delete Team Members",key:"deleteTeamMembers"},{name:"Edit Team Members",key:"editTeamMembers"},{name:"Create Job Tasks",key:"createJobTasks"},{name:"Delete Job Tasks",key:"deleteJobTasks"},{name:"Edit Job Tasks",key:"editJobTasks"},{name:"Create Job Subtasks",key:"createJobSubtasks"},{name:"Delete Job Subtasks",key:"deleteJobSubtasks"},{name:"Edit Job Subtasks",key:"editJobSubtasks"},{name:"Create Jobs",key:"createJobs"},{name:"Delete Jobs",key:"deleteJobs"},{name:"Edit Jobs",key:"editJobs"},{name:"Create Subtask Notes",key:"createSubtaskNotes"},{name:"Manage Subtask Notes",key:"manageSubtaskNotes"}];function Uz(i,t){if(i&1&&(l(0,"mat-checkbox",5),u(1),c()),i&2){let e=t.$implicit;C("formControlName",e.key),b(),Ce(" ",e.name," ")}}var jv=class i{constructor(t,e,n,r){this.dialogRef=t;this.data=e;this.fb=n;this.teamManagementService=r;this.teamMemberName=this.data.teamMemberName;let a=this.permissions.reduce((o,s)=>(o[s.key]=new ya(this.data.permissions.includes(s.key)),o),{});this.permissionsForm=this.fb.group(a)}permissionsForm;permissions=yA;teamMemberName;save(){let t=Object.keys(this.permissionsForm.value).filter(e=>this.permissionsForm.value[e]);this.teamManagementService.updatePermissions(this.data.teamMemberId,t).subscribe(()=>this.dialogRef.close(!0))}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(k(Kn),k(Ca),k(Cn),k(bc))};static \u0275cmp=fe({type:i,selectors:[["app-manage-permissions-dialog"]],standalone:!0,features:[ye],decls:9,vars:4,consts:[["mat-dialog-title",""],[1,"permissions-grid",3,"formGroup"],[3,"formControlName",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"formControlName"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1),c(),l(2,"mat-dialog-content",1),I(3,Uz,2,2,"mat-checkbox",2),c(),l(4,"mat-dialog-actions")(5,"button",3),z("click",function(){return n.close()}),u(6,"Cancel"),c(),l(7,"button",4),z("click",function(){return n.save()}),u(8,"Save"),c()()),e&2&&(b(),Ce("Manage Permissions for ",n.teamMemberName,""),b(),C("formGroup",n.permissionsForm),b(),C("ngForOf",n.permissions),b(4),C("disabled",n.permissionsForm.pristine||!n.permissionsForm.valid))},dependencies:[Dt,Ji,Pi,pi,Ki,Xi,Vn,Da,ao,zt,Nt,li,Zi,tn,en],styles:[".permissions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:10px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:20px}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]})};var qz=["mat-sort-header",""],Wz=["*"];function Gz(i,t){if(i&1){let e=ge();l(0,"div",2),z("@arrowPosition.start",function(){q(e);let r=P();return W(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){q(e);let r=P();return W(r._disableViewStateAnimation=!1)}),F(1,"div",3),l(2,"div",4),F(3,"div",5)(4,"div",6)(5,"div",7),c()()}if(i&2){let e=P();C("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),b(2),C("@indicator",e._getArrowDirectionState()),b(),C("@leftPointer",e._getArrowDirectionState()),b(),C("@rightPointer",e._getArrowDirectionState())}}var xA=new yt("MAT_SORT_DEFAULT_OPTIONS"),bh=(()=>{class i{get direction(){return this._direction}set direction(e){this._direction=e}constructor(e){this._defaultOptions=e,this._initializedStream=new Kf(1),this.sortables=new Map,this._stateChanges=new vt,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Ge,this.initialized=this._initializedStream}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let n=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=$z(e.start||this.start,n),a=r.indexOf(this.direction)+1;return a>=r.length&&(a=0),r[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.\u0275fac=function(n){return new(n||i)(k(xA,8))}}static{this.\u0275dir=Ze({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ye],disabled:[2,"matSortDisabled","disabled",Ye]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[qt,Ai]})}}return i})();function $z(i,t){let e=["asc","desc"];return i=="desc"&&e.reverse(),t||e.push(""),e}var Oc=f5.ENTERING+" "+h5.STANDARD_CURVE,Sm={indicator:En("indicator",[Di("active-asc, asc",Et({transform:"translateY(0px)"})),Di("active-desc, desc",Et({transform:"translateY(10px)"})),_i("active-asc <=> active-desc",Ci(Oc))]),leftPointer:En("leftPointer",[Di("active-asc, asc",Et({transform:"rotate(-45deg)"})),Di("active-desc, desc",Et({transform:"rotate(45deg)"})),_i("active-asc <=> active-desc",Ci(Oc))]),rightPointer:En("rightPointer",[Di("active-asc, asc",Et({transform:"rotate(45deg)"})),Di("active-desc, desc",Et({transform:"rotate(-45deg)"})),_i("active-asc <=> active-desc",Ci(Oc))]),arrowOpacity:En("arrowOpacity",[Di("desc-to-active, asc-to-active, active",Et({opacity:1})),Di("desc-to-hint, asc-to-hint, hint",Et({opacity:.54})),Di("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Et({opacity:0})),_i("* => asc, * => desc, * => active, * => hint, * => void",Ci("0ms")),_i("* <=> *",Ci(Oc))]),arrowPosition:En("arrowPosition",[_i("* => desc-to-hint, * => desc-to-active",Ci(Oc,uc([Et({transform:"translateY(-25%)"}),Et({transform:"translateY(0)"})]))),_i("* => hint-to-desc, * => active-to-desc",Ci(Oc,uc([Et({transform:"translateY(0)"}),Et({transform:"translateY(25%)"})]))),_i("* => asc-to-hint, * => asc-to-active",Ci(Oc,uc([Et({transform:"translateY(25%)"}),Et({transform:"translateY(0)"})]))),_i("* => hint-to-asc, * => active-to-asc",Ci(Oc,uc([Et({transform:"translateY(0)"}),Et({transform:"translateY(-25%)"})]))),Di("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Et({transform:"translateY(0)"})),Di("hint-to-desc, active-to-desc, desc",Et({transform:"translateY(-25%)"})),Di("hint-to-asc, active-to-asc, asc",Et({transform:"translateY(25%)"}))]),allowChildren:En("allowChildren",[_i("* <=> *",[vg("@*",bg(),{optional:!0})])])},Bv=(()=>{class i{constructor(){this.changes=new vt}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Yz(i){return i||new Bv}var Qz={provide:Bv,deps:[[new fu,new gu,Bv]],useFactory:Yz},CA=(()=>{class i{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}constructor(e,n,r,a,o,s,d,m){this._intl=e,this._changeDetectorRef=n,this._sort=r,this._columnDef=a,this._focusMonitor=o,this._elementRef=s,this._ariaDescriber=d,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",m?.arrowPosition&&(this.arrowPosition=m?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let n=!!e;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=Ni(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(n){return new(n||i)(k(Bv),k(xt),k(bh,8),k("MAT_SORT_HEADER_COLUMN_DEF",8),k(to),k(_t),k(o5,8),k(xA,8))}}static{this.\u0275cmp=fe({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){n&1&&z("click",function(){return r._handleClick()})("keydown",function(o){return r._handleKeydown(o)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),n&2&&(at("aria-sort",r._getAriaSortAttribute()),Qe("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Ye],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Ye]},exportAs:["matSortHeader"],standalone:!0,features:[qt,ye],attrs:qz,ngContentSelectors:Wz,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){n&1&&(Xt(),l(0,"div",0)(1,"div",1),rt(2),c(),I(3,Gz,6,6,"div",2),c()),n&2&&(Qe("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before",r.arrowPosition==="before"),at("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),b(3),Tt(r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Sm.indicator,Sm.leftPointer,Sm.rightPointer,Sm.arrowOpacity,Sm.arrowPosition,Sm.allowChildren]},changeDetection:0})}}return i})(),wA=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({providers:[Qz],imports:[$t]})}}return i})();function Kz(i,t){i&1&&(l(0,"span"),u(1," \u2014 current"),c())}function Xz(i,t){if(i&1&&(l(0,"mat-option",12),u(1),I(2,Kz,2,0,"span",13),c()),i&2){let e=t.$implicit,n=P(2);C("value",e.value)("disabled",e.value===n.data.currentValue),b(),Ce(" ",e.display," "),b(),C("ngIf",e.value===n.data.currentValue)}}function Zz(i,t){i&1&&(l(0,"div",14),u(1,"Calculating proration\u2026"),c())}function eH(i,t){if(i&1&&(l(0,"li"),u(1),c()),i&2){let e=t.$implicit,n=P(3);b(),ir(" ",e.description," \u2014 ",n.formatCurrency(e.amount,n.prorationPreview.currency)," ")}}function tH(i,t){if(i&1&&(l(0,"div",14)(1,"strong"),u(2,"Proration subtotal:"),c(),u(3),F(4,"br"),l(5,"strong"),u(6,"Today total:"),c(),u(7),F(8,"br"),l(9,"small"),u(10),dt(11,"date"),c(),l(12,"ul",14),I(13,eH,2,2,"li",15),c()()),i&2){let e=P(2);b(3),Ce(" ",e.formatCurrency(e.prorationPreview.prorationSubtotal,e.prorationPreview.currency),""),b(4),Ce(" ",e.formatCurrency(e.prorationPreview.previewTotal,e.prorationPreview.currency),""),b(3),Ce("Next billing: ",yn(11,4,e.prorationPreview.nextBillingDate,"medium"),""),b(3),C("ngForOf",e.prorationPreview.prorationLines)}}function iH(i,t){if(i&1&&(l(0,"div",16),u(1),c()),i&2){let e=P(2);b(),Ce(" ",e.previewError," ")}}function nH(i,t){if(i&1){let e=ge();l(0,"div",5)(1,"form",6)(2,"mat-form-field",7)(3,"mat-label"),u(4,"Subscription Package"),c(),l(5,"mat-select",8),z("selectionChange",function(r){q(e);let a=P();return W(a.onPackageChange(r.value))}),I(6,Xz,3,4,"mat-option",9),c()()(),I(7,Zz,2,0,"div",10)(8,tH,14,7,"div",10)(9,iH,2,1,"div",11),c()}if(i&2){let e=P();b(),C("formGroup",e.form),b(5),C("ngForOf",e.data.packages),b(),C("ngIf",e.previewLoading),b(),C("ngIf",!e.previewLoading&&e.prorationPreview),b(),C("ngIf",e.previewError)}}var Vv=class i{constructor(t,e,n,r){this.fb=t;this.stripeService=e;this.dialogRef=n;this.data=r}form;prorationPreview=null;previewLoading=!1;previewError=null;ngOnInit(){this.form=this.fb.group({subscriptionPackage:[null,et.required]});let t=(this.data.packages??[]).find(e=>this.isPreviewable(e.value));t&&(this.form.get("subscriptionPackage").setValue(t.value,{emitEvent:!1}),this.onPackageChange(t.value))}onPackageChange(t){if(!t||t===this.data.currentValue||!this.isPreviewable(t)||!this.data.subscriptionId){this.previewLoading=!1,this.prorationPreview=null,this.previewError=null;return}this.previewLoading=!0,this.previewError=null,this.prorationPreview=null,this.stripeService.previewUpgradeByPackage({subscriptionId:this.data.subscriptionId,packageName:t,prorationDate:Math.floor(Date.now()/1e3),userId:this.data.userId}).subscribe({next:e=>{this.prorationPreview=e,this.previewLoading=!1},error:e=>{console.error("Preview failed",e),this.previewError="Could not fetch proration preview.",this.previewLoading=!1}})}isPreviewable(t){if(!t||t===this.data.currentValue)return!1;let e=(this.data.packages??[]).find(o=>o.value===t);if(!e)return!1;let n=`${e.value??""} ${e.display??""}`.toLowerCase(),r=(e.amount??0)<=0,a=n.includes("trial")||n.includes("basic")||n.includes("free");return!r&&!a}cancel(){this.dialogRef.close()}save(){this.form.valid&&this.dialogRef.close(this.form.value.subscriptionPackage)}formatCurrency(t,e){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:(e||"USD").toUpperCase()}).format(t)}catch{return`${t.toFixed(2)} ${(e||"").toUpperCase()}`}}static \u0275fac=function(e){return new(e||i)(k(Cn),k(Us),k(Kn),k(Ca))};static \u0275cmp=fe({type:i,selectors:[["app-subscription-upgrade"]],standalone:!0,features:[ye],decls:9,vars:2,consts:[["mat-dialog-title",""],["class","section",4,"ngIf"],["align","end"],["mat-button","",1,"submit-btn",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",1,"submit-btn",3,"click","disabled"],[1,"section"],[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","subscriptionPackage","required","",3,"selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],["class","mt-2","style","color:#c62828",4,"ngIf"],[3,"value","disabled"],[4,"ngIf"],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"mt-2",2,"color","#c62828"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1,"Choose a subscription"),c(),l(2,"mat-dialog-content"),I(3,nH,10,5,"div",1),c(),l(4,"mat-dialog-actions",2)(5,"button",3),z("click",function(){return n.cancel()}),u(6,"Cancel"),c(),l(7,"button",4),z("click",function(){return n.save()}),u(8," Confirm "),c()()),e&2&&(b(3),C("ngIf",!n.data.isTeamMember),b(4),C("disabled",n.data.packages.length===0||n.form.invalid))},dependencies:[Dt,Ji,Pt,Gi,Pi,mn,pi,Ki,io,Xi,Vn,li,Zi,tn,en,vi,hn,Mn,Lr,ro,hr,zt,Nt],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;width:200px;margin-top:10px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}[_nghost-%COMP%]     .mat-mdc-form-field{width:100%}"]})};function rH(i,t){if(i&1&&(l(0,"div",19),u(1),c()),i&2){let e=P(2);b(),Ce(" ",e.data.notice," ")}}function aH(i,t){i&1&&F(0,"span")}function oH(i,t){if(i&1&&(l(0,"mat-option",20),u(1),c()),i&2){let e,n=t.$implicit,r=P(2);C("value",n)("disabled",r.hasActiveFor(r.data.userId)&&((e=r.data.teamMembers==null?null:r.data.teamMembers.length)!==null&&e!==void 0?e:0)===0),b(),Ce(" ",n.display,`
`)}}function sH(i,t){i&1&&F(0,"span")}function lH(i,t){if(i&1&&(l(0,"mat-option",20),u(1),I(2,sH,1,0,"span",9),c()),i&2){let e=t.$implicit,n=P(3);C("value",e.id)("disabled",n.hasActiveFor(e.id)),b(),Ce(" ",e.name||e.email||e.id," "),b(),C("ngIf",n.hasActiveFor(e.id))}}function cH(i,t){if(i&1&&(l(0,"mat-form-field",11)(1,"mat-label"),u(2,"Select team member"),c(),l(3,"mat-select",21),I(4,lH,3,4,"mat-option",13),c()()),i&2){let e=P(2);b(4),C("ngForOf",e.data.teamMembers)}}function dH(i,t){if(i&1&&(l(0,"mat-hint",22),u(1),c()),i&2){let e=P(2);b(),Ce(" This user already has an active subscription (",e.data.activeByUserId==null||e.data.activeByUserId[e.form.value.forWhom==="self"?e.data.userId:e.form.value.teamMemberId]==null?null:e.data.activeByUserId[e.form.value.forWhom==="self"?e.data.userId:e.form.value.teamMemberId].packageLabel,"). You can\u2019t add another one. ")}}function uH(i,t){if(i&1&&(l(0,"mat-hint",22),u(1),c()),i&2){let e=P(2);b(),Ce(" That team member already has an active subscription (",e.activeLabel(e.form.value.teamMemberId),"). ")}}function mH(i,t){if(i&1){let e=ge();l(0,"div",2)(1,"form",3),I(2,rH,2,1,"div",4),l(3,"div",5)(4,"label",6),u(5,"Apply to"),c(),l(6,"mat-radio-group",7)(7,"mat-radio-button",8),u(8," My account "),I(9,aH,1,0,"span",9),c(),l(10,"mat-radio-button",10),u(11," Team member "),c()()(),l(12,"mat-form-field",11)(13,"mat-label"),u(14,"Subscription Package"),c(),l(15,"mat-select",12),I(16,oH,2,3,"mat-option",13),c()(),I(17,cH,5,1,"mat-form-field",14)(18,dH,2,1,"mat-hint",15)(19,uH,2,1,"mat-hint",15),l(20,"mat-dialog-actions",16)(21,"button",17),z("click",function(){q(e);let r=P();return W(r.cancel())}),u(22,"Cancel"),c(),l(23,"button",18),z("click",function(){q(e);let r=P();return W(r.save())}),u(24," Confirm "),c()()()()}if(i&2){let e=P();b(),C("formGroup",e.form),b(),C("ngIf",e.data.notice),b(5),C("disabled",e.hasActiveFor(e.data.userId)),b(2),C("ngIf",e.hasActiveFor(e.data.userId)),b(),C("disabled",!(e.data.teamMembers!=null&&e.data.teamMembers.length)),b(6),C("ngForOf",e.data.packages),b(),C("ngIf",e.form.value.forWhom==="team"),b(),C("ngIf",e.hasActiveForAssignee()),b(),C("ngIf",e.form.value.forWhom==="team"&&e.hasActiveFor(e.form.value.teamMemberId)),b(4),C("disabled",e.data.packages.length===0||e.form.invalid||e.hasActiveFor(e.form.value.forWhom==="team"?e.form.value.teamMemberId:e.data.userId))}}var zv=class i{constructor(t,e,n){this.fb=t;this.dialogRef=e;this.data=n}form;activeByUserId;hasActiveFor(t){return t?!!this.data.activeByUserId?.[t]:!1}activeLabel(t){return this.data.activeByUserId?.[t]?.packageLabel}ngOnInit(){let t=this.data.currentValue?this.data.packages.find(n=>n.value===this.data.currentValue)??null:null,e=this.hasActiveFor(this.data.userId);this.form=this.fb.group({subscriptionPackage:[t,et.required],forWhom:[e?"team":"self",et.required],teamMemberId:[null]}),this.form.get("forWhom").valueChanges.subscribe(n=>{let r=this.form.get("teamMemberId");n==="team"?r.setValidators([et.required]):(r.clearValidators(),r.setValue(null)),r.updateValueAndValidity({emitEvent:!1})})}cancel(){this.dialogRef.close()}save(){let e=this.form.value.forWhom==="team"?this.form.value.teamMemberId:this.data.userId;if(this.form.invalid||this.hasActiveFor(e))return;let n=this.form.value.subscriptionPackage;this.dialogRef.close({pkg:n,assigneeUserId:e})}hasActiveForAssignee(){let e=this.form.value.forWhom==="self"?this.data.userId:this.form.value.teamMemberId;return!!(e&&this.data.activeByUserId?.[e])}formatCurrency(t,e){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:(e||"USD").toUpperCase()}).format(t)}catch{return`${t.toFixed(2)} ${(e||"").toUpperCase()}`}}static \u0275fac=function(e){return new(e||i)(k(Cn),k(Kn),k(Ca))};static \u0275cmp=fe({type:i,selectors:[["app-subscription-create"]],standalone:!0,features:[ye],decls:4,vars:1,consts:[["mat-dialog-title",""],["class","section",4,"ngIf"],[1,"section"],[3,"formGroup"],["class","notice-chip",4,"ngIf"],[1,"full-width",2,"margin-bottom","12px"],[1,"block","mb-1"],["formControlName","forWhom"],["value","self",3,"disabled"],[4,"ngIf"],["value","team",1,"ml-4",3,"disabled"],["appearance","fill",1,"full-width"],["formControlName","subscriptionPackage","required",""],[3,"value","disabled",4,"ngFor","ngForOf"],["appearance","fill","class","full-width",4,"ngIf"],["style","color:#c62828;",4,"ngIf"],["align","end"],["mat-button","",1,"submit-btn",3,"click"],["mat-raised-button","","color","primary",1,"submit-btn",3,"click","disabled"],[1,"notice-chip"],[3,"value","disabled"],["formControlName","teamMemberId","required",""],[2,"color","#c62828"]],template:function(e,n){e&1&&(l(0,"h2",0),u(1,"Choose a subscription"),c(),l(2,"mat-dialog-content"),I(3,mH,25,10,"div",1),c()),e&2&&(b(3),C("ngIf",!n.data.isTeamMember))},dependencies:[Dt,Ji,Pt,Pi,mn,pi,Ki,io,Xi,Vn,li,Zi,tn,en,vi,hn,Mn,xc,Lr,ro,hr,zt,Nt,k0,Bp,Qu],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;width:200px;margin-top:10px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.notice-chip[_ngcontent-%COMP%]{margin-bottom:8px;padding:6px 10px;font-size:12px;border-radius:6px;background:#fff8e1;color:#5d4037}[_nghost-%COMP%]     .mat-mdc-form-field{width:100%}"]})};var Hv=class i{constructor(t,e){this.http=t;this.authService=e}apiUrl=`${St.BACKEND_URL}/profile`;teamsApiUrl=`${St.BACKEND_URL}/teams`;hubConnection;progressSubject=new vt;uploadCompleteSubject=new vt;progress$=this.progressSubject.asObservable();uploadComplete$=this.uploadCompleteSubject.asObservable();initializeSignalR(){this.hubConnection=new _c().withUrl("https://probuildai-backend.wonderfulgrass-0f331ae8.centralus.azurecontainerapps.io/progressHub").configureLogging(Ru.Debug).build(),this.hubConnection.on("ReceiveProgress",t=>{let e=Math.min(100,t),n=Math.min(100,50+Math.round(e*50/100));this.progressSubject.next(n)}),this.hubConnection.on("UploadComplete",t=>{this.uploadCompleteSubject.next(t)}),this.hubConnection.start().then(()=>console.log("SignalR connection established successfully")).catch(t=>console.error("SignalR Connection Error:",t))}stopSignalR(){this.hubConnection&&this.hubConnection.stop().then(()=>console.log("SignalR connection stopped")).catch(t=>console.error("Error stopping SignalR:",t))}getHeaders(){let t=this.authService.getToken();return new Jr(Ct({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{}))}getProfile(){let t=this.authService.currentUserSubject.value?.id;if(!t)return console.error("No userId available"),si(()=>new Error("User not authenticated"));let e=`${this.apiUrl}/GetProfile/${t}`;return this.http.get(e,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error fetching profile:",n),si(()=>new Error("Failed to load profile")))))}getTeamMemberProfile(t){let e=`${this.teamsApiUrl}/members/profile/${t}`;return this.http.get(e,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error fetching team member profile:",n),si(()=>new Error("Failed to load team member profile")))))}downloadJobDocument(t){return this.http.get(`${this.apiUrl}/download/${t}`,{responseType:"blob"})}uploadImage(t){return this.http.post(`${this.apiUrl}/UploadImage`,t,{reportProgress:!0,observe:"events",headers:new Jr({Accept:"application/json"})}).pipe(mu(3e5),It(e=>(console.error("Upload error:",e),si(()=>new Error("Failed to upload image")))))}updateProfile(t){let e=`${this.apiUrl}/update`;return this.http.post(e,t,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error updating profile:",n),si(()=>new Error("Failed to update profile")))))}uploadCertification(t){let e=new FormData;return e.append("file",t),this.http.post(`${this.apiUrl}/certification`,e).pipe(It(n=>(console.error("Error uploading certification:",n),si(()=>new Error("Failed to upload certification")))))}getUserDocuments(t){return this.http.get(`${this.apiUrl}/GetDocuments/${t}`)}getTeamMembers(){let t=`${this.apiUrl}/team`;return this.http.get(t,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error fetching team members:",e),si(()=>new Error("Failed to load team members")))))}addTeamMember(t){let e=`${this.apiUrl}/team`;return this.http.post(e,t,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error adding team member:",n),si(()=>new Error("Failed to add team member")))))}removeTeamMember(t){let e=`${this.apiUrl}/team/${t}`;return this.http.delete(e,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error removing team member:",n),si(()=>new Error("Failed to remove team member")))))}getDocuments(){return wt([])}loadGoogleMapsScript(){return new Promise((t,e)=>{if(typeof google<"u"&&google.maps){t();return}let n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${St.Google_API}&libraries=places`,n.async=!0,n.defer=!0,n.onload=()=>{typeof google<"u"&&google.maps?t():e("Google Maps API not available after load")},n.onerror=e,document.head.appendChild(n)})}hasActiveSubscription(){let t=this.authService.currentUserSubject.value?.id;return t?this.http.get(`${St.BACKEND_URL}/Account/has-active-subscription/${t}`):si(()=>new Error("User not logged in"))}manageSubscriptions(){let t=this.authService.currentUserSubject.value?.id,e=`${this.apiUrl}/managesubscriptions/${t}`;return this.http.get(e,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error fetching profile:",n),si(()=>new Error("Failed to load profile")))))}getUserSubscription(){let t=this.authService.currentUserSubject.value?.id;if(!t)return console.error("No userId available"),si(()=>new Error("User not authenticated"));let e=`${this.apiUrl}/getusersubscription/${t}`;return this.http.get(e,{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error fetching profile:",n),si(()=>new Error("Failed to load profile")))))}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(hi))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Mm=class i{transform(t){let e=Cc.find(n=>n.value===t);return e?e.display:t}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=pS({name:"roleDisplay",type:i,pure:!0})};var hH=["addressInput"],fH=["activePaginator"],gH=["teamPaginator"],bH=["inactivePaginator"],vH=["activeSort"],_H=["teamSort"],yH=["inactiveSort"],TC=()=>[5,10,25];function xH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function CH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function wH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function SH(i,t){if(i&1&&(l(0,"div",25)(1,"h3"),u(2,"Personal Information"),c(),l(3,"div",20)(4,"mat-form-field",39)(5,"mat-label"),u(6,"First Name"),c(),F(7,"input",40),I(8,xH,2,0,"mat-error",37),c(),l(9,"mat-form-field",39)(10,"mat-label"),u(11,"Last Name"),c(),F(12,"input",41),I(13,CH,2,0,"mat-error",37),c(),l(14,"mat-form-field",39)(15,"mat-label"),u(16,"Phone Number"),c(),F(17,"input",42),I(18,wH,2,0,"mat-error",37),c(),l(19,"mat-form-field",39)(20,"mat-label"),u(21,"User Type"),c(),l(22,"mat-select",43)(23,"mat-option",44),u(24,"General Contractor"),c(),l(25,"mat-option",45),u(26,"Project Manager"),c(),l(27,"mat-option",46),u(28,"Chief Estimator"),c(),l(29,"mat-option",47),u(30,"General Superintendant"),c(),l(31,"mat-option",48),u(32,"Superintendant"),c(),l(33,"mat-option",49),u(34,"Assistant Superintendant"),c(),l(35,"mat-option",50),u(36,"Foreman"),c(),l(37,"mat-option",51),u(38,"Subcontractor"),c(),l(39,"mat-option",52),u(40,"Vendor"),c()()()()()),i&2){let e,n,r,a=P(2);b(7),C("readonly",a.authService.isTeamMember()),b(),C("ngIf",(e=a.profileForm.get("firstName"))==null?null:e.hasError("required")),b(5),C("ngIf",(n=a.profileForm.get("lastName"))==null?null:n.hasError("required")),b(5),C("ngIf",(r=a.profileForm.get("phoneNumber"))==null?null:r.hasError("required"))}}function MH(i,t){if(i&1&&(l(0,"div",69)(1,"p"),u(2),c(),F(3,"mat-progress-bar",70),c()),i&2){let e=P(3);b(2),Ce("Upload Progress: ",e.progress,"%"),b(),C("value",e.progress)}}function kH(i,t){if(i&1&&(l(0,"div",71)(1,"p",72),u(2),c()()),i&2){let e=P(3);b(),C("matTooltip",e.uploadedFileNames.join(", ")),b(),Ce(" ",e.uploadedFilesCount," file(s) uploaded successfully ")}}function DH(i,t){if(i&1){let e=ge();l(0,"div",25)(1,"h3"),u(2,"Certification & Availability"),c(),l(3,"div",20)(4,"mat-form-field",39)(5,"mat-label"),u(6,"Availability"),c(),l(7,"mat-select",53),F(8,"mat-option",54),l(9,"mat-option",55),u(10,"Full-time"),c(),l(11,"mat-option",56),u(12,"Part-time"),c(),l(13,"mat-option",57),u(14,"On-demand"),c()()(),l(15,"mat-form-field",39)(16,"mat-label"),u(17,"Certification Status"),c(),l(18,"mat-select",58),F(19,"mat-option",54),l(20,"mat-option",59),u(21,"Certified"),c(),l(22,"mat-option",60),u(23,"Pending"),c(),l(24,"mat-option",61),u(25,"Not Certified"),c()()(),l(26,"div",62),I(27,MH,4,2,"div",63)(28,kH,3,2,"div",64),l(29,"div",65)(30,"label",66),F(31,"img",67),u(32," Upload File "),c(),l(33,"input",68),z("change",function(r){q(e);let a=P(2);return W(a.onFileSelected(r))}),c()()()()()}if(i&2){let e=P(2);b(27),C("ngIf",e.isUploading),b(),C("ngIf",!e.isUploading&&e.uploadedFilesCount>0)}}function EH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function AH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce("",e.display," ")}}function IH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce(" ",e.display,"")}}function PH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce(" ",e.display,"")}}function TH(i,t){if(i&1&&(l(0,"div",25)(1,"h3"),u(2,"Trade & Supplier Info"),c(),l(3,"div",20)(4,"mat-form-field",39)(5,"mat-label"),u(6,"Trade"),c(),F(7,"input",82),c(),l(8,"mat-form-field",39)(9,"mat-label"),u(10,"Supplier Type"),c(),F(11,"input",83),c(),l(12,"mat-form-field",39)(13,"mat-label"),u(14,"Products Offered"),c(),l(15,"mat-select",84),I(16,IH,2,2,"mat-option",78),c()(),l(17,"mat-form-field",39)(18,"mat-label"),u(19,"Project Preferences"),c(),l(20,"mat-select",85),I(21,PH,2,2,"mat-option",78),c()()()()),i&2){let e=P(3);b(16),C("ngForOf",e.supplierProducts),b(5),C("ngForOf",e.preferenceOptions)}}function OH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e.description," ")}}function RH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce("",e.display," ")}}function NH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce("",e.display," ")}}function FH(i,t){if(i&1){let e=ge();l(0,"div",25)(1,"h3"),u(2,"Operating area and Location"),c(),l(3,"div",20)(4,"mat-form-field",39)(5,"mat-label"),u(6,"Address"),c(),F(7,"input",86,0),l(9,"mat-autocomplete",87,1),z("optionSelected",function(r){q(e);let a=P(3);return W(a.onAddressSelected(r))}),I(11,OH,2,2,"mat-option",78),c()(),l(12,"mat-form-field",39)(13,"mat-label"),u(14,"Delivery Area"),c(),l(15,"mat-select",88),I(16,RH,2,2,"mat-option",78),c()(),l(17,"mat-form-field",39)(18,"mat-label"),u(19,"Lead Time"),c(),l(20,"mat-select",89),I(21,NH,2,2,"mat-option",78),c()()(),l(22,"div",20)(23,"mat-form-field",39)(24,"mat-label"),u(25,"Country"),c(),F(26,"input",90),c(),l(27,"mat-form-field",39)(28,"mat-label"),u(29,"State"),c(),F(30,"input",91),c(),l(31,"mat-form-field",39)(32,"mat-label"),u(33,"City"),c(),F(34,"input",92),c()()()}if(i&2){let e=Vt(10),n=P(3);b(7),C("formControl",n.addressControl)("matAutocomplete",e),b(4),C("ngForOf",n.options),b(5),C("ngForOf",n.deliveryAreas),b(5),C("ngForOf",n.leadTimeDelivery)}}function LH(i,t){if(i&1&&(l(0,"mat-tab",73)(1,"div",25)(2,"h3"),u(3,"Company Details"),c(),l(4,"div",20)(5,"mat-form-field",39)(6,"mat-label"),u(7,"Company Name"),c(),F(8,"input",74),I(9,EH,2,0,"mat-error",37),c(),l(10,"mat-form-field",39)(11,"mat-label"),u(12,"No. of Employees"),c(),F(13,"input",75),c(),l(14,"mat-form-field",39)(15,"mat-label"),u(16,"Years of Operation"),c(),F(17,"input",76),c(),l(18,"mat-form-field",39)(19,"mat-label"),u(20,"Construction Type"),c(),l(21,"mat-select",77),I(22,AH,2,2,"mat-option",78),c()()(),l(23,"div",20)(24,"mat-form-field",39)(25,"mat-label"),u(26,"Company Registration No"),c(),F(27,"input",79),c(),l(28,"mat-form-field",39)(29,"mat-label"),u(30,"VAT Number"),c(),F(31,"input",80),c()()(),I(32,TH,22,2,"div",19)(33,FH,35,5,"div",19),l(34,"div",20)(35,"button",21),u(36),c()()()),i&2){let e,n=P(2);b(9),C("ngIf",(e=n.profileForm.get("companyName"))==null?null:e.hasError("required")),b(13),C("ngForOf",n.constructionTypes),b(10),C("ngIf",n.canViewTradeSupplier()),b(),C("ngIf",n.canViewDeliveryLocation()),b(3),Ce(" ",n.isSaving?"Saving...":"Save Profile"," ")}}function jH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function BH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function VH(i,t){if(i&1&&(l(0,"mat-option",81),u(1),c()),i&2){let e=t.$implicit;C("value",e.value),b(),Ce(" ",e.display," ")}}function zH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function HH(i,t){i&1&&(l(0,"mat-error"),u(1," Mandatory Field: Input Required. "),c())}function UH(i,t){i&1&&(l(0,"mat-error"),u(1," Invalid email format. "),c())}function qH(i,t){if(i&1){let e=ge();l(0,"div",25)(1,"h3"),u(2,"Add Team Member"),c(),l(3,"form",17),z("ngSubmit",function(){q(e);let r=P(3);return W(r.addTeamMember())}),l(4,"div",20)(5,"mat-form-field",39)(6,"mat-label"),u(7,"First Name"),c(),F(8,"input",99),I(9,jH,2,0,"mat-error",37),c(),l(10,"mat-form-field",39)(11,"mat-label"),u(12,"Last Name"),c(),F(13,"input",41),I(14,BH,2,0,"mat-error",37),c(),l(15,"mat-form-field",39)(16,"mat-label"),u(17,"Role"),c(),l(18,"mat-select",100),I(19,VH,2,2,"mat-option",78),c(),I(20,zH,2,0,"mat-error",37),c(),l(21,"mat-form-field",39)(22,"mat-label"),u(23,"Email"),c(),F(24,"input",101),I(25,HH,2,0,"mat-error",37)(26,UH,2,0,"mat-error",37),c(),l(27,"button",102),u(28),c()()()()}if(i&2){let e,n,r,a,o,s=P(3);b(3),C("formGroup",s.teamForm),b(6),C("ngIf",(e=s.teamForm.get("firstName"))==null?null:e.hasError("required")),b(5),C("ngIf",(n=s.teamForm.get("lastName"))==null?null:n.hasError("required")),b(5),C("ngForOf",s.availableRoles),b(),C("ngIf",(r=s.teamForm.get("role"))==null?null:r.hasError("required")),b(5),C("ngIf",(a=s.teamForm.get("email"))==null?null:a.hasError("required")),b(),C("ngIf",(o=s.teamForm.get("email"))==null?null:o.hasError("email")),b(),C("disabled",s.teamForm.invalid||s.isSendingInvite),b(),Ce(" ",s.isSendingInvite?"Sending Invite...":"Add Member"," ")}}function WH(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Name"),c())}function GH(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),ir("",e.firstName," ",e.lastName,"")}}function $H(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Role"),c())}function YH(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"roleDisplay"),c()),i&2){let e=t.$implicit;b(),xe(Wt(2,1,e.role))}}function QH(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Email"),c())}function JH(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.email)}}function KH(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Status"),c())}function XH(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.status)}}function ZH(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Actions"),c())}function eU(i,t){if(i&1){let e=ge();l(0,"button",105),z("click",function(){q(e);let r=P().$implicit,a=P(3);return W(a.openPermissionsDialog(r.id,r.firstName,r.lastName))}),l(1,"mat-icon"),u(2,"manage_accounts"),c(),l(3,"span"),u(4,"Manage Permissions"),c()()}}function tU(i,t){if(i&1){let e=ge();l(0,"button",105),z("click",function(){q(e);let r=P().$implicit,a=P(3);return W(a.openConfirmationDialog(r.id,"deactivate"))}),l(1,"mat-icon"),u(2,"person_remove"),c(),l(3,"span"),u(4,"Deactivate"),c()()}}function iU(i,t){if(i&1){let e=ge();l(0,"button",105),z("click",function(){q(e);let r=P().$implicit,a=P(3);return W(a.openConfirmationDialog(r.id,"delete"))}),l(1,"mat-icon"),u(2,"delete"),c(),l(3,"span"),u(4,"Delete"),c()()}}function nU(i,t){if(i&1&&(l(0,"mat-cell")(1,"button",103)(2,"mat-icon"),u(3,"more_vert"),c()(),l(4,"mat-menu",null,2),I(6,eU,5,0,"button",104)(7,tU,5,0,"button",104)(8,iU,5,0,"button",104),c()()),i&2){let e=Vt(5),n=P(3);b(),C("matMenuTriggerFor",e),b(5),C("ngIf",n.authService.hasPermission("editTeamMembers")),b(),C("ngIf",n.authService.hasPermission("editTeamMembers")),b(),C("ngIf",n.authService.hasPermission("deleteTeamMembers"))}}function rU(i,t){i&1&&F(0,"mat-header-row")}function aU(i,t){i&1&&F(0,"mat-row")}function oU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Name"),c())}function sU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),ir("",e.firstName," ",e.lastName,"")}}function lU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Role"),c())}function cU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"roleDisplay"),c()),i&2){let e=t.$implicit;b(),xe(Wt(2,1,e.role))}}function dU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Email"),c())}function uU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.email)}}function mU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Status"),c())}function pU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.status)}}function hU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Actions"),c())}function fU(i,t){if(i&1){let e=ge();l(0,"mat-cell")(1,"button",103)(2,"mat-icon"),u(3,"more_vert"),c()(),l(4,"mat-menu",null,3)(6,"button",105),z("click",function(){let r=q(e).$implicit,a=P(4);return W(a.openConfirmationDialog(r.id,"reactivate"))}),l(7,"mat-icon"),u(8,"person_add"),c(),l(9,"span"),u(10,"Reactivate"),c()(),l(11,"button",105),z("click",function(){let r=q(e).$implicit,a=P(4);return W(a.openConfirmationDialog(r.id,"delete"))}),l(12,"mat-icon"),u(13,"delete"),c(),l(14,"span"),u(15,"Delete Permanently"),c()()()()}if(i&2){let e=Vt(5);b(),C("matMenuTriggerFor",e)}}function gU(i,t){i&1&&F(0,"mat-header-row")}function bU(i,t){i&1&&F(0,"mat-row")}function vU(i,t){if(i&1&&(l(0,"mat-tab",106)(1,"mat-table",26),Je(2,27),I(3,oU,2,0,"mat-header-cell",28)(4,sU,2,2,"mat-cell",29),Ke(),Je(5,95),I(6,lU,2,0,"mat-header-cell",28)(7,cU,3,3,"mat-cell",29),Ke(),Je(8,96),I(9,dU,2,0,"mat-header-cell",28)(10,uU,2,1,"mat-cell",29),Ke(),Je(11,97),I(12,mU,2,0,"mat-header-cell",28)(13,pU,2,1,"mat-cell",29),Ke(),Je(14,32),I(15,hU,2,0,"mat-header-cell",28)(16,fU,16,1,"mat-cell",29),Ke(),I(17,gU,1,0,"mat-header-row",33)(18,bU,1,0,"mat-row",34),c()()),i&2){let e=P(3);b(),C("dataSource",e.deactivatedTeamMembers),b(16),C("matHeaderRowDef",e.displayedColumns),b(),C("matRowDefColumns",e.displayedColumns)}}function _U(i,t){if(i&1&&(l(0,"mat-tab",93),I(1,qH,29,9,"div",19),l(2,"div",25)(3,"h3"),u(4,"Team Members"),c(),l(5,"mat-tab-group")(6,"mat-tab",94)(7,"mat-table",26),Je(8,27),I(9,WH,2,0,"mat-header-cell",28)(10,GH,2,2,"mat-cell",29),Ke(),Je(11,95),I(12,$H,2,0,"mat-header-cell",28)(13,YH,3,3,"mat-cell",29),Ke(),Je(14,96),I(15,QH,2,0,"mat-header-cell",28)(16,JH,2,1,"mat-cell",29),Ke(),Je(17,97),I(18,KH,2,0,"mat-header-cell",28)(19,XH,2,1,"mat-cell",29),Ke(),Je(20,32),I(21,ZH,2,0,"mat-header-cell",28)(22,nU,9,4,"mat-cell",29),Ke(),I(23,rU,1,0,"mat-header-row",33)(24,aU,1,0,"mat-row",34),c()(),I(25,vU,19,3,"mat-tab",98),c()()()),i&2){let e=P(2);b(),C("ngIf",e.authService.hasPermission("addTeamMembers")),b(6),C("dataSource",e.activeTeamMembers),b(16),C("matHeaderRowDef",e.displayedColumns),b(),C("matRowDefColumns",e.displayedColumns),b(),C("ngIf",e.deactivatedTeamMembers.length>0)}}function yU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Document Name"),c())}function xU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.name)}}function CU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Type"),c())}function wU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.type)}}function SU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Uploaded Date"),c())}function MU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.uploadedDate)}}function kU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Actions"),c())}function DU(i,t){if(i&1){let e=ge();l(0,"mat-cell")(1,"button",107),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.viewDocument(r))}),l(2,"mat-icon"),u(3,"visibility"),c()()()}}function EU(i,t){i&1&&F(0,"mat-header-row")}function AU(i,t){i&1&&F(0,"mat-row")}function IU(i,t){i&1&&(l(0,"div",20),F(1,"mat-progress-bar",108),c())}function PU(i,t){if(i&1&&(l(0,"div",20)(1,"mat-icon",109),u(2,"error"),c(),l(3,"span"),u(4),c()()),i&2){let e=P(2);b(4),xe(e.subscriptionsError)}}function TU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Package"),c())}function OU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.package)}}function RU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Valid Until"),c())}function NU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.validUntil?yn(2,1,e.validUntil,"mediumDate"):"\u2014"," ")}}function FU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Amount"),c())}function LU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"currency"),c()),i&2){let e=t.$implicit;b(),xe(Wt(2,1,e.amount))}}function jU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Assigned User"),c())}function BU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.assignedUser||"\u2014","")}}function VU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Status"),c())}function zU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),Ce("",e.status||"\u2014"," ")}}function HU(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Actions"),c())}function UU(i,t){if(i&1){let e=ge();l(0,"button",124),z("click",function(){q(e);let r=P().$implicit,a=P(3);return W(a.upgradeSubscription(r))}),u(1," Upgrade "),c()}if(i&2){let e=P().$implicit,n=P(3);C("disabled",n.rowBusy.has(e.subscriptionId)||!n.canManageRow(e))}}function qU(i,t){if(i&1){let e=ge();l(0,"button",125),z("click",function(){q(e);let r=P().$implicit,a=P(3);return W(a.cancelSubscription(r))}),u(1," Cancel "),c()}if(i&2){let e=P().$implicit,n=P(3);C("disabled",n.rowBusy.has(e.subscriptionId)||!n.canManageRow(e))}}function WU(i,t){if(i&1&&(l(0,"mat-cell",121),I(1,UU,2,1,"button",122)(2,qU,2,1,"button",123),c()),i&2){let e=P(3);b(),C("ngIf",!e.authService.isTeamMember()),b(),C("ngIf",!e.authService.isTeamMember())}}function GU(i,t){i&1&&F(0,"mat-header-row")}function $U(i,t){i&1&&F(0,"mat-row")}function YU(i,t){i&1&&(l(0,"div",20)(1,"em"),u(2,"No active subscriptions."),c()())}function QU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Package"),c())}function JU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.package)}}function KU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Valid Until"),c())}function XU(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.validUntil?yn(2,1,e.validUntil,"mediumDate"):"\u2014"," ")}}function ZU(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Amount"),c())}function eq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"currency"),c()),i&2){let e=t.$implicit;b(),xe(Wt(2,1,e.amount))}}function tq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Assigned User"),c())}function iq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.assignedUserName||"\u2014","")}}function nq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Status"),c())}function rq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),Ce("",e.status||"\u2014"," ")}}function aq(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Actions"),c())}function oq(i,t){if(i&1){let e=ge();l(0,"mat-cell",121)(1,"button",124),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.upgradeSubscription(r))}),u(2," Upgrade "),c(),l(3,"button",125),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.cancelSubscription(r))}),u(4," Cancel "),c()()}if(i&2){let e=t.$implicit,n=P(3);b(),C("disabled",n.rowBusy.has(e)||!n.canManageRow(e)),b(2),C("disabled",n.rowBusy.has(e.subscriptionId)||!n.canManageRow(e))}}function sq(i,t){i&1&&F(0,"mat-header-row")}function lq(i,t){i&1&&F(0,"mat-row")}function cq(i,t){i&1&&(l(0,"div",20)(1,"em"),u(2,"No team subscriptions."),c()())}function dq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Package"),c())}function uq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.package)}}function mq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Valid Until"),c())}function pq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.validUntil?yn(2,1,e.validUntil,"mediumDate"):"\u2014"," ")}}function hq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Amount"),c())}function fq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),dt(2,"currency"),c()),i&2){let e=t.$implicit;b(),xe(Wt(2,1,e.amount))}}function gq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Assigned User"),c())}function bq(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.assignedUserName||"\u2014","")}}function vq(i,t){i&1&&(l(0,"mat-header-cell",120),u(1,"Status"),c())}function _q(i,t){if(i&1&&(l(0,"mat-cell"),u(1),c()),i&2){let e=t.$implicit;b(),Ce("",e.status||"\u2014"," ")}}function yq(i,t){i&1&&(l(0,"mat-header-cell"),u(1,"Actions"),c())}function xq(i,t){if(i&1){let e=ge();l(0,"mat-cell",121)(1,"button",126),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.upgradeSubscription(r))}),u(2," Upgrade "),c(),l(3,"button",127),z("click",function(){let r=q(e).$implicit,a=P(3);return W(a.cancelSubscription(r))}),u(4," Cancel "),c()()}if(i&2){let e=t.$implicit,n=P(3);b(),C("disabled",n.rowBusy.has(e.subscriptionId)||n.isInactiveRow(e)),b(2),C("disabled",n.rowBusy.has(e.subscriptionId)||n.isInactiveRow(e))}}function Cq(i,t){i&1&&F(0,"mat-header-row")}function wq(i,t){i&1&&F(0,"mat-row")}function Sq(i,t){i&1&&(l(0,"div",20)(1,"em"),u(2,"No inactive subscriptions."),c()())}function Mq(i,t){if(i&1&&(l(0,"mat-tab-group")(1,"mat-tab",94)(2,"mat-table",110,4),Je(4,111),I(5,TU,2,0,"mat-header-cell",112)(6,OU,2,1,"mat-cell",29),Ke(),Je(7,113),I(8,RU,2,0,"mat-header-cell",112)(9,NU,3,4,"mat-cell",29),Ke(),Je(10,114),I(11,FU,2,0,"mat-header-cell",112)(12,LU,3,3,"mat-cell",29),Ke(),Je(13,115),I(14,jU,2,0,"mat-header-cell",112)(15,BU,2,1,"mat-cell",29),Ke(),Je(16,97),I(17,VU,2,0,"mat-header-cell",112)(18,zU,2,1,"mat-cell",29),Ke(),Je(19,32),I(20,HU,2,0,"mat-header-cell",28)(21,WU,3,2,"mat-cell",116),Ke(),I(22,GU,1,0,"mat-header-row",33)(23,$U,1,0,"mat-row",34),c(),F(24,"mat-paginator",117,5),I(26,YU,3,0,"div",36),F(27,"br"),c(),l(28,"mat-tab",118)(29,"mat-table",110,6),Je(31,111),I(32,QU,2,0,"mat-header-cell",112)(33,JU,2,1,"mat-cell",29),Ke(),Je(34,113),I(35,KU,2,0,"mat-header-cell",112)(36,XU,3,4,"mat-cell",29),Ke(),Je(37,114),I(38,ZU,2,0,"mat-header-cell",112)(39,eq,3,3,"mat-cell",29),Ke(),Je(40,115),I(41,tq,2,0,"mat-header-cell",112)(42,iq,2,1,"mat-cell",29),Ke(),Je(43,97),I(44,nq,2,0,"mat-header-cell",112)(45,rq,2,1,"mat-cell",29),Ke(),Je(46,32),I(47,aq,2,0,"mat-header-cell",28)(48,oq,5,2,"mat-cell",116),Ke(),I(49,sq,1,0,"mat-header-row",33)(50,lq,1,0,"mat-row",34),c(),F(51,"mat-paginator",117,7),I(53,cq,3,0,"div",36),c(),l(54,"mat-tab",119)(55,"mat-table",110,8),Je(57,111),I(58,dq,2,0,"mat-header-cell",112)(59,uq,2,1,"mat-cell",29),Ke(),Je(60,113),I(61,mq,2,0,"mat-header-cell",112)(62,pq,3,4,"mat-cell",29),Ke(),Je(63,114),I(64,hq,2,0,"mat-header-cell",112)(65,fq,3,3,"mat-cell",29),Ke(),Je(66,115),I(67,gq,2,0,"mat-header-cell",112)(68,bq,2,1,"mat-cell",29),Ke(),Je(69,97),I(70,vq,2,0,"mat-header-cell",112)(71,_q,2,1,"mat-cell",29),Ke(),Je(72,32),I(73,yq,2,0,"mat-header-cell",28)(74,xq,5,2,"mat-cell",116),Ke(),I(75,Cq,1,0,"mat-header-row",33)(76,wq,1,0,"mat-row",34),c(),F(77,"mat-paginator",117,9),I(79,Sq,3,0,"div",36),c()()),i&2){let e=P(2);b(2),C("dataSource",e.activeSubscriptionsData),b(20),C("matHeaderRowDef",e.subscriptionColumns),b(),C("matRowDefColumns",e.subscriptionColumns),b(),C("pageSize",10)("pageSizeOptions",Ga(18,TC)),b(2),C("ngIf",e.activeSubscriptionsData.data.length===0),b(3),C("dataSource",e.teamSubscriptionsData),b(20),C("matHeaderRowDef",e.subscriptionColumns),b(),C("matRowDefColumns",e.subscriptionColumns),b(),C("pageSize",10)("pageSizeOptions",Ga(19,TC)),b(2),C("ngIf",e.teamSubscriptionsData.data.length===0),b(2),C("dataSource",e.inactiveSubscriptionsData),b(20),C("matHeaderRowDef",e.subscriptionColumns),b(),C("matRowDefColumns",e.subscriptionColumns),b(),C("pageSize",10)("pageSizeOptions",Ga(20,TC)),b(2),C("ngIf",e.inactiveSubscriptionsData.data.length===0)}}function kq(i,t){if(i&1){let e=ge();l(0,"button",128),z("click",function(){q(e);let r=P(2);return W(r.openSubscriptionCreateDialog())}),u(1," Add Subscription "),c()}}function Dq(i,t){if(i&1){let e=ge();l(0,"form",17),z("ngSubmit",function(){q(e);let r=P();return W(r.onSubmit())}),l(1,"mat-tab-group")(2,"mat-tab",18),I(3,SH,41,4,"div",19)(4,DH,34,2,"div",19),l(5,"div",20)(6,"button",21),u(7),c()()(),I(8,LH,37,5,"mat-tab",22)(9,_U,26,5,"mat-tab",23),l(10,"mat-tab",24)(11,"div",25)(12,"h3"),u(13,"Profile Documents"),c(),l(14,"mat-table",26),Je(15,27),I(16,yU,2,0,"mat-header-cell",28)(17,xU,2,1,"mat-cell",29),Ke(),Je(18,30),I(19,CU,2,0,"mat-header-cell",28)(20,wU,2,1,"mat-cell",29),Ke(),Je(21,31),I(22,SU,2,0,"mat-header-cell",28)(23,MU,2,1,"mat-cell",29),Ke(),Je(24,32),I(25,kU,2,0,"mat-header-cell",28)(26,DU,4,0,"mat-cell",29),Ke(),I(27,EU,1,0,"mat-header-row",33)(28,AU,1,0,"mat-row",34),c()()(),l(29,"mat-tab",35)(30,"div",25)(31,"h3"),u(32,"Your Subscriptions"),c(),I(33,IU,2,0,"div",36)(34,PU,5,1,"div",36)(35,Mq,80,21,"mat-tab-group",37)(36,kq,2,0,"button",38),c()()()()}if(i&2){let e=P();C("formGroup",e.profileForm),b(3),C("ngIf",e.canViewPersonalInfo()),b(),C("ngIf",e.canViewCertification()),b(3),Ce(" ",e.isSaving?"Saving...":"Save Profile"," "),b(),C("ngIf",e.canViewCompanyDetails()&&!e.authService.isTeamMember()),b(),C("ngIf",e.authService.hasPermission("addTeamMembers")||e.authService.hasPermission("deleteTeamMembers")||e.authService.hasPermission("editTeamMembers")),b(5),C("dataSource",e.documents),b(13),C("matHeaderRowDef",e.documentColumns),b(),C("matRowDefColumns",e.documentColumns),b(5),C("ngIf",e.isLoadingSubscriptions),b(),C("ngIf",e.subscriptionsError),b(),C("ngIf",!e.isLoadingSubscriptions),b(),C("ngIf",!e.authService.isTeamMember())}}var j5e=St.BACKEND_URL,Uv=class i{constructor(t,e,n,r,a,o,s,d,m,h,v,_,g){this.profileService=t;this.authService=e;this.fb=n;this.stripeService=r;this.dialog=a;this.matIconRegistry=o;this.route=s;this.router=d;this.domSanitizer=m;this.jobsService=h;this.platformId=v;this.snackBar=_;this.teamManagementService=g;this.jobCardForm=new pc({}),this.isBrowser=sa(this.platformId),this.profileForm=this.fb.group({id:[null],email:[null],firstName:[null,et.required],lastName:[null,et.required],phoneNumber:[null,et.required],userType:[null],companyName:[null],companyRegNo:[null],vatNo:[null],constructionType:[[]],nrEmployees:[null],yearsOfOperation:[null],certificationStatus:[null],certificationDocumentPath:[null],availability:[null],trade:[null],SessionId:[null],supplierType:[null],productsOffered:[[]],projectPreferences:[[]],deliveryArea:[[]],deliveryTime:[null],country:[null],state:[null],city:[null],subscriptionPackage:["",et.required],isVerified:[!1],address:[null],formattedAddress:[""],streetNumber:[""],streetName:[""],postalCode:[""],latitude:[null],longitude:[null],googlePlaceId:[""]}),this.teamForm=this.fb.group({firstName:["",et.required],lastName:["",et.required],role:["",et.required],email:["",[et.required,et.email]]}),this.matIconRegistry.addSvgIcon("verified",this.domSanitizer.bypassSecurityTrustResourceUrl("app/assets/custom-svg/verification-symbol-svgrepo-com.svg")),this.matIconRegistry.addSvgIcon("notVerified",this.domSanitizer.bypassSecurityTrustResourceUrl("app/assets/custom-svg/status-failed-svgrepo-com.svg"))}addressInput;addressControl=new ya("");options=[];selectedPlace=null;autocompleteService;isGoogleMapsLoaded=!1;profile=null;profileForm;teamForm;isLoading=!0;isSaving=!1;rowBusy=new Set;isSendingInvite=!1;isBrowser;subscriptionPackages=[];subscriptionuserPackages=[];progress=0;isUploading=!1;uploadedFilesCount=0;uploadedFileNames=[];uploadedFileUrls=[];sessionId="";subscriptionActive=!1;jobCardForm;userRole=null;isVerified=!1;availableRoles=Cc.filter(t=>t.value!=="GENERAL_CONTRACTOR").filter(t=>t.value!=="SUBCONTRACTOR").filter(t=>t.value!=="VENDOR");teamMembers=[];activeTeamMembers=[];deactivatedTeamMembers=[];documents=[];displayedColumns=["name","role","email","status","actions"];documentColumns=["name","type","uploadedDate","actions"];activeSubscriptionsData=new ca([]);teamSubscriptionsData=new ca([]);inactiveSubscriptionsData=new ca([]);subscriptionColumns=["package","validUntil","amount","assignedUser","status","actions"];subscriptionsData=new ca([]);isLoadingSubscriptions=!1;subscriptionsError=null;constructionTypes=Gg;preferenceOptions=Qg;supplierProducts=$g;deliveryAreas=Yg;leadTimeDelivery=Jg;availabilityOptions=Kg;certificationOptions=Xg;alertMessage;showAlert;subscriptionsPaginator;subscriptionsSort;activePaginator;teamPaginator;inactivePaginator;activeSort;teamSort;inactiveSort;ngAfterViewInit(){this.subscriptionsData.paginator=this.subscriptionsPaginator,this.subscriptionsData.sort=this.subscriptionsSort,this.activeSubscriptionsData.paginator=this.activePaginator,this.teamSubscriptionsData.paginator=this.teamPaginator,this.inactiveSubscriptionsData.paginator=this.inactivePaginator,this.activeSubscriptionsData.sort=this.activeSort,this.teamSubscriptionsData.sort=this.teamSort,this.inactiveSubscriptionsData.sort=this.inactiveSort,this.addressControl.valueChanges.subscribe(t=>{typeof t=="string"&&t.trim()?this.autocompleteService?.getPlacePredictions({input:t},(e,n)=>{n===google.maps.places.PlacesServiceStatus.OK&&e?this.options=e.map(r=>({description:r.description,place_id:r.place_id})):this.options=[]}):this.options=[]})}ngOnInit(){this.loadSubscriptionPackages(),this.authService.currentUser$.subscribe(t=>{this.userRole=this.authService.getUserRole(),t&&t.id?(this.loadProfile(),this.loadDocuments(),this.checkSubscription(),this.manageSubscriptions(),this.GetUserSubscription()):this.authService.isLoggedIn()||(this.isLoading=!1)}),this.route.queryParamMap.pipe(Mi(1)).subscribe(t=>{t.get("subSuccess")==="1"&&(this.snackBar.open("Subscription successfully added","Dismiss",{duration:5e3}),this.router.navigate([],{relativeTo:this.route,queryParams:{subSuccess:null},queryParamsHandling:"merge",replaceUrl:!0}))}),this.sessionId=us(),this.profileService.initializeSignalR(),this.profileService.progress$.subscribe(t=>{this.progress=t}),this.profileService.uploadComplete$.subscribe(t=>{this.isUploading=!1,this.resetFileInput(),console.log(`Upload complete. Total ${t} file(s) uploaded.`)}),this.isBrowser&&this.profileService.loadGoogleMapsScript().then(()=>{this.isGoogleMapsLoaded=!0,this.autocompleteService=new google.maps.places.AutocompleteService}).catch(t=>console.error("Google Maps script loading error:",t))}loadProfile(){this.isLoading=!0,this.profileService.getProfile().pipe(It(t=>{let e=this.authService.currentUserSubject.value;return e&&e.isTeamMember&&e.id?this.profileService.getTeamMemberProfile(e.id):si(()=>t)})).subscribe({next:t=>{let e=Array.isArray(t)?t[0]:t;this.profile=e,this.profileForm.patchValue(e),this.isLoading=!1,this.isVerified=e.isVerified??!1,this.loadTeamMembers()},error:t=>{this.snackBar.open("Failed to load profile. Please try again.","Close",{duration:3e3}),this.isLoading=!1}})}onAddressSelected(t){let e=t.option.value;this.selectedPlace=e,new google.maps.places.PlacesService(this.addressInput.nativeElement).getDetails({placeId:e.place_id,fields:["place_id","geometry","formatted_address","address_components"]},(r,a)=>{if(a===google.maps.places.PlacesServiceStatus.OK&&r){let o=r.address_components||[],s=m=>o.find(h=>h.types.includes(m))?.long_name||"",d={address:e.description,formattedAddress:r.formatted_address||e.description,streetNumber:s("street_number"),streetName:s("route"),city:s("locality"),state:s("administrative_area_level_1"),postalCode:s("postal_code"),country:s("country"),latitude:r.geometry?.location?.lat()??null,longitude:r.geometry?.location?.lng()??null,googlePlaceId:r.place_id||e.place_id};this.profileForm.patchValue(d),this.addressControl.setValue(d.address),console.log("\u{1F504} Google Place data patched:",d)}})}loadSubscriptionPackages(){this.stripeService.getSubscriptions().subscribe({next:t=>{this.subscriptionPackages=t.map(e=>({value:e.subscription,display:`${e.subscription} ($${e.amount.toFixed(2)})`,amount:e.amount}))},error:t=>{console.error("Failed to load subscription packages:",t)}})}checkSubscription(){this.profileService.hasActiveSubscription().subscribe({next:t=>{this.subscriptionActive=t.hasActive,t.hasActive||(this.alertMessage="You do not have an active subscription. Please subscribe to create a job quote.")},error:t=>{console.error("Subscription check failed",t),this.alertMessage="Unable to verify subscription. Try again later.",this.showAlert=!0}})}isInactiveRow(t){return!t.status||t.status.toLowerCase()!=="active"}manageSubscriptions(){this.isLoadingSubscriptions=!0,this.subscriptionsError=null,this.profileService.manageSubscriptions().subscribe({next:t=>{let n=((Array.isArray(t)?t:t??[])||[]).map(w=>{let O=w.package??w.plan??w.planName??w.product??w.subscription??w.packageName??"\u2014",G=w.validUntil??w.current_period_end??w.currentPeriodEnd??w.endDate??w.expiresAt??null,ee=null;G!=null&&(ee=typeof G=="number"?new Date(G<2e9?G*1e3:G):new Date(G));let se=w.amount??w.amount_total??w.unit_amount??w.price??w.total??0,Ee=typeof se=="number"&&se>1e4?se/100:se,oe=w.assignedUser??w.user??w.userEmail??w.customer_email??null,Q=w.assignedUserName??w.user??w.userEmail??w.customer_email??null,me=w.status??w.subscriptionStatus??w.state??(w.canceled_at?"canceled":null),Te=w.subscriptionId??w.subscriptionID??w.id??w.subscription?.id??"";return{package:O,validUntil:ee,amount:Ee,assignedUser:oe,assignedUserName:Q,status:me,subscriptionId:Te}}),r=w=>(w.assignedUser==null||String(w.assignedUser).trim()==="")&&(w.status??"").toLowerCase()==="active",a=w=>(w.status??"").toLowerCase()==="active"&&!(w.assignedUser==null||String(w.assignedUser).trim()===""),o=(this.authService.currentUserSubject.value?.id??String(localStorage.getItem("userId")||"")).trim().toLowerCase(),s=(this.authService.currentUserSubject.value?.email??this.profileForm.get("email")?.value??"").trim().toLowerCase(),d=this.authService.isTeamMember(),m=w=>String(w.status||"").toLowerCase()==="active",h=w=>String(w.assignedUser??"").trim().toLowerCase(),v=w=>String(w.assignedUserName??"").trim().toLowerCase(),_=w=>{let O=h(w),G=v(w);return O&&(O===o||O===s)||G&&G===s},g=w=>h(w)==="",D=n.filter(w=>m(w)&&(d?_(w):g(w)||_(w))),E=n.filter(w=>m(w)&&!g(w)&&!_(w)),S=n.filter(w=>this.isInactiveRow(w));this.activeSubscriptionsData.data=D,this.teamSubscriptionsData.data=E,this.inactiveSubscriptionsData.data=S,this.subscriptionsData.data=n,this.isLoadingSubscriptions=!1},error:t=>{console.error("manageSubscriptions failed",t),this.subscriptionsError="Unable to load subscriptions. Try again later.",this.isLoadingSubscriptions=!1}})}GetUserSubscription(){this.profileService.getUserSubscription().subscribe({next:t=>{this.subscriptionuserPackages=t.map(n=>({value:n.package,display:`${n.package} ($${n.amount.toFixed(2)})`,amount:n.amount}));let e=this.subscriptionuserPackages?.[0]?.value??null;if(e){let n=this.subscriptionPackages.find(r=>r.value.toLowerCase()===e.toLowerCase()||r.display.toLowerCase().startsWith(e.toLowerCase()));n&&this.profileForm.get("subscriptionPackage")?.setValue(n.value)}},error:t=>{console.error("Subscription check failed",t),this.alertMessage="Unable to verify subscription. Try again later.",this.showAlert=!0}})}loadTeamMembers(){let t=this.authService.currentUserSubject.value;if(!t||!t.id){this.snackBar.open("User not fully loaded. Please try again.","Close",{duration:3e3});return}let e=t.isTeamMember?t.inviterId:t.id;this.teamManagementService.getTeamMembers(e).subscribe({next:n=>{this.teamMembers=n,this.activeTeamMembers=n.filter(r=>r.status!=="Deactivated"&&r.status!=="Deleted"),this.deactivatedTeamMembers=n.filter(r=>r.status==="Deactivated")},error:n=>{console.error("[ProfileComponent] Error loading team members:",n),this.snackBar.open("Failed to load team members.","Close",{duration:3e3})}})}loadDocuments(){let t=this.authService.currentUserSubject.value?.id;if(!t){console.warn("UserId not found for document fetch");return}this.profileService.getUserDocuments(t).subscribe({next:e=>{this.documents=e.map(n=>Ti(Ct({},n),{name:n.fileName,type:"Uploaded",uploadedDate:new Date,path:n.blobUrl}))},error:e=>{console.error("Failed to fetch documents:",e)}})}viewDocument(t){this.profileService.downloadJobDocument(t.id).subscribe({next:e=>{let n=t.name?.split(".").pop()?.toLowerCase(),r="application/octet-stream";n==="pdf"?r="application/pdf":["png","jpg","jpeg"].includes(n)?r=`image/${n}`:n==="docx"?r="application/vnd.openxmlformats-officedocument.wordprocessingml.document":n==="doc"&&(r="application/msword");let a=new Blob([e],{type:r}),o=window.URL.createObjectURL(a);window.open(o,"_blank")||(this.alertMessage="Failed to open document. Please allow pop-ups for this site.",this.showAlert=!0),setTimeout(()=>window.URL.revokeObjectURL(o),1e4)},error:e=>{console.error("Error viewing document:",e),this.alertMessage="Failed to view document.",this.showAlert=!0}})}onSubmit(){if(this.profileForm.valid&&!this.isSaving){this.isSaving=!0,this.profileForm.patchValue({SessionId:this.sessionId});let t=this.profileForm.value;this.profileService.updateProfile(t).subscribe({next:e=>{this.profile=e,this.profileForm.patchValue(e),this.snackBar.open("Profile updated successfully","Close",{duration:3e3});let n=this.profileForm.value.subscriptionPackage,r=this.subscriptionPackages.find(a=>a.value===n);this.isSaving=!1},error:e=>{console.error("Error updating profile:",e),this.snackBar.open("Failed to update profile. Please try again.","Close",{duration:3e3}),this.isSaving=!1}})}else this.snackBar.open("Please fill all required fields correctly.","Close",{duration:3e3})}onFileSelected(t){let e=t.target;if(!e?.files?.length){console.error("No files selected");return}let n=Array.from(e.files).map(a=>a.name);this.uploadedFileNames=[...this.uploadedFileNames,...n];let r=new FormData;Array.from(e.files).forEach(a=>{r.append("Blueprint",a)}),r.append("Title",this.jobCardForm.get("Title")?.value||"test"),r.append("Description",this.jobCardForm.get("Description")?.value||"tester"),r.append("sessionId",this.sessionId),this.progress=0,this.isUploading=!0,this.profileService.uploadImage(r).subscribe({next:a=>{if(a.type===Cu.UploadProgress&&a.total)this.progress=Math.round(100*a.loaded/a.total);else if(a.type===Cu.Response){let o=n.length;this.uploadedFilesCount+=o,a.body?.fileUrls&&(this.uploadedFileUrls=[...this.uploadedFileUrls,...a.body.fileUrls]),this.isUploading=!1,this.resetFileInput()}},error:a=>{console.error("Upload error:",a),this.progress=0,this.isUploading=!1,this.uploadedFileNames=this.uploadedFileNames.filter(o=>!n.includes(o)),this.resetFileInput()}})}addTeamMember(){if(this.teamForm.valid){this.isSendingInvite=!0;let t=this.teamForm.value,e=this.authService.currentUserSubject.value?.id;if(!e){this.snackBar.open("Cannot add team member: User not logged in.","Close",{duration:3e3}),this.isSendingInvite=!1;return}this.teamManagementService.addTeamMember(t,e).subscribe({next:n=>{this.teamMembers=[...this.teamMembers,n],this.loadTeamMembers(),this.teamForm.reset(),this.snackBar.open("Team member invited successfully","Close",{duration:3e3}),this.isSendingInvite=!1},error:n=>{n.status===409?this.snackBar.open(n.error.message,"Close",{duration:5e3,panelClass:["error-snackbar"]}):this.snackBar.open("Failed to add team member.","Close",{duration:3e3}),this.isSendingInvite=!1}})}else this.snackBar.open("Please fill all required fields correctly.","Close",{duration:3e3})}resetFileInput(){let t=document.getElementById("file-upload");t&&(t.value="",console.log("File input reset"))}openConfirmationDialog(t,e){this.dialog.open(Tl,{data:{title:`Confirm ${e}`,message:`Are you sure you want to ${e} this team member?`}}).afterClosed().subscribe(r=>{if(r)switch(e){case"deactivate":this.deactivateTeamMember(t);break;case"reactivate":this.reactivateTeamMember(t);break;case"delete":this.deleteTeamMember(t);break}})}lc(t){return String(t??"").trim().toLowerCase()}isAssignedToMe(t){let e=this.lc(this.authService.currentUserSubject.value?.id??localStorage.getItem("userId")),n=this.lc(this.authService.currentUserSubject.value?.email??this.profileForm.get("email")?.value),r=this.lc(t.assignedUser),a=this.lc(t.assignedUserName);return!!r&&(r===e||r===n)||!!a&&a===n}canManageRow(t){return!this.isAssignedToMe(t)}cancelSubscription(t){if(!this.canManageRow(t)||this.isInactiveRow(t))return;let e=t.subscriptionId;if(!e){this.snackBar.open("Missing subscription id.","Close",{duration:2500});return}this.rowBusy.add(e),this.stripeService.cancelSubscription(e).subscribe({next:()=>{this.snackBar.open("Subscription cancelled.","Close",{duration:3e3}),this.manageSubscriptions()},error:n=>{console.error("cancelSubscriptionById failed",n),this.snackBar.open("Failed to cancel subscription.","Close",{duration:3e3})}})}upgradeSubscription(t){!this.canManageRow(t)||this.isInactiveRow(t)||this.openSubscriptionUpgradeDialog(t)}createPaymentSession(t){this.openSubscriptionCreateDialog()}getActivePlanCode(){let t=a=>(a||"").toLowerCase().replace(/\s*\(\$[\d.,]+.*?\)\s*/g,"").replace(/\s*until\s+\d{4}-\d{2}-\d{2}.*/i,"").replace(/\s*:\s*\$[\d.,]+.*$/,"").replace(/\s+/g," ").trim(),n=(this.subscriptionsData?.data??[]).concat(this.activeSubscriptionsData?.data??[]).find(a=>(a.status??"").toLowerCase()==="active"&&(!a.assignedUser||String(a.assignedUser).trim()===""));if(n?.package){let a=t(n.package),o=(this.subscriptionPackages??[]).find(s=>t(s.value)===a||t(s.display)===a);if(o)return o.value}let r=this.subscriptionuserPackages?.[0]?.value??null;return r||(this.profileForm.get("subscriptionPackage")?.value??null)}getRowPlanCode(t){let e=t.packageCode??t.planCode??t.packageName??null;if(e)return String(e);let n=s=>(s||"").toLowerCase().replace(/\s*\(\$[\d.,]+.*?\)\s*/g,"").replace(/\s*[-]\s*current.*/i,"").replace(/\s*until\s+\d{4}-\d{2}-\d{2}.*/i,"").replace(/\s*:\s*\$[\d.,]+.*$/,"").replace(/\s+/g," ").trim(),r=t.package??t.plan??t.name??"";if(!r)return null;let a=n(String(r));return(this.subscriptionPackages??[]).find(s=>[s.value,s.display,s.name,s.label].filter(Boolean).map(m=>n(String(m))).includes(a))?.value??null}openSubscriptionUpgradeDialog(t){let e=t.subscriptionId??t.id??null,n=t.assignedUser??t.assignedUser??null;if(!e){this.snackBar.open("Missing subscription id.","Close",{duration:2500});return}let a=this.getRowPlanCode(t)??this.getActivePlanCode()??this.profileForm.get("subscriptionPackage")?.value??null;this.dialog.open(Vv,{width:"600px",autoFocus:!1,data:{packages:this.subscriptionPackages,currentValue:a,isTeamMember:this.authService.isTeamMember(),subscriptionId:e,userId:String(localStorage.getItem("userId")||"")}}).afterClosed().subscribe(s=>{if(!s)return;this.profileForm.patchValue({subscriptionPackage:s}),this.profileForm.get("subscriptionPackage")?.markAsDirty(),this.rowBusy.add(e);let d={subscriptionId:e,packageName:s,userId:String(localStorage.getItem("userId")),assignedUser:n};this.stripeService.upgradeSubscriptionByPackage(d).subscribe({next:()=>{this.snackBar.open("Subscription upgraded. Proration will be billed on your next invoice.","Close",{duration:3500}),this.manageSubscriptions()},error:m=>{console.error("Upgrade failed",m),this.snackBar.open("Failed to upgrade subscription.","Close",{duration:3500})},complete:()=>this.rowBusy.delete(e)})})}getActiveSubscriptionEmails(){let t=new Set(["active","trialing"]),e=(this.subscriptionsData?.data??[]).concat(this.teamSubscriptionsData?.data??[]).concat(this.activeSubscriptionsData?.data??[]),n=new Set;for(let r of e){let a=String(r.status||"").toLowerCase(),o=String(r.assignedUserName??"").trim().toLowerCase();console.log(o),o&&t.has(a)&&n.add(o)}return n}getActiveByUserIdForSelf(){let t={},e=this.authService.currentUserSubject.value?.id??String(localStorage.getItem("userId")||"");if(!e)return t;let n=new Set(["active","trialing"]),a=(this.subscriptionsData?.data??[]).concat(this.teamSubscriptionsData?.data??[]).concat(this.activeSubscriptionsData?.data??[]).find(o=>(!o.assignedUser||String(o.assignedUser).trim()==="")&&n.has(String(o.status||"").toLowerCase()));return a&&(t[e]={subscriptionId:String(a.subscriptionId??a.id??""),packageLabel:String(a.package??"")}),t}openSubscriptionCreateDialog(){let t=this.getActiveSubscriptionEmails(),e=(this.teamMembers??[]).filter(m=>(m.status??"").toLowerCase().trim()==="registered"),n=e.filter(m=>m.email&&t.has(m.email.toLowerCase())).length,r=e.filter(m=>!m.email||!t.has(m.email.toLowerCase())),a=this.getActiveByUserIdForSelf(),o=String(localStorage.getItem("userId")||""),s=!!a[o],d=s&&n>0?`You already have a subscription. ${n} team member${n>1?"s":""} already subscribed.`:s?"You already have an active subscription.":n>0?`${n} team member${n>1?"s":""} already subscribed.`:null;this.dialog.open(zv,{width:"600px",autoFocus:!1,data:{packages:this.subscriptionPackages,currentValue:this.profileForm.get("subscriptionPackage")?.value??null,isTeamMember:this.authService.isTeamMember(),userId:o,teamMembers:r.map(m=>({id:m.id,name:`${m.firstName??""} ${m.lastName??""}`.trim(),email:m.email})),activeByUserId:a,notice:d}}).afterClosed().subscribe(m=>{if(!m)return;let{pkg:h,assigneeUserId:v}=m;this.profileForm.patchValue({subscriptionPackage:h.value}),this.profileForm.get("subscriptionPackage")?.markAsDirty(),this.stripeService.createCheckoutSession({userId:String(localStorage.getItem("userId")??""),packageName:h.value,amount:h.amount,source:"profile",assignedUser:v}).subscribe({next:_=>window.location.assign(_.url),error:_=>console.error("Checkout session error",_)})})}openPermissionsDialog(t,e,n){this.teamManagementService.getPermissions(t).subscribe(r=>{this.dialog.open(jv,{width:"500px",data:{teamMemberId:t,teamMemberName:`${e} ${n}`,permissions:r}}).afterClosed().subscribe(o=>{o&&this.snackBar.open("Permissions updated successfully","Close",{duration:3e3})})})}deactivateTeamMember(t){this.teamManagementService.deactivateTeamMember(t).subscribe({next:()=>{let e=this.teamMembers.find(n=>n.id===t);e&&(e.status="Deactivated",this.activeTeamMembers=this.teamMembers.filter(n=>n.status!=="Deactivated"&&n.status!=="Deleted"),this.deactivatedTeamMembers=this.teamMembers.filter(n=>n.status==="Deactivated")),this.snackBar.open("Team member deactivated successfully","Close",{duration:3e3})},error:()=>{this.snackBar.open("Failed to deactivate team member","Close",{duration:3e3})}})}reactivateTeamMember(t){this.teamManagementService.reactivateTeamMember(t).subscribe({next:()=>{this.loadTeamMembers(),this.snackBar.open("Team member reactivated successfully","Close",{duration:3e3})},error:()=>{this.snackBar.open("Failed to reactivate team member","Close",{duration:3e3})}})}deleteTeamMember(t){this.teamManagementService.removeTeamMember(t).subscribe({next:()=>{this.teamMembers=this.teamMembers.filter(e=>e.id!==t),this.activeTeamMembers=this.teamMembers.filter(e=>e.status!=="Deactivated"&&e.status!=="Deleted"),this.deactivatedTeamMembers=this.teamMembers.filter(e=>e.status==="Deactivated"),this.snackBar.open("Team member permanently deleted","Close",{duration:3e3})},error:()=>{this.snackBar.open("Failed to delete team member","Close",{duration:3e3})}})}ngOnDestroy(){this.profileService.stopSignalR()}changeUserRole(t){this.userRole=t,this.authService.changeUserRole(t),this.snackBar.open(`Switched to ${t} role`,"Close",{duration:3e3}),console.log("Role switched to:",t),console.log("Visibility - Personal:",this.canViewPersonalInfo()),console.log("Visibility - Company:",this.canViewCompanyDetails()),console.log("Visibility - Certification:",this.canViewCertification()),console.log("Visibility - Trade:",this.canViewTradeSupplier()),console.log("Visibility - Delivery:",this.canViewDeliveryLocation()),console.log("Visibility - Subscription:",this.canViewSubscription())}canViewPersonalInfo(){return!0}canViewCompanyDetails(){return["GENERAL_CONTRACTOR","PROJECT_MANAGER","CHIEF_ESTIMATOR","GENERAL_SUPERINTENDANT","SUPERINTENDANT","ASSISTANT_SUPERINTENDANT","FOREMAN","SUBCONTRACTOR","VENDOR"].includes(this.userRole||"")}canViewCertification(){return["GENERAL_CONTRACTOR","PROJECT_MANAGER","CHIEF_ESTIMATOR","GENERAL_SUPERINTENDANT","SUPERINTENDANT","ASSISTANT_SUPERINTENDANT","FOREMAN","SUBCONTRACTOR","VENDOR"].includes(this.userRole||"")}canViewTradeSupplier(){return["GENERAL_CONTRACTOR","PROJECT_MANAGER","CHIEF_ESTIMATOR","GENERAL_SUPERINTENDANT","SUPERINTENDANT","ASSISTANT_SUPERINTENDANT","FOREMAN","SUBCONTRACTOR","VENDOR"].includes(this.userRole||"")}canViewDeliveryLocation(){return!0}canViewSubscription(){return["GENERAL_CONTRACTOR","PROJECT_MANAGER","CHIEF_ESTIMATOR","GENERAL_SUPERINTENDANT","SUPERINTENDANT","ASSISTANT_SUPERINTENDANT","FOREMAN","SUBCONTRACTOR","VENDOR"].includes(this.userRole||"")}static \u0275fac=function(e){return new(e||i)(k(Hv),k(hi),k(Cn),k(Us),k(pn),k(xg),k(_a),k(Ii),k(og),k(An),k(va),k(Hn),k(bc))};static \u0275cmp=fe({type:i,selectors:[["app-profile"]],viewQuery:function(e,n){if(e&1&&(Ue(hH,5),Ue(Fl,5),Ue(bh,5),Ue(fH,5),Ue(gH,5),Ue(bH,5),Ue(vH,5),Ue(_H,5),Ue(yH,5)),e&2){let r;be(r=ve())&&(n.addressInput=r.first),be(r=ve())&&(n.subscriptionsPaginator=r.first),be(r=ve())&&(n.subscriptionsSort=r.first),be(r=ve())&&(n.activePaginator=r.first),be(r=ve())&&(n.teamPaginator=r.first),be(r=ve())&&(n.inactivePaginator=r.first),be(r=ve())&&(n.activeSort=r.first),be(r=ve())&&(n.teamSort=r.first),be(r=ve())&&(n.inactiveSort=r.first)}},standalone:!0,features:[ye],decls:12,vars:1,consts:[["addressInput",""],["auto","matAutocomplete"],["activeMenu","matMenu"],["deactivatedMenu","matMenu"],["activeSort","matSort"],["activePaginator",""],["teamSort","matSort"],["teamPaginator",""],["inactiveSort","matSort"],["inactivePaginator",""],[1,"page-center"],[1,"container"],[1,"row"],[1,"fullcolumn"],[1,"profile-card"],[1,"profile-content"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],["label","Profile"],["class","section",4,"ngIf"],[1,"form-row"],["mat-raised-button","","type","submit",1,"submit-btn"],["label","Company Profile",4,"ngIf"],["label","Team Management",4,"ngIf"],["label","Documents"],[1,"section"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","type"],["matColumnDef","uploadedDate"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["label","Subscriptions"],["class","form-row",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","type","button","class","submit-btn",3,"click",4,"ngIf"],["appearance","fill"],["matInput","","formControlName","firstName","placeholder"," ",3,"readonly"],["matInput","","formControlName","lastName","placeholder"," "],["matInput","","formControlName","phoneNumber","placeholder"," "],["formControlName","userType","panelClass","custom-select-panel"],["value","GENERAL_CONTRACTOR"],["value","PROJECT_MANAGER"],["value","CHIEF_ESTIMATOR"],["value","GENERAL_SUPERINTENDANT"],["value","SUPERINTENDANT"],["value","ASSISTANT_SUPERINTENDANT"],["value","FOREMAN"],["value","SUBCONTRACTOR"],["value","VENDOR"],["formControlName","availability","panelClass","custom-select-panel"],["value",""],["value","Full-time"],["value","Part-time"],["value","On-demand"],["formControlName","certificationStatus","panelClass","custom-select-panel"],["value","Certified"],["value","Pending"],["value","Not Certified"],[1,"upload-container"],["class","upload-progress",4,"ngIf"],["class","upload-complete",4,"ngIf"],[1,"custom-file-upload"],["for","file-upload",1,"upload-label","submit-btn"],["src","assets/custom-svg/upload-folder-svgrepo-com.svg","alt","Upload Icon",1,"upload-icon"],["id","file-upload","type","file",3,"change"],[1,"upload-progress"],["mode","determinate",3,"value"],[1,"upload-complete"],["matTooltipPosition","above",3,"matTooltip"],["label","Company Profile"],["matInput","","formControlName","companyName","placeholder"," "],["matInput","","formControlName","nrEmployees","placeholder"," "],["matInput","","formControlName","yearsOfOperation","placeholder"," "],["formControlName","constructionType","multiple",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","companyRegNo","placeholder"," "],["matInput","","formControlName","vatNo","placeholder"," "],[3,"value"],["matInput","","formControlName","trade","placeholder"," "],["matInput","","formControlName","supplierType","placeholder"," "],["formControlName","productsOffered","multiple",""],["formControlName","projectPreferences","multiple",""],["matInput","","placeholder","Enter an address",3,"formControl","matAutocomplete"],[3,"optionSelected"],["formControlName","deliveryArea","multiple",""],["formControlName","deliveryTime"],["matInput","","formControlName","country","placeholder"," "],["matInput","","formControlName","state","placeholder"," "],["matInput","","formControlName","city","placeholder"," "],["label","Team Management"],["label","Active"],["matColumnDef","role"],["matColumnDef","email"],["matColumnDef","status"],["label","Deactivated",4,"ngIf"],["matInput","","formControlName","firstName","placeholder"," "],["formControlName","role","panelClass","custom-select-panel"],["matInput","","formControlName","email","placeholder"," "],["mat-raised-button","","type","submit",1,"submit-btn",3,"disabled"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["label","Deactivated"],["mat-icon-button","",3,"click"],["mode","indeterminate"],["color","warn"],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","package"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","validUntil"],["matColumnDef","amount"],["matColumnDef","assignedUser"],["class","actions-cell",4,"matCellDef"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["label","Team"],["label","Inactive"],["mat-sort-header",""],[1,"actions-cell"],["mat-raised-button","","color","primary","class","submit-btn","type","button",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn","class","submit-btn","type","button",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","type","button",1,"submit-btn",3,"click","disabled"],["mat-raised-button","","color","warn","type","button",1,"submit-btn",3,"click","disabled"],["mat-raised-button","","color","primary","type","button",3,"click","disabled"],["mat-raised-button","","color","warn","type","button",3,"click","disabled"],["mat-raised-button","","type","button",1,"submit-btn",3,"click"]],template:function(e,n){e&1&&(l(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"mat-card",14)(5,"mat-card-header")(6,"mat-card-title"),u(7,"User Profile"),c()(),l(8,"mat-card-content"),F(9,"mat-divider"),l(10,"div",15),I(11,Dq,37,13,"form",16),c()()()()()()()),e&2&&(b(11),C("ngIf",n.profileForm.controls))},dependencies:[Pi,mn,xn,pi,Ki,Ls,Xi,Vn,wn,Dt,Ji,Pt,jS,Gi,Bi,Li,nn,rn,ji,Jn,un,vi,hn,Mn,Ma,Vi,gr,js,vc,Ws,qs,hr,cs,li,Fo,No,N5,Lr,ro,zt,Nt,zr,zn,Fr,Lv,gh,Fv,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,ju,Bs,Dl,Lu,pb,Fl,wA,bh,CA,wm,Mm],styles:[".page-center[_ngcontent-%COMP%]{--app-header-h: 64px;--app-footer-h: 56px;min-height:calc(100dvh - var(--app-header-h) - var(--app-footer-h));display:flex;align-items:center;justify-content:center;padding:24px 16px}.container[_ngcontent-%COMP%]{width:95vw!important;margin-top:2rem}.actions-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.profile-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #61a0af;box-shadow:0 2px 4px #0000000d;border-radius:8px;padding:16px;height:auto}.profile-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}.profile-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;border:none;height:2px;margin:16px 0}.profile-content[_ngcontent-%COMP%]{margin-top:16px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:20px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;border-radius:6px;border:1px solid #61a0af}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-floating-label{position:static!important;font-size:.9rem;color:#333}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field .mdc-floating-label{transform:translateY(-60%)!important}.form-row[_ngcontent-%COMP%]     .mat-mdc-select-panel{max-height:256px;overflow-y:auto;margin-top:4px;transform:translateY(0)!important;position:absolute!important;z-index:1000}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block;text-align:center}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 20px;background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;cursor:pointer;transition:background-color .3s ease;width:100%;box-sizing:border-box}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none;opacity:0;width:0;height:0}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{font:.9rem sans-serif;color:#333;margin-top:.5rem}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#61a0af;text-decoration:none}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.form-row[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;width:200px;margin-top:10px}.form-row[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.form-row[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{color:#4caf50;padding:10px;margin-bottom:15px;border:1px solid #4caf50;border-radius:4px;background-color:#e8f5e9}.form-row[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44336;padding:10px;margin-bottom:15px;border:1px solid #f44336;border-radius:4px;background-color:#ffebee}.form-row[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.form-row[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-left:10px}.mat-elevation-z8[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #61a0af;border-radius:8px;overflow:hidden}.mat-elevation-z8[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%], .mat-elevation-z8[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{padding:10px;color:#333}.mat-elevation-z8[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{background-color:#fcd02d;font-weight:700}.mat-elevation-z8[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background-color:#e8f1f4}.mat-elevation-z8[_ngcontent-%COMP%]   mat-icon-button[_ngcontent-%COMP%]{color:#333}.mat-elevation-z8[_ngcontent-%COMP%]   mat-icon-button[_ngcontent-%COMP%]:hover{color:#61a0af}.upload-complete[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:15px;background-color:#e6ffe6;padding:8px;border-radius:6px;box-shadow:0 1px 3px #0000001a}.upload-complete[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#2e7d32}.upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 20px;background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease;box-sizing:border-box;box-shadow:0 2px 4px #0000001a}.upload-label[_ngcontent-%COMP%]:hover{background-color:#e6bf00;box-shadow:0 3px 6px #00000026}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.upload-icon[_ngcontent-%COMP%]{height:24px;width:24px;max-height:32px;max-width:32px;object-fit:contain;vertical-align:middle}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:none;width:100%}.form-row[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{padding:8px 16px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.upload-icon[_ngcontent-%COMP%]{height:20px;width:20px}.mat-elevation-z8[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%], .mat-elevation-z8[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{padding:8px;font-size:.9rem}.upload-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.upload-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:15px;background-color:#f9f9f9;padding:8px;border-radius:6px;box-shadow:0 1px 3px #0000001a}.upload-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;font-size:12px;color:#333}.upload-progress[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{width:150px;height:8px;border-radius:4px}.upload-progress[_ngcontent-%COMP%]     mat-progress-bar .mdc-linear-progress__bar-inner{background-color:#fbd008!important}.upload-progress[_ngcontent-%COMP%]     mat-progress-bar .mdc-linear-progress__buffer{background-color:#e0e0e0!important}}"]})};function Eq(i,t){i&1&&F(0,"app-loader")}function Aq(i,t){i&1&&(l(0,"mat-option",29),u(1," No jobs found "),c())}function Iq(i,t){if(i&1&&(l(0,"mat-option",30),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),Ce(" ",e.projectName," ")}}function Pq(i,t){i&1&&(l(0,"mat-option",29),u(1," No users found "),c())}function Tq(i,t){if(i&1&&(l(0,"mat-option",30),u(1),c()),i&2){let e=t.$implicit;C("value",e),b(),ir(" ",e.firstName," ",e.lastName," ")}}function Oq(i,t){if(i&1){let e=ge();l(0,"button",31),z("click",function(){q(e);let r=P();return W(r.submitAssignment())}),u(1),c()}if(i&2){let e=P();C("disabled",e.isSaving||!e.selectedJob||!e.selectedUser||!e.newAssignment.jobRole),b(),Ce(" ",e.isSaving?"Saving...":"Assign"," ")}}function Rq(i,t){i&1&&(l(0,"th",32),u(1,"id"),c())}function Nq(i,t){if(i&1&&(l(0,"td",33),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.job.id||"N/A"," ")}}function Fq(i,t){i&1&&(l(0,"th",32),u(1,"Project Name"),c())}function Lq(i,t){if(i&1&&(l(0,"td",33),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.job.projectName||"N/A"," ")}}function jq(i,t){i&1&&(l(0,"th",32),u(1,"Assigned User"),c())}function Bq(i,t){if(i&1&&(l(0,"td",33),u(1),c()),i&2){let e=t.$implicit;b(),ir(" ",e.user.firstName||""," ",e.user.lastName||"N/A"," ")}}function Vq(i,t){i&1&&(l(0,"th",32),u(1,"Job Role"),c())}function zq(i,t){if(i&1&&(l(0,"td",33),u(1),dt(2,"roleDisplay"),c()),i&2){let e=t.$implicit;b(),Ce(" ",Wt(2,1,e.user.jobRole)," ")}}function Hq(i,t){i&1&&(l(0,"th",32),u(1,"Phone Number"),c())}function Uq(i,t){if(i&1&&(l(0,"td",33),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.user.phoneNumber||"N/A"," ")}}function qq(i,t){i&1&&(l(0,"th",32),u(1,"Actions"),c())}function Wq(i,t){if(i&1){let e=ge();l(0,"button",35),z("click",function(){q(e);let r=P().$implicit,a=P();return W(a.deleteUserAssignment(r.job,r.user))}),u(1," Delete "),c()}if(i&2){let e=P(2);C("disabled",e.isLoading)}}function Gq(i,t){if(i&1&&(l(0,"td",33),I(1,Wq,2,1,"button",34),c()),i&2){let e=P();b(),C("ngIf",e.authService.hasPermission("deleteTeamMembers"))}}function $q(i,t){i&1&&F(0,"tr",36)}function Yq(i,t){i&1&&F(0,"tr",37)}var vh=class i{constructor(t,e,n,r,a,o,s){this.jobAssignmentService=t;this.cdr=e;this.teamManagementService=n;this.jobsService=r;this.authService=a;this.snackBar=o;this.userService=s}isLoading=!1;jobAssignmentList=[];assignmentColumns=["id","projectName","assignedUser","jobRole","phoneNumber","actions"];isSaving=!1;selectedJob=null;selectedUser=null;userList=[];availableUsers=[];teamMembers=[];currentUser;newAssignment={email:"",jobRole:""};filteredJobAssignment=[];jobsForDropdown=[];jobRoles=[];jobControl=new ya;userControl=new ya;filteredJobs=wt([]);filteredUsers=wt([]);ngOnInit(){this.loadInitialData(),this.jobRoles=Cc.filter(t=>t.value!=="GENERAL_CONTRACTOR")}loadInitialData(){this.isLoading=!0,this.authService.currentUser$.pipe(ii(t=>!!t&&!!t.id),Mi(1),Fi(t=>{this.currentUser=t;let e=this.jobAssignmentService.getJobAssignment(),n=this.teamManagementService.getTeamMembers(t.isTeamMember?t.inviterId:t.id),r=t.isTeamMember?this.jobsService.getAssignedJobsForTeamMember(t.id):wt(null);return pu({allAssignments:e,teamMembers:n,jobsForDropdown:r})})).subscribe({next:({allAssignments:t,teamMembers:e,jobsForDropdown:n})=>{this.jobAssignmentList=t,this.jobsForDropdown=n||t,this.teamMembers=e,this.userList=e.map(r=>({id:r.id,firstName:r.firstName,lastName:r.lastName,phoneNumber:r.phoneNumber,userType:r.role,jobRole:r.role})),this.availableUsers=[...this.userList],this.filteredUsers=this.userControl.valueChanges.pipe(Qi(""),bi(r=>(r||(this.newAssignment.jobRole=""),this._filterUsers(r)))),this.filteredJobs=this.jobControl.valueChanges.pipe(Qi(""),bi(r=>this._filterJobs(r))),this.filterAssignments(),this.isLoading=!1,this.cdr.detectChanges()},error:t=>{console.error("Error loading data:",t),this.snackBar.open("Failed to load data. Please try again.","Close",{duration:3e3}),this.isLoading=!1}})}flattenAssignments(t){return t.flatMap(e=>(e.jobUser||[]).map(n=>({job:e,user:n})))}filterAssignments(){let t;this.selectedJob&&this.selectedJob.id!==0?t=this.flattenAssignments(this.jobAssignmentList.filter(e=>e.id===this.selectedJob.id)):t=this.flattenAssignments(this.jobAssignmentList),this.currentUser&&this.currentUser.isTeamMember?this.filteredJobAssignment=t.filter(e=>e.user.id===this.currentUser.id):this.filteredJobAssignment=t,this.cdr.detectChanges()}submitAssignment(){if(!this.selectedJob||!this.selectedUser||!this.newAssignment.jobRole){this.snackBar.open("Please fill in all required fields","Close",{duration:3e3});return}this.isSaving=!0;let t={userId:this.selectedUser.id,jobId:this.selectedJob.id,jobRole:this.newAssignment.jobRole};this.jobAssignmentService.createJobAssignment(t).subscribe({next:e=>{let n=this.jobAssignmentList.findIndex(r=>r.id===this.selectedJob.id);if(n!==-1){let r=Ti(Ct({},this.jobAssignmentList[n]),{jobUser:[...this.jobAssignmentList[n].jobUser||[],{id:this.selectedUser.id,firstName:this.selectedUser.firstName,lastName:this.selectedUser.lastName,phoneNumber:this.selectedUser.phoneNumber,userType:this.selectedUser.userType,jobRole:this.newAssignment.jobRole}]});this.jobAssignmentList[n]=r}else this.jobAssignmentList=[...this.jobAssignmentList,e];this.filterAssignments(),this.snackBar.open("Job assignment created successfully","Close",{duration:3e3}),this.resetForm(),this.isSaving=!1,this.cdr.detectChanges()},error:e=>{console.error("Error creating assignment:",e),this.snackBar.open("Failed to create job assignment","Close",{duration:3e3}),this.isSaving=!1}})}deleteUserAssignment(t,e){if(!t||!e){this.snackBar.open("Invalid job assignment or user","Close",{duration:3e3});return}this.isLoading=!0;let n={userId:e.id,jobId:t.id,jobRole:e.jobRole||""};this.jobAssignmentService.deleteUserAssignment(n).subscribe({next:()=>{let r=Ti(Ct({},t),{jobUser:(t.jobUser||[]).filter(a=>a.id!==e.id)});this.jobAssignmentList=this.jobAssignmentList.map(a=>a.id===t.id?r:a),this.filterAssignments(),this.snackBar.open("Job assignment deleted successfully","Close",{duration:3e3}),this.isLoading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error deleting assignment:",r),this.snackBar.open("Failed to delete job assignment","Close",{duration:3e3}),this.isLoading=!1}})}resetForm(){this.selectedUser=null,this.selectedJob=null,this.jobControl.setValue(""),this.userControl.setValue(""),this.newAssignment={email:"",jobRole:""}}onJobSelectionChange(t){if(this.selectedJob=t,this.filterAssignments(),t&&t.id!==0){let e=(t.jobUser||[]).map(n=>n.id);this.availableUsers=this.userList.filter(n=>!e.includes(n.id)),this.selectedUser&&e.includes(this.selectedUser.id)&&(this.snackBar.open("This user is already assigned to the selected job.","Close",{duration:3e3}),this.selectedUser=null,this.userControl.setValue(""),this.newAssignment.jobRole="")}else this.availableUsers=[...this.userList];this.userControl.updateValueAndValidity({onlySelf:!0,emitEvent:!0})}onUserSelected(t){if(this.selectedJob&&this.selectedJob.id!==0){let e=(this.selectedJob.jobUser||[]).map(n=>n.id);if(t&&t.id&&e.includes(t.id)){this.snackBar.open("This user is already assigned to the selected job.","Close",{duration:3e3}),this.userControl.setValue(""),this.selectedUser=null,this.newAssignment.jobRole="";return}}this.selectedUser=t,t&&t.id?this.newAssignment.jobRole=t.jobRole||"":this.newAssignment.jobRole=""}_filterJobs(t){let e=typeof t=="string"?t.toLowerCase():(t.projectName||"").toLowerCase(),n=this.jobsForDropdown.filter(r=>(r.projectName||"").toLowerCase().includes(e));return[{id:0,projectName:"",jobUser:[]},...n]}_filterUsers(t){let e=typeof t=="string"?t.toLowerCase():(t?`${t.firstName} ${t.lastName}`:"").toLowerCase(),n=this.availableUsers.filter(r=>`${r.firstName} ${r.lastName}`.toLowerCase().includes(e));return[{id:"",firstName:"",lastName:"",phoneNumber:"",userType:"",jobRole:""},...n]}displayJob(t){return t&&t.id===0?"":t&&t.projectName?t.projectName:""}displayUser(t){return t&&!t.id?"":t&&t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:""}static \u0275fac=function(e){return new(e||i)(k(Cm),k(xt),k(bc),k(An),k(hi),k(Hn),k(zo))};static \u0275cmp=fe({type:i,selectors:[["app-job-assignment"]],standalone:!0,features:[ye],decls:61,vars:29,consts:[["autoJob","matAutocomplete"],["autoUser","matAutocomplete"],[1,"container"],[4,"ngIf"],[1,"profile-card"],[1,"section"],[1,"form-row",3,"ngSubmit"],[1,"job-selection"],["type","text","placeholder","Search for a job","aria-label","Select Job","matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected","displayWith"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search for a user","aria-label","Select User","matInput","",3,"formControl","matAutocomplete"],[1,"job-role-field",3,"matTooltip"],["matInput","","name","jobRole","readonly","",3,"value"],[1,"button-container"],["mat-button","","class","submit-btn",3,"disabled","click",4,"ngIf"],[1,"section","table-container"],["mat-table","",1,"themed-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","projectName"],["matColumnDef","assignedUser"],["matColumnDef","jobRole"],["matColumnDef","phoneNumber"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["disabled",""],[3,"value"],["mat-button","",1,"submit-btn",3,"click","disabled"],["mat-header-cell",""],["mat-cell",""],["mat-button","","class","submit-btn","color","accent",3,"disabled","click",4,"ngIf"],["mat-button","","color","accent",1,"submit-btn",3,"click","disabled"],["mat-header-row",""],["mat-row",""]],template:function(e,n){if(e&1){let r=ge();l(0,"div",2),I(1,Eq,1,0,"app-loader",3),l(2,"mat-card",4)(3,"mat-card-title"),u(4,"Job Assignments"),c(),F(5,"mat-divider"),l(6,"div",5)(7,"h3"),u(8,"Assign Job"),c(),l(9,"form",6),z("ngSubmit",function(){return q(r),W(n.submitAssignment())}),l(10,"mat-form-field",7)(11,"mat-label"),u(12,"Select Job"),c(),F(13,"input",8),l(14,"mat-autocomplete",9,0),z("optionSelected",function(o){return q(r),W(n.onJobSelectionChange(o.option.value))}),I(16,Aq,2,0,"mat-option",10),dt(17,"async"),I(18,Iq,2,2,"mat-option",11),dt(19,"async"),c()(),l(20,"mat-form-field",7)(21,"mat-label"),u(22,"Select User"),c(),F(23,"input",12),l(24,"mat-autocomplete",9,1),z("optionSelected",function(o){return q(r),W(n.onUserSelected(o.option.value))}),I(26,Pq,2,0,"mat-option",10),dt(27,"async"),I(28,Tq,2,3,"mat-option",11),dt(29,"async"),c()(),l(30,"mat-form-field",13)(31,"mat-label"),u(32,"Job Role"),c(),F(33,"input",14),dt(34,"roleDisplay"),c()(),l(35,"div",15),I(36,Oq,2,2,"button",16),c()(),l(37,"div",17)(38,"h3"),u(39,"Assignment List"),c(),l(40,"table",18),Je(41,19),I(42,Rq,2,0,"th",20)(43,Nq,2,1,"td",21),Ke(),Je(44,22),I(45,Fq,2,0,"th",20)(46,Lq,2,1,"td",21),Ke(),Je(47,23),I(48,jq,2,0,"th",20)(49,Bq,2,2,"td",21),Ke(),Je(50,24),I(51,Vq,2,0,"th",20)(52,zq,3,3,"td",21),Ke(),Je(53,25),I(54,Hq,2,0,"th",20)(55,Uq,2,1,"td",21),Ke(),Je(56,26),I(57,qq,2,0,"th",20)(58,Gq,2,1,"td",21),Ke(),I(59,$q,1,0,"tr",27)(60,Yq,1,0,"tr",28),c()()()()}if(e&2){let r,a,o=Vt(15),s=Vt(25);b(),C("ngIf",n.isLoading),b(12),C("formControl",n.jobControl)("matAutocomplete",o),b(),C("displayWith",n.displayJob),b(2),C("ngIf",!((r=Wt(17,19,n.filteredJobs))!=null&&r.length)),b(2),C("ngForOf",Wt(19,21,n.filteredJobs)),b(5),C("formControl",n.userControl)("matAutocomplete",s),b(),C("displayWith",n.displayUser),b(2),C("ngIf",!((a=Wt(27,23,n.filteredUsers))!=null&&a.length)),b(2),C("ngForOf",Wt(29,25,n.filteredUsers)),b(2),Qe("filled",n.newAssignment.jobRole),C("matTooltip",n.newAssignment.jobRole?"":"This will be automatically filled in when a user is selected"),b(3),C("value",Wt(34,27,n.newAssignment.jobRole)),b(3),C("ngIf",n.authService.hasPermission("AddTeamMembers")),b(4),C("dataSource",n.filteredJobAssignment),b(19),C("matHeaderRowDef",n.assignmentColumns),b(),C("matRowDefColumns",n.assignmentColumns)}},dependencies:[wn,mn,xn,pi,Ki,hc,Pi,Ls,Pt,Ji,Nt,fr,Li,Bi,ji,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,Lr,hn,Mn,hr,vi,Vi,gr,Jn,un,Ws,qs,cs,Os,Fo,No,wm,Mm],styles:[".assignments-container[_ngcontent-%COMP%]{margin-top:2rem}.themed-table[_ngcontent-%COMP%]{width:100%;box-shadow:0 2px 4px #0000000d;overflow-x:auto;text-align-last:center}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fbd008;text-align:left;padding:12px;font-size:1rem}.themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:3px solid #D9D9D9;padding:12px;font-size:.9rem}.themed-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.themed-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.no-border[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;border:none!important}.container[_ngcontent-%COMP%]{width:90vw;max-width:1200px;margin:2rem auto}.profile-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #61a0af;box-shadow:0 2px 4px #0000000d;border-radius:8px;padding:24px}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;border:none;height:2px;margin:16px 0}.section[_ngcontent-%COMP%]{margin-bottom:2rem}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:16px}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:20px;gap:20px;flex-wrap:wrap}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 30%;min-width:200px}.job-selection[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:400px}.table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.submit-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;text-align:center}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit-btn.delete-btn[_ngcontent-%COMP%]{background-color:#da4167;color:#fff}.submit-btn.delete-btn[_ngcontent-%COMP%]:hover{background-color:#c2264d}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem;margin-top:1rem;flex-wrap:wrap}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.job-role-field[_ngcontent-%COMP%]:not(.filled)   input[_ngcontent-%COMP%]{cursor:help}.job-role-field.filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:default}.action-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.action-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.action-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:.8rem}"]})};var km=class i{constructor(t){this.http=t}apiUrl=`${St.BACKEND_URL}`;requestPasswordReset(t){return this.http.post(this.apiUrl+"/account/forgotpassword",{email:t}).pipe(It(this.handleError))}resetPassword(t){return this.http.post(this.apiUrl+"/account/resetpassword",t).pipe(It(this.handleError))}handleError(t){let e="An unexpected error occurred. Please try again later.";return t.status===404?e="No account found with this email address.":t.status===500&&(e="Server error. Please try again later."),si(()=>new Error(e))}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};function Qq(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function Jq(i,t){i&1&&(l(0,"mat-error"),u(1," Email is required. "),c())}function Kq(i,t){i&1&&(l(0,"mat-error"),u(1," Please enter a valid email address. "),c())}function Xq(i,t){if(i&1){let e=ge();l(0,"div",12)(1,"div",13)(2,"p"),u(3),c(),l(4,"button",14),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var qv=class i{constructor(t,e,n){this.formBuilder=t;this.forgotPasswordService=e;this.router=n;this.forgotPasswordForm=this.formBuilder.group({email:["",[et.required,et.email]]})}forgotPasswordForm;showAlert=!1;alertMessage="";isLoading=!1;onSubmit(){if(this.forgotPasswordForm.valid){this.isLoading=!0;let t=this.forgotPasswordForm.value.email;this.forgotPasswordService.requestPasswordReset(t).subscribe({next:()=>{this.isLoading=!1,this.showAlert=!0,this.alertMessage="Password reset link has been sent to your email."},error:e=>{this.isLoading=!1,this.showAlert=!0,this.alertMessage=e.message}})}else this.showAlert=!0,this.alertMessage="Please enter a valid email address."}closeAlert(){this.showAlert=!1}static \u0275fac=function(e){return new(e||i)(k(Cn),k(km),k(Ii))};static \u0275cmp=fe({type:i,selectors:[["app-forgot-password"]],standalone:!0,features:[ye],decls:26,vars:5,consts:[[4,"ngIf"],[1,"container"],[1,"row","justify-content-center","align-items-center"],[1,"fullcolumn"],["href","login"],[3,"ngSubmit","formGroup"],[1,"form-field"],["appearance","fill",1,"w-100"],["matInput","","formControlName","email","required",""],[1,"action-buttons"],["mat-raised-button","","type","submit",1,"submit-btn"],["class","alert-overlay",4,"ngIf"],[1,"alert-overlay"],[1,"alert-modal"],["mat-raised-button","",1,"submit-btn",3,"click"]],template:function(e,n){if(e&1&&(I(0,Qq,2,0,"div",0),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-header")(6,"mat-card-title"),u(7,"Reset Password"),c(),l(8,"mat-card-subtitle"),u(9," Return to "),l(10,"a",4),u(11,"Sign In"),c()()(),l(12,"mat-card-content"),F(13,"mat-divider"),l(14,"form",5),z("ngSubmit",function(){return n.onSubmit()}),l(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),u(18,"Email"),c(),F(19,"input",8),I(20,Jq,2,0,"mat-error",0)(21,Kq,2,0,"mat-error",0),c()(),l(22,"div",9)(23,"button",10),u(24,"Send Reset Link"),c()()()()()()()(),I(25,Xq,6,1,"div",11)),e&2){let r,a;C("ngIf",n.isLoading),b(14),C("formGroup",n.forgotPasswordForm),b(6),C("ngIf",(r=n.forgotPasswordForm.get("email"))==null?null:r.hasError("required")),b(),C("ngIf",(a=n.forgotPasswordForm.get("email"))==null?null:a.hasError("email")),b(4),C("ngIf",n.showAlert)}},dependencies:[Pi,mn,xn,pi,Ki,io,Xi,Vn,Bi,Li,nn,rn,yc,ji,Pt,vi,hn,Mn,Ma,Vi,gr,fr,zt,Nt,Jn,un],styles:[".container[_ngcontent-%COMP%]{width:80vw;padding:1rem;display:flex;justify-content:center;align-items:center;min-height:100vh}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.fullcolumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:30vw;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:.5rem}mat-card-subtitle[_ngcontent-%COMP%]{font-size:small;color:#333;margin-bottom:1rem}mat-card-subtitle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#61a0af;text-decoration:none}mat-card-subtitle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-card-content[_ngcontent-%COMP%]{padding-top:1rem}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#333}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#000}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;width:100%}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;justify-content:center}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#000}@media (max-width: 768px){.fullcolumn[_ngcontent-%COMP%]{width:80vw}.container[_ngcontent-%COMP%]{width:95vw}.submit-btn[_ngcontent-%COMP%]{padding:6px 12px}}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:focus{transition:background-color 0s 600000s,color 0s 600000s!important}"]})};var Qv,Ft,IA,RC,Dm,wd,kA,PA,TA,Gv={},OA=[],Zq=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Rc(i,t){for(var e in t)i[e]=t[e];return i}function RA(i){var t=i.parentNode;t&&t.removeChild(i)}function Me(i,t,e){var n,r,a,o={};for(a in t)a=="key"?n=t[a]:a=="ref"?r=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?Qv.call(arguments,2):e),typeof i=="function"&&i.defaultProps!=null)for(a in i.defaultProps)o[a]===void 0&&(o[a]=i.defaultProps[a]);return Wv(i,o,n,r,null)}function Wv(i,t,e,n,r){var a={type:i,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++IA};return r==null&&Ft.vnode!=null&&Ft.vnode(a),a}function Co(){return{current:null}}function Pn(i){return i.children}function eW(i,t,e,n,r){var a;for(a in e)a==="children"||a==="key"||a in t||$v(i,a,null,e[a],n);for(a in t)r&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||e[a]===t[a]||$v(i,a,t[a],e[a],n)}function DA(i,t,e){t[0]==="-"?i.setProperty(t,e??""):i[t]=e==null?"":typeof e!="number"||Zq.test(t)?e:e+"px"}function $v(i,t,e,n,r){var a;e:if(t==="style")if(typeof e=="string")i.style.cssText=e;else{if(typeof n=="string"&&(i.style.cssText=n=""),n)for(t in n)e&&t in e||DA(i.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||DA(i.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in i?t.toLowerCase().slice(2):t.slice(2),i.l||(i.l={}),i.l[t+a]=e,e?n||i.addEventListener(t,a?AA:EA,a):i.removeEventListener(t,a?AA:EA,a);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in i)try{i[t]=e??"";break e}catch{}typeof e=="function"||(e==null||e===!1&&t.indexOf("-")==-1?i.removeAttribute(t):i.setAttribute(t,e))}}function EA(i){Dm=!0;try{return this.l[i.type+!1](Ft.event?Ft.event(i):i)}finally{Dm=!1}}function AA(i){Dm=!0;try{return this.l[i.type+!0](Ft.event?Ft.event(i):i)}finally{Dm=!1}}function pa(i,t){this.props=i,this.context=t}function _h(i,t){if(t==null)return i.__?_h(i.__,i.__.__k.indexOf(i)+1):null;for(var e;t<i.__k.length;t++)if((e=i.__k[t])!=null&&e.__e!=null)return e.__e;return typeof i.type=="function"?_h(i):null}function NA(i){var t,e;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,t=0;t<i.__k.length;t++)if((e=i.__k[t])!=null&&e.__e!=null){i.__e=i.__c.base=e.__e;break}return NA(i)}}function tW(i){Dm?setTimeout(i):PA(i)}function OC(i){(!i.__d&&(i.__d=!0)&&wd.push(i)&&!Yv.__r++||kA!==Ft.debounceRendering)&&((kA=Ft.debounceRendering)||tW)(Yv)}function Yv(){var i,t,e,n,r,a,o,s;for(wd.sort(function(d,m){return d.__v.__b-m.__v.__b});i=wd.shift();)i.__d&&(t=wd.length,n=void 0,r=void 0,o=(a=(e=i).__v).__e,(s=e.__P)&&(n=[],(r=Rc({},a)).__v=a.__v+1,NC(s,a,r,e.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o??_h(a),a.__h),VA(n,a),a.__e!=o&&NA(a)),wd.length>t&&wd.sort(function(d,m){return d.__v.__b-m.__v.__b}));Yv.__r=0}function FA(i,t,e,n,r,a,o,s,d,m){var h,v,_,g,D,E,S,w=n&&n.__k||OA,O=w.length;for(e.__k=[],h=0;h<t.length;h++)if((g=e.__k[h]=(g=t[h])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?Wv(null,g,null,null,g):Array.isArray(g)?Wv(Pn,{children:g},null,null,null):g.__b>0?Wv(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)!=null){if(g.__=e,g.__b=e.__b+1,(_=w[h])===null||_&&g.key==_.key&&g.type===_.type)w[h]=void 0;else for(v=0;v<O;v++){if((_=w[v])&&g.key==_.key&&g.type===_.type){w[v]=void 0;break}_=null}NC(i,g,_=_||Gv,r,a,o,s,d,m),D=g.__e,(v=g.ref)&&_.ref!=v&&(S||(S=[]),_.ref&&S.push(_.ref,null,g),S.push(v,g.__c||D,g)),D!=null?(E==null&&(E=D),typeof g.type=="function"&&g.__k===_.__k?g.__d=d=LA(g,d,i):d=jA(i,g,_,w,D,d),typeof e.type=="function"&&(e.__d=d)):d&&_.__e==d&&d.parentNode!=i&&(d=_h(_))}for(e.__e=E,h=O;h--;)w[h]!=null&&(typeof e.type=="function"&&w[h].__e!=null&&w[h].__e==e.__d&&(e.__d=BA(n).nextSibling),HA(w[h],w[h]));if(S)for(h=0;h<S.length;h++)zA(S[h],S[++h],S[++h])}function LA(i,t,e){for(var n,r=i.__k,a=0;r&&a<r.length;a++)(n=r[a])&&(n.__=i,t=typeof n.type=="function"?LA(n,t,e):jA(e,n,n,r,n.__e,t));return t}function yh(i,t){return t=t||[],i==null||typeof i=="boolean"||(Array.isArray(i)?i.some(function(e){yh(e,t)}):t.push(i)),t}function jA(i,t,e,n,r,a){var o,s,d;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(e==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==i)i.appendChild(r),o=null;else{for(s=a,d=0;(s=s.nextSibling)&&d<n.length;d+=1)if(s==r)break e;i.insertBefore(r,a),o=a}return o!==void 0?o:r.nextSibling}function BA(i){var t,e,n;if(i.type==null||typeof i.type=="string")return i.__e;if(i.__k){for(t=i.__k.length-1;t>=0;t--)if((e=i.__k[t])&&(n=BA(e)))return n}return null}function NC(i,t,e,n,r,a,o,s,d){var m,h,v,_,g,D,E,S,w,O,G,ee,se,Ee,oe,Q=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(d=e.__h,s=t.__e=e.__e,t.__h=null,a=[s]),(m=Ft.__b)&&m(t);try{e:if(typeof Q=="function"){if(S=t.props,w=(m=Q.contextType)&&n[m.__c],O=m?w?w.props.value:m.__:n,e.__c?E=(h=t.__c=e.__c).__=h.__E:("prototype"in Q&&Q.prototype.render?t.__c=h=new Q(S,O):(t.__c=h=new pa(S,O),h.constructor=Q,h.render=nW),w&&w.sub(h),h.props=S,h.state||(h.state={}),h.context=O,h.__n=n,v=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),Q.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Rc({},h.__s)),Rc(h.__s,Q.getDerivedStateFromProps(S,h.__s))),_=h.props,g=h.state,h.__v=t,v)Q.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(Q.getDerivedStateFromProps==null&&S!==_&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(S,O),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(S,h.__s,O)===!1||t.__v===e.__v){for(t.__v!==e.__v&&(h.props=S,h.state=h.__s,h.__d=!1),t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(me){me&&(me.__=t)}),G=0;G<h._sb.length;G++)h.__h.push(h._sb[G]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(S,h.__s,O),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(_,g,D)})}if(h.context=O,h.props=S,h.__P=i,ee=Ft.__r,se=0,"prototype"in Q&&Q.prototype.render){for(h.state=h.__s,h.__d=!1,ee&&ee(t),m=h.render(h.props,h.state,h.context),Ee=0;Ee<h._sb.length;Ee++)h.__h.push(h._sb[Ee]);h._sb=[]}else do h.__d=!1,ee&&ee(t),m=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++se<25);h.state=h.__s,h.getChildContext!=null&&(n=Rc(Rc({},n),h.getChildContext())),v||h.getSnapshotBeforeUpdate==null||(D=h.getSnapshotBeforeUpdate(_,g)),oe=m!=null&&m.type===Pn&&m.key==null?m.props.children:m,FA(i,Array.isArray(oe)?oe:[oe],t,e,n,r,a,o,s,d),h.base=t.__e,t.__h=null,h.__h.length&&o.push(h),E&&(h.__E=h.__=null),h.__e=!1}else a==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=iW(e.__e,t,e,n,r,a,o,d);(m=Ft.diffed)&&m(t)}catch(me){t.__v=null,(d||a!=null)&&(t.__e=s,t.__h=!!d,a[a.indexOf(s)]=null),Ft.__e(me,t,e)}}function VA(i,t){Ft.__c&&Ft.__c(t,i),i.some(function(e){try{i=e.__h,e.__h=[],i.some(function(n){n.call(e)})}catch(n){Ft.__e(n,e.__v)}})}function iW(i,t,e,n,r,a,o,s){var d,m,h,v=e.props,_=t.props,g=t.type,D=0;if(g==="svg"&&(r=!0),a!=null){for(;D<a.length;D++)if((d=a[D])&&"setAttribute"in d==!!g&&(g?d.localName===g:d.nodeType===3)){i=d,a[D]=null;break}}if(i==null){if(g===null)return document.createTextNode(_);i=r?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,_.is&&_),a=null,s=!1}if(g===null)v===_||s&&i.data===_||(i.data=_);else{if(a=a&&Qv.call(i.childNodes),m=(v=e.props||Gv).dangerouslySetInnerHTML,h=_.dangerouslySetInnerHTML,!s){if(a!=null)for(v={},D=0;D<i.attributes.length;D++)v[i.attributes[D].name]=i.attributes[D].value;(h||m)&&(h&&(m&&h.__html==m.__html||h.__html===i.innerHTML)||(i.innerHTML=h&&h.__html||""))}if(eW(i,_,v,r,s),h)t.__k=[];else if(D=t.props.children,FA(i,Array.isArray(D)?D:[D],t,e,n,r&&g!=="foreignObject",a,o,a?a[0]:e.__k&&_h(e,0),s),a!=null)for(D=a.length;D--;)a[D]!=null&&RA(a[D]);s||("value"in _&&(D=_.value)!==void 0&&(D!==i.value||g==="progress"&&!D||g==="option"&&D!==v.value)&&$v(i,"value",D,v.value,!1),"checked"in _&&(D=_.checked)!==void 0&&D!==i.checked&&$v(i,"checked",D,v.checked,!1))}return i}function zA(i,t,e){try{typeof i=="function"?i(t):i.current=t}catch(n){Ft.__e(n,e)}}function HA(i,t,e){var n,r;if(Ft.unmount&&Ft.unmount(i),(n=i.ref)&&(n.current&&n.current!==i.__e||zA(n,null,t)),(n=i.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Ft.__e(a,t)}n.base=n.__P=null,i.__c=void 0}if(n=i.__k)for(r=0;r<n.length;r++)n[r]&&HA(n[r],t,e||typeof i.type!="function");e||i.__e==null||RA(i.__e),i.__=i.__e=i.__d=void 0}function nW(i,t,e){return this.constructor(i,e)}function Nc(i,t,e){var n,r,a;Ft.__&&Ft.__(i,t),r=(n=typeof e=="function")?null:e&&e.__k||t.__k,a=[],NC(t,i=(!n&&e||t).__k=Me(Pn,null,[i]),r||Gv,Gv,t.ownerSVGElement!==void 0,!n&&e?[e]:r?null:t.firstChild?Qv.call(t.childNodes):null,a,!n&&e?e:r?r.__e:t.firstChild,n),VA(a,i)}function Jv(i,t){var e={__c:t="__cC"+TA++,__:i,Consumer:function(n,r){return n.children(r)},Provider:function(n){var r,a;return this.getChildContext||(r=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(s){s.__e=!0,OC(s)})},this.sub=function(o){r.push(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),s&&s.call(o)}}),n.children}};return e.Provider.__=e.Consumer.contextType=e}Qv=OA.slice,Ft={__e:function(i,t,e,n){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(i)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(i,n||{}),o=r.__d),o)return r.__E=r}catch(s){i=s}throw i}},IA=0,RC=function(i){return i!=null&&i.constructor===void 0},Dm=!1,pa.prototype.setState=function(i,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Rc({},this.state),typeof i=="function"&&(i=i(Rc({},e),this.props)),i&&Rc(e,i),i!=null&&this.__v&&(t&&this._sb.push(t),OC(this))},pa.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),OC(this))},pa.prototype.render=Pn,wd=[],PA=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Yv.__r=0,TA=0;var aW,el,FC,UA;var JA=[],LC=[],qA=Ft.__b,WA=Ft.__r,GA=Ft.diffed,$A=Ft.__c,YA=Ft.unmount;function oW(){for(var i;i=JA.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(Kv),i.__H.__h.forEach(jC),i.__H.__h=[]}catch(t){i.__H.__h=[],Ft.__e(t,i.__v)}}Ft.__b=function(i){el=null,qA&&qA(i)},Ft.__r=function(i){WA&&WA(i),aW=0;var t=(el=i.__c).__H;t&&(FC===el?(t.__h=[],el.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=LC,e.__N=e.i=void 0})):(t.__h.forEach(Kv),t.__h.forEach(jC),t.__h=[])),FC=el},Ft.diffed=function(i){GA&&GA(i);var t=i.__c;t&&t.__H&&(t.__H.__h.length&&(JA.push(t)!==1&&UA===Ft.requestAnimationFrame||((UA=Ft.requestAnimationFrame)||sW)(oW)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==LC&&(e.__=e.__V),e.i=void 0,e.__V=LC})),FC=el=null},Ft.__c=function(i,t){t.some(function(e){try{e.__h.forEach(Kv),e.__h=e.__h.filter(function(n){return!n.__||jC(n)})}catch(n){t.some(function(r){r.__h&&(r.__h=[])}),t=[],Ft.__e(n,e.__v)}}),$A&&$A(i,t)},Ft.unmount=function(i){YA&&YA(i);var t,e=i.__c;e&&e.__H&&(e.__H.__.forEach(function(n){try{Kv(n)}catch(r){t=r}}),e.__H=void 0,t&&Ft.__e(t,e.__v))};var QA=typeof requestAnimationFrame=="function";function sW(i){var t,e=function(){clearTimeout(n),QA&&cancelAnimationFrame(t),setTimeout(i)},n=setTimeout(e,100);QA&&(t=requestAnimationFrame(e))}function Kv(i){var t=el,e=i.__c;typeof e=="function"&&(i.__c=void 0,e()),el=t}function jC(i){var t=el;i.__c=i.__(),el=t}function lW(i,t){for(var e in t)i[e]=t[e];return i}function KA(i,t){for(var e in i)if(e!=="__source"&&!(e in t))return!0;for(var n in t)if(n!=="__source"&&i[n]!==t[n])return!0;return!1}function XA(i){this.props=i}(XA.prototype=new pa).isPureReactComponent=!0,XA.prototype.shouldComponentUpdate=function(i,t){return KA(this.props,i)||KA(this.state,t)};var ZA=Ft.__b;Ft.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),ZA&&ZA(i)};var jMe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var cW=Ft.__e;Ft.__e=function(i,t,e,n){if(i.then){for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return t.__e==null&&(t.__e=e.__e,t.__k=e.__k),r.__c(i,t)}cW(i,t,e,n)};var eI=Ft.unmount;function oI(i,t,e){return i&&(i.__c&&i.__c.__H&&(i.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),i.__c.__H=null),(i=lW({},i)).__c!=null&&(i.__c.__P===e&&(i.__c.__P=t),i.__c=null),i.__k=i.__k&&i.__k.map(function(n){return oI(n,t,e)})),i}function sI(i,t,e){return i&&(i.__v=null,i.__k=i.__k&&i.__k.map(function(n){return sI(n,t,e)}),i.__c&&i.__c.__P===t&&(i.__e&&e.insertBefore(i.__e,i.__d),i.__c.__e=!0,i.__c.__P=e)),i}function BC(){this.__u=0,this.t=null,this.__b=null}function lI(i){var t=i.__.__c;return t&&t.__a&&t.__a(i)}function Xv(){this.u=null,this.o=null}Ft.unmount=function(i){var t=i.__c;t&&t.__R&&t.__R(),t&&i.__h===!0&&(i.type=null),eI&&eI(i)},(BC.prototype=new pa).__c=function(i,t){var e=t.__c,n=this;n.t==null&&(n.t=[]),n.t.push(e);var r=lI(n.__v),a=!1,o=function(){a||(a=!0,e.__R=null,r?r(s):s())};e.__R=o;var s=function(){if(!--n.__u){if(n.state.__a){var m=n.state.__a;n.__v.__k[0]=sI(m,m.__c.__P,m.__c.__O)}var h;for(n.setState({__a:n.__b=null});h=n.t.pop();)h.forceUpdate()}},d=t.__h===!0;n.__u++||d||n.setState({__a:n.__b=n.__v.__k[0]}),i.then(o,o)},BC.prototype.componentWillUnmount=function(){this.t=[]},BC.prototype.render=function(i,t){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=oI(this.__b,e,n.__O=n.__P)}this.__b=null}var r=t.__a&&Me(Pn,null,i.fallback);return r&&(r.__h=null),[Me(Pn,null,t.__a?null:i.children),r]};var tI=function(i,t,e){if(++e[1]===e[0]&&i.o.delete(t),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(e=i.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;i.u=e=e[2]}};function dW(i){return this.getChildContext=function(){return i.context},i.children}function uW(i){var t=this,e=i.i;t.componentWillUnmount=function(){Nc(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),i.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,r){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),Nc(Me(dW,{context:t.context},i.__v),t.l)):t.l&&t.componentWillUnmount()}function cI(i,t){var e=Me(uW,{__v:i,i:t});return e.containerInfo=t,e}(Xv.prototype=new pa).__a=function(i){var t=this,e=lI(t.__v),n=t.o.get(i);return n[0]++,function(r){var a=function(){t.props.revealOrder?(n.push(r),tI(t,i,n)):r()};e?e(a):a()}},Xv.prototype.render=function(i){this.u=null,this.o=new Map;var t=yh(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return i.children},Xv.prototype.componentDidUpdate=Xv.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(t,e){tI(i,e,t)})};var mW=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,pW=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,hW=typeof document<"u",fW=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(i)};pa.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(pa.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(t){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:t})}})});var iI=Ft.event;function gW(){}function bW(){return this.cancelBubble}function vW(){return this.defaultPrevented}Ft.event=function(i){return iI&&(i=iI(i)),i.persist=gW,i.isPropagationStopped=bW,i.isDefaultPrevented=vW,i.nativeEvent=i};var _W,nI={configurable:!0,get:function(){return this.class}},rI=Ft.vnode;Ft.vnode=function(i){var t=i.type,e=i.props,n=e;if(typeof t=="string"){var r=t.indexOf("-")===-1;for(var a in n={},e){var o=e[a];hW&&a==="children"&&t==="noscript"||a==="value"&&"defaultValue"in e&&o==null||(a==="defaultValue"&&"value"in e&&e.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!fW(e.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&pW.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=o)}t=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=yh(e.children).forEach(function(s){s.props.selected=n.value.indexOf(s.props.value)!=-1})),t=="select"&&n.defaultValue!=null&&(n.value=yh(e.children).forEach(function(s){s.props.selected=n.multiple?n.defaultValue.indexOf(s.props.value)!=-1:n.defaultValue==s.props.value})),i.props=n,e.class!=e.className&&(nI.enumerable="className"in e,e.className!=null&&(n.class=e.className),Object.defineProperty(n,"className",nI))}i.$$typeof=mW,rI&&rI(i)};var aI=Ft.__r;Ft.__r=function(i){aI&&aI(i),_W=i.__c};var CI=[],QC=new Map;function y_(i){CI.push(i),QC.forEach(t=>{MI(t,i)})}function wI(i){i.isConnected&&i.getRootNode&&SI(i.getRootNode())}function SI(i){let t=QC.get(i);if(!t||!t.isConnected){if(t=i.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");let e=xW();e&&(t.nonce=e);let n=i===document?document.head:i,r=i===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(t,r)}QC.set(i,t),yW(t)}}function yW(i){for(let t of CI)MI(i,t)}function MI(i,t){let{sheet:e}=i,n=e.cssRules.length;t.split("}").forEach((r,a)=>{r=r.trim(),r&&e.insertRule(r+"}",n+a)})}var VC;function xW(){return VC===void 0&&(VC=CW()),VC}function CW(){let i=document.querySelector('meta[name="csp-nonce"]');if(i&&i.hasAttribute("content"))return i.getAttribute("content");let t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&SI(document);var wW=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';y_(wW);var Md=class{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:e}=this;e[t]=(e[t]||0)+1,this.clearTimeout()}resume(t="",e){let{pauseDepths:n}=this;t in n&&(e?delete n[t]:(n[t]-=1,n[t]<=0&&delete n[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function Hh(i){i.parentNode&&i.parentNode.removeChild(i)}function Ur(i,t){if(i.closest)return i.closest(t);if(!document.documentElement.contains(i))return null;do{if(c2(i,t))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}function c2(i,t){return(i.matches||i.matchesSelector||i.msMatchesSelector).call(i,t)}function kI(i,t){let e=i instanceof HTMLElement?[i]:i,n=[];for(let r=0;r<e.length;r+=1){let a=e[r].querySelectorAll(t);for(let o=0;o<a.length;o+=1)n.push(a[o])}return n}var SW=/(top|left|right|bottom|width|height)$/i;function Pd(i,t){for(let e in t)d2(i,e,t[e])}function d2(i,t,e){e==null?i.style[t]="":typeof e=="number"&&SW.test(t)?i.style[t]=`${e}px`:i.style[t]=e}function x_(i){var t,e;return(e=(t=i.composedPath)===null||t===void 0?void 0:t.call(i)[0])!==null&&e!==void 0?e:i.target}var dI=0;function Td(){return dI+=1,"fc-dom-"+dI}function Uh(i){i.preventDefault()}function MW(i,t){return e=>{let n=Ur(e.target,i);n&&t.call(n,e,n)}}function u2(i,t,e,n){let r=MW(e,n);return i.addEventListener(t,r),()=>{i.removeEventListener(t,r)}}function DI(i,t,e,n){let r;return u2(i,"mouseover",t,(a,o)=>{if(o!==r){r=o,e(a,o);let s=d=>{r=null,n(d,o),o.removeEventListener("mouseleave",s)};o.addEventListener("mouseleave",s)}})}var uI=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function m2(i,t){let e=n=>{t(n),uI.forEach(r=>{i.removeEventListener(r,e)})};uI.forEach(n=>{i.addEventListener(n,e)})}function EI(i){return Object.assign({onClick:i},AI(i))}function AI(i){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(i(t),t.preventDefault())}}}var mI=0;function Gl(){return mI+=1,String(mI)}function qh(){document.body.classList.add("fc-not-allowed")}function Wh(){document.body.classList.remove("fc-not-allowed")}function p2(i){i.style.userSelect="none",i.style.webkitUserSelect="none",i.addEventListener("selectstart",Uh)}function h2(i){i.style.userSelect="",i.style.webkitUserSelect="",i.removeEventListener("selectstart",Uh)}function f2(i){i.addEventListener("contextmenu",Uh)}function g2(i){i.removeEventListener("contextmenu",Uh)}function II(i){let t=[],e=[],n,r;for(typeof i=="string"?e=i.split(/\s*,\s*/):typeof i=="function"?e=[i]:Array.isArray(i)&&(e=i),n=0;n<e.length;n+=1)r=e[n],typeof r=="string"?t.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&t.push({func:r});return t}function PI(i,t,e){let n,r;for(n=0;n<e.length;n+=1)if(r=kW(i,t,e[n]),r)return r;return 0}function kW(i,t,e){return e.func?e.func(i,t):TI(i[e.field],t[e.field])*(e.order||1)}function TI(i,t){return!i&&!t?0:t==null?-1:i==null?1:typeof i=="string"||typeof t=="string"?String(i).localeCompare(String(t)):i-t}function r_(i,t){let e=String(i);return"000".substr(0,t-e.length)+e}function Rm(i,t,e){return typeof i=="function"?i(...t):typeof i=="string"?t.reduce((n,r,a)=>n.replace("$"+a,r||""),i):e}function b2(i,t){return i-t}function a_(i){return i%1===0}function DW(i){let t=i.querySelector(".fc-scrollgrid-shrink-frame"),e=i.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!e)throw new Error("needs fc-scrollgrid-shrink-cushion className");return i.getBoundingClientRect().width-t.getBoundingClientRect().width+e.getBoundingClientRect().width}var EW=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Hi(i,t){return typeof i=="string"?AW(i):typeof i=="object"&&i?pI(i):typeof i=="number"?pI({[t||"milliseconds"]:i}):null}function AW(i){let t=EW.exec(i);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function pI(i){let t={years:i.years||i.year||0,months:i.months||i.month||0,days:i.days||i.day||0,milliseconds:(i.hours||i.hour||0)*60*60*1e3+(i.minutes||i.minute||0)*60*1e3+(i.seconds||i.second||0)*1e3+(i.milliseconds||i.millisecond||i.ms||0)},e=i.weeks||i.week;return e&&(t.days+=e*7,t.specifiedWeeks=!0),t}function IW(i,t){return i.years===t.years&&i.months===t.months&&i.days===t.days&&i.milliseconds===t.milliseconds}function OI(i,t){return{years:i.years-t.years,months:i.months-t.months,days:i.days-t.days,milliseconds:i.milliseconds-t.milliseconds}}function PW(i){return Em(i)/365}function TW(i){return Em(i)/30}function Em(i){return Am(i)/864e5}function Am(i){return i.years*(365*864e5)+i.months*(30*864e5)+i.days*864e5+i.milliseconds}function xh(i){let t=i.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return i.days?i.specifiedWeeks&&i.days%7===0?{unit:"week",value:i.days/7}:{unit:"day",value:i.days}:i.months?{unit:"month",value:i.months}:i.years?{unit:"year",value:i.years}:{unit:"millisecond",value:0}}function nl(i,t,e){if(i===t)return!0;let n=i.length,r;if(n!==t.length)return!1;for(r=0;r<n;r+=1)if(!(e?e(i[r],t[r]):i[r]===t[r]))return!1;return!0}var OW=["sun","mon","tue","wed","thu","fri","sat"];function C_(i,t){let e=Lc(i);return e[2]+=t*7,co(e)}function qr(i,t){let e=Lc(i);return e[2]+=t,co(e)}function il(i,t){let e=Lc(i);return e[6]+=t,co(e)}function v2(i,t){return Od(i,t)/7}function Od(i,t){return(t.valueOf()-i.valueOf())/(1e3*60*60*24)}function RW(i,t){return(t.valueOf()-i.valueOf())/(1e3*60*60)}function NW(i,t){return(t.valueOf()-i.valueOf())/(1e3*60)}function FW(i,t){return(t.valueOf()-i.valueOf())/1e3}function RI(i,t){let e=Tn(i),n=Tn(t);return{years:0,months:0,days:Math.round(Od(e,n)),milliseconds:t.valueOf()-n.valueOf()-(i.valueOf()-e.valueOf())}}function NI(i,t){let e=Im(i,t);return e!==null&&e%7===0?e/7:null}function Im(i,t){return jc(i)===jc(t)?Math.round(Od(i,t)):null}function Tn(i){return co([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()])}function LW(i){return co([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours()])}function jW(i){return co([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes()])}function BW(i){return co([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()])}function VW(i,t,e){let n=i.getUTCFullYear(),r=zC(i,n,t,e);if(r<1)return zC(i,n-1,t,e);let a=zC(i,n+1,t,e);return a>=1?Math.min(r,a):r}function zC(i,t,e,n){let r=co([t,0,1+zW(t,e,n)]),a=Tn(i),o=Math.round(Od(r,a));return Math.floor(o/7)+1}function zW(i,t,e){let n=7+t-e;return-((7+co([i,0,n]).getUTCDay()-t)%7)+n-1}function hI(i){return[i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()]}function fI(i){return new Date(i[0],i[1]||0,i[2]==null?1:i[2],i[3]||0,i[4]||0,i[5]||0)}function Lc(i){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()]}function co(i){return i.length===1&&(i=i.concat([0])),new Date(Date.UTC(...i))}function _2(i){return!isNaN(i.valueOf())}function jc(i){return i.getUTCHours()*1e3*60*60+i.getUTCMinutes()*1e3*60+i.getUTCSeconds()*1e3+i.getUTCMilliseconds()}function FI(i,t,e=!1){let n=i.toISOString();return n=n.replace(".000",""),e&&(n=n.replace("T00:00:00Z","")),n.length>10&&(t==null?n=n.replace("Z",""):t!==0&&(n=n.replace("Z",x2(t,!0)))),n}function Gh(i){return i.toISOString().replace(/T.*$/,"")}function y2(i){return i.toISOString().match(/^\d{4}-\d{2}/)[0]}function x2(i,t=!1){let e=i<0?"-":"+",n=Math.abs(i),r=Math.floor(n/60),a=Math.round(n%60);return t?`${e+r_(r,2)}:${r_(a,2)}`:`GMT${e}${r}${a?`:${r_(a,2)}`:""}`}function Ui(i,t,e){let n,r;return function(...a){if(!n)r=i.apply(this,a);else if(!nl(n,a)){e&&e(r);let o=i.apply(this,a);(!t||!t(o,r))&&(r=o)}return n=a,r}}function Nm(i,t,e){let n,r;return a=>{if(!n)r=i.call(this,a);else if(!wo(n,a)){e&&e(r);let o=i.call(this,a);(!t||!t(o,r))&&(r=o)}return n=a,r}}var HC={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},l_={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Zv=/\s*([ap])\.?m\.?/i,HW=/,/g,UW=/\s+/g,qW=/\u200e/g,WW=/UTC|GMT/,JC=class{constructor(t){let e={},n={},r=9;for(let a in t)a in HC?(n[a]=t[a],HC[a]<9&&(r=Math.min(HC[a],r))):(e[a]=t[a],a in l_&&(r=Math.min(l_[a],r)));this.standardDateProps=e,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=Ui(gI)}format(t,e){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,e)(t)}formatRange(t,e,n,r){let{standardDateProps:a,extendedSettings:o}=this,s=KW(t.marker,e.marker,n.calendarSystem);if(!s)return this.format(t,n);let d=s;d>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(d=1);let m=this.format(t,n),h=this.format(e,n);if(m===h)return m;let v=XW(a,d),_=gI(v,o,n),g=_(t),D=_(e),E=ZW(m,g,h,D),S=o.separator||r||n.defaultSeparator||"";return E?E.before+g+S+D+E.after:m+S+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function gI(i,t,e){let n=Object.keys(i).length;return n===1&&i.timeZoneName==="short"?r=>x2(r.timeZoneOffset):n===0&&t.week?r=>JW(e.computeWeekNumber(r.marker),e.weekText,e.weekTextLong,e.locale,t.week):GW(i,t,e)}function GW(i,t,e){i=Object.assign({},i),t=Object.assign({},t),$W(i,t),i.timeZone="UTC";let n=new Intl.DateTimeFormat(e.locale.codes,i),r;if(t.omitZeroMinute){let a=Object.assign({},i);delete a.minute,r=new Intl.DateTimeFormat(e.locale.codes,a)}return a=>{let{marker:o}=a,s;r&&!o.getUTCMinutes()?s=r:s=n;let d=s.format(o);return YW(d,a,i,t,e)}}function $W(i,t){i.timeZoneName&&(i.hour||(i.hour="2-digit"),i.minute||(i.minute="2-digit")),i.timeZoneName==="long"&&(i.timeZoneName="short"),t.omitZeroMinute&&(i.second||i.millisecond)&&delete t.omitZeroMinute}function YW(i,t,e,n,r){return i=i.replace(qW,""),e.timeZoneName==="short"&&(i=QW(i,r.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":x2(t.timeZoneOffset))),n.omitCommas&&(i=i.replace(HW,"").trim()),n.omitZeroMinute&&(i=i.replace(":00","")),n.meridiem===!1?i=i.replace(Zv,"").trim():n.meridiem==="narrow"?i=i.replace(Zv,(a,o)=>o.toLocaleLowerCase()):n.meridiem==="short"?i=i.replace(Zv,(a,o)=>`${o.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(i=i.replace(Zv,a=>a.toLocaleLowerCase())),i=i.replace(UW," "),i=i.trim(),i}function QW(i,t){let e=!1;return i=i.replace(WW,()=>(e=!0,t)),e||(i+=` ${t}`),i}function JW(i,t,e,n,r){let a=[];return r==="long"?a.push(e):(r==="short"||r==="narrow")&&a.push(t),(r==="long"||r==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(i)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function KW(i,t,e){return e.getMarkerYear(i)!==e.getMarkerYear(t)?5:e.getMarkerMonth(i)!==e.getMarkerMonth(t)?4:e.getMarkerDay(i)!==e.getMarkerDay(t)?2:jc(i)!==jc(t)?1:0}function XW(i,t){let e={};for(let n in i)(!(n in l_)||l_[n]<=t)&&(e[n]=i[n]);return e}function ZW(i,t,e,n){let r=0;for(;r<i.length;){let a=i.indexOf(t,r);if(a===-1)break;let o=i.substr(0,a);r=a+t.length;let s=i.substr(r),d=0;for(;d<e.length;){let m=e.indexOf(n,d);if(m===-1)break;let h=e.substr(0,m);d=m+n.length;let v=e.substr(d);if(o===h&&s===v)return{before:o,after:s}}}return null}function bI(i,t){let e=t.markerToArray(i.marker);return{marker:i.marker,timeZoneOffset:i.timeZoneOffset,array:e,year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}function c_(i,t,e,n){let r=bI(i,e.calendarSystem),a=t?bI(t,e.calendarSystem):null;return{date:r,start:r,end:a,timeZone:e.timeZone,localeCodes:e.locale.codes,defaultSeparator:n||e.defaultSeparator}}var KC=class{constructor(t){this.cmdStr=t}format(t,e,n){return e.cmdFormatter(this.cmdStr,c_(t,null,e,n))}formatRange(t,e,n,r){return n.cmdFormatter(this.cmdStr,c_(t,e,n,r))}},XC=class{constructor(t){this.func=t}format(t,e,n){return this.func(c_(t,null,e,n))}formatRange(t,e,n,r){return this.func(c_(t,e,n,r))}};function Ar(i){return typeof i=="object"&&i?new JC(i):typeof i=="string"?new KC(i):typeof i=="function"?new XC(i):null}var C2={navLinkDayClick:ke,navLinkWeekClick:ke,duration:Hi,bootstrapFontAwesome:ke,buttonIcons:ke,customButtons:ke,defaultAllDayEventDuration:Hi,defaultTimedEventDuration:Hi,nextDayThreshold:Hi,scrollTime:Hi,scrollTimeReset:Boolean,slotMinTime:Hi,slotMaxTime:Hi,dayPopoverFormat:Ar,slotDuration:Hi,snapDuration:Hi,headerToolbar:ke,footerToolbar:ke,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ar,dayHeaderClassNames:ke,dayHeaderContent:ke,dayHeaderDidMount:ke,dayHeaderWillUnmount:ke,dayCellClassNames:ke,dayCellContent:ke,dayCellDidMount:ke,dayCellWillUnmount:ke,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ke,weekNumbers:Boolean,weekNumberClassNames:ke,weekNumberContent:ke,weekNumberDidMount:ke,weekNumberWillUnmount:ke,editable:Boolean,viewClassNames:ke,viewDidMount:ke,viewWillUnmount:ke,nowIndicator:Boolean,nowIndicatorClassNames:ke,nowIndicatorContent:ke,nowIndicatorDidMount:ke,nowIndicatorWillUnmount:ke,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ke,locale:ke,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ke,eventOrder:II,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ke,contentHeight:ke,direction:String,weekNumberFormat:Ar,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ke,initialDate:ke,now:ke,eventDataTransform:ke,stickyHeaderDates:ke,stickyFooterScrollbar:ke,viewHeight:ke,defaultAllDay:Boolean,eventSourceFailure:ke,eventSourceSuccess:ke,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ke,eventConstraint:ke,eventAllow:ke,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ke,eventContent:ke,eventDidMount:ke,eventWillUnmount:ke,selectConstraint:ke,selectOverlap:ke,selectAllow:ke,droppable:Boolean,unselectCancel:String,slotLabelFormat:ke,slotLaneClassNames:ke,slotLaneContent:ke,slotLaneDidMount:ke,slotLaneWillUnmount:ke,slotLabelClassNames:ke,slotLabelContent:ke,slotLabelDidMount:ke,slotLabelWillUnmount:ke,dayMaxEvents:ke,dayMaxEventRows:ke,dayMinWidth:Number,slotLabelInterval:Hi,allDayText:String,allDayClassNames:ke,allDayContent:ke,allDayDidMount:ke,allDayWillUnmount:ke,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ar,rerenderDelay:Number,moreLinkText:ke,moreLinkHint:ke,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ke,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Hi,hiddenDays:ke,fixedWeekCount:Boolean,validRange:ke,visibleRange:ke,titleFormat:ke,eventInteractive:Boolean,noEventsText:String,viewHint:ke,navLinkHint:ke,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ke,moreLinkClassNames:ke,moreLinkContent:ke,moreLinkDidMount:ke,moreLinkWillUnmount:ke,monthStartFormat:Ar,handleCustomRendering:ke,customRenderingMetaMap:ke,customRenderingReplaces:Boolean},zc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},w2={datesSet:ke,eventsSet:ke,eventAdd:ke,eventChange:ke,eventRemove:ke,windowResize:ke,eventClick:ke,eventMouseEnter:ke,eventMouseLeave:ke,select:ke,unselect:ke,loading:ke,_unmount:ke,_beforeprint:ke,_afterprint:ke,_noEventDrop:ke,_noEventResize:ke,_resize:ke,_scrollRequest:ke},S2={buttonText:ke,buttonHints:ke,views:ke,plugins:ke,initialEvents:ke,events:ke,eventSources:ke},Hc={headerToolbar:Sd,footerToolbar:Sd,buttonText:Sd,buttonHints:Sd,buttonIcons:Sd,dateIncrement:Sd,plugins:e_,events:e_,eventSources:e_,resources:e_};function Sd(i,t){return typeof i=="object"&&typeof t=="object"&&i&&t?wo(i,t):i===t}function e_(i,t){return Array.isArray(i)&&Array.isArray(t)?nl(i,t):i===t}var LI={type:String,component:ke,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ke,usesMinMaxTime:Boolean,classNames:ke,content:ke,didMount:ke,willUnmount:ke};function w_(i){return M_(i,Hc)}function S_(i,t){let e={},n={};for(let r in t)r in i&&(e[r]=t[r](i[r]));for(let r in i)r in t||(n[r]=i[r]);return{refined:e,extra:n}}function ke(i){return i}var{hasOwnProperty:d_}=Object.prototype;function M_(i,t){let e={};if(t){for(let n in t)if(t[n]===Sd){let r=[];for(let a=i.length-1;a>=0;a-=1){let o=i[a][n];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){e[n]=o;break}}r.length&&(e[n]=M_(r))}}for(let n=i.length-1;n>=0;n-=1){let r=i[n];for(let a in r)a in e||(e[a]=r[a])}return e}function Hl(i,t){let e={};for(let n in i)t(i[n],n)&&(e[n]=i[n]);return e}function rl(i,t){let e={};for(let n in i)e[n]=t(i[n],n);return e}function M2(i){let t={};for(let e of i)t[e]=!0;return t}function k_(i){let t=[];for(let e in i)t.push(i[e]);return t}function wo(i,t){if(i===t)return!0;for(let e in i)if(d_.call(i,e)&&!(e in t))return!1;for(let e in t)if(d_.call(t,e)&&i[e]!==t[e])return!1;return!0}var eG=/^on[A-Z]/;function tG(i,t){let e=ZC(i,t);for(let n of e)if(!eG.test(n))return!1;return!0}function ZC(i,t){let e=[];for(let n in i)d_.call(i,n)&&(n in t||e.push(n));for(let n in t)d_.call(t,n)&&i[n]!==t[n]&&e.push(n);return e}function o_(i,t,e={}){if(i===t)return!0;for(let n in t)if(!(n in i&&iG(i[n],t[n],e[n])))return!1;for(let n in i)if(!(n in t))return!1;return!0}function iG(i,t,e){return i===t||e===!0?!0:e?e(i,t):!1}function jI(i,t=0,e,n=1){let r=[];e==null&&(e=Object.keys(i).length);for(let a=t;a<e;a+=n){let o=i[a];o!==void 0&&r.push(o)}return r}var BI={};function nG(i,t){BI[i]=t}function rG(i){return new BI[i]}var e2=class{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return co(t)}markerToArray(t){return Lc(t)}};nG("gregory",e2);var aG=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function VI(i){let t=aG.exec(i);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(_2(e)){let n=null;return t[13]&&(n=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}var Ch=class{constructor(t){let e=this.timeZone=t.timeZone,n=e!=="local"&&e!=="UTC";t.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(e)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=rG(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let e=this.createMarkerMeta(t);return e===null?null:e.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):co(hI(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let e=null;return typeof t=="number"?e=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(e=this.timestampToMarker(t))):Array.isArray(t)&&(e=co(t)),e===null||!_2(e)?null:{marker:e,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let e=VI(t);if(e===null)return null;let{marker:n}=e,r=null;return e.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-e.timeZoneOffset*60*1e3):r=e.timeZoneOffset),{marker:n,isTimeUnspecified:e.isTimeUnspecified,forcedTzo:r}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,e){let n=this.calendarSystem.markerToArray(t);return n[0]+=e.years,n[1]+=e.months,n[2]+=e.days,n[6]+=e.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(t,e){let n=this.calendarSystem.markerToArray(t);return n[0]-=e.years,n[1]-=e.months,n[2]-=e.days,n[6]-=e.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(t,e){let n=this.calendarSystem.markerToArray(t);return n[0]+=e,this.calendarSystem.arrayToMarker(n)}addMonths(t,e){let n=this.calendarSystem.markerToArray(t);return n[1]+=e,this.calendarSystem.arrayToMarker(n)}diffWholeYears(t,e){let{calendarSystem:n}=this;return jc(t)===jc(e)&&n.getMarkerDay(t)===n.getMarkerDay(e)&&n.getMarkerMonth(t)===n.getMarkerMonth(e)?n.getMarkerYear(e)-n.getMarkerYear(t):null}diffWholeMonths(t,e){let{calendarSystem:n}=this;return jc(t)===jc(e)&&n.getMarkerDay(t)===n.getMarkerDay(e)?n.getMarkerMonth(e)-n.getMarkerMonth(t)+(n.getMarkerYear(e)-n.getMarkerYear(t))*12:null}greatestWholeUnit(t,e){let n=this.diffWholeYears(t,e);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(t,e),n!==null?{unit:"month",value:n}:(n=NI(t,e),n!==null?{unit:"week",value:n}:(n=Im(t,e),n!==null?{unit:"day",value:n}:(n=RW(t,e),a_(n)?{unit:"hour",value:n}:(n=NW(t,e),a_(n)?{unit:"minute",value:n}:(n=FW(t,e),a_(n)?{unit:"second",value:n}:{unit:"millisecond",value:e.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,e,n){let r;return n.years&&(r=this.diffWholeYears(t,e),r!==null)?r/PW(n):n.months&&(r=this.diffWholeMonths(t,e),r!==null)?r/TW(n):n.days&&(r=Im(t,e),r!==null)?r/Em(n):(e.valueOf()-t.valueOf())/Am(n)}startOf(t,e){return e==="year"?this.startOfYear(t):e==="month"?this.startOfMonth(t):e==="week"?this.startOfWeek(t):e==="day"?Tn(t):e==="hour"?LW(t):e==="minute"?jW(t):e==="second"?BW(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):VW(t,this.weekDow,this.weekDoy)}format(t,e,n={}){return e.format({marker:t,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,e,n,r={}){return r.isEndExclusive&&(e=il(e,-1)),n.formatRange({marker:t,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(t)},{marker:e,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(e)},this,r.defaultSeparator)}formatIso(t,e={}){let n=null;return e.omitTimeZoneOffset||(e.forcedTzo!=null?n=e.forcedTzo:n=this.offsetForMarker(t)),FI(t,n,e.omitTime)}timestampToMarker(t){return this.timeZone==="local"?co(hI(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):co(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-fI(Lc(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Lc(t)):null}toDate(t,e){return this.timeZone==="local"?fI(Lc(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(Lc(t))*1e3*60):new Date(t.valueOf()-(e||0))}},Ul=class{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let e,n;if(typeof t=="object"&&t){e=Object.assign({},this.iconClasses);for(n in t)e[n]=this.applyIconOverridePrefix(t[n]);this.iconClasses=e}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let e=this.iconOverridePrefix;return e&&t.indexOf(e)!==0&&(t=e+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,e){let n;return e&&this.rtlIconClasses?n=this.rtlIconClasses[t]||this.iconClasses[t]:n=this.iconClasses[t],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(t){let e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption],e)?`${this.baseIconClass} ${this.applyIconOverridePrefix(e)}`:""}};Ul.prototype.classes={};Ul.prototype.iconClasses={};Ul.prototype.baseIconClass="";Ul.prototype.iconOverridePrefix="";function wh(i){i();let t=Ft.debounceRendering,e=[];function n(r){e.push(r)}for(Ft.debounceRendering=n,Nc(Me(t2,{}),document.createElement("div"));e.length;)e.shift()();Ft.debounceRendering=t}var t2=class extends pa{render(){return Me("div",{})}componentDidMount(){this.setState({})}};function zI(i){let t=Jv(i),e=t.Provider;return t.Provider=function(){let n=!this.getChildContext,r=e.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&a.forEach(s=>{s.context=o.value,s.forceUpdate()})},this.sub=o=>{a.push(o);let s=o.componentWillUnmount;o.componentWillUnmount=()=>{a.splice(a.indexOf(o),1),s&&s.call(o)}}}return r},t}var u_=class{constructor(t,e,n,r){this.execFunc=t,this.emitter=e,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},e.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},$l=zI({});function HI(i,t,e,n,r,a,o,s,d,m,h,v,_,g){return{dateEnv:r,nowManager:a,options:e,pluginHooks:s,emitter:h,dispatch:d,getCurrentData:m,calendarApi:v,viewSpec:i,viewApi:t,dateProfileGenerator:n,theme:o,isRtl:e.direction==="rtl",addResizeHandler(D){h.on("_resize",D)},removeResizeHandler(D){h.off("_resize",D)},createScrollResponder(D){return new u_(D,h,Hi(e.scrollTime),e.scrollTimeReset)},registerInteractiveComponent:_,unregisterInteractiveComponent:g}}var $h=(()=>{class i extends pa{shouldComponentUpdate(e,n){return this.debug&&console.log(ZC(e,this.props),ZC(n,this.state)),!o_(this.props,e,this.propEquality)||!o_(this.state,n,this.stateEquality)}safeSetState(e){o_(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}return i.addPropsEquality=oG,i.addStateEquality=sG,i.contextType=$l,i})();$h.prototype.propEquality={};$h.prototype.stateEquality={};var $n=(()=>{class i extends $h{}return i.contextType=$l,i})();function oG(i){let t=Object.create(this.prototype.propEquality);Object.assign(t,i),this.prototype.propEquality=t}function sG(i){let t=Object.create(this.prototype.stateEquality);Object.assign(t,i),this.prototype.stateEquality=t}function $o(i,t){typeof i=="function"?i(t):i&&(i.current=t)}var Sh=class extends $n{constructor(){super(...arguments),this.id=Gl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{let{options:e}=this.context,{generatorName:n}=this.props;(!e.customRenderingReplaces||!i2(n,e))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&$o(this.props.elRef,t)}}render(){let{props:t,context:e}=this,{options:n}=e,{customGenerator:r,defaultGenerator:a,renderProps:o}=t,s=k2(t,[],this.handleEl),d=!1,m,h=[],v;if(r!=null){let _=typeof r=="function"?r(o,Me):r;if(_===!0)d=!0;else{let g=_&&typeof _=="object";g&&"html"in _?s.dangerouslySetInnerHTML={__html:_.html}:g&&"domNodes"in _?h=Array.prototype.slice.call(_.domNodes):(g?RC(_):typeof _!="function")?m=_:v=_}}else d=!i2(t.generatorName,n);return d&&a&&(m=a(o)),this.queuedDomNodes=h,this.currentGeneratorMeta=v,Me(t.elTag,s,m)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var e;let{props:n,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:o}=r.options;if(a){let s=(e=this.currentGeneratorMeta)!==null&&e!==void 0?e:o?.[n.generatorName];s&&a(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:s},n),{elClasses:(n.elClasses||[]).filter(lG)}))}}applyQueueudDomNodes(){let{queuedDomNodes:t,currentDomNodes:e}=this,n=this.base;if(!nl(t,e)){e.forEach(Hh);for(let r of t)n.appendChild(r);this.currentDomNodes=t}}};Sh.addPropsEquality({elClasses:nl,elStyle:wo,elAttrs:tG,renderProps:wo});function i2(i,t){var e;return!!(t.handleCustomRendering&&i&&(!((e=t.customRenderingMetaMap)===null||e===void 0)&&e[i]))}function k2(i,t,e){let n=Object.assign(Object.assign({},i.elAttrs),{ref:e});return(i.elClasses||t)&&(n.className=(i.elClasses||[]).concat(t||[]).concat(n.className||[]).filter(Boolean).join(" ")),i.elStyle&&(n.style=i.elStyle),n}function lG(i){return!!i}var D2=zI(0),al=(()=>{class i extends pa{constructor(){super(...arguments),this.InnerContent=cG.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&($o(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:e}=this,n=dG(e.classNameGenerator,e.renderProps);if(e.children){let r=k2(e,n,this.handleEl),a=e.children(this.InnerContent,e.renderProps,r);return e.elTag?Me(e.elTag,r,a):a}else return Me(Sh,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return i.contextType=D2,i})();function cG(i,t){let e=i.props;return Me(Sh,Object.assign({renderProps:e.renderProps,generatorName:e.generatorName,customGenerator:e.customGenerator,defaultGenerator:e.defaultGenerator,renderId:i.context},t))}function dG(i,t){let e=typeof i=="function"?i(t):i||[];return typeof e=="string"?[e]:e}var Pm=class extends $n{render(){let{props:t,context:e}=this,{options:n}=e,r={view:e.viewApi};return Me(al,Object.assign({},t,{elTag:t.elTag||"div",elClasses:[...E2(t.viewSpec),...t.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>t.children)}};function E2(i){return[`fc-${i.type}-view`,"fc-view"]}function uG(i,t){let e=null,n=null;return i.start&&(e=t.createMarker(i.start)),i.end&&(n=t.createMarker(i.end)),!e&&!n||e&&n&&n<e?null:{start:e,end:n}}function vI(i,t){let e=[],{start:n}=t,r,a;for(i.sort(mG),r=0;r<i.length;r+=1)a=i[r],a.start>n&&e.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<t.end&&e.push({start:n,end:t.end}),e}function mG(i,t){return i.start.valueOf()-t.start.valueOf()}function ql(i,t){let{start:e,end:n}=i,r=null;return t.start!==null&&(e===null?e=t.start:e=new Date(Math.max(e.valueOf(),t.start.valueOf()))),t.end!=null&&(n===null?n=t.end:n=new Date(Math.min(n.valueOf(),t.end.valueOf()))),(e===null||n===null||e<n)&&(r={start:e,end:n}),r}function UI(i,t){return(i.start===null?null:i.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(i.end===null?null:i.end.valueOf())===(t.end===null?null:t.end.valueOf())}function D_(i,t){return(i.end===null||t.start===null||i.end>t.start)&&(i.start===null||t.end===null||i.start<t.end)}function Fm(i,t){return(i.start===null||t.start!==null&&t.start>=i.start)&&(i.end===null||t.end!==null&&t.end<=i.end)}function tl(i,t){return(i.start===null||t>=i.start)&&(i.end===null||t<i.end)}function pG(i,t){return t.start!=null&&i<t.start?t.start:t.end!=null&&i>=t.end?new Date(t.end.valueOf()-1):i}function qI(i){let t=Math.floor(Od(i.start,i.end))||1,e=Tn(i.start),n=qr(e,t);return{start:e,end:n}}function A2(i,t=Hi(0)){let e=null,n=null;if(i.end){n=Tn(i.end);let r=i.end.valueOf()-n.valueOf();r&&r>=Am(t)&&(n=qr(n,1))}return i.start&&(e=Tn(i.start),n&&n<=e&&(n=qr(e,1))),{start:e,end:n}}function Bc(i,t,e,n){return n==="year"?Hi(e.diffWholeYears(i,t),"year"):n==="month"?Hi(e.diffWholeMonths(i,t),"month"):RI(i,t)}var kd=class{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,e,n){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(e,t.currentRangeUnit),t.dateIncrement);return this.build(a,-1,n)}buildNext(t,e,n){let{dateEnv:r}=this.props,a=r.add(r.startOf(e,t.currentRangeUnit),t.dateIncrement);return this.build(a,1,n)}build(t,e,n=!0){let{props:r}=this,a,o,s,d,m,h;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(t=pG(t,a)),o=this.buildCurrentRangeInfo(t,e),s=/^(year|month|week|day)$/.test(o.unit),d=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,s),d=this.trimHiddenDays(d),m=d,r.showNonCurrentDates||(m=ql(m,o.range)),m=this.adjustActiveRange(m),m=ql(m,a),h=D_(o.range,a),tl(d,t)||(t=d.start),{currentDate:t,validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:s,activeRange:m,renderRange:d,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let t=this.props.validRangeInput,e=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(e)||{start:null,end:null}}buildCurrentRangeInfo(t,e){let{props:n}=this,r=null,a=null,o=null,s;return n.duration?(r=n.duration,a=n.durationUnit,o=this.buildRangeFromDuration(t,e,r,a)):(s=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(t,e,s)):(o=this.buildCustomVisibleRange(t))?a=n.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),a=xh(r).unit,o=this.buildRangeFromDuration(t,e,r,a)),{duration:r,unit:a,range:o}}getFallbackDuration(){return Hi({day:1})}adjustActiveRange(t){let{dateEnv:e,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:a}=this.props,{start:o,end:s}=t;return n&&(Em(r)<0&&(o=Tn(o),o=e.add(o,r)),Em(a)>1&&(s=Tn(s),s=qr(s,-1),s=e.add(s,a))),{start:o,end:s}}buildRangeFromDuration(t,e,n,r){let{dateEnv:a,dateAlignment:o}=this.props,s,d,m;if(!o){let{dateIncrement:v}=this.props;v&&Am(v)<Am(n)?o=xh(v).unit:o=r}Em(n)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,e),s=Tn(s));function h(){s=a.startOf(t,o),d=a.add(s,n),m={start:s,end:d}}return h(),this.trimHiddenDays(m)||(t=this.skipHiddenDays(t,e),h()),m}buildRangeFromDayCount(t,e,n){let{dateEnv:r,dateAlignment:a}=this.props,o=0,s=t,d;a&&(s=r.startOf(s,a)),s=Tn(s),s=this.skipHiddenDays(s,e),d=s;do d=qr(d,1),this.isHiddenDay(d)||(o+=1);while(o<n);return{start:s,end:d}}buildCustomVisibleRange(t){let{props:e}=this,n=e.visibleRangeInput,r=typeof n=="function"?n.call(e.calendarApi,e.dateEnv.toDate(t)):n,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(t,e,n){return t}buildDateIncrement(t){let{dateIncrement:e}=this.props,n;return e||((n=this.props.dateAlignment)?Hi(1,n):t||Hi({days:1}))}refineRange(t){if(t){let e=uG(t,this.props.dateEnv);return e&&(e=A2(e)),e}return null}initHiddenDays(){let t=this.props.hiddenDays||[],e=[],n=0,r;for(this.props.weekends===!1&&t.push(0,6),r=0;r<7;r+=1)(e[r]=t.indexOf(r)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=e}trimHiddenDays(t){let{start:e,end:n}=t;return e&&(e=this.skipHiddenDays(e)),n&&(n=this.skipHiddenDays(n,-1,!0)),e==null||n==null||e<n?{start:e,end:n}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,e=1,n=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(n?e:0)+7)%7];)t=qr(t,e);return t}};function Yh(i,t,e,n){return{instanceId:Gl(),defId:i,range:t,forcedStartTzo:e??null,forcedEndTzo:n??null}}function hG(i,t,e,n){for(let r=0;r<n.length;r+=1){let a=n[r].parse(i,e);if(a){let{allDay:o}=i;return o==null&&(o=t,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function Dd(i,t,e){let{dateEnv:n,pluginHooks:r,options:a}=e,{defs:o,instances:s}=i;s=Hl(s,d=>!o[d.defId].recurringDef);for(let d in o){let m=o[d];if(m.recurringDef){let{duration:h}=m.recurringDef;h||(h=m.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let v=fG(m,h,t,n,r.recurringTypes);for(let _ of v){let g=Yh(d,{start:_,end:n.add(_,h)});s[g.instanceId]=g}}}return{defs:o,instances:s}}function fG(i,t,e,n,r){let o=r[i.recurringDef.typeId].expand(i.recurringDef.typeData,{start:n.subtract(e.start,t),end:e.end},n);return i.allDay&&(o=o.map(Tn)),o}var s_={id:String,groupId:String,title:String,url:String,interactive:Boolean},WI={start:ke,end:ke,date:ke,allDay:Boolean},gG=Object.assign(Object.assign(Object.assign({},s_),WI),{extendedProps:ke});function GI(i,t,e,n,r=I2(e),a,o){let{refined:s,extra:d}=E_(i,e,r),m=vG(t,e),h=hG(s,m,e.dateEnv,e.pluginHooks.recurringTypes);if(h){let _=Mh(s,d,t?t.sourceId:"",h.allDay,!!h.duration,e,a);return _.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:_,instance:null}}let v=bG(s,m,e,n);if(v){let _=Mh(s,d,t?t.sourceId:"",v.allDay,v.hasEnd,e,a),g=Yh(_.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return o&&_.publicId&&o[_.publicId]&&(g.instanceId=o[_.publicId]),{def:_,instance:g}}return null}function E_(i,t,e=I2(t)){return S_(i,e)}function I2(i){return Object.assign(Object.assign(Object.assign({},m_),gG),i.pluginHooks.eventRefiners)}function Mh(i,t,e,n,r,a,o){let s={title:i.title||"",groupId:i.groupId||"",publicId:i.id||"",url:i.url||"",recurringDef:null,defId:(o&&i.id?o[i.id]:"")||Gl(),sourceId:e,allDay:n,hasEnd:r,interactive:i.interactive,ui:Lm(i,a),extendedProps:Object.assign(Object.assign({},i.extendedProps||{}),t)};for(let d of a.pluginHooks.eventDefMemberAdders)Object.assign(s,d(i));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function bG(i,t,e,n){let{allDay:r}=i,a,o=null,s=!1,d,m=null,h=i.start!=null?i.start:i.date;if(a=e.dateEnv.createMarkerMeta(h),a)o=a.marker;else if(!n)return null;return i.end!=null&&(d=e.dateEnv.createMarkerMeta(i.end)),r==null&&(t!=null?r=t:r=(!a||a.isTimeUnspecified)&&(!d||d.isTimeUnspecified)),r&&o&&(o=Tn(o)),d&&(m=d.marker,r&&(m=Tn(m)),o&&m<=o&&(m=null)),m?s=!0:n||(s=e.options.forceEventDuration||!1,m=e.dateEnv.add(o,r?e.options.defaultAllDayEventDuration:e.options.defaultTimedEventDuration)),{allDay:r,hasEnd:s,range:{start:o,end:m},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:d?d.forcedTzo:null}}function vG(i,t){let e=null;return i&&(e=i.defaultAllDay),e==null&&(e=t.options.defaultAllDay),e}function kh(i,t,e,n,r,a){let o=Ya(),s=I2(e);for(let d of i){let m=GI(d,t,e,n,s,r,a);m&&Dh(m,o)}return o}function Dh(i,t=Ya()){return t.defs[i.def.defId]=i.def,i.instance&&(t.instances[i.instance.instanceId]=i.instance),t}function Qh(i,t){let e=i.instances[t];if(e){let n=i.defs[e.defId],r=I_(i,a=>_G(n,a));return r.defs[n.defId]=n,r.instances[e.instanceId]=e,r}return Ya()}function _G(i,t){return!!(i.groupId&&i.groupId===t.groupId)}function Ya(){return{defs:{},instances:{}}}function A_(i,t){return{defs:Object.assign(Object.assign({},i.defs),t.defs),instances:Object.assign(Object.assign({},i.instances),t.instances)}}function I_(i,t){let e=Hl(i.defs,t),n=Hl(i.instances,r=>e[r.defId]);return{defs:e,instances:n}}function yG(i,t){let{defs:e,instances:n}=i,r={},a={};for(let o in e)t.defs[o]||(r[o]=e[o]);for(let o in n)!t.instances[o]&&r[n[o].defId]&&(a[o]=n[o]);return{defs:r,instances:a}}function xG(i,t){return Array.isArray(i)?kh(i,null,t,!0):typeof i=="object"&&i?kh([i],null,t,!0):i!=null?String(i):null}function n2(i){return Array.isArray(i)?i:typeof i=="string"?i.split(/\s+/):[]}var m_={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ke,overlap:ke,allow:ke,className:n2,classNames:n2,color:String,backgroundColor:String,borderColor:String,textColor:String},CG={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Lm(i,t){let e=xG(i.constraint,t);return{display:i.display||null,startEditable:i.startEditable!=null?i.startEditable:i.editable,durationEditable:i.durationEditable!=null?i.durationEditable:i.editable,constraints:e!=null?[e]:[],overlap:i.overlap!=null?i.overlap:null,allows:i.allow!=null?[i.allow]:[],backgroundColor:i.backgroundColor||i.color||"",borderColor:i.borderColor||i.color||"",textColor:i.textColor||"",classNames:(i.className||[]).concat(i.classNames||[])}}function $I(i){return i.reduce(wG,CG)}function wG(i,t){return{display:t.display!=null?t.display:i.display,startEditable:t.startEditable!=null?t.startEditable:i.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:i.durationEditable,constraints:i.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:i.overlap,allows:i.allows.concat(t.allows),backgroundColor:t.backgroundColor||i.backgroundColor,borderColor:t.borderColor||i.borderColor,textColor:t.textColor||i.textColor,classNames:i.classNames.concat(t.classNames)}}var SG={id:String,defaultAllDay:Boolean,url:String,format:String,events:ke,eventDataTransform:ke,success:ke,failure:ke};function P2(i,t,e=T2(t)){let n;if(typeof i=="string"?n={url:i}:typeof i=="function"||Array.isArray(i)?n={events:i}:typeof i=="object"&&i&&(n=i),n){let{refined:r,extra:a}=S_(n,e),o=MG(r,t);if(o)return{_raw:i,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Gl(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Lm(r,t),extendedProps:a}}return null}function T2(i){return Object.assign(Object.assign(Object.assign({},m_),SG),i.pluginHooks.eventSourceRefiners)}function MG(i,t){let e=t.pluginHooks.eventSourceDefs;for(let n=e.length-1;n>=0;n-=1){let a=e[n].parseMeta(i);if(a)return{sourceDefId:n,meta:a}}return null}function YI(i,t,e,n,r){switch(t.type){case"RECEIVE_EVENTS":return kG(i,e[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"RESET_RAW_EVENTS":return DG(i,e[t.sourceId],t.rawEvents,n.activeRange,r);case"ADD_EVENTS":return EG(i,t.eventStore,n?n.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return A_(i,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Dd(i,n.activeRange,r):i;case"REMOVE_EVENTS":return yG(i,t.eventStore);case"REMOVE_EVENT_SOURCE":return JI(i,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return I_(i,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Ya();default:return i}}function kG(i,t,e,n,r,a){if(t&&e===t.latestFetchId){let o=kh(QI(r,t,a),t,a);return n&&(o=Dd(o,n,a)),A_(JI(i,t.sourceId),o)}return i}function DG(i,t,e,n,r){let{defIdMap:a,instanceIdMap:o}=IG(i),s=kh(QI(e,t,r),t,r,!1,a,o);return Dd(s,n,r)}function QI(i,t,e){let n=e.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(i=_I(i,r)),n&&(i=_I(i,n)),i}function _I(i,t){let e;if(!t)e=i;else{e=[];for(let n of i){let r=t(n);r?e.push(r):r==null&&e.push(n)}}return e}function EG(i,t,e,n){return e&&(t=Dd(t,e,n)),A_(i,t)}function O2(i,t,e){let{defs:n}=i,r=rl(i.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:e.createMarker(t.toDate(a.range.start,a.forcedStartTzo)),end:e.createMarker(t.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:e.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:e.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:r}}function JI(i,t){return I_(i,e=>e.sourceId!==t)}function AG(i,t){return{defs:i.defs,instances:Hl(i.instances,e=>!t[e.instanceId])}}function IG(i){let{defs:t,instances:e}=i,n={},r={};for(let a in t){let o=t[a],{publicId:s}=o;s&&(n[s]=a)}for(let a in e){let o=e[a],s=t[o.defId],{publicId:d}=s;d&&(r[d]=a)}return{defIdMap:n,instanceIdMap:r}}var Wl=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,e){PG(this.handlers,t,e)}off(t,e){TG(this.handlers,t,e)}trigger(t,...e){let n=this.handlers[t]||[],r=this.options&&this.options[t],a=[].concat(r||[],n);for(let o of a)o.apply(this.thisContext,e)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}};function PG(i,t,e){(i[t]||(i[t]=[])).push(e)}function TG(i,t,e){e?i[t]&&(i[t]=i[t].filter(n=>n!==e)):delete i[t]}var OG={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function R2(i,t){return kh(RG(i),null,t)}function RG(i){let t;return i===!0?t=[{}]:Array.isArray(i)?t=i.filter(e=>e.daysOfWeek):typeof i=="object"&&i?t=[i]:t=[],t=t.map(e=>Object.assign(Object.assign({},OG),e)),t}function P_(i,t,e){e.emitter.trigger("select",Object.assign(Object.assign({},N2(i,e)),{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view}))}function NG(i,t){t.emitter.trigger("unselect",{jsEvent:i?i.origEvent:null,view:t.viewApi||t.calendarApi.view})}function N2(i,t){let e={};for(let n of t.pluginHooks.dateSpanTransforms)Object.assign(e,n(i,t));return Object.assign(e,$G(i,t.dateEnv)),e}function p_(i,t,e){let{dateEnv:n,options:r}=e,a=t;return i?(a=Tn(a),a=n.add(a,r.defaultAllDayEventDuration)):a=n.add(a,r.defaultTimedEventDuration),a}function Jh(i,t,e,n){let r=f_(i.defs,t),a=Ya();for(let o in i.defs){let s=i.defs[o];a.defs[o]=FG(s,r[o],e,n)}for(let o in i.instances){let s=i.instances[o],d=a.defs[s.defId];a.instances[o]=LG(s,d,r[s.defId],e,n)}return a}function FG(i,t,e,n){let r=e.standardProps||{};r.hasEnd==null&&t.durationEditable&&(e.startDelta||e.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},i),r),{ui:Object.assign(Object.assign({},i.ui),r.ui)});e.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),e.extendedProps));for(let o of n.pluginHooks.eventDefMutationAppliers)o(a,e,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function LG(i,t,e,n,r){let{dateEnv:a}=r,o=n.standardProps&&n.standardProps.allDay===!0,s=n.standardProps&&n.standardProps.hasEnd===!1,d=Object.assign({},i);return o&&(d.range=qI(d.range)),n.datesDelta&&e.startEditable&&(d.range={start:a.add(d.range.start,n.datesDelta),end:a.add(d.range.end,n.datesDelta)}),n.startDelta&&e.durationEditable&&(d.range={start:a.add(d.range.start,n.startDelta),end:d.range.end}),n.endDelta&&e.durationEditable&&(d.range={start:d.range.start,end:a.add(d.range.end,n.endDelta)}),s&&(d.range={start:d.range.start,end:p_(t.allDay,d.range.start,r)}),t.allDay&&(d.range={start:Tn(d.range.start),end:Tn(d.range.end)}),d.range.end<d.range.start&&(d.range.end=p_(t.allDay,d.range.start,r)),d}var Fc=class{constructor(t,e){this.context=t,this.internalEventSource=e}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},On=class i{constructor(t,e,n){this._context=t,this._def=e,this._instance=n||null}setProp(t,e){if(t in WI)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")e=s_[t](e),this.mutate({standardProps:{publicId:e}});else if(t in s_)e=s_[t](e),this.mutate({standardProps:{[t]:e}});else if(t in m_){let n=m_[t](e);t==="color"?n={backgroundColor:e,borderColor:e}:t==="editable"?n={startEditable:e,durationEditable:e}:n={[t]:e},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,e){this.mutate({extendedProps:{[t]:e}})}setStart(t,e={}){let{dateEnv:n}=this._context,r=n.createMarker(t);if(r&&this._instance){let a=this._instance.range,o=Bc(a.start,r,n,e.granularity);e.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(t,e={}){let{dateEnv:n}=this._context,r;if(!(t!=null&&(r=n.createMarker(t),!r))&&this._instance)if(r){let a=Bc(this._instance.range.end,r,n,e.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,e,n={}){let{dateEnv:r}=this._context,a={allDay:n.allDay},o=r.createMarker(t),s;if(o&&!(e!=null&&(s=r.createMarker(e),!s))&&this._instance){let d=this._instance.range;n.allDay===!0&&(d=qI(d));let m=Bc(d.start,o,r,n.granularity);if(s){let h=Bc(d.end,s,r,n.granularity);IW(m,h)?this.mutate({datesDelta:m,standardProps:a}):this.mutate({startDelta:m,endDelta:h,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:m,standardProps:a})}}moveStart(t){let e=Hi(t);e&&this.mutate({startDelta:e})}moveEnd(t){let e=Hi(t);e&&this.mutate({endDelta:e})}moveDates(t){let e=Hi(t);e&&this.mutate({datesDelta:e})}setAllDay(t,e={}){let n={allDay:t},{maintainDuration:r}=e;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(t){let{dateEnv:e}=this._context,n=this._instance,r=Ar(t);return this._def.hasEnd?e.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):e.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(t){let e=this._instance;if(e){let n=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),o=Qh(a,e.instanceId);o=Jh(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,r);let d=new i(r,n,e);this._def=o.defs[n.defId],this._instance=o.instances[e.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:d,event:this,relatedEvents:ol(o,r,e),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let t=this._context,e=KI(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:e}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:e})}})}get source(){let{sourceId:t}=this._def;return t?new Fc(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let e=this._def,{ui:n}=e,{startStr:r,endStr:a}=this,o={allDay:e.allDay};return e.title&&(o.title=e.title),r&&(o.start=r),a&&(o.end=a),e.publicId&&(o.id=e.publicId),e.groupId&&(o.groupId=e.groupId),e.url&&(o.url=e.url),n.display&&n.display!=="auto"&&(o.display=n.display),t.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?o.color=n.backgroundColor:(n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.borderColor&&(o.borderColor=n.borderColor)),n.textColor&&(o.textColor=n.textColor),n.classNames.length&&(o.classNames=n.classNames),Object.keys(e.extendedProps).length&&(t.collapseExtendedProps?Object.assign(o,e.extendedProps):o.extendedProps=e.extendedProps),o}toJSON(){return this.toPlainObject()}};function KI(i){let t=i._def,e=i._instance;return{defs:{[t.defId]:t},instances:e?{[e.instanceId]:e}:{}}}function ol(i,t,e){let{defs:n,instances:r}=i,a=[],o=e?e.instanceId:"";for(let s in r){let d=r[s],m=n[d.defId];d.instanceId!==o&&a.push(new On(t,m,d))}return a}function h_(i,t,e,n){let r={},a={},o={},s=[],d=[],m=f_(i.defs,t);for(let h in i.defs){let v=i.defs[h];m[v.defId].display==="inverse-background"&&(v.groupId?(r[v.groupId]=[],o[v.groupId]||(o[v.groupId]=v)):a[h]=[])}for(let h in i.instances){let v=i.instances[h],_=i.defs[v.defId],g=m[_.defId],D=v.range,E=!_.allDay&&n?A2(D,n):D,S=ql(E,e);S&&(g.display==="inverse-background"?_.groupId?r[_.groupId].push(S):a[v.defId].push(S):g.display!=="none"&&(g.display==="background"?s:d).push({def:_,ui:g,instance:v,range:S,isStart:E.start&&E.start.valueOf()===S.start.valueOf(),isEnd:E.end&&E.end.valueOf()===S.end.valueOf()}))}for(let h in r){let v=r[h],_=vI(v,e);for(let g of _){let D=o[h],E=m[D.defId];s.push({def:D,ui:E,instance:null,range:g,isStart:!1,isEnd:!1})}}for(let h in a){let v=a[h],_=vI(v,e);for(let g of _)s.push({def:i.defs[h],ui:m[h],instance:null,range:g,isStart:!1,isEnd:!1})}return{bg:s,fg:d}}function yI(i,t){i.fcSeg=t}function Yl(i){return i.fcSeg||i.parentNode.fcSeg||null}function f_(i,t){return rl(i,e=>XI(e,t))}function XI(i,t){let e=[];return t[""]&&e.push(t[""]),t[i.defId]&&e.push(t[i.defId]),e.push(i.ui),$I(e)}function F2(i,t){let e=i.map(jG);return e.sort((n,r)=>PI(n,r,t)),e.map(n=>n._seg)}function jG(i){let{eventRange:t}=i,e=t.def,n=t.instance?t.instance.range:t.range,r=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},e.extendedProps),e),{id:e.publicId,start:r,end:a,duration:a-r,allDay:Number(e.allDay),_seg:i})}function BG(i,t){let{pluginHooks:e}=t,n=e.isDraggableTransformers,{def:r,ui:a}=i.eventRange,o=a.startEditable;for(let s of n)o=s(o,r,a,t);return o}function VG(i,t){return i.isStart&&i.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function zG(i,t){return i.isEnd&&i.eventRange.ui.durationEditable}function T_(i,t,e,n,r,a,o){let{dateEnv:s,options:d}=e,{displayEventTime:m,displayEventEnd:h}=d,v=i.eventRange.def,_=i.eventRange.instance;m==null&&(m=n!==!1),h==null&&(h=r!==!1);let g=_.range.start,D=_.range.end,E=a||i.start||i.eventRange.range.start,S=o||i.end||i.eventRange.range.end,w=Tn(g).valueOf()===Tn(E).valueOf(),O=Tn(il(D,-1)).valueOf()===Tn(il(S,-1)).valueOf();return m&&!v.allDay&&(w||O)?(E=w?g:E,S=O?D:S,h&&v.hasEnd?s.formatRange(E,S,t,{forcedStartTzo:a?null:_.forcedStartTzo,forcedEndTzo:o?null:_.forcedEndTzo}):s.format(E,t,{forcedTzo:a?null:_.forcedStartTzo})):""}function Rd(i,t,e){let n=i.eventRange.range;return{isPast:n.end<=(e||t.start),isFuture:n.start>=(e||t.end),isToday:t&&tl(t,n.start)}}function HG(i){let t=["fc-event"];return i.isMirror&&t.push("fc-event-mirror"),i.isDraggable&&t.push("fc-event-draggable"),(i.isStartResizable||i.isEndResizable)&&t.push("fc-event-resizable"),i.isDragging&&t.push("fc-event-dragging"),i.isResizing&&t.push("fc-event-resizing"),i.isSelected&&t.push("fc-event-selected"),i.isStart&&t.push("fc-event-start"),i.isEnd&&t.push("fc-event-end"),i.isPast&&t.push("fc-event-past"),i.isToday&&t.push("fc-event-today"),i.isFuture&&t.push("fc-event-future"),t}function L2(i){return i.instance?i.instance.instanceId:`${i.def.defId}:${i.range.start.toISOString()}`}function O_(i,t){let{def:e,instance:n}=i.eventRange,{url:r}=e;if(r)return{href:r};let{emitter:a,options:o}=t,{eventInteractive:s}=o;return s==null&&(s=e.interactive,s==null&&(s=!!a.hasHandlers("eventClick"))),s?AI(d=>{a.trigger("eventClick",{el:d.target,event:new On(t,e,n),jsEvent:d,view:t.viewApi})}):{}}var UG={start:ke,end:ke,allDay:Boolean};function qG(i,t,e){let n=WG(i,t),{range:r}=n;if(!r.start)return null;if(!r.end){if(e==null)return null;r.end=t.add(r.start,e)}return n}function WG(i,t){let{refined:e,extra:n}=S_(i,UG),r=e.start?t.createMarkerMeta(e.start):null,a=e.end?t.createMarkerMeta(e.end):null,{allDay:o}=e;return o==null&&(o=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:o},n)}function j2(i,t){return UI(i.range,t.range)&&i.allDay===t.allDay&&GG(i,t)}function GG(i,t){for(let e in t)if(e!=="range"&&e!=="allDay"&&i[e]!==t[e])return!1;for(let e in i)if(!(e in t))return!1;return!0}function $G(i,t){return Object.assign(Object.assign({},ZI(i.range,t,i.allDay)),{allDay:i.allDay})}function B2(i,t,e){return Object.assign(Object.assign({},ZI(i,t,e)),{timeZone:t.timeZone})}function ZI(i,t,e){return{start:t.toDate(i.start),end:t.toDate(i.end),startStr:t.formatIso(i.start,{omitTime:e}),endStr:t.formatIso(i.end,{omitTime:e})}}function YG(i,t,e){let n=E_({editable:!1},e),r=Mh(n.refined,n.extra,"",i.allDay,!0,e);return{def:r,ui:XI(r,t),instance:Yh(r.defId,i.range),range:i.range,isStart:!0,isEnd:!0}}function V2(i,t,e){let n=!1,r=function(s){n||(n=!0,t(s))},a=function(s){n||(n=!0,e(s))},o=i(r,a);o&&typeof o.then=="function"&&o.then(r,a)}var g_=class extends Error{constructor(t,e){super(t),this.response=e}};function z2(i,t,e){i=i.toUpperCase();let n={method:i};return i==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(e):(n.body=new URLSearchParams(e),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,n).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new g_("Failure parsing JSON",r)});throw new g_("Request failed",r)})}var UC;function H2(){return UC==null&&(UC=QG()),UC}function QG(){if(typeof document>"u")return!0;let i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.innerHTML="<table><tr><td><div></div></td></tr></table>",i.querySelector("table").style.height="100px",i.querySelector("div").style.height="100%",document.body.appendChild(i);let e=i.querySelector("div").offsetHeight>0;return document.body.removeChild(i),e}var Eh=class extends $n{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{wh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{wh(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:e}=t,{forPrint:n}=this.state,r=n||e.height==="auto"||e.contentHeight==="auto",a=!r&&e.height!=null?e.height:"",o=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${e.direction}`,t.theme.getClass("root")];return H2()||o.push("fc-liquid-hack"),t.children(o,a,r,n)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}},ys=class{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}};function eP(i,t){return{component:i,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function Kh(i){return{[i.component.uid]:i}}var jm={},Bm=(()=>{class i extends pa{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),a=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(a,Hi(1,e.unit)).valueOf()-r.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:JG(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return i.contextType=$l,i})();function JG(i){let t=Tn(i),e=qr(t,1);return{start:t,end:e}}var Ah=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,e){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:e})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,e){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[t]?n.emitter.on(t,e):console.warn(`Unknown listener name '${t}'`)}off(t,e){this.currentDataManager.emitter.off(t,e)}trigger(t,...e){this.currentDataManager.emitter.trigger(t,...e)}changeView(t,e){this.batchRendering(()=>{if(this.unselect(),e)if(e.start&&e.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:e});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:n.createMarker(e)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,e){let n=this.getCurrentData(),r;e=e||"day",r=n.viewSpecs[e]||this.getUnitViewSpec(e),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:e,toolbarConfig:n}=this.getCurrentData(),r=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,o;for(let s in e)r.push(s);for(a=0;a<r.length;a+=1)if(o=e[r[a]],o&&o.singleUnit===t)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.createMarker(t)})}incrementDate(t){let e=this.getCurrentData(),n=Hi(t);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.add(e.currentDate,n)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,e){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(t),Ar(e))}formatRange(t,e,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(t),r.createMarker(e),Ar(n),n)}formatIso(t,e){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(t),{omitTime:e})}select(t,e){let n;e==null?t.start!=null?n=t:n={start:t,end:null}:n={start:t,end:e};let r=this.getCurrentData(),a=qG(n,r.dateEnv,Hi({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),P_(a,null,r))}unselect(t){let e=this.getCurrentData();e.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),NG(t,e))}addEvent(t,e){if(t instanceof On){let o=t._def,s=t._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Dh({def:o,instance:s})}),this.triggerEventAdd(t)),t}let n=this.getCurrentData(),r;if(e instanceof Fc)r=e.internalEventSource;else if(typeof e=="boolean")e&&([r]=k_(n.eventSources));else if(e!=null){let o=this.getEventSourceById(e);if(!o)return console.warn(`Could not find an event source with ID "${e}"`),null;r=o.internalEventSource}let a=GI(t,r,n,!1);if(a){let o=new On(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Dh(a)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(t){let{emitter:e}=this.getCurrentData();e.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:KI(t)})}})}getEventById(t){let e=this.getCurrentData(),{defs:n,instances:r}=e.eventStore;t=String(t);for(let a in n){let o=n[a];if(o.publicId===t){if(o.recurringDef)return new On(e,o,null);for(let s in r){let d=r[s];if(d.defId===o.defId)return new On(e,o,d)}}}return null}getEvents(){let t=this.getCurrentData();return ol(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),e=t.eventSources,n=[];for(let r in e)n.push(new Fc(t,e[r]));return n}getEventSourceById(t){let e=this.getCurrentData(),n=e.eventSources;t=String(t);for(let r in n)if(n[r].publicId===t)return new Fc(e,n[r]);return null}addEventSource(t){let e=this.getCurrentData();if(t instanceof Fc)return e.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let n=P2(t,e);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Fc(e,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let e=Hi(t);e&&this.trigger("_scrollRequest",{time:e})}};function U2(i,t){return i.left>=t.left&&i.left<t.right&&i.top>=t.top&&i.top<t.bottom}function R_(i,t){let e={left:Math.max(i.left,t.left),right:Math.min(i.right,t.right),top:Math.max(i.top,t.top),bottom:Math.min(i.bottom,t.bottom)};return e.left<e.right&&e.top<e.bottom?e:!1}function q2(i,t){return{left:Math.min(Math.max(i.left,t.left),t.right),top:Math.min(Math.max(i.top,t.top),t.bottom)}}function W2(i){return{left:(i.left+i.right)/2,top:(i.top+i.bottom)/2}}function G2(i,t){return{left:i.left-t.left,top:i.top-t.top}}var qMe=Ya();function $2(i,t,e,n){return{dow:i.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!tl(n.activeRange,i))),isOther:!!(n&&!tl(n.currentRange,i)),isToday:!!(t&&tl(t,i)),isPast:!!(e?i<e:t&&i<t.start),isFuture:!!(e?i>e:t&&i>=t.end)}}function N_(i,t){let e=["fc-day",`fc-day-${OW[i.dow]}`];return i.isDisabled?e.push("fc-day-disabled"):(i.isToday&&(e.push("fc-day-today"),e.push(t.getClass("today"))),i.isPast&&e.push("fc-day-past"),i.isFuture&&e.push("fc-day-future"),i.isOther&&e.push("fc-day-other")),e}var KG=Ar({year:"numeric",month:"long",day:"numeric"}),XG=Ar({week:"long"});function Xh(i,t,e="day",n=!0){let{dateEnv:r,options:a,calendarApi:o}=i,s=r.format(t,e==="week"?XG:KG);if(a.navLinks){let d=r.toDate(t),m=h=>{let v=e==="day"?a.navLinkDayClick:e==="week"?a.navLinkWeekClick:null;typeof v=="function"?v.call(o,r.toDate(t),h):(typeof v=="string"&&(e=v),o.zoomTo(t,e))};return Object.assign({title:Rm(a.navLinkHint,[s,d],s),"data-navlink":""},n?EI(m):{onClick:m})}return{"aria-label":s}}var qC=null;function tP(){return qC===null&&(qC=ZG()),qC}function ZG(){let i=document.createElement("div");Pd(i,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),i.innerHTML="<div></div>",document.body.appendChild(i);let e=i.firstChild.getBoundingClientRect().left>i.getBoundingClientRect().left;return Hh(i),e}var WC;function iP(){return WC||(WC=e$()),WC}function e$(){let i=document.createElement("div");i.style.overflow="scroll",i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",document.body.appendChild(i);let t=nP(i);return document.body.removeChild(i),t}function nP(i){return{x:i.offsetHeight-i.clientHeight,y:i.offsetWidth-i.clientWidth}}function rP(i,t=!1){let e=window.getComputedStyle(i),n=parseInt(e.borderLeftWidth,10)||0,r=parseInt(e.borderRightWidth,10)||0,a=parseInt(e.borderTopWidth,10)||0,o=parseInt(e.borderBottomWidth,10)||0,s=nP(i),d=s.y-n-r,m=s.x-a-o,h={borderLeft:n,borderRight:r,borderTop:a,borderBottom:o,scrollbarBottom:m,scrollbarLeft:0,scrollbarRight:0};return tP()&&e.direction==="rtl"?h.scrollbarLeft=d:h.scrollbarRight=d,t&&(h.paddingLeft=parseInt(e.paddingLeft,10)||0,h.paddingRight=parseInt(e.paddingRight,10)||0,h.paddingTop=parseInt(e.paddingTop,10)||0,h.paddingBottom=parseInt(e.paddingBottom,10)||0),h}function Y2(i,t=!1,e){let n=e?i.getBoundingClientRect():Zh(i),r=rP(i,t),a={left:n.left+r.borderLeft+r.scrollbarLeft,right:n.right-r.borderRight-r.scrollbarRight,top:n.top+r.borderTop,bottom:n.bottom-r.borderBottom-r.scrollbarBottom};return t&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Zh(i){let t=i.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function t$(i){let t=F_(i),e=i.getBoundingClientRect();for(let n of t){let r=R_(e,n.getBoundingClientRect());if(r)e=r;else return null}return e}function F_(i){let t=[];for(;i instanceof HTMLElement;){let e=window.getComputedStyle(i);if(e.position==="fixed")break;/(auto|scroll)/.test(e.overflow+e.overflowY+e.overflowX)&&t.push(i),i=i.parentNode}return t}var Vc=class{constructor(t,e,n,r){this.els=e;let a=this.originClientRect=t.getBoundingClientRect();n&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(t){let e=[],n=[];for(let r of this.els){let a=r.getBoundingClientRect();e.push(a.left-t),n.push(a.right-t)}this.lefts=e,this.rights=n}buildElVerticals(t){let e=[],n=[];for(let r of this.els){let a=r.getBoundingClientRect();e.push(a.top-t),n.push(a.bottom-t)}this.tops=e,this.bottoms=n}leftToIndex(t){let{lefts:e,rights:n}=this,r=e.length,a;for(a=0;a<r;a+=1)if(t>=e[a]&&t<n[a])return a}topToIndex(t){let{tops:e,bottoms:n}=this,r=e.length,a;for(a=0;a<r;a+=1)if(t>=e[a]&&t<n[a])return a}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return t_(this.tops||[],t.tops||[])&&t_(this.bottoms||[],t.bottoms||[])&&t_(this.lefts||[],t.lefts||[])&&t_(this.rights||[],t.rights||[])}};function t_(i,t){let e=i.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(Math.round(i[n])!==Math.round(t[n]))return!1;return!0}var Ed=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Ih=class extends Ed{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Ph=class extends Ed{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},xs=class extends $n{constructor(){super(...arguments),this.uid=Gl()}prepareHits(){}queryHit(t,e,n,r){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Ur(t,".fc-event-mirror")}isValidDateDownEl(t){return!Ur(t,".fc-event:not(.fc-bg-event)")&&!Ur(t,".fc-more-link")&&!Ur(t,"a[data-navlink]")&&!Ur(t,".fc-popover")}};var Th=class{constructor(t=e=>e.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let e=[];for(let n of t)this.insertEntry(n,e);return e}insertEntry(t,e){let n=this.findInsertion(t);this.isInsertionValid(n,t)?this.insertEntryAt(t,n):this.handleInvalidInsertion(n,t,e)}isInsertionValid(t,e){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(e)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,e,n){if(this.allowReslicing&&t.touchingEntry){let r=Object.assign(Object.assign({},e),{span:L_(e.span,t.touchingEntry.span)});n.push(r),this.splitEntry(e,t.touchingEntry,n)}else n.push(e)}splitEntry(t,e,n){let r=t.span,a=e.span;r.start<a.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:r.start,end:a.start}},n),r.end>a.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:a.end,end:r.end}},n)}insertEntryAt(t,e){let{entriesByLevel:n,levelCoords:r}=this;e.lateral===-1?(GC(r,e.level,e.levelCoord),GC(n,e.level,[t])):GC(n[e.level],e.lateral,t),this.stackCnts[Ad(t)]=e.stackCnt}findInsertion(t){let{levelCoords:e,entriesByLevel:n,strictOrder:r,stackCnts:a}=this,o=e.length,s=0,d=-1,m=-1,h=null,v=0;for(let D=0;D<o;D+=1){let E=e[D];if(!r&&E>=s+this.getEntryThickness(t))break;let S=n[D],w,O=a2(S,t.span.start,r2),G=O[0]+O[1];for(;(w=S[G])&&w.span.start<t.span.end;){let ee=E+this.getEntryThickness(w);ee>s&&(s=ee,h=w,d=D,m=G),ee===s&&(v=Math.max(v,a[Ad(w)]+1)),G+=1}}let _=0;if(h)for(_=d+1;_<o&&e[_]<s;)_+=1;let g=-1;return _<o&&e[_]===s&&(g=a2(n[_],t.span.end,r2)[0]),{touchingLevel:d,touchingLateral:m,touchingEntry:h,stackCnt:v,levelCoord:s,level:_,lateral:g}}toRects(){let{entriesByLevel:t,levelCoords:e}=this,n=t.length,r=[];for(let a=0;a<n;a+=1){let o=t[a],s=e[a];for(let d of o)r.push(Object.assign(Object.assign({},d),{thickness:this.getEntryThickness(d),levelCoord:s}))}return r}};function r2(i){return i.span.end}function Ad(i){return i.index+":"+i.span.start}function L_(i,t){let e=Math.max(i.start,t.start),n=Math.min(i.end,t.end);return e<n?{start:e,end:n}:null}function GC(i,t,e){i.splice(t,0,e)}function a2(i,t,e){let n=0,r=i.length;if(!r||t<e(i[n]))return[0,0];if(t>e(i[r-1]))return[r,0];for(;n<r;){let a=Math.floor(n+(r-n)/2),o=e(i[a]);if(t<o)r=a;else if(t>o)n=a+1;else return[a,1]}return[n,0]}var Oh=class{constructor(t,e){this.emitter=new Wl}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}},ef={};function aP(i,t){return!i||t>10?Ar({weekday:"short"}):t>1?Ar({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ar({weekday:"long"})}var oP="fc-col-header-cell";function sP(i){return i.text}var b_=class extends $n{render(){let{dateEnv:t,options:e,theme:n,viewApi:r}=this.context,{props:a}=this,{date:o,dateProfile:s}=a,d=$2(o,a.todayRange,null,s),m=[oP].concat(N_(d,n)),h=t.format(o,a.dayHeaderFormat),v=!d.isDisabled&&a.colCnt>1?Xh(this.context,o):{},_=t.toDate(o);t.namedTimeZoneImpl&&(_=il(_,36e5));let g=Object.assign(Object.assign(Object.assign({date:_,view:r},a.extraRenderProps),{text:h}),d);return Me(al,{elTag:"th",elClasses:m,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":d.isDisabled?void 0:Gh(o)},a.extraDataAttrs),renderProps:g,generatorName:"dayHeaderContent",customGenerator:e.dayHeaderContent,defaultGenerator:sP,classNameGenerator:e.dayHeaderClassNames,didMount:e.dayHeaderDidMount,willUnmount:e.dayHeaderWillUnmount},D=>Me("div",{className:"fc-scrollgrid-sync-inner"},!d.isDisabled&&Me(D,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}},i$=Ar({weekday:"long"}),v_=class extends $n{render(){let{props:t}=this,{dateEnv:e,theme:n,viewApi:r,options:a}=this.context,o=qr(new Date(2592e5),t.dow),s={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},d=e.format(o,t.dayHeaderFormat),m=Object.assign(Object.assign(Object.assign(Object.assign({date:o},s),{view:r}),t.extraRenderProps),{text:d});return Me(al,{elTag:"th",elClasses:[oP,...N_(s,n),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:sP,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},h=>Me("div",{className:"fc-scrollgrid-sync-inner"},Me(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":e.format(o,i$)}})))}},Rh=class extends $n{constructor(){super(...arguments),this.createDayHeaderFormatter=Ui(n$)}render(){let{context:t}=this,{dates:e,dateProfile:n,datesRepDistinctDays:r,renderIntro:a}=this.props,o=this.createDayHeaderFormatter(t.options.dayHeaderFormat,r,e.length);return Me(Bm,{unit:"day"},(s,d)=>Me("tr",{role:"row"},a&&a("day"),e.map(m=>r?Me(b_,{key:m.toISOString(),date:m,dateProfile:n,todayRange:d,colCnt:e.length,dayHeaderFormat:o}):Me(v_,{key:m.getUTCDay(),dow:m.getUTCDay(),dayHeaderFormat:o}))))}};function n$(i,t,e){return i||aP(t,e)}var Nh=class{constructor(t,e){let n=t.start,{end:r}=t,a=[],o=[],s=-1;for(;n<r;)e.isHiddenDay(n)?a.push(s+.5):(s+=1,a.push(s),o.push(n)),n=qr(n,1);this.dates=o,this.indices=a,this.cnt=o.length}sliceRange(t){let e=this.getDateDayIndex(t.start),n=this.getDateDayIndex(qr(t.end,-1)),r=Math.max(0,e),a=Math.min(this.cnt-1,n);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:e===r,isEnd:n===a}:null}getDateDayIndex(t){let{indices:e}=this,n=Math.floor(Od(this.dates[0],t));return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]}},Fh=class{constructor(t,e){let{dates:n}=t,r,a,o;if(e){for(a=n[0].getUTCDay(),r=1;r<n.length&&n[r].getUTCDay()!==a;r+=1);o=Math.ceil(n.length/r)}else o=1,r=n.length;this.rowCnt=o,this.colCnt=r,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let e=0;e<this.rowCnt;e+=1){let n=[];for(let r=0;r<this.colCnt;r+=1)n.push(this.buildCell(e,r));t.push(n)}return t}buildCell(t,e){let n=this.daySeries.dates[t*this.colCnt+e];return{key:n.toISOString(),date:n}}buildHeaderDates(){let t=[];for(let e=0;e<this.colCnt;e+=1)t.push(this.cells[0][e].date);return t}sliceRange(t){let{colCnt:e}=this,n=this.daySeries.sliceRange(t),r=[];if(n){let{firstIndex:a,lastIndex:o}=n,s=a;for(;s<=o;){let d=Math.floor(s/e),m=Math.min((d+1)*e,o+1);r.push({row:d,firstCol:s%e,lastCol:(m-1)%e,isStart:n.isStart&&s===a,isEnd:n.isEnd&&m-1===o}),s=m}}return r}},Lh=class{constructor(){this.sliceBusinessHours=Ui(this._sliceBusinessHours),this.sliceDateSelection=Ui(this._sliceDateSpan),this.sliceEventStore=Ui(this._sliceEventStore),this.sliceEventDrag=Ui(this._sliceInteraction),this.sliceEventResize=Ui(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,e,n,r,...a){let{eventUiBases:o}=t,s=this.sliceEventStore(t.eventStore,o,e,n,...a);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,e,n,o,r,...a),businessHourSegs:this.sliceBusinessHours(t.businessHours,e,n,r,...a),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(t.eventDrag,o,e,n,...a),eventResize:this.sliceEventResize(t.eventResize,o,e,n,...a),eventSelection:t.eventSelection}}sliceNowDate(t,e,n,r,...a){return this._sliceDateSpan({range:{start:t,end:il(t,1)},allDay:!1},e,n,{},r,...a)}_sliceBusinessHours(t,e,n,r,...a){return t?this._sliceEventStore(Dd(t,i_(e,!!n),r),{},e,n,...a).bg:[]}_sliceEventStore(t,e,n,r,...a){if(t){let o=h_(t,e,i_(n,!!r),r);return{bg:this.sliceEventRanges(o.bg,a),fg:this.sliceEventRanges(o.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(t,e,n,r,...a){if(!t)return null;let o=h_(t.mutatedEvents,e,i_(n,!!r),r);return{segs:this.sliceEventRanges(o.fg,a),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,e,n,r,a,...o){if(!t)return[];let s=i_(e,!!n),d=ql(t.range,s);if(d){t=Object.assign(Object.assign({},t),{range:d});let m=YG(t,r,a),h=this.sliceRange(t.range,...o);for(let v of h)v.eventRange=m;return h}return[]}sliceEventRanges(t,e){let n=[];for(let r of t)n.push(...this.sliceEventRange(r,e));return n}sliceEventRange(t,e){let n=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(n={start:n.start,end:qr(n.start,1)});let r=this.sliceRange(n,...e);for(let a of r)a.eventRange=t,a.isStart=t.isStart&&a.isStart,a.isEnd=t.isEnd&&a.isEnd;return r}};function i_(i,t){let e=i.activeRange;return t?e:{start:il(e.start,i.slotMinTime.milliseconds),end:il(e.end,i.slotMaxTime.milliseconds-864e5)}}function j_(i,t,e){let{instances:n}=i.mutatedEvents;for(let r in n)if(!Fm(t.validRange,n[r].range))return!1;return lP({eventDrag:i},e)}function Q2(i,t,e){return Fm(t.validRange,i.range)?lP({dateSelection:i},e):!1}function lP(i,t){let e=t.getCurrentData(),n=Object.assign({businessHours:e.businessHours,dateSelection:"",eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},i);return(t.pluginHooks.isPropsValid||cP)(n,t)}function cP(i,t,e={},n){return!(i.eventDrag&&!r$(i,t,e,n)||i.dateSelection&&!a$(i,t,e,n))}function r$(i,t,e,n){let r=t.getCurrentData(),a=i.eventDrag,o=a.mutatedEvents,s=o.defs,d=o.instances,m=f_(s,a.isEvent?i.eventUiBases:{"":r.selectionConfig});n&&(m=rl(m,n));let h=AG(i.eventStore,a.affectedEvents.instances),v=h.defs,_=h.instances,g=f_(v,i.eventUiBases);for(let D in d){let E=d[D],S=E.range,w=m[E.defId],O=s[E.defId];if(!dP(w.constraints,S,h,i.businessHours,t))return!1;let{eventOverlap:G}=t.options,ee=typeof G=="function"?G:null;for(let Ee in _){let oe=_[Ee];if(D_(S,oe.range)&&(g[oe.defId].overlap===!1&&a.isEvent||w.overlap===!1||ee&&!ee(new On(t,v[oe.defId],oe),new On(t,O,E))))return!1}let se=r.eventStore;for(let Ee of w.allows){let oe=Object.assign(Object.assign({},e),{range:E.range,allDay:O.allDay}),Q=se.defs[O.defId],me=se.instances[D],Te;if(Q?Te=new On(t,Q,me):Te=new On(t,O),!Ee(N2(oe,t),Te))return!1}}return!0}function a$(i,t,e,n){let r=i.eventStore,a=r.defs,o=r.instances,s=i.dateSelection,d=s.range,{selectionConfig:m}=t.getCurrentData();if(n&&(m=n(m)),!dP(m.constraints,d,r,i.businessHours,t))return!1;let{selectOverlap:h}=t.options,v=typeof h=="function"?h:null;for(let _ in o){let g=o[_];if(D_(d,g.range)&&(m.overlap===!1||v&&!v(new On(t,a[g.defId],g),null)))return!1}for(let _ of m.allows){let g=Object.assign(Object.assign({},e),s);if(!_(N2(g,t),null))return!1}return!0}function dP(i,t,e,n,r){for(let a of i)if(!s$(o$(a,t,e,n,r),t))return!1;return!0}function o$(i,t,e,n,r){return i==="businessHours"?$C(Dd(n,t,r)):typeof i=="string"?$C(I_(e,a=>a.groupId===i)):typeof i=="object"&&i?$C(Dd(i,t,r)):[]}function $C(i){let{instances:t}=i,e=[];for(let n in t)e.push(t[n].range);return e}function s$(i,t){for(let e of i)if(Fm(e,t))return!0;return!1}var n_=/^(visible|hidden)$/,__=class extends $n{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,$o(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:e,liquidIsAbsolute:n}=t,r=e&&n,a=["fc-scroller"];return e&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Me("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:r&&-(t.overcomeLeft||0)||"",right:r&&-(t.overcomeRight||0)||"",bottom:r&&-(t.overcomeBottom||0)||"",marginLeft:!r&&-(t.overcomeLeft||0)||"",marginRight:!r&&-(t.overcomeRight||0)||"",marginBottom:!r&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(n_.test(this.props.overflowX))return!1;let{el:t}=this,e=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=t;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().width>e)return!0;return!1}needsYScrolling(){if(n_.test(this.props.overflowY))return!1;let{el:t}=this,e=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=t;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().height>e)return!0;return!1}getXScrollbarWidth(){return n_.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return n_.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Cs=class{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,n)=>{let{depths:r,currentMap:a}=this,o=!1,s=!1;e!==null?(o=n in a,a[n]=e,r[n]=(r[n]||0)+1,s=!0):(r[n]-=1,r[n]||(delete a[n],delete this.callbackMap[n],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(n)),s&&this.masterCallback(e,String(n)))}}createRef(t){let e=this.callbackMap[t];return e||(e=this.callbackMap[t]=n=>{this.handleValue(n,String(t))}),e}collect(t,e,n){return jI(this.currentMap,t,e,n)}getAll(){return k_(this.currentMap)}};function uP(i){let t=kI(i,".fc-scrollgrid-shrink"),e=0;for(let n of t)e=Math.max(e,DW(n));return Math.ceil(e)}function J2(i,t){return i.liquid&&t.liquid}function mP(i,t){return t.maxHeight!=null||J2(i,t)}function pP(i,t,e,n){let{expandRows:r}=e;return typeof t.content=="function"?t.content(e):Me("table",{role:"presentation",className:[t.tableClassName,i.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:r?e.clientHeight:""}},e.tableColGroupNode,Me(n?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(e):t.rowContent))}function hP(i,t){return nl(i,t,wo)}function fP(i,t){let e=[];for(let n of i){let r=n.span||1;for(let a=0;a<r;a+=1)e.push(Me("col",{style:{width:n.width==="shrink"?gP(t):n.width||"",minWidth:n.minWidth||""}}))}return Me("colgroup",{},...e)}function gP(i){return i??4}function bP(i){for(let t of i)if(t.width==="shrink")return!0;return!1}function vP(i,t){let e=["fc-scrollgrid",t.theme.getClass("table")];return i&&e.push("fc-scrollgrid-liquid"),e}function _P(i,t){let e=["fc-scrollgrid-section",`fc-scrollgrid-section-${i.type}`,i.className];return t&&i.liquid&&i.maxHeight==null&&e.push("fc-scrollgrid-section-liquid"),i.isSticky&&e.push("fc-scrollgrid-section-sticky"),e}function K2(i){return Me("div",{className:"fc-scrollgrid-sticky-shim",style:{width:i.clientWidth,minWidth:i.tableMinWidth}})}function B_(i){let{stickyHeaderDates:t}=i;return(t==null||t==="auto")&&(t=i.height==="auto"||i.viewHeight==="auto"),t}function X2(i){let{stickyFooterScrollbar:t}=i;return(t==null||t==="auto")&&(t=i.height==="auto"||i.viewHeight==="auto"),t}var Tm=class extends $n{constructor(){super(...arguments),this.processCols=Ui(t=>t,hP),this.renderMicroColGroup=Ui(fP),this.scrollerRefs=new Cs,this.scrollerElRefs=new Cs(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:e,context:n}=this,r=t.sections||[],a=this.processCols(t.cols),o=this.renderMicroColGroup(a,e.shrinkWidth),s=vP(t.liquid,n);t.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let d=r.length,m=0,h,v=[],_=[],g=[];for(;m<d&&(h=r[m]).type==="header";)v.push(this.renderSection(h,o,!0)),m+=1;for(;m<d&&(h=r[m]).type==="body";)_.push(this.renderSection(h,o,!1)),m+=1;for(;m<d&&(h=r[m]).type==="footer";)g.push(this.renderSection(h,o,!0)),m+=1;let D=!H2(),E={role:"rowgroup"};return Me("table",{role:"grid",className:s.join(" "),style:{height:t.height}},!!(!D&&v.length)&&Me("thead",E,...v),!!(!D&&_.length)&&Me("tbody",E,..._),!!(!D&&g.length)&&Me("tfoot",E,...g),D&&Me("tbody",E,...v,..._,...g))}renderSection(t,e,n){return"outerContent"in t?Me(Pn,{key:t.key},t.outerContent):Me("tr",{key:t.key,role:"presentation",className:_P(t,this.props.liquid).join(" ")},this.renderChunkTd(t,e,t.chunk,n))}renderChunkTd(t,e,n,r){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:o,scrollerClientWidths:s,scrollerClientHeights:d}=this.state,m=mP(a,t),h=J2(a,t),v=a.liquid?o?"scroll":m?"auto":"hidden":"visible",_=t.key,g=pP(t,n,{tableColGroupNode:e,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&s[_]!==void 0?s[_]:null,clientHeight:d[_]!==void 0?d[_]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Me(r?"th":"td",{ref:n.elRef,role:"presentation"},Me("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},Me(__,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:v,overflowX:a.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:h,liquidIsAbsolute:!0},g)))}_handleScrollerEl(t,e){let n=l$(this.props.sections,e);n&&$o(n.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return bP(this.props.cols)?uP(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=iP(),{scrollerRefs:e,scrollerElRefs:n}=this,r=!1,a={},o={};for(let s in e.currentMap){let d=e.currentMap[s];if(d&&d.needsYScrolling()){r=!0;break}}for(let s of this.props.sections){let d=s.key,m=n.currentMap[d];if(m){let h=m.parentNode;a[d]=Math.floor(h.getBoundingClientRect().width-(r?t.y:0)),o[d]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:o}}};Tm.addStateEquality({scrollerClientWidths:wo,scrollerClientHeights:wo});function l$(i,t){for(let e of i)if(e.key===t)return e;return null}var Id=class extends $n{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,t&&yI(t,this.props.seg)}}render(){let{props:t,context:e}=this,{options:n}=e,{seg:r}=t,{eventRange:a}=r,{ui:o}=a,s={event:new On(e,a.def,a.instance),view:e.viewApi,timeText:t.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!t.disableDragging&&BG(r,e),isStartResizable:!t.disableResizing&&VG(r,e),isEndResizable:!t.disableResizing&&zG(r),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return Me(al,Object.assign({},t,{elRef:this.handleEl,elClasses:[...HG(s),...r.eventRange.ui.classNames,...t.elClasses||[]],renderProps:s,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&yI(this.el,this.props.seg)}},jh=class extends $n{render(){let{props:t,context:e}=this,{options:n}=e,{seg:r}=t,{ui:a}=r.eventRange,o=n.eventTimeFormat||t.defaultTimeFormat,s=T_(r,o,e,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return Me(Id,Object.assign({},t,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:O_(r,e),defaultGenerator:c$,timeText:s}),(d,m)=>Me(Pn,null,Me(d,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:m.textColor}}),!!m.isStartResizable&&Me("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!m.isEndResizable&&Me("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function c$(i){return Me("div",{className:"fc-event-main-frame"},i.timeText&&Me("div",{className:"fc-event-time"},i.timeText),Me("div",{className:"fc-event-title-container"},Me("div",{className:"fc-event-title fc-sticky"},i.event.title||Me(Pn,null,"\xA0"))))}var d$=Ar({day:"numeric"}),Om=class extends $n{constructor(){super(...arguments),this.refineRenderProps=Nm(u$)}render(){let{props:t,context:e}=this,{options:n}=e,r=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:e.viewApi,dateEnv:e.dateEnv,monthStartFormat:n.monthStartFormat});return Me(al,Object.assign({},t,{elClasses:[...N_(r,e.theme),...t.elClasses||[]],elAttrs:Object.assign(Object.assign({},t.elAttrs),r.isDisabled?{}:{"data-date":Gh(t.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}};function V_(i){return!!(i.dayCellContent||i2("dayCellContent",i))}function u$(i){let{date:t,dateEnv:e,dateProfile:n,isMonthStart:r}=i,a=$2(t,i.todayRange,null,n),o=i.showDayNumber?e.format(t,r?i.monthStartFormat:d$):"";return Object.assign(Object.assign(Object.assign({date:e.toDate(t),view:i.viewApi},a),{isMonthStart:r,dayNumberText:o}),i.extraRenderProps)}var Bh=class extends $n{render(){let{props:t}=this,{seg:e}=t;return Me(Id,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:e.eventRange.ui.backgroundColor},defaultGenerator:m$,seg:e,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}};function m$(i){let{title:t}=i.event;return t&&Me("div",{className:"fc-event-title"},i.event.title)}function Z2(i){return Me("div",{className:`fc-${i}`})}var ew=i=>Me($l.Consumer,null,t=>{let{dateEnv:e,options:n}=t,{date:r}=i,a=n.weekNumberFormat||i.defaultFormat,o=e.computeWeekNumber(r),s=e.format(r,a);return Me(al,Object.assign({},i,{renderProps:{num:o,text:s,date:r},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:p$,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function p$(i){return i.text}var YC=10,o2=class extends $n{constructor(){super(...arguments),this.state={titleId:Td()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&$o(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{let e=x_(t);this.rootEl.contains(e)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:e}=this.context,{props:n,state:r}=this,a=["fc-popover",t.getClass("popover")].concat(n.extraClassNames||[]);return cI(Me("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Me("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},Me("span",{className:"fc-popover-title",id:r.titleId},n.title),Me("span",{className:"fc-popover-close "+t.getIconClass("close"),title:e.closeHint,onClick:this.handleCloseClick})),Me("div",{className:"fc-popover-body "+t.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:e,alignGridTop:n}=this.props,{rootEl:r}=this,a=t$(e);if(a){let o=r.getBoundingClientRect(),s=n?Ur(e,".fc-scrollgrid").getBoundingClientRect().top:a.top,d=t?a.right-o.width:a.left;s=Math.max(s,YC),d=Math.min(d,document.documentElement.clientWidth-YC-o.width),d=Math.max(d,YC);let m=r.offsetParent.getBoundingClientRect();Pd(r,{top:s-m.top,left:d-m.left})}}},s2=class extends xs{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:e}=this.context,{props:n}=this,{startDate:r,todayRange:a,dateProfile:o}=n,s=e.format(r,t.dayPopoverFormat);return Me(Om,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:a},(d,m,h)=>Me(o2,{elRef:h.ref,id:n.id,title:s,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},V_(t)&&Me(d,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(t,e,n,r){let{rootEl:a,props:o}=this;return t>=0&&t<n&&e>=0&&e<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}},Vh=class extends $n{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Td()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&$o(this.props.elRef,t)},this.handleClick=t=>{let{props:e,context:n}=this,{moreLinkClick:r}=n.options,a=xI(e).start;function o(s){let{def:d,instance:m,range:h}=s.eventRange;return{event:new On(n,d,m),start:n.dateEnv.toDate(h.start),end:n.dateEnv.toDate(h.end),isStart:s.isStart,isEnd:s.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!e.allDayDate,allSegs:e.allSegs.map(o),hiddenSegs:e.hiddenSegs.map(o),jsEvent:t,view:n.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&n.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:e}=this;return Me($l.Consumer,null,n=>{let{viewApi:r,options:a,calendarApi:o}=n,{moreLinkText:s}=a,{moreCnt:d}=t,m=xI(t),h=typeof s=="function"?s.call(o,d):`+${d} ${s}`,v=Rm(a.moreLinkHint,[d],h),_={num:d,shortText:`+${d}`,text:h,view:r};return Me(Pn,null,!!t.moreCnt&&Me(al,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),EI(this.handleClick)),{title:v,"aria-expanded":e.isPopoverOpen,"aria-controls":e.isPopoverOpen?e.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:t.defaultGenerator||h$,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},t.children),e.isPopoverOpen&&Me(s2,{id:e.popoverId,startDate:m.start,endDate:m.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Ur(this.linkEl,".fc-view-harness"))}};function h$(i){return i.text}function xI(i){if(i.allDayDate)return{start:i.allDayDate,end:qr(i.allDayDate,1)};let{hiddenSegs:t}=i;return{start:yP(t),end:g$(t)}}function yP(i){return i.reduce(f$).eventRange.range.start}function f$(i,t){return i.eventRange.range.start<t.eventRange.range.start?i:t}function g$(i){return i.reduce(b$).eventRange.range.end}function b$(i,t){return i.eventRange.range.end>t.eventRange.range.end?i:t}var l2=class{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let e of this.handlers)e(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}},zh=class extends l2{constructor(){super(...arguments),this.map=new Map}handle(t){let{map:e}=this,n=!1;t.isActive?(e.set(t.id,t),n=!0):e.has(t.id)&&(e.delete(t.id),n=!0),n&&this.set(e)}};var v$=[],DP={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},EP=Object.assign(Object.assign({},DP),{buttonHints:{prev:"Previous $0",next:"Next $0",today(i,t){return t==="day"?"Today":`This ${i}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(i){return`Show ${i} more event${i===1?"":"s"}`}});function _$(i){let t=i.length>0?i[0].code:"en",e=v$.concat(i),n={en:EP};for(let r of e)n[r.code]=r;return{map:n,defaultCode:t}}function AP(i,t){return typeof i=="object"&&!Array.isArray(i)?IP(i.code,[i.code],i):y$(i,t)}function y$(i,t){let e=[].concat(i||[]),n=x$(e,t)||EP;return IP(i,e,n)}function x$(i,t){for(let e=0;e<i.length;e+=1){let n=i[e].toLocaleLowerCase().split("-");for(let r=n.length;r>0;r-=1){let a=n.slice(0,r).join("-");if(t[a])return t[a]}}return null}function IP(i,t,e){let n=M_([DP,e],["buttonText"]);delete n.code;let{week:r}=n;return delete n.week,{codeArg:i,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(i),options:n}}function ll(i){return{id:Gl(),name:i.name,premiumReleaseDate:i.premiumReleaseDate?new Date(i.premiumReleaseDate):void 0,deps:i.deps||[],reducers:i.reducers||[],isLoadingFuncs:i.isLoadingFuncs||[],contextInit:[].concat(i.contextInit||[]),eventRefiners:i.eventRefiners||{},eventDefMemberAdders:i.eventDefMemberAdders||[],eventSourceRefiners:i.eventSourceRefiners||{},isDraggableTransformers:i.isDraggableTransformers||[],eventDragMutationMassagers:i.eventDragMutationMassagers||[],eventDefMutationAppliers:i.eventDefMutationAppliers||[],dateSelectionTransformers:i.dateSelectionTransformers||[],datePointTransforms:i.datePointTransforms||[],dateSpanTransforms:i.dateSpanTransforms||[],views:i.views||{},viewPropsTransformers:i.viewPropsTransformers||[],isPropsValid:i.isPropsValid||null,externalDefTransforms:i.externalDefTransforms||[],viewContainerAppends:i.viewContainerAppends||[],eventDropTransformers:i.eventDropTransformers||[],componentInteractions:i.componentInteractions||[],calendarInteractions:i.calendarInteractions||[],themeClasses:i.themeClasses||{},eventSourceDefs:i.eventSourceDefs||[],cmdFormatter:i.cmdFormatter,recurringTypes:i.recurringTypes||[],namedTimeZonedImpl:i.namedTimeZonedImpl,initialView:i.initialView||"",elementDraggingImpl:i.elementDraggingImpl,optionChangeHandlers:i.optionChangeHandlers||{},scrollGridImpl:i.scrollGridImpl||null,listenerRefiners:i.listenerRefiners||{},optionRefiners:i.optionRefiners||{},propSetHandlers:i.propSetHandlers||{}}}function C$(i,t){let e={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let o of a){let s=o.name,d=e[s];d===void 0?(e[s]=o.id,r(o.deps),n=S$(n,o)):d!==o.id&&console.warn(`Duplicate plugin '${s}'`)}}return i&&r(i),r(t),n}function w$(){let i=[],t=[],e;return(n,r)=>((!e||!nl(n,i)||!nl(r,t))&&(e=C$(n,r)),i=n,t=r,e)}function S$(i,t){return{premiumReleaseDate:M$(i.premiumReleaseDate,t.premiumReleaseDate),reducers:i.reducers.concat(t.reducers),isLoadingFuncs:i.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:i.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},i.eventRefiners),t.eventRefiners),eventDefMemberAdders:i.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},i.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:i.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:i.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:i.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:i.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:i.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:i.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},i.views),t.views),viewPropsTransformers:i.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||i.isPropsValid,externalDefTransforms:i.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:i.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:i.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:i.calendarInteractions.concat(t.calendarInteractions),componentInteractions:i.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},i.themeClasses),t.themeClasses),eventSourceDefs:i.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||i.cmdFormatter,recurringTypes:i.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||i.namedTimeZonedImpl,initialView:i.initialView||t.initialView,elementDraggingImpl:i.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},i.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||i.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},i.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},i.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},i.propSetHandlers),t.propSetHandlers)}}function M$(i,t){return i===void 0?t:t===void 0?i:new Date(Math.max(i.valueOf(),t.valueOf()))}var sl=class extends Ul{};sl.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};sl.prototype.baseIconClass="fc-icon";sl.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};sl.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};sl.prototype.iconOverrideOption="buttonIcons";sl.prototype.iconOverrideCustomButtonOption="icon";sl.prototype.iconOverridePrefix="fc-icon-";function k$(i,t){let e={},n;for(n in i)iw(n,e,i,t);for(n in t)iw(n,e,i,t);return e}function iw(i,t,e,n){if(t[i])return t[i];let r=D$(i,t,e,n);return r&&(t[i]=r),r}function D$(i,t,e,n){let r=e[i],a=n[i],o=h=>r&&r[h]!==null?r[h]:a&&a[h]!==null?a[h]:null,s=o("component"),d=o("superType"),m=null;if(d){if(d===i)throw new Error("Can't have a custom view type that references itself");m=iw(d,t,e,n)}return!s&&m&&(s=m.component),s?{type:i,component:s,defaults:Object.assign(Object.assign({},m?m.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},m?m.overrides:{}),a?a.rawOptions:{})}:null}function xP(i){return rl(i,E$)}function E$(i){let t=typeof i=="function"?{component:i}:i,{component:e}=t;return t.content?e=CP(t):e&&!(e.prototype instanceof $n)&&(e=CP(Object.assign(Object.assign({},t),{content:e}))),{superType:t.type,component:e,rawOptions:t}}function CP(i){return t=>Me($l.Consumer,null,e=>Me(al,{elTag:"div",elClasses:E2(e.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:e.options.nextDayThreshold}),generatorName:void 0,customGenerator:i.content,classNameGenerator:i.classNames,didMount:i.didMount,willUnmount:i.willUnmount}))}function A$(i,t,e,n){let r=xP(i),a=xP(t.views),o=k$(r,a);return rl(o,s=>I$(s,a,t,e,n))}function I$(i,t,e,n,r){let a=i.overrides.duration||i.defaults.duration||n.duration||e.duration,o=null,s="",d="",m={};if(a&&(o=P$(a),o)){let _=xh(o);s=_.unit,_.value===1&&(d=s,m=t[s]?t[s].rawOptions:{})}let h=_=>{let g=_.buttonText||{},D=i.defaults.buttonTextKey;return D!=null&&g[D]!=null?g[D]:g[i.type]!=null?g[i.type]:g[d]!=null?g[d]:null},v=_=>{let g=_.buttonHints||{},D=i.defaults.buttonTextKey;return D!=null&&g[D]!=null?g[D]:g[i.type]!=null?g[i.type]:g[d]!=null?g[d]:null};return{type:i.type,component:i.component,duration:o,durationUnit:s,singleUnit:d,optionDefaults:i.defaults,optionOverrides:Object.assign(Object.assign({},m),i.overrides),buttonTextOverride:h(n)||h(e)||i.overrides.buttonText,buttonTextDefault:h(r)||i.defaults.buttonText||h(zc)||i.type,buttonTitleOverride:v(n)||v(e)||i.overrides.buttonHint,buttonTitleDefault:v(r)||i.defaults.buttonHint||v(zc)}}var wP={};function P$(i){let t=JSON.stringify(i),e=wP[t];return e===void 0&&(e=Hi(i),wP[t]=e),e}function T$(i,t){switch(t.type){case"CHANGE_VIEW_TYPE":i=t.viewType}return i}function O$(i,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return i}}function R$(i,t,e){let n=i.initialDate;return n!=null?t.createMarker(n):e.getDateMarker()}function N$(i,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},i),{[t.optionName]:t.rawOptionValue});default:return i}}function F$(i,t,e,n){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return n.build(t.dateMarker||e);case"CHANGE_DATE":return n.build(t.dateMarker);case"PREV":if(r=n.buildPrev(i,e),r.isValid)return r;break;case"NEXT":if(r=n.buildNext(i,e),r.isValid)return r;break}return i}function L$(i,t,e){let n=t?t.activeRange:null;return TP({},q$(i,e),n,e)}function j$(i,t,e,n){let r=e?e.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return TP(i,t.sources,r,n);case"REMOVE_EVENT_SOURCE":return V$(i,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return e?OP(i,r,n):i;case"FETCH_EVENT_SOURCES":return uw(i,t.sourceIds?M2(t.sourceIds):RP(i,n),r,t.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return U$(i,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return i}}function B$(i,t,e){let n=t?t.activeRange:null;return uw(i,RP(i,e),n,!0,e)}function PP(i){for(let t in i)if(i[t].isFetching)return!0;return!1}function TP(i,t,e,n){let r={};for(let a of t)r[a.sourceId]=a;return e&&(r=OP(r,e,n)),Object.assign(Object.assign({},i),r)}function V$(i,t){return Hl(i,e=>e.sourceId!==t)}function OP(i,t,e){return uw(i,Hl(i,n=>z$(n,t,e)),t,!1,e)}function z$(i,t,e){return NP(i,e)?!e.options.lazyFetching||!i.fetchRange||i.isFetching||t.start<i.fetchRange.start||t.end>i.fetchRange.end:!i.latestFetchId}function uw(i,t,e,n,r){let a={};for(let o in i){let s=i[o];t[o]?a[o]=H$(s,e,n,r):a[o]=s}return a}function H$(i,t,e,n){let{options:r,calendarApi:a}=n,o=n.pluginHooks.eventSourceDefs[i.sourceDefId],s=Gl();return o.fetch({eventSource:i,range:t,isRefetch:e,context:n},d=>{let{rawEvents:m}=d;r.eventSourceSuccess&&(m=r.eventSourceSuccess.call(a,m,d.response)||m),i.success&&(m=i.success.call(a,m,d.response)||m),n.dispatch({type:"RECEIVE_EVENTS",sourceId:i.sourceId,fetchId:s,fetchRange:t,rawEvents:m})},d=>{let m=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,d),m=!0),i.failure&&(i.failure(d),m=!0),m||console.warn(d.message,d),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:i.sourceId,fetchId:s,fetchRange:t,error:d})}),Object.assign(Object.assign({},i),{isFetching:!0,latestFetchId:s})}function U$(i,t,e,n){let r=i[t];return r&&e===r.latestFetchId?Object.assign(Object.assign({},i),{[t]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:n})}):i}function RP(i,t){return Hl(i,e=>NP(e,t))}function q$(i,t){let e=T2(t),n=[].concat(i.eventSources||[]),r=[];i.initialEvents&&n.unshift(i.initialEvents),i.events&&n.unshift(i.events);for(let a of n){let o=P2(a,t,e);o&&r.push(o)}return r}function NP(i,t){return!t.pluginHooks.eventSourceDefs[i.sourceDefId].ignoreRange}function W$(i,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return i}}function G$(i,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return i}}function $$(i,t){let e;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return e=t.state,{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent};default:return i}}function Y$(i,t){let e;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return e=t.state,{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent};default:return i}}function Q$(i,t,e,n,r){let a=i.headerToolbar?SP(i.headerToolbar,i,t,e,n,r):null,o=i.footerToolbar?SP(i.footerToolbar,i,t,e,n,r):null;return{header:a,footer:o}}function SP(i,t,e,n,r,a){let o={},s=[],d=!1;for(let m in i){let h=i[m],v=J$(h,t,e,n,r,a);o[m]=v.widgets,s.push(...v.viewsWithButtons),d=d||v.hasTitle}return{sectionWidgets:o,viewsWithButtons:s,hasTitle:d}}function J$(i,t,e,n,r,a){let o=t.direction==="rtl",s=t.customButtons||{},d=e.buttonText||{},m=t.buttonText||{},h=e.buttonHints||{},v=t.buttonHints||{},_=i?i.split(" "):[],g=[],D=!1;return{widgets:_.map(S=>S.split(",").map(w=>{if(w==="title")return D=!0,{buttonName:w};let O,G,ee,se,Ee,oe;if(O=s[w])ee=Q=>{O.click&&O.click.call(Q.target,Q,Q.target)},(se=n.getCustomButtonIconClass(O))||(se=n.getIconClass(w,o))||(Ee=O.text),oe=O.hint||O.text;else if(G=r[w]){g.push(w),ee=()=>{a.changeView(w)},(Ee=G.buttonTextOverride)||(se=n.getIconClass(w,o))||(Ee=G.buttonTextDefault);let Q=G.buttonTextOverride||G.buttonTextDefault;oe=Rm(G.buttonTitleOverride||G.buttonTitleDefault||t.viewHint,[Q,w],Q)}else if(a[w])if(ee=()=>{a[w]()},(Ee=d[w])||(se=n.getIconClass(w,o))||(Ee=m[w]),w==="prevYear"||w==="nextYear"){let Q=w==="prevYear"?"prev":"next";oe=Rm(h[Q]||v[Q],[m.year||"year","year"],m[w])}else oe=Q=>Rm(h[w]||v[w],[m[Q]||Q,Q],m[w]);return{buttonName:w,buttonClick:ee,buttonIcon:se,buttonText:Ee,buttonHint:oe}})),viewsWithButtons:g,hasTitle:D}}var nw=class{constructor(t,e,n){this.type=t,this.getCurrentData=e,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}},K$={ignoreRange:!0,parseMeta(i){return Array.isArray(i.events)?i.events:null},fetch(i,t){t({rawEvents:i.eventSource.meta})}},X$=ll({name:"array-event-source",eventSourceDefs:[K$]}),Z$={parseMeta(i){return typeof i.events=="function"?i.events:null},fetch(i,t,e){let{dateEnv:n}=i.context,r=i.eventSource.meta;V2(r.bind(null,B2(i.range,n)),a=>t({rawEvents:a}),e)}},eY=ll({name:"func-event-source",eventSourceDefs:[Z$]}),tY={method:String,extraParams:ke,startParam:String,endParam:String,timeZoneParam:String},iY={parseMeta(i){return i.url&&(i.format==="json"||!i.format)?{url:i.url,format:"json",method:(i.method||"GET").toUpperCase(),extraParams:i.extraParams,startParam:i.startParam,endParam:i.endParam,timeZoneParam:i.timeZoneParam}:null},fetch(i,t,e){let{meta:n}=i.eventSource,r=rY(n,i.range,i.context);z2(n.method,n.url,r).then(([a,o])=>{t({rawEvents:a,response:o})},e)}},nY=ll({name:"json-event-source",eventSourceRefiners:tY,eventSourceDefs:[iY]});function rY(i,t,e){let{dateEnv:n,options:r}=e,a,o,s,d,m={};return a=i.startParam,a==null&&(a=r.startParam),o=i.endParam,o==null&&(o=r.endParam),s=i.timeZoneParam,s==null&&(s=r.timeZoneParam),typeof i.extraParams=="function"?d=i.extraParams():d=i.extraParams||{},Object.assign(m,d),m[a]=n.formatIso(t.start),m[o]=n.formatIso(t.end),n.timeZone!=="local"&&(m[s]=n.timeZone),m}var aY={daysOfWeek:ke,startTime:Hi,endTime:Hi,duration:Hi,startRecur:ke,endRecur:ke},oY={parse(i,t){if(i.daysOfWeek||i.startTime||i.endTime||i.startRecur||i.endRecur){let e={daysOfWeek:i.daysOfWeek||null,startTime:i.startTime||null,endTime:i.endTime||null,startRecur:i.startRecur?t.createMarker(i.startRecur):null,endRecur:i.endRecur?t.createMarker(i.endRecur):null,dateEnv:t},n;return i.duration&&(n=i.duration),!n&&i.startTime&&i.endTime&&(n=OI(i.endTime,i.startTime)),{allDayGuess:!i.startTime&&!i.endTime,duration:n,typeData:e}}return null},expand(i,t,e){let n=ql(t,{start:i.startRecur,end:i.endRecur});return n?lY(i.daysOfWeek,i.startTime,i.dateEnv,e,n):[]}},sY=ll({name:"simple-recurring-event",recurringTypes:[oY],eventRefiners:aY});function lY(i,t,e,n,r){let a=i?M2(i):null,o=Tn(r.start),s=r.end,d=[];for(;o<s;){let m;(!a||a[o.getUTCDay()])&&(t?m=n.add(o,t):m=o,d.push(n.createMarker(e.toDate(m)))),o=qr(o,1)}return d}var cY=ll({name:"change-handler",optionChangeHandlers:{events(i,t){MP([i],t)},eventSources:MP}});function MP(i,t){let e=k_(t.getCurrentData().eventSources);if(e.length===1&&i.length===1&&Array.isArray(e[0]._raw)&&Array.isArray(i[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:e[0].sourceId,rawEvents:i[0]});return}let n=[];for(let r of i){let a=!1;for(let o=0;o<e.length;o+=1)if(e[o]._raw===r){e.splice(o,1),a=!0;break}a||n.push(r)}for(let r of e)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of n)t.calendarApi.addEventSource(r)}function dY(i,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},B2(i.activeRange,t.dateEnv)),{view:t.viewApi}))}function uY(i,t){let{emitter:e}=t;e.hasHandlers("eventsSet")&&e.trigger("eventsSet",ol(i,t))}var mY=[X$,eY,nY,sY,cY,ll({name:"misc",isLoadingFuncs:[i=>PP(i.eventSources)],propSetHandlers:{dateProfile:dY,eventStore:uY}})],rw=class{constructor(t,e){this.runTaskOption=t,this.drainedOption=e,this.queue=[],this.delayedRunner=new Md(this.drain.bind(this))}request(t,e){this.queue.push(t),this.delayedRunner.request(e)}pause(t){this.delayedRunner.pause(t)}resume(t,e){this.delayedRunner.resume(t,e)}drain(){let{queue:t}=this;for(;t.length;){let e=[],n;for(;n=t.shift();)this.runTask(n),e.push(n);this.drained(e)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}};function pY(i,t,e){let n;return/^(year|month)$/.test(i.currentRangeUnit)?n=i.currentRange:n=i.activeRange,e.formatRange(n.start,n.end,Ar(t.titleFormat||hY(i)),{isEndExclusive:i.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function hY(i){let{currentRangeUnit:t}=i;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let e=Im(i.currentRange.start,i.currentRange.end);return e!==null&&e>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var z_=class{constructor(){this.resetListeners=new Set}handleInput(t,e){let n=this.dateEnv;if(t!==n&&(typeof e=="function"?this.nowFn=e:n||(this.nowAnchorDate=t.toDate(e?t.createMarker(e):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,n))for(let r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}},aw=class{constructor(t){this.computeCurrentViewData=Ui(this._computeCurrentViewData),this.organizeRawLocales=Ui(_$),this.buildLocale=Ui(AP),this.buildPluginHooks=w$(),this.buildDateEnv=Ui(fY),this.buildTheme=Ui(gY),this.parseToolbars=Ui(Q$),this.buildViewSpecs=Ui(A$),this.buildDateProfileGenerator=Nm(bY),this.buildViewApi=Ui(vY),this.buildViewUiProps=Nm(xY),this.buildEventUiBySource=Ui(_Y,wo),this.buildEventUiBases=Ui(yY),this.parseContextBusinessHours=Nm(CY),this.buildTitle=Ui(pY),this.nowManager=new z_,this.emitter=new Wl,this.actionRunner=new rw(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=t,this.actionRunner.pause(),this.nowManager=new z_;let e={},n=this.computeOptionsData(t.optionOverrides,e,t.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(r,n,t.optionOverrides,e);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(a.options);let o={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=R$(n.calendarOptions,n.dateEnv,this.nowManager),d=a.dateProfileGenerator.build(s);tl(d.activeRange,s)||(s=d.currentRange.start);for(let _ of n.pluginHooks.contextInit)_(o);let m=L$(n.calendarOptions,d,o),h={dynamicOptionOverrides:e,currentViewType:r,currentDate:s,dateProfile:d,businessHours:this.parseContextBusinessHours(o),eventSources:m,eventUiBases:{},eventStore:Ya(),renderableEventStore:Ya(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},v=Object.assign(Object.assign({},o),h);for(let _ of n.pluginHooks.reducers)Object.assign(h,_(null,null,v));tw(h,o)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(t,e){let{props:n}=this;e===void 0?n.optionOverrides=t:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),t),this.optionsForRefining.push(...e)),(e===void 0||e.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:e,state:n,emitter:r}=this,a=N$(n.dynamicOptionOverrides,t),o=this.computeOptionsData(e.optionOverrides,a,e.calendarApi),s=T$(n.currentViewType,t),d=this.computeCurrentViewData(s,o,e.optionOverrides,a);e.calendarApi.currentDataManager=this,r.setThisContext(e.calendarApi),r.setOptions(d.options);let m={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:v}=n;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(v=d.dateProfileGenerator.build(h)),h=O$(h,t),v=F$(v,t,h,d.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!tl(v.currentRange,h))&&(h=v.currentRange.start);let _=j$(n.eventSources,t,v,m),g=YI(n.eventStore,t,_,v,m),E=PP(_)&&!d.options.progressiveEventRendering&&n.renderableEventStore||g,{eventUiSingleBase:S,selectionConfig:w}=this.buildViewUiProps(m),O=this.buildEventUiBySource(_),G=this.buildEventUiBases(E.defs,S,O),ee={dynamicOptionOverrides:a,currentViewType:s,currentDate:h,dateProfile:v,eventSources:_,eventStore:g,renderableEventStore:E,selectionConfig:w,eventUiBases:G,businessHours:this.parseContextBusinessHours(m),dateSelection:W$(n.dateSelection,t),eventSelection:G$(n.eventSelection,t),eventDrag:$$(n.eventDrag,t),eventResize:Y$(n.eventResize,t)},se=Object.assign(Object.assign({},m),ee);for(let Q of o.pluginHooks.reducers)Object.assign(ee,Q(n,t,se));let Ee=tw(n,m),oe=tw(ee,m);!Ee&&oe?r.trigger("loading",!0):Ee&&!oe&&r.trigger("loading",!1),this.state=ee,e.onAction&&e.onAction(t)}updateData(){let{props:t,state:e}=this,n=this.data,r=this.computeOptionsData(t.optionOverrides,e.dynamicOptionOverrides,t.calendarApi),a=this.computeCurrentViewData(e.currentViewType,r,t.optionOverrides,e.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(e.dateProfile,a.options,r.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),e),s=r.pluginHooks.optionChangeHandlers,d=n&&n.calendarOptions,m=r.calendarOptions;if(d&&d!==m){d.timeZone!==m.timeZone&&(e.eventSources=o.eventSources=B$(o.eventSources,e.dateProfile,o),e.eventStore=o.eventStore=O2(o.eventStore,n.dateEnv,o.dateEnv),e.renderableEventStore=o.renderableEventStore=O2(o.renderableEventStore,n.dateEnv,o.dateEnv));for(let h in s)(this.optionsForHandling.indexOf(h)!==-1||d[h]!==m[h])&&s[h](m[h],o)}this.optionsForHandling=[],t.onData&&t.onData(o)}computeOptionsData(t,e,n){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&e===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:o,availableLocaleData:s,extra:d}=this.processRawCalendarOptions(t,e);kP(d);let m=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,s,r.defaultRangeSeparator),h=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),v=this.buildTheme(r,a),_=this.parseToolbars(r,this.stableOptionOverrides,v,h,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:m,viewSpecs:h,theme:v,toolbarConfig:_,localeDefaults:o,availableRawLocales:s.map}}processRawCalendarOptions(t,e){let{locales:n,locale:r}=w_([zc,t,e]),a=this.organizeRawLocales(n),o=a.map,s=this.buildLocale(r||a.defaultCode,o).options,d=this.buildPluginHooks(t.plugins||[],mY),m=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C2),w2),S2),d.listenerRefiners),d.optionRefiners),h={},v=w_([zc,s,t,e]),_={},g=this.currentCalendarOptionsInput,D=this.currentCalendarOptionsRefined,E=!1;for(let S in v)this.optionsForRefining.indexOf(S)===-1&&(v[S]===g[S]||Hc[S]&&S in g&&Hc[S](g[S],v[S]))?_[S]=D[S]:m[S]?(_[S]=m[S](v[S]),E=!0):h[S]=g[S];return E&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=e),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:a,localeDefaults:s,extra:h}}_computeCurrentViewData(t,e,n,r){let a=e.viewSpecs[t];if(!a)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:s}=this.processRawViewOptions(a,e.pluginHooks,e.localeDefaults,n,r);kP(s),this.nowManager.handleInput(e.dateEnv,o.now);let d=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:e.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),m=this.buildViewApi(t,this.getCurrentData,e.dateEnv);return{viewSpec:a,options:o,dateProfileGenerator:d,viewApi:m}}processRawViewOptions(t,e,n,r,a){let o=w_([zc,t.optionDefaults,n,r,t.optionOverrides,a]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C2),w2),S2),LI),e.listenerRefiners),e.optionRefiners),d={},m=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,v=!1,_={};for(let g in o)o[g]===m[g]||Hc[g]&&Hc[g](o[g],m[g])?d[g]=h[g]:(o[g]===this.currentCalendarOptionsInput[g]||Hc[g]&&Hc[g](o[g],this.currentCalendarOptionsInput[g])?g in this.currentCalendarOptionsRefined&&(d[g]=this.currentCalendarOptionsRefined[g]):s[g]?d[g]=s[g](o[g]):_[g]=o[g],v=!0);return v&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=d),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}};function fY(i,t,e,n,r,a,o,s){let d=AP(t||o.defaultCode,o.map);return new Ch({calendarSystem:"gregory",timeZone:i,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:d,weekNumberCalculation:e,firstDay:n,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:s})}function gY(i,t){let e=t.themeClasses[i.themeSystem]||sl;return new e(i)}function bY(i){let t=i.dateProfileGeneratorClass||kd;return new t(i)}function vY(i,t,e){return new nw(i,t,e)}function _Y(i){return rl(i,t=>t.ui)}function yY(i,t,e){let n={"":t};for(let r in i){let a=i[r];a.sourceId&&e[a.sourceId]&&(n[r]=e[a.sourceId])}return n}function xY(i){let{options:t}=i;return{eventUiSingleBase:Lm({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},i),selectionConfig:Lm({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},i)}}function tw(i,t){for(let e of t.pluginHooks.isLoadingFuncs)if(e(i))return!0;return!1}function CY(i){return R2(i.options.businessHours,i)}function kP(i,t){for(let e in i)console.warn(`Unknown option '${e}'`+(t?` for view '${t}'`:""))}var ow=class extends $n{render(){let t=this.props.widgetGroups.map(e=>this.renderWidgetGroup(e));return Me("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:e}=this,{theme:n}=this.context,r=[],a=!0;for(let o of t){let{buttonName:s,buttonClick:d,buttonText:m,buttonIcon:h,buttonHint:v}=o;if(s==="title")a=!1,r.push(Me("h2",{className:"fc-toolbar-title",id:e.titleId},e.title));else{let _=s===e.activeButton,g=!e.isTodayEnabled&&s==="today"||!e.isPrevEnabled&&s==="prev"||!e.isNextEnabled&&s==="next",D=[`fc-${s}-button`,n.getClass("button")];_&&D.push(n.getClass("buttonActive")),r.push(Me("button",{type:"button",title:typeof v=="function"?v(e.navUnit):v,disabled:g,"aria-pressed":_,className:D.join(" "),onClick:d},m||(h?Me("span",{className:h,role:"img"}):"")))}}if(r.length>1){let o=a&&n.getClass("buttonGroup")||"";return Me("div",{className:o},...r)}return r[0]}},H_=class extends $n{render(){let{model:t,extraClassName:e}=this.props,n=!1,r,a,o=t.sectionWidgets,s=o.center;return o.left?(n=!0,r=o.left):r=o.start,o.right?(n=!0,a=o.right):a=o.end,Me("div",{className:[e||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",s||[]),this.renderSection("end",a||[]))}renderSection(t,e){let{props:n}=this;return Me(ow,{key:t,widgetGroups:e,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}},sw=class extends $n{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,$o(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:e}=this,{aspectRatio:n}=t,r=["fc-view-harness",n||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",o="";return n?e.availableWidth!==null?a=e.availableWidth/n:o=`${1/n*100}%`:a=t.height||"",Me("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:o}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},lw=class extends ys{constructor(t){super(t),this.handleSegClick=(e,n)=>{let{component:r}=this,{context:a}=r,o=Yl(n);if(o&&r.isValidSegDownEl(e.target)){let s=Ur(e.target,".fc-event-forced-url"),d=s?s.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new On(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:e,view:a.viewApi}),d&&!e.defaultPrevented&&(window.location.href=d)}},this.destroy=u2(t.el,"click",".fc-event",this.handleSegClick)}},cw=class extends ys{constructor(t){super(t),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,n)=>{Yl(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",e,n))},this.handleSegLeave=(e,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,n))},this.removeHoverListeners=DI(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,e,n){let{component:r}=this,{context:a}=r,o=Yl(n);(!e||r.isValidSegDownEl(e.target))&&a.emitter.trigger(t,{el:n,event:new On(a,o.eventRange.def,o.eventRange.instance),jsEvent:e,view:a.viewApi})}},dw=class extends $h{constructor(){super(...arguments),this.buildViewContext=Ui(HI),this.buildViewPropTransformers=Ui(SY),this.buildToolbarProps=Ui(wY),this.headerRef=Co(),this.footerRef=Co(),this.interactionsStore={},this.state={viewLabelId:Td()},this.registerInteractiveComponent=(t,e)=>{let n=eP(t,e),o=[lw,cw].concat(this.props.pluginHooks.componentInteractions).map(s=>new s(n));this.interactionsStore[t.uid]=o,jm[t.uid]=n},this.unregisterInteractiveComponent=t=>{let e=this.interactionsStore[t.uid];if(e){for(let n of e)n.destroy();delete this.interactionsStore[t.uid]}delete jm[t.uid]},this.resizeRunner=new Md(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:e}=this.props;e.handleWindowResize&&t.target===window&&this.resizeRunner.request(e.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:e,options:n}=t,r=!1,a="",o;t.isHeightAuto||t.forPrint?a="":n.height!=null?r=!0:n.contentHeight!=null?a=n.contentHeight:o=Math.max(n.aspectRatio,.5);let s=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=e.header&&e.header.hasTitle?this.state.viewLabelId:void 0;return Me($l.Provider,{value:s},Me(Bm,{unit:"day"},m=>{let h=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,m,t.viewTitle);return Me(Pn,null,e.header&&Me(H_,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:e.header,titleId:d},h)),Me(sw,{liquid:r,height:a,aspectRatio:o,labeledById:d},this.renderView(t),this.buildAppendContent()),e.footer&&Me(H_,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:e.footer,titleId:""},h)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(n=>new n(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:e}=t.pluginHooks;for(let n in e)e[n](t[n],t)}componentDidUpdate(t){let{props:e}=this,{propSetHandlers:n}=e.pluginHooks;for(let r in n)e[r]!==t[r]&&n[r](e[r],e)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,e=t.pluginHooks.viewContainerAppends.map(n=>n(t));return Me(Pn,{},...e)}renderView(t){let{pluginHooks:e}=t,{viewSpec:n}=t,r={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},a=this.buildViewPropTransformers(e.viewPropsTransformers);for(let s of a)Object.assign(r,s.transform(r,t));let o=n.component;return Me(o,Object.assign({},r))}};function wY(i,t,e,n,r,a){let o=e.build(r,void 0,!1),s=e.buildPrev(t,n,!1),d=e.buildNext(t,n,!1);return{title:a,activeButton:i.type,navUnit:i.singleUnit,isTodayEnabled:o.isValid&&!tl(t.currentRange,r),isPrevEnabled:s.isValid,isNextEnabled:d.isValid}}function SY(i){return i.map(t=>new t)}var U_=class extends Ah{constructor(t,e={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;wh(()=>{Nc(Me(Eh,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(r,a,o,s)=>(this.setClassNames(r),this.setHeight(a),Me(D2.Provider,{value:this.customContentRenderId},Me(dw,Object.assign({isHeightAuto:o,forPrint:s},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Nc(null,this.el),this.setClassNames([]),this.setHeight(""))},wI(t),this.el=t,this.renderRunner=new Md(this.handleRenderRequest),new aw({optionOverrides:e,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){wh(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,e){this.currentDataManager.resetOptions(t,e)}setClassNames(t){if(!nl(t,this.currentClassNames)){let{classList:e}=this.el;for(let n of this.currentClassNames)e.remove(n);for(let n of t)e.add(n);this.currentClassNames=t}}setHeight(t){d2(this.el,"height",t)}};var mw=class extends xs{constructor(){super(...arguments),this.headerElRef=Co()}renderSimpleLayout(t,e){let{props:n,context:r}=this,a=[],o=B_(r.options);return t&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:e}}),Me(Pm,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Me(Tm,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(t,e,n,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:o,context:s}=this,d=!o.forPrint&&B_(s.options),m=!o.forPrint&&X2(s.options),h=[];return t&&h.push({type:"header",key:"header",isSticky:d,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:e}]}),m&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:K2}]}),Me(Pm,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},Me(a,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:h}))}};function q_(i,t){let e=[];for(let n=0;n<t;n+=1)e[n]=[];for(let n of i)e[n.row].push(n);return e}function W_(i,t){let e=[];for(let n=0;n<t;n+=1)e[n]=[];for(let n of i)e[n.firstCol].push(n);return e}function FP(i,t){let e=[];if(i){for(let n=0;n<t;n+=1)e[n]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(let n of i.segs)e[n.row].segs.push(n)}else for(let n=0;n<t;n+=1)e[n]=null;return e}var LP=Ar({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function jP(i){let{display:t}=i.eventRange.ui;return t==="list-item"||t==="auto"&&!i.eventRange.def.allDay&&i.firstCol===i.lastCol&&i.isStart&&i.isEnd}var G_=class extends $n{render(){let{props:t}=this;return Me(jh,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:LP,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}},$_=class extends $n{render(){let{props:t,context:e}=this,{options:n}=e,{seg:r}=t,a=n.eventTimeFormat||LP,o=T_(r,a,e,!0,t.defaultDisplayEventEnd);return Me(Id,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:O_(t.seg,e),defaultGenerator:kY,timeText:o,isResizing:!1,isDateSelecting:!1}))}};function kY(i){return Me(Pn,null,Me("div",{className:"fc-daygrid-event-dot",style:{borderColor:i.borderColor||i.backgroundColor}}),i.timeText&&Me("div",{className:"fc-event-time"},i.timeText),Me("div",{className:"fc-event-title"},i.event.title||Me(Pn,null,"\xA0")))}var pw=class extends $n{constructor(){super(...arguments),this.compileSegs=Ui(DY)}render(){let{props:t}=this,{allSegs:e,invisibleSegs:n}=this.compileSegs(t.singlePlacements);return Me(Vh,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:e,hiddenSegs:n,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let r=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return Me(Pn,null,e.map(a=>{let o=a.eventRange.instance.instanceId;return Me("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},jP(a)?Me($_,Object.assign({seg:a,isDragging:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},Rd(a,t.todayRange))):Me(G_,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},Rd(a,t.todayRange))))}))}})}};function DY(i){let t=[],e=[];for(let n of i)t.push(n.seg),n.isVisible||e.push(n.seg);return{allSegs:t,invisibleSegs:e}}var EY=Ar({week:"narrow"}),hw=class extends xs{constructor(){super(...arguments),this.rootElRef=Co(),this.state={dayNumberId:Td()},this.handleRootEl=t=>{$o(this.rootElRef,t),$o(this.props.elRef,t)}}render(){let{context:t,props:e,state:n,rootElRef:r}=this,{options:a,dateEnv:o}=t,{date:s,dateProfile:d}=e,m=e.showDayNumber&&IY(s,d.currentRange,o);return Me(Om,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...e.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},e.extraDataAttrs),e.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:AY,date:s,dateProfile:d,todayRange:e.todayRange,showDayNumber:e.showDayNumber,isMonthStart:m,extraRenderProps:e.extraRenderProps},(h,v)=>Me("div",{ref:e.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:e.minHeight}},e.showWeekNumber&&Me(ew,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Xh(t,s,"week"),date:s,defaultFormat:EY}),!v.isDisabled&&(e.showDayNumber||V_(a)||e.forceDayTop)?Me("div",{className:"fc-daygrid-day-top"},Me(h,{elTag:"a",elClasses:["fc-daygrid-day-number",m&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Xh(t,s)),{id:n.dayNumberId})})):e.showDayNumber?Me("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Me("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,Me("div",{className:"fc-daygrid-day-events",ref:e.fgContentElRef},e.fgContent,Me("div",{className:"fc-daygrid-day-bottom",style:{marginTop:e.moreMarginTop}},Me(pw,{allDayDate:s,singlePlacements:e.singlePlacements,moreCnt:e.moreCnt,alignmentElRef:r,alignGridTop:!e.showDayNumber,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange}))),Me("div",{className:"fc-daygrid-day-bg"},e.bgContent)))}};function AY(i){return i.dayNumberText||Me(Pn,null,"\xA0")}function IY(i,t,e){let{start:n,end:r}=t,a=il(r,-1),o=e.getYear(n),s=e.getMonth(n),d=e.getYear(a),m=e.getMonth(a);return!(o===d&&s===m)&&(i.valueOf()===n.valueOf()||e.getDay(i)===1&&i.valueOf()<r.valueOf())}function BP(i){return i.eventRange.instance.instanceId+":"+i.firstCol}function VP(i){return BP(i)+":"+i.lastCol}function PY(i,t,e,n,r,a,o){let s=new fw(w=>{let O=i[w.index].eventRange.instance.instanceId+":"+w.span.start+":"+(w.span.end-1);return r[O]||1});s.allowReslicing=!0,s.strictOrder=n,t===!0||e===!0?(s.maxCoord=a,s.hiddenConsumes=!0):typeof t=="number"?s.maxStackCnt=t:typeof e=="number"&&(s.maxStackCnt=e,s.hiddenConsumes=!0);let d=[],m=[];for(let w=0;w<i.length;w+=1){let O=i[w],G=VP(O);r[G]!=null?d.push({index:w,span:{start:O.firstCol,end:O.lastCol+1}}):m.push(O)}let h=s.addSegs(d),v=s.toRects(),{singleColPlacements:_,multiColPlacements:g,leftoverMargins:D}=TY(v,i,o),E=[],S=[];for(let w of m){g[w.firstCol].push({seg:w,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=w.firstCol;O<=w.lastCol;O+=1)_[O].push({seg:Vm(w,O,O+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)E.push(0);for(let w of h){let O=i[w.index],G=w.span;g[G.start].push({seg:Vm(O,G.start,G.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let ee=G.start;ee<G.end;ee+=1)E[ee]+=1,_[ee].push({seg:Vm(O,ee,ee+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)S.push(D[w]);return{singleColPlacements:_,multiColPlacements:g,moreCnts:E,moreMarginTops:S}}function TY(i,t,e){let n=OY(i,e.length),r=[],a=[],o=[];for(let s=0;s<e.length;s+=1){let d=n[s],m=[],h=0,v=0;for(let g of d){let D=t[g.index];m.push({seg:Vm(D,s,s+1,e),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:g.levelCoord-h}),h=g.levelCoord+g.thickness}let _=[];h=0,v=0;for(let g of d){let D=t[g.index],E=g.span.end-g.span.start>1,S=g.span.start===s;v+=g.levelCoord-h,h=g.levelCoord+g.thickness,E?(v+=g.thickness,S&&_.push({seg:Vm(D,g.span.start,g.span.end,e),isVisible:!0,isAbsolute:!0,absoluteTop:g.levelCoord,marginTop:0})):S&&(_.push({seg:Vm(D,g.span.start,g.span.end,e),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:v}),v=0)}r.push(m),a.push(_),o.push(v)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:o}}function OY(i,t){let e=[];for(let n=0;n<t;n+=1)e.push([]);for(let n of i)for(let r=n.span.start;r<n.span.end;r+=1)e[r].push(n);return e}function Vm(i,t,e,n){if(i.firstCol===t&&i.lastCol===e-1)return i;let r=i.eventRange,a=r.range,o=ql(a,{start:n[t].date,end:qr(n[e-1].date,1)});return Object.assign(Object.assign({},i),{firstCol:t,lastCol:e-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:i.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:i.isEnd&&o.end.valueOf()===a.end.valueOf()})}var fw=class extends Th{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){let e=super.addSegs(t),{entriesByLevel:n}=this,r=a=>!this.forceHidden[Ad(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(r);return e}handleInvalidInsertion(t,e,n){let{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:o,touchingLevel:s,touchingLateral:d}=t;if(this.hiddenConsumes&&o){let m=Ad(o);if(!a[m])if(this.allowReslicing){let h=Object.assign(Object.assign({},o),{span:L_(o.span,e.span)}),v=Ad(h);a[v]=!0,r[s][d]=h,n.push(h),this.splitEntry(o,e,n)}else a[m]=!0,n.push(o)}super.handleInvalidInsertion(t,e,n)}},Y_=class extends xs{constructor(){super(...arguments),this.cellElRefs=new Cs,this.frameElRefs=new Cs,this.fgElRefs=new Cs,this.segHarnessRefs=new Cs,this.rootElRef=Co(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:e,context:n}=this,{options:r}=n,a=t.cells.length,o=W_(t.businessHourSegs,a),s=W_(t.bgEventSegs,a),d=W_(this.getHighlightSegs(),a),m=W_(this.getMirrorSegs(),a),{singleColPlacements:h,multiColPlacements:v,moreCnts:_,moreMarginTops:g}=PY(F2(t.fgEventSegs,r.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,r.eventOrderStrict,e.segHeights,e.maxContentHeight,t.cells),D=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return Me("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((E,S)=>{let w=this.renderFgSegs(S,t.forPrint?h[S]:v[S],t.todayRange,D),O=this.renderFgSegs(S,RY(m[S],v),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return Me(hw,{key:E.key,elRef:this.cellElRefs.createRef(E.key),innerElRef:this.frameElRefs.createRef(E.key),dateProfile:t.dateProfile,date:E.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&S===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:E.extraRenderProps,extraDataAttrs:E.extraDataAttrs,extraClassNames:E.extraClassNames,extraDateSpan:E.extraDateSpan,moreCnt:_[S],moreMarginTop:g[S],singlePlacements:h[S],fgContentElRef:this.fgElRefs.createRef(E.key),fgContent:Me(Pn,null,Me(Pn,null,w),Me(Pn,null,O)),bgContent:Me(Pn,null,this.renderFillSegs(d[S],"highlight"),this.renderFillSegs(o[S],"non-business"),this.renderFillSegs(s[S],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,e){let n=this.props;this.updateSizing(!wo(t,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,e,n,r,a,o,s){let{context:d}=this,{eventSelection:m}=this.props,{framePositions:h}=this.state,v=this.props.cells.length===1,_=a||o||s,g=[];if(h)for(let D of e){let{seg:E}=D,{instanceId:S}=E.eventRange.instance,w=D.isVisible&&!r[S],O=D.isAbsolute,G="",ee="";O&&(d.isRtl?(ee=0,G=h.lefts[E.lastCol]-h.lefts[E.firstCol]):(G=0,ee=h.rights[E.firstCol]-h.rights[E.lastCol])),g.push(Me("div",{className:"fc-daygrid-event-harness"+(O?" fc-daygrid-event-harness-abs":""),key:BP(E),ref:_?null:this.segHarnessRefs.createRef(VP(E)),style:{visibility:w?"":"hidden",marginTop:O?"":D.marginTop,top:O?D.absoluteTop:"",left:G,right:ee}},jP(E)?Me($_,Object.assign({seg:E,isDragging:a,isSelected:S===m,defaultDisplayEventEnd:v},Rd(E,n))):Me(G_,Object.assign({seg:E,isDragging:a,isResizing:o,isDateSelecting:s,isSelected:S===m,defaultDisplayEventEnd:v},Rd(E,n)))))}return g}renderFillSegs(t,e){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,o=[];if(a)for(let s of t){let d=n?{right:0,left:a.lefts[s.lastCol]-a.lefts[s.firstCol]}:{left:0,right:a.rights[s.firstCol]-a.rights[s.lastCol]};o.push(Me("div",{key:L2(s.eventRange),className:"fc-daygrid-bg-harness",style:d},e==="bg-event"?Me(Bh,Object.assign({seg:s},Rd(s,r))):Z2(e)))}return Me(Pn,{},...o)}updateSizing(t){let{props:e,state:n,frameElRefs:r}=this;if(!e.forPrint&&e.clientWidth!==null){if(t){let d=e.cells.map(m=>r.currentMap[m.key]);if(d.length){let m=this.rootElRef.current,h=new Vc(m,d,!0,!1);(!n.framePositions||!n.framePositions.similarTo(h))&&this.setState({framePositions:new Vc(m,d,!0,!1)})}}let a=this.state.segHeights,o=this.querySegHeights(),s=e.dayMaxEvents===!0||e.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),o),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,e={};for(let n in t){let r=Math.round(t[n].getBoundingClientRect().height);e[n]=Math.max(e[n]||0,r)}return e}computeMaxContentHeight(){let t=this.props.cells[0].key,e=this.cellElRefs.currentMap[t],n=this.fgElRefs.currentMap[t];return e.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(e=>t[e.key])}};Y_.addStateEquality({segHeights:wo});function RY(i,t){if(!i.length)return[];let e=NY(t);return i.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:e[n.eventRange.instance.instanceId],marginTop:0}))}function NY(i){let t={};for(let e of i)for(let n of e)t[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return t}var gw=class extends xs{constructor(){super(...arguments),this.splitBusinessHourSegs=Ui(q_),this.splitBgEventSegs=Ui(q_),this.splitFgEventSegs=Ui(q_),this.splitDateSelectionSegs=Ui(q_),this.splitEventDrag=Ui(FP),this.splitEventResize=Ui(FP),this.rowRefs=new Cs}render(){let{props:t,context:e}=this,n=t.cells.length,r=this.splitBusinessHourSegs(t.businessHourSegs,n),a=this.splitBgEventSegs(t.bgEventSegs,n),o=this.splitFgEventSegs(t.fgEventSegs,n),s=this.splitDateSelectionSegs(t.dateSelectionSegs,n),d=this.splitEventDrag(t.eventDrag,n),m=this.splitEventResize(t.eventResize,n),h=n>=7&&t.clientWidth?t.clientWidth/e.options.aspectRatio/6:null;return Me(Bm,{unit:"day"},(v,_)=>Me(Pn,null,t.cells.map((g,D)=>Me(Y_,{ref:this.rowRefs.createRef(D),key:g.length?g[0].date.toISOString():D,showDayNumbers:n>1,showWeekNumbers:t.showWeekNumbers,todayRange:_,dateProfile:t.dateProfile,cells:g,renderIntro:t.renderRowIntro,businessHourSegs:r[D],eventSelection:t.eventSelection,bgEventSegs:a[D].filter(FY),fgEventSegs:o[D],dateSelectionSegs:s[D],eventDrag:d[D],eventResize:m[D],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:h,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let t=this.rowRefs.currentMap[0].getCellEls()[0],e=t?t.closest(".fc-daygrid-body"):null;e&&(this.rootEl=e,this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Vc(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new Vc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,e){let{colPositions:n,rowPositions:r}=this,a=n.leftToIndex(t),o=r.topToIndex(e);if(o!=null&&a!=null){let s=this.props.cells[o][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,a),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(o,a),rect:{left:n.lefts[a],right:n.rights[a],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(t,e){return this.rowRefs.currentMap[t].getCellEls()[e]}getCellRange(t,e){let n=this.props.cells[t][e].date,r=qr(n,1);return{start:n,end:r}}};function FY(i){return i.eventRange.def.allDay}var bw=class extends xs{constructor(){super(...arguments),this.elRef=Co(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:e,dayMaxEvents:n,expandRows:r}=t,a=n===!0||e===!0;a&&!r&&(a=!1,e=null,n=null);let o=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Me("div",{ref:this.elRef,className:o.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Me("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:r?t.clientHeight:""}},t.colGroupNode,Me("tbody",{role:"presentation"},Me(gw,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:n,dayMaxEventRows:e,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let t=LY(this.elRef.current,this.props.dateProfile);if(t){let e=t.closest(".fc-daygrid-body"),n=e.closest(".fc-scroller"),r=t.getBoundingClientRect().top-e.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function LY(i,t){let e;return t.currentRangeUnit.match(/year|month/)&&(e=i.querySelector(`[data-date="${y2(t.currentDate)}-01"]`)),e||(e=i.querySelector(`[data-date="${Gh(t.currentDate)}"]`)),e}var vw=class extends Lh{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,e){return e.sliceRange(t)}},_w=class extends xs{constructor(){super(...arguments),this.slicer=new vw,this.tableRef=Co()}render(){let{props:t,context:e}=this;return Me(bw,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,e,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}},Q_=class extends mw{constructor(){super(...arguments),this.buildDayTableModel=Ui(jY),this.headerRef=Co(),this.tableRef=Co()}render(){let{options:t,dateProfileGenerator:e}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,e),a=t.dayHeaders&&Me(Rh,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=s=>Me(_w,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:s.tableColGroupNode,tableMinWidth:s.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:s.clientWidth,clientHeight:s.clientHeight,forPrint:n.forPrint});return t.dayMinWidth?this.renderHScrollLayout(a,o,r.colCnt,t.dayMinWidth):this.renderSimpleLayout(a,o)}};function jY(i,t){let e=new Nh(i.renderRange,t);return new Fh(e,/year|month|week/.test(i.currentRangeUnit))}var J_=class extends kd{buildRenderRange(t,e,n){let r=super.buildRenderRange(t,e,n),{props:a}=this;return BY({currentRange:r,snapToWeek:/^(year|month)$/.test(e),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}};function BY(i){let{dateEnv:t,currentRange:e}=i,{start:n,end:r}=e,a;if(i.snapToWeek&&(n=t.startOfWeek(n),a=t.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=C_(a,1))),i.fixedWeekCount){let o=t.startOfWeek(t.startOfMonth(qr(e.end,-1))),s=Math.ceil(v2(o,r));r=C_(r,6-s)}return{start:n,end:r}}var VY=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';y_(VY);var zP=ll({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Q_,dateProfileGeneratorClass:J_},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});ef.touchMouseIgnoreWait=500;var yw=0,K_=0,xw=!1,X_=class{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&zY(e)&&this.tryStart(e)){let n=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let n=this.createEventFromMouse(e);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let n=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let r=e.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let n=this.createEventFromTouch(e);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=e=>{if(this.isDragging){let n=e.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,HY()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:n-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=t,this.emitter=new Wl,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),UY()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),qY()}tryStart(t){let e=this.querySubjectEl(t),n=t.target;return e&&(!this.handleSelector||Ur(n,this.handleSelector))?(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){xw=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Ur(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return yw||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(xw=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,e){let n=0,r=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(n=t.pageX-this.origPageX,r=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:n,deltaY:r}}createEventFromTouch(t,e){let n=t.touches,r,a,o=0,s=0;return n&&n.length?(r=n[0].pageX,a=n[0].pageY):(r=t.pageX,a=t.pageY),e?(this.origPageX=r,this.origPageY=a):(o=r-this.origPageX,s=a-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:o,deltaY:s}}};function zY(i){return i.button===0&&!i.ctrlKey}function HY(){yw+=1,setTimeout(()=>{yw-=1},ef.touchMouseIgnoreWait)}function UY(){K_+=1,K_===1&&window.addEventListener("touchmove",UP,{passive:!1})}function qY(){K_-=1,K_||window.removeEventListener("touchmove",UP,{passive:!1})}function UP(i){xw&&i.preventDefault()}var Cw=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,e,n){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,e){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=e-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,e){let n=()=>{this.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(t,e){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+e+"ms,left "+e+"ms",Pd(n,{left:r.left,top:r.top}),m2(n,()=>{n.style.transition="",t()})}cleanup(){this.mirrorEl&&(Hh(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Pd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,e=this.mirrorEl;return e||(e=this.mirrorEl=this.sourceEl.cloneNode(!0),e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.pointerEvents="none",e.classList.add("fc-event-dragging"),Pd(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e}},Z_=class extends Ed{constructor(t,e){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=e,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},e1=class extends Z_{constructor(t,e){super(new Ih(t),e)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Y2(this.scrollController.el)}},ww=class extends Z_{constructor(t){super(new Ph,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},HP=typeof performance=="function"?performance.now:Date.now,Sw=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let e=HP();this.handleSide(t,(e-this.msSinceRequest)/1e3),this.requestAnimation(e)}else this.isAnimating=!1}}}start(t,e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))}handleMove(t,e){if(this.isEnabled){let n=t-window.scrollX,r=e-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(HP()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,e){let{scrollCache:n}=t,{edgeThreshold:r}=this,a=r-t.distance,o=a*a/(r*r)*this.maxVelocity*e,s=1;switch(t.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*s);break}}computeBestEdge(t,e){let{edgeThreshold:n}=this,r=null,a=this.scrollCaches||[];for(let o of a){let s=o.clientRect,d=t-s.left,m=s.right-t,h=e-s.top,v=s.bottom-e;d>=0&&m>=0&&h>=0&&v>=0&&(h<=n&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>h)&&(r={scrollCache:o,name:"top",distance:h}),v<=n&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>v)&&(r={scrollCache:o,name:"bottom",distance:v}),d<=n&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>d)&&(r={scrollCache:o,name:"left",distance:d}),m<=n&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>m)&&(r={scrollCache:o,name:"right",distance:m}))}return r}buildCaches(t){return this.queryScrollEls(t).map(e=>e===window?new ww(!1):new e1(e,!1))}queryScrollEls(t){let e=[];for(let n of this.scrollQuery)typeof n=="object"?e.push(n):e.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(n)));return e}},Nd=class extends Oh{constructor(t,e){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,p2(document.body),f2(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,o,{deltaX:s,deltaY:d}=r;o=s*s+d*d,o>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,h2(document.body),g2(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new X_(t);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),e&&(n.selector=e),this.mirror=new Cw,this.autoScroller=new Sw}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}},Mw=class{constructor(t){this.el=t,this.origRect=Zh(t),this.scrollCaches=F_(t).map(e=>new e1(e,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let e of this.scrollCaches)t+=e.origScrollLeft-e.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let e of this.scrollCaches)t+=e.origScrollTop-e.getScrollTop();return t}isWithinClipping(t,e){let n={left:t,top:e};for(let r of this.scrollCaches)if(!WY(r.getEventTarget())&&!U2(n,r.clientRect))return!1;return!0}};function WY(i){let t=i.tagName;return t==="HTML"||t==="BODY"}var zm=class{constructor(t,e){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):r.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new Wl}processFirstCoord(t){let e={left:t.pageX,top:t.pageY},n=e,r=t.subjectEl,a;r instanceof HTMLElement&&(a=Zh(r),n=q2(n,a));let o=this.initialHit=this.queryHitForOffset(n.left,n.top);if(o){if(this.useSubjectCenter&&a){let s=R_(a,o.rect);s&&(n=W2(s))}this.coordAdjust=G2(n,e)}else this.coordAdjust={left:0,top:0}}handleMove(t,e){let n=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(e||!t1(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,t))}prepareHits(){this.offsetTrackers=rl(this.droppableStore,t=>(t.component.prepareHits(),new Mw(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let e in t)t[e].destroy();this.offsetTrackers={}}queryHitForOffset(t,e){let{droppableStore:n,offsetTrackers:r}=this,a=null;for(let o in n){let s=n[o].component,d=r[o];if(d&&d.isWithinClipping(t,e)){let m=d.computeLeft(),h=d.computeTop(),v=t-m,_=e-h,{origRect:g}=d,D=g.right-g.left,E=g.bottom-g.top;if(v>=0&&v<D&&_>=0&&_<E){let S=s.queryHit(v,_,D,E);S&&Fm(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||d.el.contains(d.el.getRootNode().elementFromPoint(v+m-window.scrollX,_+h-window.scrollY)))&&(!a||S.layer>a.layer)&&(S.componentId=o,S.context=s.context,S.rect.left+=m,S.rect.right+=m,S.rect.top+=h,S.rect.bottom+=h,a=S)}}}return a}};function t1(i,t){return!i&&!t?!0:!!i!=!!t?!1:j2(i.dateSpan,t.dateSpan)}function qP(i,t){let e={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(e,n(i,t));return Object.assign(e,GY(i,t.dateEnv)),e}function GY(i,t){return{date:t.toDate(i.range.start),dateStr:t.formatIso(i.range.start,{omitTime:i.allDay}),allDay:i.allDay}}var kw=class extends ys{constructor(t){super(t),this.handlePointerDown=n=>{let{dragging:r}=this,a=n.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:o,finalHit:s}=this.hitDragging;if(o&&s&&t1(o,s)){let{context:d}=r,m=Object.assign(Object.assign({},qP(o.dateSpan,d)),{dayEl:o.dayEl,jsEvent:n.origEvent,view:d.viewApi||d.calendarApi.view});d.emitter.trigger("dateClick",m)}}},this.dragging=new Nd(t.el),this.dragging.autoScroller.isEnabled=!1;let e=this.hitDragging=new zm(this.dragging,Kh(t));e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},Dw=class extends ys{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=o=>{let{component:s,dragging:d}=this,{options:m}=s.context,h=m.selectable&&s.isValidDateDownEl(o.origEvent.target);d.setIgnoreMove(!h),d.delay=o.isTouch?$Y(s):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,s)=>{let{context:d}=this.component,m=null,h=!1;if(o){let v=this.hitDragging.initialHit;o.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,o)||(m=YY(v,o,d.pluginHooks.dateSelectionTransformers)),(!m||!Q2(m,o.dateProfile,d))&&(h=!0,m=null)}m?d.dispatch({type:"SELECT_DATES",selection:m}):s||d.dispatch({type:"UNSELECT_DATES"}),h?qh():Wh(),s||(this.dragSelection=m)},this.handlePointerUp=o=>{this.dragSelection&&(P_(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:e}=t,{options:n}=e.context,r=this.dragging=new Nd(t.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new zm(this.dragging,Kh(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function $Y(i){let{options:t}=i.context,e=t.selectLongPressDelay;return e==null&&(e=t.longPressDelay),e}function YY(i,t,e){let n=i.dateSpan,r=t.dateSpan,a=[n.range.start,n.range.end,r.range.start,r.range.end];a.sort(b2);let o={};for(let s of e){let d=s(i,t);if(d===!1)return null;d&&Object.assign(o,d)}return o.range={start:a[0],end:a[3]},o.allDay=n.allDay,o}var WP=(()=>{class i extends ys{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let d=s.origEvent.target,{component:m,dragging:h}=this,{mirror:v}=h,{options:_}=m.context,g=m.context;this.subjectEl=s.subjectEl;let D=this.subjectSeg=Yl(s.subjectEl),S=(this.eventRange=D.eventRange).instance.instanceId;this.relevantEvents=Qh(g.getCurrentData().eventStore,S),h.minDistance=s.isTouch?0:_.eventDragMinDistance,h.delay=s.isTouch&&S!==m.props.eventSelection?JY(m):null,_.fixedMirrorParent?v.parentNode=_.fixedMirrorParent:v.parentNode=Ur(d,".fc"),v.revertDuration=_.dragRevertDuration;let w=m.isValidSegDownEl(d)&&!Ur(d,".fc-event-resizer");h.setIgnoreMove(!w),this.isDragging=w&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let d=this.component.context,m=this.eventRange,h=m.instance.instanceId;s.isTouch?h!==this.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):d.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(d.calendarApi.unselect(s),d.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new On(d,m.def,m.instance),jsEvent:s.origEvent,view:d.viewApi}))},this.handleHitUpdate=(s,d)=>{if(!this.isDragging)return;let m=this.relevantEvents,h=this.hitDragging.initialHit,v=this.component.context,_=null,g=null,D=null,E=!1,S={affectedEvents:m,mutatedEvents:Ya(),isEvent:!0};if(s){_=s.context;let w=_.options;v===_||w.editable&&w.droppable?(g=QY(h,s,this.eventRange.instance.range.start,_.getCurrentData().pluginHooks.eventDragMutationMassagers),g&&(D=Jh(m,_.getCurrentData().eventUiBases,g,_),S.mutatedEvents=D,j_(S,s.dateProfile,_)||(E=!0,g=null,D=null,S.mutatedEvents=Ya()))):_=null}this.displayDrag(_,S),E?qh():Wh(),d||(v===_&&t1(h,s)&&(g=null),this.dragging.setMirrorNeedsRevert(!g),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=_,this.validMutation=g,this.mutatedRelevantEvents=D)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let d=this.component.context,m=d.viewApi,{receivingContext:h,validMutation:v}=this,_=this.eventRange.def,g=this.eventRange.instance,D=new On(d,_,g),E=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:w}=this.hitDragging;if(this.clearDrag(),d.emitter.trigger("eventDragStop",{el:this.subjectEl,event:D,jsEvent:s.origEvent,view:m}),v){if(h===d){let O=new On(d,S.defs[_.defId],g?S.instances[g.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:S});let G={oldEvent:D,event:O,relatedEvents:ol(S,d,g),revert(){d.dispatch({type:"MERGE_EVENTS",eventStore:E})}},ee={};for(let se of d.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(ee,se(v,d));d.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},G),ee),{el:s.subjectEl,delta:v.datesDelta,jsEvent:s.origEvent,view:m})),d.emitter.trigger("eventChange",G)}else if(h){let O={event:D,relatedEvents:ol(E,d,g),revert(){d.dispatch({type:"MERGE_EVENTS",eventStore:E})}};d.emitter.trigger("eventLeave",Object.assign(Object.assign({},O),{draggedEl:s.subjectEl,view:m})),d.dispatch({type:"REMOVE_EVENTS",eventStore:E}),d.emitter.trigger("eventRemove",O);let G=S.defs[_.defId],ee=S.instances[g.instanceId],se=new On(h,G,ee);h.dispatch({type:"MERGE_EVENTS",eventStore:S});let Ee={event:se,relatedEvents:ol(S,h,ee),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};h.emitter.trigger("eventAdd",Ee),s.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},qP(w.dateSpan,h)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:w.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},Ee),{draggedEl:s.subjectEl,view:w.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,a=this.dragging=new Nd(e.el);a.pointer.selector=i.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new zm(this.dragging,jm);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,a=this.receivingContext;a&&a!==e&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Ya(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return i.SELECTOR=".fc-event-draggable, .fc-event-resizable",i})();function QY(i,t,e,n){let r=i.dateSpan,a=t.dateSpan,o=r.range.start,s=a.range.start,d={};r.allDay!==a.allDay&&(d.allDay=a.allDay,d.hasEnd=t.context.options.allDayMaintainDuration,a.allDay?o=Tn(e):o=e);let m=Bc(o,s,i.context.dateEnv,i.componentId===t.componentId?i.largeUnit:null);m.milliseconds&&(d.allDay=!1);let h={datesDelta:m,standardProps:d};for(let v of n)v(h,i,t);return h}function JY(i){let{options:t}=i.context,e=t.eventLongPressDelay;return e==null&&(e=t.longPressDelay),e}var Ew=class extends ys{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:o}=this,s=this.querySegEl(a),d=Yl(s),m=this.eventRange=d.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==m.instance.instanceId)},this.handleDragStart=a=>{let{context:o}=this.component,s=this.eventRange;this.relevantEvents=Qh(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let d=this.querySegEl(a);this.draggingSegEl=d,this.draggingSeg=Yl(d),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:d,event:new On(o,s.def,s.instance),jsEvent:a.origEvent,view:o.viewApi})},this.handleHitUpdate=(a,o,s)=>{let{context:d}=this.component,m=this.relevantEvents,h=this.hitDragging.initialHit,v=this.eventRange.instance,_=null,g=null,D=!1,E={affectedEvents:m,mutatedEvents:Ya(),isEvent:!0};a&&(a.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,a)||(_=KY(h,a,s.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),_&&(g=Jh(m,d.getCurrentData().eventUiBases,_,d),E.mutatedEvents=g,j_(E,a.dateProfile,d)||(D=!0,_=null,g=null,E.mutatedEvents=null)),g?d.dispatch({type:"SET_EVENT_RESIZE",state:E}):d.dispatch({type:"UNSET_EVENT_RESIZE"}),D?qh():Wh(),o||(_&&t1(h,a)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=g)},this.handleDragEnd=a=>{let{context:o}=this.component,s=this.eventRange.def,d=this.eventRange.instance,m=new On(o,s,d),h=this.relevantEvents,v=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:m,jsEvent:a.origEvent,view:o.viewApi}),this.validMutation){let _=new On(o,v.defs[s.defId],d?v.instances[d.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:v});let g={oldEvent:m,event:_,relatedEvents:ol(v,o,d),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:h})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},g),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Hi(0),endDelta:this.validMutation.endDelta||Hi(0),jsEvent:a.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",g)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:e}=t,n=this.dragging=new Nd(t.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=e.context.options.dragScroll;let r=this.hitDragging=new zm(this.dragging,Kh(t));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Ur(t.subjectEl,".fc-event")}};function KY(i,t,e,n){let r=i.context.dateEnv,a=i.dateSpan.range.start,o=t.dateSpan.range.start,s=Bc(a,o,r,i.largeUnit);if(e){if(r.add(n.start,s)<n.end)return{startDelta:s}}else if(r.add(n.end,s)>n.start)return{endDelta:s};return null}var Aw=class{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let r=this.context.options.unselectCancel,a=x_(n.origEvent);this.matchesCancel=!!Ur(a,r),this.matchesEvent=!!Ur(a,WP.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:r}=this,{documentPointer:a}=this,o=r.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let s=r.options.unselectAuto;s&&(!s||!this.matchesCancel)&&r.calendarApi.unselect(n)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let e=this.documentPointer=new X_(document);e.shouldIgnoreMove=!0,e.shouldWatchScroll=!1,e.emitter.on("pointerdown",this.onDocumentPointerDown),e.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},XY={fixedMirrorParent:ke},ZY={dateClick:ke,eventDragStart:ke,eventDragStop:ke,eventDrop:ke,eventResizeStart:ke,eventResizeStop:ke,eventResize:ke,drop:ke,eventReceive:ke,eventLeave:ke};ef.dataAttrPrefix="";var GP=ll({name:"@fullcalendar/interaction",componentInteractions:[kw,Dw,WP,Ew],calendarInteractions:[Aw],elementDraggingImpl:Nd,optionRefiners:XY,listenerRefiners:ZY});var eQ=["*"],tQ=["rootEl"],Um=i=>({$implicit:i});function iQ(i,t){if(i&1&&(l(0,"div",2,0),qn(2,3),c()),i&2){let e=P();C("ngClass",e.elClasses||"")("ngStyle",e.elStyle||null),b(2),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",as(4,Um,e.renderProps))}}function nQ(i,t){if(i&1&&(l(0,"span",2,0),qn(2,3),c()),i&2){let e=P();C("ngClass",e.elClasses||"")("ngStyle",e.elStyle||null),b(2),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",as(4,Um,e.renderProps))}}function rQ(i,t){if(i&1&&(l(0,"a",2,0),qn(2,3),c()),i&2){let e=P();C("ngClass",e.elClasses||"")("ngStyle",e.elStyle||null),b(2),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",as(4,Um,e.renderProps))}}function aQ(i,t){if(i&1&&(l(0,"tr",2,0),qn(2,3),c()),i&2){let e=P();C("ngClass",e.elClasses||"")("ngStyle",e.elStyle||null),b(2),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",as(4,Um,e.renderProps))}}function oQ(i,t){if(i&1&&(l(0,"th",2,0),qn(2,3),c()),i&2){let e=P();C("ngClass",e.elClasses||"")("ngStyle",e.elStyle||null),b(2),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",as(4,Um,e.renderProps))}}function sQ(i,t){if(i&1&&(l(0,"td",2,0),qn(2,3),c()),i&2){let e=P();C("ngClass",e.elClasses||"")("ngStyle",e.elStyle||null),b(2),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",as(4,Um,e.renderProps))}}var lQ=["dayHeaderContent"],cQ=["dayCellContent"],dQ=["weekNumberContent"],uQ=["nowIndicatorContent"],mQ=["eventContent"],pQ=["slotLaneContent"],hQ=["slotLabelContent"],fQ=["allDayContent"],gQ=["moreLinkContent"],bQ=["noEventsContent"],vQ=["resourceAreaHeaderContent"],_Q=["resourceGroupLabelContent"],yQ=["resourceLabelContent"],xQ=["resourceLaneContent"],CQ=["resourceGroupLaneContent"];function wQ(i,t){if(i&1&&F(0,"transport-container",1),i&2){let e=t.$implicit;C("inPlaceOf",e.containerEl)("reportEl",e.reportNewContainerEl)("elTag",e.elTag)("elClasses",e.elClasses)("elStyle",e.elStyle)("elAttrs",e.elAttrs)("template",e.generatorMeta)("renderProps",e.renderProps)}}var $P={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},SQ=["events","eventSources","resources"],MQ=Object.prototype.hasOwnProperty;function n1(i){return Array.isArray(i)?i.map(n1):i instanceof Date?new Date(i.valueOf()):typeof i=="object"&&i?QP(i,n1):i}function QP(i,t){let e={};for(let n in i)MQ.call(i,n)&&(e[n]=t(i[n],n));return e}function Pw(i,t){if(i===t)return!0;if(i&&t&&typeof i=="object"&&typeof t=="object"){if(i.constructor!==t.constructor)return!1;var e,n,r;if(Array.isArray(i)){if(e=i.length,e!=t.length)return!1;for(n=e;n--!==0;)if(!Pw(i[n],t[n]))return!1;return!0}if(i.constructor===RegExp)return i.source===t.source&&i.flags===t.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===t.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===t.toString();if(r=Object.keys(i),e=r.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;for(n=e;n--!==0;){var a=r[n];if(!Pw(i[a],t[a]))return!1}return!0}return i!==i&&t!==t}var i1=typeof document<"u"?document.createDocumentFragment():null,kQ=(()=>{class i{constructor(e){this.element=e}ngAfterViewInit(){i1&&i1.appendChild(this.element.nativeElement)}ngOnDestroy(){i1&&i1.removeChild(this.element.nativeElement)}}return i.\u0275fac=function(e){return new(e||i)(k(_t))},i.\u0275cmp=fe({type:i,selectors:[["offscreen-fragment"]],ngContentSelectors:eQ,decls:1,vars:0,template:function(e,n){e&1&&(Xt(),rt(0))},encapsulation:2}),i})(),Hm=typeof document<"u"?document.createDocumentFragment():null,DQ=(()=>{class i{ngAfterViewInit(){let e=this.rootElRef?.nativeElement;YP(e,this.inPlaceOf),Iw(e,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(e)}ngOnChanges(e){let n=this.rootElRef?.nativeElement;if(n)if(this.inPlaceOf.parentNode!==Hm)YP(n,this.inPlaceOf),Iw(n,void 0,this.elAttrs),this.reportEl(n);else{let r=e.elAttrs;r&&Iw(n,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Hm&&Hm&&Hm.removeChild(this.inPlaceOf),this.reportEl(null)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=fe({type:i,selectors:[["transport-container"]],viewQuery:function(e,n){if(e&1&&Ue(tQ,5),e&2){let r;be(r=ve())&&(n.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[Ai],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){e&1&&I(0,iQ,3,6,"ng-template",1)(1,nQ,3,6,"ng-template",1)(2,rQ,3,6,"ng-template",1)(3,aQ,3,6,"ng-template",1)(4,oQ,3,6,"ng-template",1)(5,sQ,3,6,"ng-template",1),e&2&&(C("ngIf",n.elTag=="div"),b(),C("ngIf",n.elTag=="span"),b(),C("ngIf",n.elTag=="a"),b(),C("ngIf",n.elTag=="tr"),b(),C("ngIf",n.elTag=="th"),b(),C("ngIf",n.elTag=="td"))},dependencies:[Pt,Nr,LS,xu],encapsulation:2}),i})();function YP(i,t){t.parentNode?.insertBefore(i,t.nextSibling),Hm&&Hm.appendChild(t)}function Iw(i,t={},e={}){for(let n in t)n in e||(i[n]=null);for(let n in e)i[n]=e[n]}var JP=(()=>{class i{constructor(e,n){this.element=e,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map;let r=new zh;r.subscribe(a=>{this.customRenderingMap=a,this.customRenderingArray=void 0,n.detectChanges()}),this.handleCustomRendering=r.handle.bind(r)}ngAfterViewInit(){let{deepChangeDetection:e}=this,n=Ct(Ct({},this.options),this.buildInputOptions());this.optionSnapshot=QP(n,(s,d)=>e&&$P[d]?n1(s):s);let r=this.element.nativeElement,a=this.calendar=new U_(r,Ct(Ct({},n),this.buildExtraOptions())),o=r.closest("ion-content");o&&o.componentOnReady?o.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{a.render()})}):a.render(),setTimeout(()=>a.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:e,optionSnapshot:n}=this,r=Ct(Ct({},this.options),this.buildInputOptions()),a={},o=[];for(let d in r)if(r.hasOwnProperty(d)){let m=r[d];e&&$P[d]?Pw(n[d],m)||(n[d]=n1(m),o.push(d)):n[d]!==m&&(n[d]=m,o.push(d)),a[d]=m}let s=Object.keys(n);for(let d of s)d in r||(delete n[d],o.push(d));o.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Ct(Ct({},a),this.buildExtraOptions()),o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let e={};for(let n of SQ){let r=this[n];r!=null&&(e[n]=r)}return e}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this,customRenderingReplaces:!0}}trackCustomRendering(e,n){return n.id}}return i.\u0275fac=function(e){return new(e||i)(k(_t),k(xt))},i.\u0275cmp=fe({type:i,selectors:[["full-calendar"]],contentQueries:function(e,n,r){if(e&1&&(bt(r,lQ,7),bt(r,cQ,7),bt(r,dQ,7),bt(r,uQ,7),bt(r,mQ,7),bt(r,pQ,7),bt(r,hQ,7),bt(r,fQ,7),bt(r,gQ,7),bt(r,bQ,7),bt(r,vQ,7),bt(r,_Q,7),bt(r,yQ,7),bt(r,xQ,7),bt(r,CQ,7)),e&2){let a;be(a=ve())&&(n.dayHeaderContent=a.first),be(a=ve())&&(n.dayCellContent=a.first),be(a=ve())&&(n.weekNumberContent=a.first),be(a=ve())&&(n.nowIndicatorContent=a.first),be(a=ve())&&(n.eventContent=a.first),be(a=ve())&&(n.slotLaneContent=a.first),be(a=ve())&&(n.slotLabelContent=a.first),be(a=ve())&&(n.allDayContent=a.first),be(a=ve())&&(n.moreLinkContent=a.first),be(a=ve())&&(n.noEventsContent=a.first),be(a=ve())&&(n.resourceAreaHeaderContent=a.first),be(a=ve())&&(n.resourceGroupLabelContent=a.first),be(a=ve())&&(n.resourceLabelContent=a.first),be(a=ve())&&(n.resourceLaneContent=a.first),be(a=ve())&&(n.resourceGroupLaneContent=a.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(e,n){e&1&&(l(0,"offscreen-fragment"),I(1,wQ,1,8,"transport-container",0),c()),e&2&&(b(),C("ngForOf",n.customRenderings)("ngForTrackBy",n.trackCustomRendering))},dependencies:[kQ,DQ,Ji],encapsulation:2}),i})(),KP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Kt({type:i}),i.\u0275inj=Jt({imports:[[Dt]]}),i})();function AQ(i,t){i&1&&(l(0,"mat-error"),u(1," Title is required "),c())}function IQ(i,t){i&1&&(l(0,"mat-error"),u(1," Start Date is required "),c())}var r1=class i{constructor(t,e){this.fb=t;this.dialogRef=e;this.eventForm=this.fb.group({title:["",et.required],startDate:["",et.required],endDate:[""],description:[""]})}eventForm;onSave(){this.eventForm.valid&&this.dialogRef.close(this.eventForm.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(k(Cn),k(Kn))};static \u0275cmp=fe({type:i,selectors:[["app-add-event-dialog"]],standalone:!0,features:[ye],decls:27,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","title","placeholder","Event Title"],[4,"ngIf"],["matInput","","type","date","formControlName","startDate"],["matInput","","type","date","formControlName","endDate"],["matInput","","formControlName","description","placeholder","Event Description"],["mat-button","",3,"click"],["mat-raised-button","",1,"submit-btn",3,"click","disabled"]],template:function(e,n){if(e&1&&(l(0,"h2",0),u(1,"Add New Event"),c(),l(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),u(6,"Title"),c(),F(7,"input",3),I(8,AQ,2,0,"mat-error",4),c(),l(9,"mat-form-field",2)(10,"mat-label"),u(11,"Start Date"),c(),F(12,"input",5),I(13,IQ,2,0,"mat-error",4),c(),l(14,"mat-form-field",2)(15,"mat-label"),u(16,"End Date"),c(),F(17,"input",6),c(),l(18,"mat-form-field",2)(19,"mat-label"),u(20,"Description"),c(),F(21,"textarea",7),c()()(),l(22,"mat-dialog-actions")(23,"button",8),z("click",function(){return n.onCancel()}),u(24,"Cancel"),c(),l(25,"button",9),z("click",function(){return n.onSave()}),u(26,"Save"),c()()),e&2){let r,a;b(3),C("formGroup",n.eventForm),b(5),C("ngIf",(r=n.eventForm.get("title"))==null?null:r.hasError("required")),b(5),C("ngIf",(a=n.eventForm.get("startDate"))==null?null:a.hasError("required")),b(12),C("disabled",n.eventForm.invalid)}},dependencies:[Pi,mn,xn,pi,Ki,Xi,Vn,vi,hn,Mn,Ma,Vi,gr,zt,Nt,li,Zi,tn,en,Pt],encapsulation:2})};var a1=class i{constructor(t,e){this.http=t;this.authService=e}apiUrl=`${St.BACKEND_URL}/calendar`;getHeaders(){let t=this.authService.getToken();return new Jr(Ct({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{}))}getEvents(){let t=this.authService.currentUserSubject.value?.id;return t?this.http.get(`${this.apiUrl}/events/${t}`,{headers:this.getHeaders()}).pipe(It(e=>(console.error("Error fetching events:",e),wt([])))):wt([])}addEvent(t){let e=this.authService.currentUserSubject.value?.id;return e?this.http.post(`${this.apiUrl}/events`,Ti(Ct({},t),{userId:e}),{headers:this.getHeaders()}).pipe(It(n=>(console.error("Error adding event:",n),wt(t)))):wt(t)}static \u0275fac=function(e){return new(e||i)(Xe(Gt),Xe(hi))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};function TQ(i,t){if(i&1&&(l(0,"div",10),u(1),c()),i&2){let e=P();b(),Ce(" ",e.successMessage," ")}}function OQ(i,t){if(i&1&&(l(0,"div",11),u(1),c()),i&2){let e=P();b(),Ce(" ",e.errorMessage," ")}}var tf=class i{constructor(t,e){this.calendarService=t;this.dialog=e;this.calendarOptions={plugins:[zP,GP],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"},events:[],eventClick:this.handleEventClick.bind(this),editable:!0}}calendarOptions;isLoading=!0;errorMessage=null;successMessage=null;events=[];ngOnInit(){this.loadEvents()}loadEvents(){this.isLoading=!0,this.errorMessage=null,this.successMessage=null,this.calendarService.getEvents().subscribe({next:t=>{this.events=t,this.calendarOptions.events=t.map(e=>({id:e.id,title:e.title,start:e.startDate,end:e.endDate,description:e.description})),this.successMessage="Events loaded successfully",this.isLoading=!1},error:t=>{console.error("Error fetching events:",t),this.errorMessage="Failed to load events. Please try again.",this.isLoading=!1}})}handleEventClick(t){alert(`Event: ${t.event.title}
Description: ${t.event.extendedProps.description}`)}openAddEventDialog(){this.dialog.open(r1,{width:"400px"}).afterClosed().subscribe(e=>{e&&this.calendarService.addEvent(e).subscribe({next:n=>{this.events.push(n),this.successMessage="Event added successfully"},error:n=>{console.error("Error adding event:",n),this.errorMessage="Failed to add event. Please try again."}})})}static \u0275fac=function(e){return new(e||i)(k(a1),k(pn))};static \u0275cmp=fe({type:i,selectors:[["app-calendar"]],standalone:!0,features:[ye],decls:16,vars:3,consts:[[1,"container"],[1,"row"],[1,"fullcolumn"],[1,"calendar-card"],[1,"calendar-content"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"calendar-controls"],["mat-raised-button","",1,"add-event-btn",3,"click"],[3,"options"],[1,"success-message"],[1,"error-message"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),u(6,"Event Calendar"),c()(),l(7,"mat-card-content"),F(8,"mat-divider"),l(9,"div",4),I(10,TQ,2,1,"div",5)(11,OQ,2,1,"div",6),l(12,"div",7)(13,"button",8),z("click",function(){return n.openAddEventDialog()}),u(14," Add Event "),c()(),F(15,"full-calendar",9),c()()()()()()),e&2&&(b(10),C("ngIf",n.successMessage),b(),C("ngIf",n.errorMessage),b(4),C("options",n.calendarOptions))},dependencies:[GS,Pt,Pi,Bi,Li,nn,rn,ji,Jn,un,zt,Nt,li,vi,Vi,KP,JP],styles:[".container[_ngcontent-%COMP%]{width:95vw!important;margin-top:2rem}.calendar-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #61a0af;box-shadow:0 2px 4px #0000000d;border-radius:8px;padding:16px;height:auto}.calendar-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}.calendar-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;border:none;height:2px;margin:16px 0}.calendar-content[_ngcontent-%COMP%]{margin-top:16px}.calendar-controls[_ngcontent-%COMP%]{margin-bottom:20px}.add-event-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#333;font-weight:500;border-radius:8px;padding:10px 20px;transition:background-color .3s ease;width:200px}.add-event-btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.success-message[_ngcontent-%COMP%]{color:#4caf50;padding:10px;margin-bottom:15px;border:1px solid #4caf50;border-radius:4px;background-color:#e8f5e9}.error-message[_ngcontent-%COMP%]{color:#f44336;padding:10px;margin-bottom:15px;border:1px solid #f44336;border-radius:4px;background-color:#ffebee}  .fc .fc-toolbar{background-color:#fff;border:1px solid #61a0af;border-radius:8px;padding:10px}  .fc .fc-button{background-color:#fbd008!important;color:#333!important;border:none!important;border-radius:8px!important;padding:8px 16px!important}  .fc .fc-button:hover{background-color:#e6bf00!important}  .fc .fc-daygrid-day{background-color:#fff;border:1px solid #61a0af}  .fc .fc-event{background-color:#61a0af;color:#fff;border-radius:4px;padding:4px}@media (max-width: 768px){.calendar-controls[_ngcontent-%COMP%]   .add-event-btn[_ngcontent-%COMP%]{padding:8px 16px;width:100%}  .fc .fc-toolbar{flex-direction:column;gap:10px}}"]})};var nf=class i{constructor(t,e){this.dialogRef=t;this.data=e}confirmed=!1;static \u0275fac=function(e){return new(e||i)(k(Kn),k(Ca))};static \u0275cmp=fe({type:i,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[ye],decls:13,vars:4,consts:[[1,"dialog-wrapper"],["mat-dialog-title","",1,"dialog-title"],[1,"dialog-content"],[1,"dialog-message"],[1,"dialog-checkbox",3,"ngModelChange","ngModel"],["align","end"],["mat-button","",1,"dialog-btn","confirm-btn",3,"click"],["mat-button","",1,"dialog-btn","confirm-btn",3,"click","disabled"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"h2",1),u(2),c(),l(3,"mat-dialog-content",2)(4,"p",3),u(5),c(),l(6,"mat-checkbox",4),jn("ngModelChange",function(a){return Ln(n.confirmed,a)||(n.confirmed=a),a}),u(7," I understand and confirm "),c()(),l(8,"mat-dialog-actions",5)(9,"button",6),z("click",function(){return n.dialogRef.close(!1)}),u(10," Cancel "),c(),l(11,"button",7),z("click",function(){return n.dialogRef.close(!0)}),u(12," Confirm "),c()()()),e&2&&(b(2),xe(n.data.title),b(3),xe(n.data.message),b(),Fn("ngModel",n.confirmed),b(5),C("disabled",!n.confirmed))},dependencies:[li,Zi,tn,en,Da,ao,zt,Nt,wn,pi,xa],styles:[".dialog-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:background-color .3s ease}.confirm-btn[_ngcontent-%COMP%]{background-color:#fbd008;color:#000}.confirm-btn[_ngcontent-%COMP%]:hover{background-color:#fbd008}"]})};var qm=class i{quote=null;setQuote(t){this.quote=t}getQuote(){return this.quote}clearQuote(){this.quote=null}static \u0275fac=function(e){return new(e||i)};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var o1=class i{constructor(t){this.http=t}apiUrl=`${St.BACKEND_URL}/logos`;uploadLogo(t,e,n){let r=new FormData;return r.append("file",t),r.append("type",e),r.append("uploadedBy",n),this.http.post(this.apiUrl,r)}getLogo(t){return this.http.get(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var NQ=["quoteContent"],FQ=["fileInput"],LQ=()=>["Submitted","Approved","Rejected"];function jQ(i,t){if(i&1){let e=ge();l(0,"div",67),z("click",function(){q(e);let r=P();return W(!r.readOnly&&r.triggerFileInput())}),l(1,"div",68)(2,"span",51),u(3,"add"),c(),u(4," Add Your Logo "),c()()}}function BQ(i,t){if(i&1&&F(0,"img",69),i&2){let e=P();C("src",e.logoUrl,bu)}}function VQ(i,t){if(i&1){let e=ge();l(0,"button",70),z("click",function(){q(e);let r=P();return W(r.removeLogo())}),l(1,"mat-icon"),u(2,"close"),c()()}if(i&2){let e=P();C("disabled",e.readOnly)}}function zQ(i,t){i&1&&(l(0,"th",71),F(1,"input",72),c())}function HQ(i,t){if(i&1&&(l(0,"td",73),F(1,"textarea",74),c()),i&2){let e=t.$implicit;C("formGroup",e)}}function UQ(i,t){i&1&&(l(0,"th",71),F(1,"input",75),c())}function qQ(i,t){if(i&1&&(l(0,"td",73),F(1,"input",76),c()),i&2){let e=t.$implicit;C("formGroup",e)}}function WQ(i,t){i&1&&(l(0,"th",71),F(1,"input",77),c())}function GQ(i,t){if(i&1&&(l(0,"td",73),F(1,"input",78),c()),i&2){let e=t.$implicit;C("formGroup",e)}}function $Q(i,t){i&1&&(l(0,"th",71),F(1,"input",79),c())}function YQ(i,t){if(i&1&&(l(0,"td",73),u(1),c()),i&2){let e,n=t.$implicit;C("formGroup",n),b(),Ce(" $",((e=n.get("total"))==null?null:e.value)||"0.00"," ")}}function QQ(i,t){i&1&&F(0,"th",71)}function JQ(i,t){if(i&1){let e=ge();l(0,"button",82),z("click",function(){q(e);let r=P().index,a=P();return W(a.removeRow(r))}),l(1,"mat-icon"),u(2,"delete"),c()()}if(i&2){let e=P(2);C("disabled",e.readOnly)}}function KQ(i,t){if(i&1&&(l(0,"td",80),I(1,JQ,3,1,"button",81),c()),i&2){let e=P();b(),C("ngIf",e.quoteRows.length>1)}}function XQ(i,t){i&1&&F(0,"tr",83)}function ZQ(i,t){i&1&&F(0,"tr",84)}function eJ(i,t){if(i&1){let e=ge();l(0,"div",85)(1,"label"),u(2,"Extra Costs"),c(),l(3,"div"),F(4,"input",86),l(5,"button",82),z("click",function(){q(e);let r=P();return W(r.removeExtraCost())}),F(6,"mat-icon",87),c()()()}if(i&2){let e=P();b(5),C("disabled",e.readOnly)}}function tJ(i,t){if(i&1){let e=ge();l(0,"div",85)(1,"label"),u(2,"Tax %"),c(),l(3,"div"),F(4,"input",88),l(5,"button",82),z("click",function(){q(e);let r=P();return W(r.removeTax())}),F(6,"mat-icon",87),c()()()}if(i&2){let e=P();b(5),C("disabled",e.readOnly)}}function iJ(i,t){if(i&1){let e=ge();l(0,"div",85)(1,"label"),u(2,"Discount %"),c(),l(3,"div"),F(4,"input",89),l(5,"button",82),z("click",function(){q(e);let r=P();return W(r.removeDiscount())}),F(6,"mat-icon",87),c()()()}if(i&2){let e=P();b(5),C("disabled",e.readOnly)}}function nJ(i,t){if(i&1){let e=ge();l(0,"div",85)(1,"label"),u(2,"Flat Total"),c(),l(3,"div"),F(4,"input",90),l(5,"button",82),z("click",function(){q(e);let r=P();return W(r.removeFlatTotal())}),F(6,"mat-icon",87),c()()()}if(i&2){let e=P();b(5),C("disabled",e.readOnly)}}function rJ(i,t){if(i&1){let e=ge();l(0,"button",91),z("click",function(){q(e);let r=P();return W(r.addExtraCost())}),u(1,"+- Extra Costs"),c()}if(i&2){let e=P();C("disabled",e.readOnly)}}function aJ(i,t){if(i&1){let e=ge();l(0,"button",91),z("click",function(){q(e);let r=P();return W(r.addTax())}),u(1,"% Tax"),c()}if(i&2){let e=P();C("disabled",e.readOnly)}}function oJ(i,t){if(i&1){let e=ge();l(0,"button",91),z("click",function(){q(e);let r=P();return W(r.addDiscount())}),u(1,"% Discount"),c()}if(i&2){let e=P();C("disabled",e.readOnly)}}function sJ(i,t){if(i&1){let e=ge();l(0,"button",91),z("click",function(){q(e);let r=P();return W(r.addFlatTotal())}),u(1,"Flat Total"),c()}if(i&2){let e=P();C("disabled",e.readOnly)}}function lJ(i,t){if(i&1){let e=ge();l(0,"div")(1,"button",92),z("click",function(){q(e);let r=P();return W(r.approveQuote())}),u(2,"Approve"),c(),l(3,"button",93),z("click",function(){q(e);let r=P();return W(r.rejectQuote())}),u(4,"Reject"),c()()}if(i&2){let e=P();b(),C("disabled",!e.jobId),b(2),C("disabled",!e.jobId)}}function cJ(i,t){if(i&1){let e=ge();l(0,"div")(1,"button",94),z("click",function(){q(e);let r=P();return W(r.saveToDatabase())}),u(2,"Save as New"),c()()}if(i&2){let e=P();b(),C("disabled",e.isSaving)}}function dJ(i,t){if(i&1){let e=ge();l(0,"div")(1,"button",95),z("click",function(){q(e);let r=P();return W(r.saveToDatabase())}),u(2," Save / Update Quote "),c(),l(3,"button",92),z("click",function(){q(e);let r=P();return W(r.submitQuote())}),u(4," Submit Quote "),c(),l(5,"button",92),z("click",function(){q(e);let r=P();return W(r.onSubmit())}),u(6," Download Quote "),c()()}if(i&2){let e=P();b(),C("disabled",e.isSaving||e.readOnly),b(2),C("disabled",e.isSaving||e.readOnly||!e.jobId),b(2),C("disabled",e.isSaving||e.readOnly)}}var Wm=class i{constructor(t,e,n,r,a,o,s,d,m){this.fb=t;this.cdr=e;this.route=n;this.router=r;this.quoteService=a;this.authService=o;this.quoteDataService=s;this.logoService=d;this.dialog=m;this.quoteForm=this.fb.group({header:["INVOICE"],number:[""],from:[""],toTitle:["Bill To"],to:[""],shipToTitle:["Ship To"],shipTo:[""],date:[""],paymentTerms:[""],dueDate:[""],poNumber:[""],itemHeader:["Item"],quantityHeader:["Quantity"],unitCostHeader:["Rate"],amountHeader:["Amount"],amountPaid:[0],extraCostValue:[0],taxValue:[0],discountValue:[0],flatTotalValue:[0],notesTitle:["Notes"],notes:[""],termsTitle:["Terms"],terms:[""],quoteRows:this.fb.array([]),status:["Draft"],version:[0],logoId:[null],createdID:[""]}),this.quoteRows.valueChanges.subscribe(()=>{this.cdr.detectChanges()}),this.quoteForm.get("extraCostValue")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()}),this.quoteForm.get("taxValue")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()}),this.quoteForm.get("discountValue")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()}),this.quoteForm.get("flatTotalValue")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()}),this.quoteForm.get("amountPaid")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()})}quoteForm;isSaving=!1;logoUrl=null;isLogoSupported=!0;dataSource=new ca([]);displayedColumns=["description","quantity","unitPrice","total","remove"];hasAmountPaid=!1;hasExtraCost=!1;hasTax=!1;hasDiscount=!1;hasFlatTotal=!1;quoteId=null;jobId;readOnly=!1;isOwnQuote=!1;quoteContent;fileInput;ngOnInit(){let t=this.quoteDataService.getQuote();if(t){this.quoteForm.patchValue({header:t.header||"INVOICE",number:t.number||"",from:t.from||"",toTitle:t.toTitle||"Bill To",to:t.to||"",shipToTitle:t.shipToTitle||"Ship To",shipTo:t.shipTo||"",date:t.date||"",paymentTerms:t.paymentTerms||"",dueDate:t.dueDate||"",poNumber:t.poNumber||"",itemHeader:t.itemHeader||"Item",quantityHeader:t.quantityHeader||"Quantity",unitCostHeader:t.unitCostHeader||"Rate",amountHeader:t.amountHeader||"Amount",amountPaid:t.amountPaid||0,extraCostValue:t.extraCostValue||0,taxValue:t.taxValue||0,discountValue:t.discountValue||0,flatTotalValue:t.flatTotalValue||0,notesTitle:t.notesTitle||"Notes",notes:t.notes||"",termsTitle:t.termsTitle||"Terms",terms:t.terms||"",status:t.status||"Draft"}),this.quoteForm.get("number")?.disable(),this.hasExtraCost=!!t.extraCostValue,this.hasTax=!!t.taxValue,this.hasDiscount=!!t.discountValue,this.hasFlatTotal=!!t.flatTotalValue,this.hasAmountPaid=!!t.amountPaid,this.jobId=t.jobId;let e=this.authService.currentUserSubject.value?.id,n=t.createdID;this.isOwnQuote=e&&n&&e===n,this.updateQuoteRows(t.rows||[]),this.quoteDataService.clearQuote(),t.status==="Submitted"&&(this.readOnly=!0,this.quoteForm.disable()),this.cdr.detectChanges(),t.logoId&&this.logoService.getLogo(t.logoId).subscribe({next:r=>{this.logoUrl=r.url,this.quoteForm.patchValue({logoId:r.id})},error:()=>{this.logoUrl=null}})}else this.route.queryParams.subscribe(e=>{if(e.quoteId)this.quoteId=e.quoteId,this.quoteService.getQuote(e.quoteId).subscribe({next:n=>{console.log("Quote loaded:",n),this.quoteForm.patchValue({id:n.id,header:n.header,number:n.number,from:n.from,toTitle:n.toTitle,to:n.to,shipToTitle:n.shipToTitle,shipTo:n.shipTo,date:n.date,paymentTerms:n.paymentTerms,dueDate:n.dueDate,poNumber:n.poNumber,itemHeader:n.itemHeader,quantityHeader:n.quantityHeader,unitCostHeader:n.unitCostHeader,amountHeader:n.amountHeader,notesTitle:n.notesTitle,notes:n.notes,termsTitle:n.termsTitle,terms:n.terms,extraCostValue:n.extraCostValue,taxValue:n.taxValue,discountValue:n.discountValue,flatTotalValue:n.flatTotalValue,status:n.status,version:n.version,logoId:n.logoId||null,createdID:n.createdID||null}),n.logoId&&this.logoService.getLogo(n.logoId).subscribe({next:o=>{this.logoUrl=o.url},error:o=>{console.error("Failed to load logo:",o),this.logoUrl=null}}),this.quoteForm.get("number")?.disable(),this.hasExtraCost=!!n.extraCostValue,this.hasTax=!!n.taxValue,this.hasDiscount=!!n.discountValue,this.hasFlatTotal=!!n.flatTotalValue,this.jobId=n.jobID,this.updateQuoteRows(n.rows),this.isSaving=!1;let r=this.authService.currentUserSubject.value?.id,a=this.quoteForm.get("createdID")?.value;this.isOwnQuote=r&&a&&r===a,n.status==="Submitted"&&(this.readOnly=!0,this.quoteForm.disable()),this.cdr.detectChanges()},error:n=>{console.error("Error loading quote:",n),this.isSaving=!1,this.cdr.detectChanges()}});else{this.quoteForm.get("number")?.enable();let n=this.createQuoteRow();this.quoteRows.push(n),this.dataSource.data=[n],this.cdr.detectChanges()}})}updateQuoteRows(t){if(this.quoteRows.clear(),t.length===0){let e=this.createQuoteRow();this.quoteRows.push(e)}else t.forEach(e=>{let n=this.fb.group({description:[e.description||""],quantity:[e.quantity||1],unitPrice:[e.unitPrice||0],total:[e.total||0]});n.get("quantity")?.valueChanges.subscribe(()=>this.updateTotal(n)),n.get("unitPrice")?.valueChanges.subscribe(()=>this.updateTotal(n)),this.quoteRows.push(n)});this.dataSource.data=this.quoteRows.controls,this.cdr.detectChanges()}toggleReadOnly(){this.readOnly=!this.readOnly,this.readOnly?this.quoteForm.disable():this.quoteForm.enable()}createQuoteRow(){let t=this.fb.group({description:[""],quantity:[1],unitPrice:[0],total:[0]});return t.get("quantity")?.valueChanges.subscribe(()=>this.updateTotal(t)),t.get("unitPrice")?.valueChanges.subscribe(()=>this.updateTotal(t)),t}updateTotal(t){let e=t.get("quantity")?.value||0,n=t.get("unitPrice")?.value||0,r=e*n;t.get("total")?.setValue(r,{emitEvent:!1})}get quoteRows(){return this.quoteForm.get("quoteRows")}addRow(){let t=this.createQuoteRow();this.quoteRows.push(t),this.dataSource.data=this.quoteRows.controls,this.cdr.detectChanges()}removeRow(t){this.quoteRows.length>1&&(this.quoteRows.removeAt(t),this.dataSource.data=this.quoteRows.controls,this.cdr.detectChanges())}addExtraCost(){this.hasExtraCost=!0,this.cdr.detectChanges()}removeExtraCost(){this.hasExtraCost=!1,this.quoteForm.get("extraCostValue")?.setValue(0),this.cdr.detectChanges()}addTax(){this.hasTax=!0,this.cdr.detectChanges()}removeTax(){this.hasTax=!1,this.quoteForm.get("taxValue")?.setValue(0),this.cdr.detectChanges()}addDiscount(){this.hasDiscount=!0,this.cdr.detectChanges()}removeDiscount(){this.hasDiscount=!1,this.quoteForm.get("discountValue")?.setValue(0),this.cdr.detectChanges()}addFlatTotal(){this.hasFlatTotal=!0,this.cdr.detectChanges()}removeFlatTotal(){this.hasFlatTotal=!1,this.quoteForm.get("flatTotalValue")?.setValue(0),this.cdr.detectChanges()}addAmountPaid(){this.hasAmountPaid=!0,this.cdr.detectChanges()}removeAmountPaid(){this.hasAmountPaid=!1,this.quoteForm.get("amountPaid")?.setValue(0),this.cdr.detectChanges()}approveQuote(){if(!this.quoteId)return;if(!this.jobId){console.warn("Cannot approve quote: Job ID is missing.");return}this.dialog.open(nf,{width:"400px",data:{title:"Confirm Approval",message:"Are you sure you want to approve this quote? This action cannot be undone."}}).afterClosed().subscribe(e=>{if(e){if(!this.quoteId||!this.jobId)return;this.quoteService.changeStatus(this.quoteId,"Approved").subscribe({next:n=>{this.quoteForm.patchValue({status:n.status}),this.readOnly=!0,this.quoteForm.disable()},error:n=>console.error("Failed to approve quote:",n)})}})}rejectQuote(){if(this.quoteId){if(!this.jobId){console.warn("Cannot reject quote: Job ID is missing.");return}this.quoteService.changeStatus(this.quoteId,"Rejected").subscribe({next:t=>{this.quoteForm.patchValue({status:t.status}),this.readOnly=!0,this.quoteForm.disable(),console.log("Quote rejected")},error:t=>{console.error("Failed to reject quote:",t)}})}}getSubtotal(){let t=this.quoteRows.controls.reduce((e,n)=>{let r=n.get("quantity")?.value||0,a=n.get("unitPrice")?.value||0,o=r*a;return n.get("total")?.setValue(o,{emitEvent:!1}),e+o},0);if(this.hasExtraCost){let e=parseFloat(this.quoteForm.get("extraCostValue")?.value)||0;t+=e}return t}getGrandTotal(){let t=this.getSubtotal();if(this.hasTax){let e=parseFloat(this.quoteForm.get("taxValue")?.value)||0;t+=t*(e/100)}if(this.hasDiscount){let e=parseFloat(this.quoteForm.get("discountValue")?.value)||0;t-=t*(e/100)}return this.hasFlatTotal&&(t=parseFloat(this.quoteForm.get("flatTotalValue")?.value)||0),t}triggerFileInput(){this.fileInput.nativeElement.click()}onLogoChange(t){let e=t.target?.files?.[0];if(!e||!e.type.startsWith("image/")){this.isLogoSupported=!1;return}let n=new FileReader;n.onload=()=>Yr(this,null,function*(){this.logoUrl=n.result,this.isLogoSupported=!0;let r=this.authService.currentUserSubject.value?.id||"anonymous";this.logoService.uploadLogo(e,"quote",r).subscribe({next:a=>{this.quoteForm.patchValue({logoId:a.id})},error:a=>{console.error("Logo upload failed",a)}})}),n.readAsDataURL(e)}removeLogo(){this.logoUrl=null}onSubmit(){return Yr(this,null,function*(){this.isSaving=!0,yield this.downloadPDF(),this.isSaving=!1})}saveToDatabase(){return Yr(this,null,function*(){this.isSaving=!0;let t=this.quoteForm.getRawValue(),e={id:null,header:t.header||"",number:t.number||"",from:t.from||"",toTitle:t.toTitle||"",to:t.to||"",shipToTitle:t.shipToTitle||"",shipTo:t.shipTo||"",date:t.date||"",paymentTerms:t.paymentTerms||"",dueDate:t.dueDate||"",poNumber:t.poNumber||"",itemHeader:t.itemHeader||"",quantityHeader:t.quantityHeader||"",unitCostHeader:t.unitCostHeader||"",amountHeader:t.amountHeader||"",amountPaid:parseFloat(t.amountPaid)||0,extraCostValue:parseFloat(t.extraCostValue)||0,taxValue:parseFloat(t.taxValue)||0,discountValue:parseFloat(t.discountValue)||0,flatTotalValue:parseFloat(t.flatTotalValue)||0,notesTitle:t.notesTitle||"",notes:t.notes||"",termsTitle:t.termsTitle||"",terms:t.terms||"",rows:this.quoteRows.controls.map(n=>({id:0,quoteId:"",description:n.get("description")?.value||"",quantity:parseFloat(n.get("quantity")?.value)||0,unitPrice:parseFloat(n.get("unitPrice")?.value)||0,total:parseFloat(n.get("total")?.value)||0,quote:null})),total:this.getGrandTotal(),createdDate:new Date,extraCosts:[],createdBy:this.authService.currentUserSubject.value?.firstName||"Unknown",createdID:this.authService.currentUserSubject.value?.id||"Unknown",jobId:this.jobId,version:t.version||void 0,status:"Draft",logoId:t.logoId||null};this.hasExtraCost&&e.extraCosts.push({type:"extraCost",value:parseFloat(this.quoteForm.get("extraCostValue")?.value)||0,title:"Extra Cost"}),this.hasTax&&e.extraCosts.push({type:"taxPercent",value:parseFloat(this.quoteForm.get("taxValue")?.value)||0,title:"Tax"}),this.hasDiscount&&e.extraCosts.push({type:"discount",value:parseFloat(this.quoteForm.get("discountValue")?.value)||0,title:"Discount"}),this.hasFlatTotal&&e.extraCosts.push({type:"flatTotal",value:parseFloat(this.quoteForm.get("flatTotalValue")?.value)||0,title:"Flat Total"}),this.quoteService.saveQuoteWithVersion(e).subscribe({next:n=>{console.log("Quote saved with version:",n),this.readOnly=!0,this.quoteForm.disable(),this.isSaving=!1,this.cdr.detectChanges(),this.cdr.detectChanges()},error:n=>{console.error("Error saving quote with version:",n),this.isSaving=!1,this.cdr.detectChanges()}})})}submitQuote(){if(!this.jobId){console.warn("Cannot submit quote: Job ID is missing.");return}this.dialog.open(nf,{width:"400px",data:{title:"Confirm Submission",message:"Are you sure you want to submit this quote? This will lock the quote and mark it as submitted."}}).afterClosed().subscribe(e=>{if(!e)return;this.isSaving=!0;let n=this.quoteForm.getRawValue(),r={id:null,header:n.header||"",number:n.number||"",from:n.from||"",toTitle:n.toTitle||"",to:n.to||"",shipToTitle:n.shipToTitle||"",shipTo:n.shipTo||"",date:n.date||"",paymentTerms:n.paymentTerms||"",dueDate:n.dueDate||"",poNumber:n.poNumber||"",itemHeader:n.itemHeader||"",quantityHeader:n.quantityHeader||"",unitCostHeader:n.unitCostHeader||"",amountHeader:n.amountHeader||"",amountPaid:parseFloat(n.amountPaid)||0,extraCostValue:parseFloat(n.extraCostValue)||0,taxValue:parseFloat(n.taxValue)||0,discountValue:parseFloat(n.discountValue)||0,flatTotalValue:parseFloat(n.flatTotalValue)||0,notesTitle:n.notesTitle||"",notes:n.notes||"",termsTitle:n.termsTitle||"",terms:n.terms||"",rows:this.quoteRows.controls.map(a=>({id:0,quoteId:"",description:a.get("description")?.value||"",quantity:parseFloat(a.get("quantity")?.value)||0,unitPrice:parseFloat(a.get("unitPrice")?.value)||0,total:parseFloat(a.get("total")?.value)||0,quote:null})),total:this.getGrandTotal(),createdDate:new Date,extraCosts:[],createdBy:this.authService.currentUserSubject.value?.firstName||"Unknown",createdID:this.authService.currentUserSubject.value?.id||"Unknown",jobId:this.jobId,version:n.version,status:"Draft",logoId:n.logoId||null};this.hasExtraCost&&r.extraCosts.push({type:"extraCost",value:parseFloat(n.extraCostValue)||0,title:"Extra Cost"}),this.hasTax&&r.extraCosts.push({type:"taxPercent",value:parseFloat(n.taxValue)||0,title:"Tax"}),this.hasDiscount&&r.extraCosts.push({type:"discount",value:parseFloat(n.discountValue)||0,title:"Discount"}),this.hasFlatTotal&&r.extraCosts.push({type:"flatTotal",value:parseFloat(n.flatTotalValue)||0,title:"Flat Total"}),this.quoteService.saveQuoteWithVersion(r).subscribe({next:a=>{console.log("Quote saved:",a),this.quoteService.changeStatus(a.id,"Submitted").subscribe({next:o=>{this.quoteForm.patchValue({status:o.status}),this.readOnly=!0,this.quoteForm.disable(),this.isSaving=!1,this.cdr.detectChanges()},error:o=>{console.error("Failed to update status:",o),this.isSaving=!1,this.cdr.detectChanges()}})},error:a=>{console.error("Error saving quote before submission:",a),this.isSaving=!1,this.cdr.detectChanges()}})})}downloadPDF(){return Yr(this,null,function*(){let t=new Lt("p","mm","a4"),e=t.internal.pageSize.getWidth(),n=10,r=e-2*n,a=n,o=S=>{a+S>t.internal.pageSize.getHeight()-n&&(t.addPage(),a=n)};if(t.setFont("helvetica","normal"),this.logoUrl)try{let S=new Image;S.src=this.logoUrl,yield new Promise((Q,me)=>{S.onload=Q,S.onerror=()=>me(new Error("Failed to load image"))});let w=document.createElement("canvas");w.width=S.width,w.height=S.height;let O=w.getContext("2d");if(!O)throw new Error("Failed to get canvas 2D context");O.drawImage(S,0,0);let ee=w.toDataURL("image/png").split(",")[1],se="PNG",Ee=30,oe=S.height*Ee/S.width;t.addImage(ee,se,n,a,Ee,oe),a+=oe+5}catch(S){console.error("Error adding logo to PDF:",S)}t.setFontSize(18),t.setFont("helvetica","bold"),t.text(this.quoteForm.get("header")?.value||"INVOICE",n,a),a+=10,t.setFontSize(12),t.setFont("helvetica","normal"),t.text(`#${this.quoteForm.get("number")?.value||""}`,n,a),a+=10,o(40),t.setFontSize(10),t.text(this.quoteForm.get("from")?.value||"",n,a,{maxWidth:r/2}),a+=15,t.text(`${this.quoteForm.get("toTitle")?.value||"Bill To"}: ${this.quoteForm.get("to")?.value||""}`,n,a,{maxWidth:r/2}),a+=15,this.quoteForm.get("shipTo")?.value&&(t.text(`${this.quoteForm.get("shipToTitle")?.value||"Ship To"}: ${this.quoteForm.get("shipTo")?.value}`,n,a,{maxWidth:r/2}),a+=15);let s=n+20;t.text(`Date: ${this.quoteForm.get("date")?.value||""}`,e-n-50,s),s+=7,t.text(`Payment Terms: ${this.quoteForm.get("paymentTerms")?.value||""}`,e-n-50,s),s+=7,t.text(`Due Date: ${this.quoteForm.get("dueDate")?.value||""}`,e-n-50,s),s+=7,t.text(`PO Number: ${this.quoteForm.get("poNumber")?.value||""}`,e-n-50,s),o(30),a+=10,t.setFontSize(12),t.setFont("helvetica","bold"),t.text("Items",n,a),a+=7;let d=0;this.hasExtraCost&&this.quoteRows.length>0&&(d=(parseFloat(this.quoteForm.get("extraCostValue")?.value)||0)/this.quoteRows.length),t.setFontSize(10),t.setFont("helvetica","bold"),t.text(this.quoteForm.get("itemHeader")?.value||"Item",n,a),t.text(this.quoteForm.get("quantityHeader")?.value||"Quantity",n+90,a),t.text(this.quoteForm.get("unitCostHeader")?.value||"Rate",n+110,a),t.text(this.quoteForm.get("amountHeader")?.value||"Amount",n+140,a),a+=5,t.line(n,a,n+r,a),a+=5,t.setFont("helvetica","normal"),this.quoteRows.controls.forEach(S=>{o(10);let w=S.get("description")?.value||"",O=S.get("quantity")?.value||0,G=S.get("unitPrice")?.value||0,ee=S.get("total")?.value||0;ee+=d,t.text(w,n,a,{maxWidth:80}),t.text(O.toString(),n+90,a),t.text(`$${G.toFixed(2)}`,n+110,a),t.text(`$${ee.toFixed(2)}`,n+140,a),a+=7}),o(50),a+=10;let m=this.getSubtotal(),h=this.getGrandTotal();if(m!==h&&(t.setFont("helvetica","bold"),t.text("Subtotal",n,a),t.text(`$${m.toFixed(2)}`,n+140,a),a+=7),this.hasTax){let S=parseFloat(this.quoteForm.get("taxValue")?.value)||0;t.setFont("helvetica","normal"),t.text("Tax",n,a),t.text(`${S}%`,n+140,a),a+=7}if(this.hasDiscount){let S=parseFloat(this.quoteForm.get("discountValue")?.value)||0;t.setFont("helvetica","normal"),t.text("Discount",n,a),t.text(`${S}%`,n+140,a),a+=7}if(this.hasFlatTotal){let S=parseFloat(this.quoteForm.get("flatTotalValue")?.value)||0;t.setFont("helvetica","normal"),t.text("Flat Total",n,a),t.text(`$${S.toFixed(2)}`,n+140,a),a+=7}t.setFont("helvetica","bold"),t.text("Total",n,a),t.text(`$${h.toFixed(2)}`,n+140,a),a+=7,o(30),a+=10,this.quoteForm.get("notes")?.value&&(t.setFont("helvetica","bold"),t.text(this.quoteForm.get("notesTitle")?.value||"Notes",n,a),a+=7,t.setFont("helvetica","normal"),t.text(this.quoteForm.get("notes")?.value||"",n,a,{maxWidth:r}),a+=15),this.quoteForm.get("terms")?.value&&(t.setFont("helvetica","bold"),t.text(this.quoteForm.get("termsTitle")?.value||"Terms",n,a),a+=7,t.setFont("helvetica","normal"),t.text(this.quoteForm.get("terms")?.value||"",n,a,{maxWidth:r}));let v=t.getNumberOfPages();for(let S=1;S<=v;S++)t.setPage(S),t.setFontSize(10),t.setTextColor(100),t.text(`Page ${S} of ${v}`,e-n-20,t.internal.pageSize.getHeight()-n-5);o(20);let _=t.internal.pageSize.getHeight()-n,g="Generated by ProBuildAI",D=t.getTextWidth(g);t.setFontSize(10),t.setTextColor(150),t.text(g,(e-D)/2,_);try{let S=new Image;S.src="/logo.png",yield new Promise((Ee,oe)=>{S.onload=Ee,S.onerror=oe});let w=document.createElement("canvas");w.width=S.width,w.height=S.height,w.getContext("2d")?.drawImage(S,0,0);let G=w.toDataURL("image/png"),ee=10,se=S.height*ee/S.width;t.addImage(G,"PNG",(e-D)/2-ee-2,_-se,ee,se)}catch(S){console.warn("Failed to load ProBuildAI logo:",S)}let E=this.quoteForm.get("number")?.value||"Quote";t.save(`${E}.pdf`)})}updateDatabase(t){return Yr(this,null,function*(){this.isSaving=!0;let e=this.quoteForm.getRawValue(),n={id:t,header:e.header||"",number:e.number||"",from:e.from||"",toTitle:e.toTitle||"",to:e.to||"",shipToTitle:e.shipToTitle||"",shipTo:e.shipTo||"",date:e.date||"",paymentTerms:e.paymentTerms||"",dueDate:e.dueDate||"",poNumber:e.poNumber||"",itemHeader:e.itemHeader||"",quantityHeader:e.quantityHeader||"",unitCostHeader:e.unitCostHeader||"",amountHeader:e.amountHeader||"",amountPaid:parseFloat(e.amountPaid)||0,extraCostValue:parseFloat(e.extraCostValue)||0,taxValue:parseFloat(e.taxValue)||0,discountValue:parseFloat(e.discountValue)||0,flatTotalValue:parseFloat(e.flatTotalValue)||0,notesTitle:e.notesTitle||"",notes:e.notes||"",termsTitle:e.termsTitle||"",terms:e.terms||"",rows:this.quoteRows.controls.map(r=>({id:0,quoteId:t,description:r.get("description")?.value||"",quantity:parseFloat(r.get("quantity")?.value)||0,unitPrice:parseFloat(r.get("unitPrice")?.value)||0,total:parseFloat(r.get("total")?.value)||0,quote:null})),total:this.getGrandTotal(),createdDate:new Date,extraCosts:[],createdBy:this.authService.currentUserSubject.value?.firstName||"Unknown",createdID:this.authService.currentUserSubject.value?.id||"Unknown",jobId:this.jobId};this.hasExtraCost&&n.extraCosts.push({type:"extraCost",value:parseFloat(this.quoteForm.get("extraCostValue")?.value)||0,title:"Extra Cost"}),this.hasTax&&n.extraCosts.push({type:"taxPercent",value:parseFloat(this.quoteForm.get("taxValue")?.value)||0,title:"Tax"}),this.hasDiscount&&n.extraCosts.push({type:"discount",value:parseFloat(this.quoteForm.get("discountValue")?.value)||0,title:"Discount"}),this.hasFlatTotal&&n.extraCosts.push({type:"flatTotal",value:parseFloat(this.quoteForm.get("flatTotalValue")?.value)||0,title:"Flat Total"}),this.quoteService.updateQuote(n).subscribe({next:r=>{console.log("Quote updated:",r),this.isSaving=!1,this.cdr.detectChanges()},error:r=>{console.error("Error updating quote:",r),this.isSaving=!1,this.cdr.detectChanges()}})})}static \u0275fac=function(e){return new(e||i)(k(Cn),k(xt),k(_a),k(Ii),k(Uo),k(hi),k(qm),k(o1),k(pn))};static \u0275cmp=fe({type:i,selectors:[["app-quote"]],viewQuery:function(e,n){if(e&1&&(Ue(NQ,5),Ue(FQ,5)),e&2){let r;be(r=ve())&&(n.quoteContent=r.first),be(r=ve())&&(n.fileInput=r.first)}},standalone:!0,features:[ft([Uo]),ye],decls:108,vars:23,consts:[["quoteContent",""],["fileInput",""],[1,"container"],[1,"fullcolumn"],[1,"professional-title"],[1,"section-divider"],[3,"formGroup"],[1,"row","header-section"],[1,"col-md-8"],[1,"logo","noselect"],["class","placeholder",3,"click",4,"ngIf"],["alt","Your Logo","class","logo-image",3,"src",4,"ngIf"],["type","file","accept","image/*","tabindex","12",1,"file-input",3,"change","disabled"],["mat-icon-button","","class","remove-logo","tabindex","13",3,"disabled","click",4,"ngIf"],[1,"col-md-4"],[1,"title"],["type","text","formControlName","header","placeholder","INVOICE","tabindex","10",1,"form-control","input-label","text-dark"],[1,"subtitle"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","text","formControlName","number","tabindex","11",1,"form-control","border-start-0","ps-0"],[1,"row","contact-details-section"],[1,"col-md-7"],["formControlName","from","placeholder","Who is this from?","rows","3",1,"form-control","form-control-sm"],[1,"row","mt-2"],[1,"col-md-6"],["type","text","formControlName","toTitle","placeholder","Bill To",1,"form-control","form-control-sm","mb-1"],["formControlName","to","placeholder","Who is this to?","rows","3",1,"form-control","form-control-sm"],["type","text","formControlName","shipToTitle","placeholder","Ship To",1,"form-control","form-control-sm","mb-1"],["formControlName","shipTo","placeholder","(optional)","rows","3",1,"form-control","form-control-sm"],[1,"col-md-5"],[1,"invoice-details"],["type","date","formControlName","date",1,"form-control","form-control-sm","mb-2"],["type","text","formControlName","paymentTerms",1,"form-control","form-control-sm","mb-2"],["type","date","formControlName","dueDate",1,"form-control","form-control-sm","mb-2"],["type","text","formControlName","poNumber",1,"form-control","form-control-sm"],[1,"items-holder","mt-4"],[1,"table-wrapper"],[1,"items-table-container","mat-elevation-z8",2,"box-shadow","none"],["mat-table","",1,"themed-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","unitPrice"],["matColumnDef","total"],["matColumnDef","remove"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-outline-primary","btn-sm","mt-2",3,"click","disabled"],[1,"material-icons"],[1,"row","footer-section","mt-4"],[1,"notes-holder"],["type","text","formControlName","notesTitle","placeholder","Notes",1,"form-control","form-control-sm","mb-1"],["formControlName","notes","placeholder","Additional notes...","rows","3",1,"form-control","form-control-sm"],[1,"terms-holder","mt-2"],["type","text","formControlName","termsTitle","placeholder","Terms",1,"form-control","form-control-sm","mb-1"],["formControlName","terms","placeholder","Terms and conditions...","rows","3",1,"form-control","form-control-sm"],[1,"totals-section"],[1,"d-flex","justify-content-between"],["class","d-flex justify-content-between mt-2",4,"ngIf"],[1,"extra-cost-buttons","mt-2"],["type","button","class","btn btn-link btn-sm",3,"disabled","click",4,"ngIf"],[1,"d-flex","justify-content-between","mt-3"],[1,"action-buttons","mt-4","d-flex","justify-content-between"],[4,"ngIf"],[1,"placeholder",3,"click"],[1,"main"],["alt","Your Logo",1,"logo-image",3,"src"],["mat-icon-button","","tabindex","13",1,"remove-logo",3,"click","disabled"],["mat-header-cell",""],["type","text","formControlName","itemHeader","placeholder","Item",1,"form-control","form-control-sm"],["mat-cell","",3,"formGroup"],["formControlName","description","placeholder","Description...","rows","2",1,"form-control","form-control-sm"],["type","text","formControlName","quantityHeader","placeholder","Quantity",1,"form-control","form-control-sm"],["type","number","formControlName","quantity","min","1",1,"form-control","form-control-sm"],["type","text","formControlName","unitCostHeader","placeholder","Rate",1,"form-control","form-control-sm"],["type","number","formControlName","unitPrice","min","0","step","any",1,"form-control","form-control-sm"],["type","text","formControlName","amountHeader","placeholder","Amount",1,"form-control","form-control-sm"],["mat-cell",""],["type","button","class","icon-btn",3,"disabled","click",4,"ngIf"],["type","button",1,"icon-btn",3,"click","disabled"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-between","mt-2"],["formControlName","extraCostValue","type","number","step","any",1,"form-control","form-control-sm","d-inline-block","w-auto"],["svgIcon","trash"],["formControlName","taxValue","type","number","step","any",1,"form-control","form-control-sm","d-inline-block","w-auto"],["formControlName","discountValue","type","number","step","any",1,"form-control","form-control-sm","d-inline-block","w-auto"],["formControlName","flatTotalValue","type","number","step","any",1,"form-control","form-control-sm","d-inline-block","w-auto"],["type","button",1,"btn","btn-link","btn-sm",3,"click","disabled"],["type","button",1,"btn","btn-success","me-2",3,"click","disabled"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["type","button",1,"btn","btn-secondary","me-2",3,"click","disabled"],["type","button",1,"btn","btn-primary","me-2",3,"click","disabled"]],template:function(e,n){if(e&1){let r=ge();l(0,"div",2)(1,"div",3)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title",4),u(5,"Job Quote"),c()(),l(6,"mat-card-content"),F(7,"mat-divider",5),l(8,"form",6,0)(10,"div",7)(11,"div",8)(12,"div",9),I(13,jQ,5,0,"div",10)(14,BQ,1,1,"img",11),l(15,"input",12,1),z("change",function(o){return q(r),W(n.onLogoChange(o))}),c(),I(17,VQ,3,1,"button",13),c()(),l(18,"div",14)(19,"div",15),F(20,"input",16),l(21,"div",17)(22,"div",18)(23,"span",19),u(24,"#"),c(),F(25,"input",20),c()()()()(),l(26,"div",21)(27,"div",22),F(28,"textarea",23),l(29,"div",24)(30,"div",25),F(31,"input",26)(32,"textarea",27),c(),l(33,"div",25),F(34,"input",28)(35,"textarea",29),c()()(),l(36,"div",30)(37,"div",31)(38,"label"),u(39,"Date"),c(),F(40,"input",32),l(41,"label"),u(42,"Payment Terms"),c(),F(43,"input",33),l(44,"label"),u(45,"Due Date"),c(),F(46,"input",34),l(47,"label"),u(48,"PO Number"),c(),F(49,"input",35),c()()(),l(50,"div",36)(51,"div",37)(52,"div",38)(53,"table",39),Je(54,40),I(55,zQ,2,0,"th",41)(56,HQ,2,1,"td",42),Ke(),Je(57,43),I(58,UQ,2,0,"th",41)(59,qQ,2,1,"td",42),Ke(),Je(60,44),I(61,WQ,2,0,"th",41)(62,GQ,2,1,"td",42),Ke(),Je(63,45),I(64,$Q,2,0,"th",41)(65,YQ,2,2,"td",42),Ke(),Je(66,46),I(67,QQ,1,0,"th",41)(68,KQ,2,1,"td",47),Ke(),I(69,XQ,1,0,"tr",48)(70,ZQ,1,0,"tr",49),c()()(),l(71,"button",50),z("click",function(){return q(r),W(n.addRow())}),l(72,"span",51),u(73,"add"),c(),u(74," Line Item "),c()(),l(75,"div",52)(76,"div",25)(77,"div",53),F(78,"input",54)(79,"textarea",55),c(),l(80,"div",56),F(81,"input",57)(82,"textarea",58),c()(),l(83,"div",25)(84,"div",59)(85,"div",60)(86,"label"),u(87,"Subtotal"),c(),l(88,"div"),u(89),c()(),I(90,eJ,7,1,"div",61)(91,tJ,7,1,"div",61)(92,iJ,7,1,"div",61)(93,nJ,7,1,"div",61),l(94,"div",62),I(95,rJ,2,1,"button",63)(96,aJ,2,1,"button",63)(97,oJ,2,1,"button",63)(98,sJ,2,1,"button",63),c(),l(99,"div",64)(100,"label"),u(101,"Total"),c(),l(102,"div"),u(103),c()()()()(),l(104,"div",65),I(105,lJ,5,2,"div",66)(106,cJ,3,1,"div",66)(107,dJ,7,3,"div",66),c()()()()()()}if(e&2){let r,a,o;b(8),C("formGroup",n.quoteForm),b(5),C("ngIf",!n.logoUrl),b(),C("ngIf",n.logoUrl),b(),C("disabled",n.readOnly),b(2),C("ngIf",n.logoUrl),b(36),C("dataSource",n.dataSource),b(16),C("matHeaderRowDef",n.displayedColumns),b(),C("matRowDefColumns",n.displayedColumns),b(),C("disabled",n.readOnly),b(18),Ce("$",n.getSubtotal().toFixed(2),""),b(),C("ngIf",n.hasExtraCost),b(),C("ngIf",n.hasTax),b(),C("ngIf",n.hasDiscount),b(),C("ngIf",n.hasFlatTotal),b(2),C("ngIf",!n.hasExtraCost),b(),C("ngIf",!n.hasTax),b(),C("ngIf",!n.hasDiscount),b(),C("ngIf",!n.hasFlatTotal),b(5),Ce("$",n.getGrandTotal().toFixed(2),""),b(2),C("ngIf",!n.isOwnQuote&&((r=n.quoteForm.get("status"))==null?null:r.value)==="Submitted"),b(),C("ngIf",((a=n.quoteForm.get("status"))==null?null:a.value)==="Rejected"),b(),C("ngIf",!Ga(22,LQ).includes((o=n.quoteForm.get("status"))==null?null:o.value))}},dependencies:[Pi,mn,xn,Fs,pi,Ki,Iu,Xi,Vn,wn,Bi,Li,nn,rn,ji,vi,Vi,zt,zr,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,Lr,zn,Fr,Jn,un,S0,Pt,li,Da],styles:[".container[_ngcontent-%COMP%]{width:95vw!important;margin:2rem auto;padding:24px}.quote-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #61a0af;box-shadow:0 2px 4px #0000000d;border-radius:8px;padding:16px;height:auto}.quote-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.quote-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#fcd02d;border-top-left-radius:8px;border-top-right-radius:8px;padding:16px}.quote-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:12px}.quote-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;border:none;height:2px;margin:16px 0}mat-card-content[_ngcontent-%COMP%]{margin-top:16px}.form-row[_ngcontent-%COMP%], .contact-row[_ngcontent-%COMP%], .item-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{flex:1;min-width:0}mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;border-radius:6px;border:1px solid #61a0af}mat-form-field[_ngcontent-%COMP%]     .mdc-floating-label{position:static!important;font-size:.9rem;color:#333}mat-form-field[_ngcontent-%COMP%]     .mdc-text-field .mdc-floating-label{transform:translateY(-60%)!important}textarea.mat-input-element[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{min-height:80px;border:1px solid #61a0af;border-radius:6px;padding:8px;resize:vertical}input.form-control[_ngcontent-%COMP%], input.form-control-sm[_ngcontent-%COMP%]{border:1px solid #61a0af;border-radius:6px;padding:8px;font-size:.9rem;color:#333}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border:1px solid #61a0af;border-right:none;border-radius:6px 0 0 6px;padding:8px;background-color:#f9fcfc}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-left:none;border-radius:0 6px 6px 0}.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.items-table-container[_ngcontent-%COMP%]{width:100%;max-width:100%;background-color:#fff;border-radius:8px;padding:1rem;overflow-y:auto}.themed-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:auto}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #d9d9d9;color:#333;box-sizing:border-box}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fbd008;font-weight:500;text-align:left;border-bottom:2px solid #d9d9d9}.themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.themed-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=description][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=description][_ngcontent-%COMP%]{width:40%;min-width:200px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=quantity][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=quantity][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=unitPrice][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=unitPrice][_ngcontent-%COMP%]{width:15%;min-width:100px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=total][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=total][_ngcontent-%COMP%]{width:20%;min-width:120px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=remove][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=remove][_ngcontent-%COMP%]{width:10%;min-width:50px}.themed-table[_ngcontent-%COMP%]   input.form-control-sm[_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   textarea.form-control-sm[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.mat-mdc-table[_ngcontent-%COMP%]{background-color:#fff}.totals-section[_ngcontent-%COMP%]{background:#f9fcfc;padding:16px;border-radius:8px;margin-top:20px;font-weight:500;color:#333}.totals-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:8px}.totals-section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.extra-cost-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.extra-cost-buttons[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:.8rem;padding:2px 8px;background-color:#fbd008;color:#333;border-radius:4px;line-height:1.2;transition:background-color .3s ease}.extra-cost-buttons[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{background-color:#e6bf00}.action-section[_ngcontent-%COMP%]{margin-top:32px;text-align:right}button.mat-raised-button[_ngcontent-%COMP%], button.btn[_ngcontent-%COMP%]{background-color:#fbd008;transition:background Lawyer;color:#333;border-radius:8px;padding:10px 20px;font-weight:500;transition:background-color .3s ease;min-width:120px}button.mat-raised-button[_ngcontent-%COMP%]:hover, button.btn[_ngcontent-%COMP%]:hover{background-color:#e6bf00}button.mat-raised-button[disabled][_ngcontent-%COMP%], button.btn[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}button.btn-outline-primary[_ngcontent-%COMP%]{border:1px solid #61a0af;color:#61a0af;background-color:transparent;padding:8px 16px}button.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#e8f1f4}button[mat-icon-button][_ngcontent-%COMP%]{color:#333;width:36px;height:36px;line-height:36px}button[mat-icon-button][_ngcontent-%COMP%]:hover{color:#61a0af}button.icon-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;color:#333;cursor:pointer}button.icon-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}button.icon-btn[_ngcontent-%COMP%]:hover{color:#61a0af}.placeholder[_ngcontent-%COMP%]{width:120px;height:120px;border:2px dashed #61a0af;display:flex;justify-content:center;align-items:center;cursor:pointer;margin-bottom:12px;font-size:14px;color:#333;background-color:#fff;border-radius:6px}.logo-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.logo-image[_ngcontent-%COMP%]{max-height:100px;max-width:200px;margin-bottom:8px;border-radius:6px}.file-input[_ngcontent-%COMP%]{display:none}.amount[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-left:8px;color:#333}@media print{.container[_ngcontent-%COMP%]{width:100%!important;margin:0;padding:10mm}button[_ngcontent-%COMP%], .file-input[_ngcontent-%COMP%], .btn-link[_ngcontent-%COMP%], .remove-logo[_ngcontent-%COMP%]{display:none!important}.items-table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:transparent}button.mat-raised-button[_ngcontent-%COMP%], button.btn[_ngcontent-%COMP%], button.btn-outline-primary[_ngcontent-%COMP%], button[mat-icon-button][_ngcontent-%COMP%], button.icon-btn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px}.form-row[_ngcontent-%COMP%], .contact-row[_ngcontent-%COMP%], .item-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}mat-form-field[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]{min-width:100%}.items-table-container[_ngcontent-%COMP%]{padding:.5rem}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;padding:6px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=description][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=description][_ngcontent-%COMP%]{width:100%;min-width:150px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=quantity][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=quantity][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=unitPrice][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=unitPrice][_ngcontent-%COMP%]{width:100%;min-width:80px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=total][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=total][_ngcontent-%COMP%]{width:100%;min-width:100px}.themed-table[_ngcontent-%COMP%]   th[mat-header-cell][matColumnDef=remove][_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[mat-cell][matColumnDef=remove][_ngcontent-%COMP%]{width:100%;min-width:40px}button.mat-raised-button[_ngcontent-%COMP%], button.btn[_ngcontent-%COMP%]{padding:8px 16px;min-width:100px}.quote-card[_ngcontent-%COMP%]{padding:12px}mat-card-title[_ngcontent-%COMP%]{font-size:1.2rem}.logo-container[_ngcontent-%COMP%]{align-items:center}.extra-cost-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}"]})};function uJ(i,t){i&1&&(l(0,"th",11),u(1,"Quote Number"),c())}function mJ(i,t){if(i&1&&(l(0,"td",12),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.number||"N/A")}}function pJ(i,t){i&1&&(l(0,"th",11),u(1,"Created By"),c())}function hJ(i,t){if(i&1&&(l(0,"td",12),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.createdBy||"Unknown")}}function fJ(i,t){i&1&&(l(0,"th",11),u(1,"Date Created"),c())}function gJ(i,t){if(i&1&&(l(0,"td",12),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.createdDate)}}function bJ(i,t){i&1&&(l(0,"th",11),u(1,"Total"),c())}function vJ(i,t){if(i&1&&(l(0,"td",12),u(1),c()),i&2){let e=t.$implicit;b(),Ce("$",e.total.toFixed(2),"")}}function _J(i,t){i&1&&(l(0,"th",11),u(1,"Actions"),c())}function yJ(i,t){if(i&1){let e=ge();l(0,"td",12)(1,"button",13),z("click",function(){let r=q(e).$implicit,a=P();return W(a.openQuote(r.id))}),l(2,"mat-icon"),u(3,"edit"),c()()()}}function xJ(i,t){i&1&&F(0,"tr",14)}function CJ(i,t){i&1&&F(0,"tr",15)}var rf=class i{constructor(t,e){this.quoteService=t;this.router=e}displayedColumns=["number","createdBy","createdDate","total","actions"];dataSource=new ca([]);ngOnInit(){this.loadQuotes()}loadQuotes(){console.log("Fetching quotes..."),this.quoteService.getAllQuotes().subscribe({next:t=>{console.log("Quotes received:",t),this.dataSource.data=t||[],console.log("DataSource after update:",this.dataSource.data)},error:t=>{console.error("Error loading quotes:",t)}})}openQuote(t){console.log("Attempting to open quote with ID:",t),this.router.navigate(["/quote"],{queryParams:{quoteId:t}})}static \u0275fac=function(e){return new(e||i)(k(Uo),k(Ii))};static \u0275cmp=fe({type:i,selectors:[["app-quotes-list"]],standalone:!0,features:[ft([Uo]),ye],decls:24,vars:3,consts:[[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","number"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","createdDate"],["matColumnDef","total"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){e&1&&(l(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),u(4,"My Quotes"),c()(),l(5,"mat-card-content")(6,"table",1),Je(7,2),I(8,uJ,2,0,"th",3)(9,mJ,2,1,"td",4),Ke(),Je(10,5),I(11,pJ,2,0,"th",3)(12,hJ,2,1,"td",4),Ke(),Je(13,6),I(14,fJ,2,0,"th",3)(15,gJ,2,1,"td",4),Ke(),Je(16,7),I(17,bJ,2,0,"th",3)(18,vJ,2,1,"td",4),Ke(),Je(19,8),I(20,_J,2,0,"th",3)(21,yJ,4,0,"td",4),Ke(),I(22,xJ,1,0,"tr",9)(23,CJ,1,0,"tr",10),c()()()()),e&2&&(b(6),C("dataSource",n.dataSource),b(16),C("matHeaderRowDef",n.displayedColumns),b(),C("matRowDefColumns",n.displayedColumns))},dependencies:[ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,zt,zr,Bi,Li,nn,rn,ji,ag,zn,Fr],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}mat-card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px}mat-card-title[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:500}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #333333}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#ffc107;color:#333;font-weight:500}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333}table[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#00acc1}table[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:hover{background-color:#8ef3ff}"]})};var Gm=class i{jobDetails={title:"Website Development Project",description:"Develop a responsive website for a small business, including a homepage, about page, and contact form.",budget:5e3,deadline:"2025-06-01"};userBids=[];getJobDetails(){return this.jobDetails}getUserBids(){return this.userBids}submitBid(t){this.userBids.push(t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=nt({token:i,factory:i.\u0275fac})};function SJ(i,t){i&1&&(l(0,"mat-error"),u(1," Bid amount is required "),c())}function MJ(i,t){i&1&&(l(0,"mat-error"),u(1," Bid amount must be non-negative "),c())}function kJ(i,t){i&1&&(l(0,"th",27),u(1,"Amount"),c())}function DJ(i,t){if(i&1&&(l(0,"td",28),u(1),c()),i&2){let e=t.$implicit;b(),Ce("$",e.amount.toFixed(2),"")}}function EJ(i,t){i&1&&(l(0,"th",27),u(1,"Notes"),c())}function AJ(i,t){if(i&1&&(l(0,"td",28),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.notes||"-")}}function IJ(i,t){i&1&&(l(0,"th",27),u(1,"Submitted At"),c())}function PJ(i,t){if(i&1&&(l(0,"td",28),u(1),c()),i&2){let e=t.$implicit;b(),xe(e.submittedAt)}}function TJ(i,t){i&1&&F(0,"tr",29)}function OJ(i,t){i&1&&F(0,"tr",30)}function RJ(i,t){if(i&1&&(l(0,"div",17)(1,"h3"),u(2,"Your Bids"),c(),l(3,"div",18)(4,"table",19),Je(5,20),I(6,kJ,2,0,"th",21)(7,DJ,2,1,"td",22),Ke(),Je(8,23),I(9,EJ,2,0,"th",21)(10,AJ,2,1,"td",22),Ke(),Je(11,24),I(12,IJ,2,0,"th",21)(13,PJ,2,1,"td",22),Ke(),I(14,TJ,1,0,"tr",25)(15,OJ,1,0,"tr",26),c()()()),i&2){let e=P();b(4),C("dataSource",e.dataSource),b(10),C("matHeaderRowDef",e.displayedColumns),b(),C("matRowDefColumns",e.displayedColumns)}}var af=class i{constructor(t,e){this.fb=t;this.bidService=e;this.bidForm=this.fb.group({amount:["",[et.required,et.min(0)]],notes:[""]})}bidForm;jobDetails;dataSource=new ca([]);displayedColumns=["amount","notes","submittedAt"];isSubmitting=!1;ngOnInit(){this.jobDetails=this.bidService.getJobDetails(),this.loadUserBids()}loadUserBids(){let t=this.bidService.getUserBids();this.dataSource.data=t}onSubmit(){if(this.bidForm.invalid)return;this.isSubmitting=!0;let t={amount:this.bidForm.get("amount")?.value,notes:this.bidForm.get("notes")?.value,submittedAt:new Date().toISOString()};this.bidService.submitBid(t),this.loadUserBids(),this.bidForm.reset(),this.isSubmitting=!1}static \u0275fac=function(e){return new(e||i)(k(Cn),k(Gm))};static \u0275cmp=fe({type:i,selectors:[["app-bid"]],standalone:!0,features:[ft([Gm]),ye],decls:52,vars:9,consts:[[1,"container"],[1,"fullcolumn"],[1,"professional-title"],[1,"section-divider"],[1,"job-details-section"],[1,"row"],[1,"col-md-6"],[3,"ngSubmit","formGroup"],[1,"col-md-4"],["appearance","fill",1,"w-100"],["matInput","","type","number","formControlName","amount","min","0","step","any","required",""],[4,"ngIf"],[1,"col-md-8"],["matInput","","formControlName","notes","rows","2","placeholder","Additional notes about your bid..."],[1,"action-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","bids-table-section",4,"ngIf"],[1,"bids-table-section"],[1,"table-wrapper"],["mat-table","",1,"themed-table",3,"dataSource"],["matColumnDef","amount"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","notes"],["matColumnDef","submittedAt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,n){if(e&1&&(l(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title",2),u(5,"Bid on Job"),c()(),l(6,"mat-card-content"),F(7,"mat-divider",3),l(8,"div",4)(9,"h3"),u(10,"Job Details"),c(),l(11,"div",5)(12,"div",6)(13,"p")(14,"strong"),u(15,"Title:"),c(),u(16),c(),l(17,"p")(18,"strong"),u(19,"Description:"),c(),u(20),c()(),l(21,"div",6)(22,"p")(23,"strong"),u(24,"Budget:"),c(),u(25),c(),l(26,"p")(27,"strong"),u(28,"Deadline:"),c(),u(29),c()()()(),F(30,"mat-divider",3),l(31,"form",7),z("ngSubmit",function(){return n.onSubmit()}),l(32,"h3"),u(33,"Submit Your Bid"),c(),l(34,"div",5)(35,"div",8)(36,"mat-form-field",9)(37,"mat-label"),u(38,"Bid Amount ($)"),c(),F(39,"input",10),I(40,SJ,2,0,"mat-error",11)(41,MJ,2,0,"mat-error",11),c()(),l(42,"div",12)(43,"mat-form-field",9)(44,"mat-label"),u(45,"Notes (Optional)"),c(),F(46,"textarea",13),c()()(),l(47,"div",14)(48,"button",15),u(49," Submit Bid "),c()()(),F(50,"mat-divider",3),I(51,RJ,16,3,"div",16),c()()()()),e&2){let r,a;b(16),Ce(" ",n.jobDetails==null?null:n.jobDetails.title,""),b(4),Ce(" ",n.jobDetails==null?null:n.jobDetails.description,""),b(5),Ce(" $",n.jobDetails==null?null:n.jobDetails.budget.toFixed(2),""),b(4),Ce(" ",n.jobDetails==null?null:n.jobDetails.deadline,""),b(2),C("formGroup",n.bidForm),b(9),C("ngIf",(r=n.bidForm.get("amount"))==null?null:r.hasError("required")),b(),C("ngIf",(a=n.bidForm.get("amount"))==null?null:a.hasError("min")),b(7),C("disabled",n.isSubmitting||n.bidForm.invalid),b(3),C("ngIf",n.dataSource.data.length>0)}},dependencies:[Pi,mn,xn,Fs,pi,Ki,io,Iu,Xi,Vn,wn,Bi,Li,nn,rn,ji,vi,hn,Mn,Ma,Vi,gr,zt,Nt,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,Jn,un,Pt],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.fullcolumn[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{margin-bottom:20px;box-shadow:0 2px 5px #0000001a}.professional-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#333}.section-divider[_ngcontent-%COMP%]{margin:20px 0}.job-details-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .bids-table-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:15px}.job-details-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:15px}mat-form-field[_ngcontent-%COMP%]{width:100%}.action-buttons[_ngcontent-%COMP%]{margin-top:20px;text-align:right}button[mat-raised-button][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}button[mat-raised-button][disabled][_ngcontent-%COMP%]{background-color:#ccc}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.themed-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .themed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd}.themed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:500}.themed-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}"]})};var NJ=["determinateSpinner"];function FJ(i,t){if(i&1&&(xi(),l(0,"svg",11),F(1,"circle",12),c()),i&2){let e=P();at("viewBox",e._viewBox()),b(),Qn("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),at("r",e._circleRadius())}}var LJ=new yt("mat-progress-spinner-default-options",{providedIn:"root",factory:jJ});function jJ(){return{diameter:ZP}}var ZP=100,BJ=10,eT=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,n,r){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=ZP,this._noopAnimations=n==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-BJ)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(n){return new(n||i)(k(_t),k(dr,8),k(LJ))}}static{this.\u0275cmp=fe({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&Ue(NJ,5),n&2){let a;be(a=ve())&&(r._determinateCircle=a.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(at("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),wr("mat-"+r.color),Qn("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Qe("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Wn],diameter:[2,"diameter","diameter",Wn],strokeWidth:[2,"strokeWidth","strokeWidth",Wn]},exportAs:["matProgressSpinner"],standalone:!0,features:[qt,ye],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(I(0,FJ,2,8,"ng-template",null,0,ur),l(2,"div",2,1),xi(),l(4,"svg",3),F(5,"circle",4),c()(),Rr(),l(6,"div",5)(7,"div",6)(8,"div",7),qn(9,8),c(),l(10,"div",9),qn(11,8),c(),l(12,"div",10),qn(13,8),c()()()),n&2){let a=Vt(1);b(4),at("viewBox",r._viewBox()),b(),Qn("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),at("r",r._circleRadius()),b(4),C("ngTemplateOutlet",a),b(2),C("ngTemplateOutlet",a),b(2),C("ngTemplateOutlet",a)}},dependencies:[xu],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return i})();var s1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Kt({type:i})}static{this.\u0275inj=Jt({imports:[Dt,$t]})}}return i})();var zJ=["documentsDialog"],HJ=["billOfMaterialsDialog"],UJ=(i,t,e,n)=>({published:i,discarded:t,draft:e,selected:n}),qJ=i=>({deleted:i});function WJ(i,t){if(i&1&&(l(0,"div",11)(1,"p"),u(2),c()()),i&2){let e=P();b(2),xe(e.errorMessage)}}function GJ(i,t){i&1&&(l(0,"div",12),F(1,"mat-spinner"),l(2,"p"),u(3,"Loading jobs..."),c()())}function $J(i,t){if(i&1){let e=ge();l(0,"tr",16),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.selectJobFromTable(r))}),l(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),u(8),dt(9,"date"),c()()}if(i&2){let e=t.$implicit,n=P(2);C("ngClass",_u(8,UJ,e.status==="PUBLISHED",e.status==="DISCARDED",e.status==="NEW",(n.selectedJob==null?null:n.selectedJob.Id)===e.id)),b(2),xe(e.projectName),b(2),xe(e.jobType),b(2),xe(e.status),b(2),xe(yn(9,5,e.desiredStartDate,"yyyy-MM-dd"))}}function YJ(i,t){if(i&1&&(l(0,"div",13)(1,"div",14)(2,"table")(3,"thead")(4,"tr")(5,"th"),u(6,"Project"),c(),l(7,"th"),u(8,"Job Type"),c(),l(9,"th"),u(10,"Job Status"),c(),l(11,"th"),u(12,"Start Date"),c()()(),l(13,"tbody"),I(14,$J,10,13,"tr",15),c()()()()),i&2){let e=P();b(14),C("ngForOf",e.jobList)}}function QJ(i,t){i&1&&(l(0,"div",17),u(1," No jobs to display. "),c())}function JJ(i,t){i&1&&(l(0,"div",12),F(1,"mat-spinner"),l(2,"p"),u(3,"Loading job details..."),c()())}function KJ(i,t){i&1&&(l(0,"div",26)(1,"p"),u(2,"No subtasks available for this job."),c()())}function XJ(i,t){if(i&1){let e=ge();l(0,"tr",33)(1,"td")(2,"mat-checkbox",34),jn("ngModelChange",function(r){let a=q(e).$implicit;return Ln(a.selected,r)||(a.selected=r),W(r)}),z("change",function(){let r=q(e).$implicit,a=P().$implicit,o=P(4);return W(o.toggleSubtaskSelection(r,a.title))}),c()(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),u(8),c(),l(9,"td"),u(10),c(),l(11,"td"),u(12),c(),l(13,"td")(14,"button",35),z("click",function(){let r=q(e).$implicit,a=P(5);return W(a.createQuoteForSubtask(r))}),u(15," Quote "),c()()()}if(i&2){let e=t.$implicit;C("ngClass",as(7,qJ,e.deleted)),b(2),Fn("ngModel",e.selected),b(2),xe(e.task),b(2),xe(e.days),b(2),xe(e.startDate),b(2),xe(e.endDate),b(2),xe(e.status||"Pending")}}function ZJ(i,t){if(i&1&&(l(0,"div",29)(1,"div",30)(2,"h3"),u(3),c()(),l(4,"table",31)(5,"thead")(6,"tr")(7,"th"),u(8,"Select"),c(),l(9,"th"),u(10,"Task"),c(),l(11,"th"),u(12,"Days"),c(),l(13,"th"),u(14,"Start Date"),c(),l(15,"th"),u(16,"End Date"),c(),l(17,"th"),u(18,"Task Status"),c(),l(19,"th"),u(20,"Actions"),c()()(),l(21,"tbody"),I(22,XJ,16,9,"tr",32),c()()()),i&2){let e=t.$implicit;b(3),xe(e.title),b(19),C("ngForOf",e.subtasks)}}function eK(i,t){if(i&1&&(l(0,"div",27),I(1,ZJ,23,2,"div",28),c()),i&2){let e=P(3);b(),C("ngForOf",e.subtaskGroups)}}function tK(i,t){if(i&1){let e=ge();l(0,"div")(1,"div",21)(2,"p")(3,"strong"),u(4,"Start Date:"),c(),u(5),dt(6,"date"),c(),l(7,"p")(8,"strong"),u(9,"Address:"),c(),u(10),c()(),l(11,"mat-card-title"),u(12,"Tasks and Subtasks"),c(),F(13,"mat-divider"),I(14,KJ,3,0,"div",22)(15,eK,2,1,"div",23),l(16,"div",24)(17,"button",25),z("click",function(){q(e);let r=P(2);return W(r.openDocumentsDialog())}),u(18," View Documents "),c(),l(19,"button",25),z("click",function(){q(e);let r=P(2);return W(r.openBillOfMaterialsDialog())}),u(20," View Bill of Materials "),c(),l(21,"button",25),z("click",function(){q(e);let r=P(2);return W(r.createQuoteForSelectedSubtasks())}),u(22," Quote On Selection(s) "),c()()()}if(i&2){let e=P(2);b(5),Ce(" ",yn(6,4,e.selectedJob.desiredStartDate,"yyyy-MM-dd"),""),b(5),Ce(" ",e.selectedJob.address||"N/A",""),b(4),C("ngIf",e.subtaskGroups.length===0&&!e.isLoading),b(),C("ngIf",e.subtaskGroups.length>0)}}function iK(i,t){if(i&1&&(l(0,"div",18)(1,"mat-card",19)(2,"mat-card-header")(3,"mat-card-title"),u(4),c()(),l(5,"mat-card-content"),F(6,"mat-divider"),I(7,JJ,4,0,"div",6)(8,tK,23,7,"div",20),c()()()),i&2){let e=P();b(4),Ce("Job: ",e.selectedJob.ProjectName,""),b(3),C("ngIf",e.isLoading),b(),C("ngIf",!e.isLoading)}}function nK(i,t){i&1&&(l(0,"div",40),F(1,"mat-spinner"),l(2,"p"),u(3,"Loading documents..."),c()())}function rK(i,t){i&1&&(l(0,"div",43)(1,"p"),u(2,"No documents available for this quote."),c()())}function aK(i,t){if(i&1&&(l(0,"div",43)(1,"p"),u(2),c()()),i&2){let e=P(3);b(2),xe(e.documentsError)}}function oK(i,t){if(i&1){let e=ge();l(0,"div",46)(1,"div",47)(2,"span",48),u(3),c(),l(4,"span",49),u(5),dt(6,"filesize"),c()(),l(7,"button",50),z("click",function(){let r=q(e).$implicit,a=P(4);return W(a.viewDocument(r))}),u(8," View "),c()()}if(i&2){let e=t.$implicit;b(3),xe(e.name),b(2),ir("",e.type," - ",Wt(6,3,e.size),"")}}function sK(i,t){if(i&1&&(l(0,"div",44),I(1,oK,9,5,"div",45),c()),i&2){let e=P(3);b(),C("ngForOf",e.documents)}}function lK(i,t){if(i&1&&(l(0,"div"),I(1,rK,3,0,"div",41)(2,aK,3,1,"div",41)(3,sK,2,1,"div",42),c()),i&2){let e=P(2);b(),C("ngIf",e.documents.length===0&&!e.documentsError),b(),C("ngIf",e.documentsError),b(),C("ngIf",e.documents.length>0)}}function cK(i,t){if(i&1){let e=ge();l(0,"div",36)(1,"h2",37),u(2,"Quote Documents"),c(),l(3,"mat-dialog-content"),I(4,nK,4,0,"div",38)(5,lK,4,3,"div",20),c(),l(6,"mat-dialog-actions")(7,"button",39),z("click",function(){q(e);let r=P();return W(r.closeDocumentsDialog())}),u(8,"Close"),c()()()}if(i&2){let e=P();b(4),C("ngIf",e.isDocumentsLoading),b(),C("ngIf",!e.isDocumentsLoading)}}function dK(i,t){i&1&&(l(0,"div",40),F(1,"mat-spinner"),l(2,"p"),u(3,"Loading processing results..."),c()())}function uK(i,t){if(i&1&&(l(0,"div",43)(1,"p"),u(2),c()()),i&2){let e=P(3);at("error",e.bomError?"":null),b(2),xe(e.bomError||"No document processing results available.")}}function mK(i,t){if(i&1&&F(0,"p",66),i&2){let e=t.$implicit;C("innerHTML",e,eg)}}function pK(i,t){if(i&1&&(l(0,"div",64),I(1,mK,1,1,"p",65),c()),i&2){let e=P().$implicit;b(),C("ngForOf",e.content)}}function hK(i,t){if(i&1&&(l(0,"li"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e)}}function fK(i,t){if(i&1&&(l(0,"div",67)(1,"ul"),I(2,hK,2,1,"li",68),c()()),i&2){let e=P().$implicit;b(2),C("ngForOf",e.content)}}function gK(i,t){if(i&1&&(l(0,"th"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e)}}function bK(i,t){if(i&1&&(l(0,"td"),u(1),c()),i&2){let e=t.$implicit;b(),xe(e)}}function vK(i,t){if(i&1&&(l(0,"tr"),I(1,bK,2,1,"td",68),c()),i&2){let e=t.$implicit;b(),C("ngForOf",e)}}function _K(i,t){if(i&1&&(l(0,"div",69)(1,"table",31)(2,"thead")(3,"tr"),I(4,gK,2,1,"th",68),c()(),l(5,"tbody"),I(6,vK,2,1,"tr",68),c()()()),i&2){let e=P().$implicit;b(4),C("ngForOf",e.headers),b(2),C("ngForOf",e.content)}}function yK(i,t){if(i&1&&(l(0,"div",58)(1,"h3",59),u(2),c(),l(3,"div",60),I(4,pK,2,1,"div",61)(5,fK,3,1,"div",62)(6,_K,7,2,"div",63),c()()),i&2){let e=t.$implicit;b(2),xe(e.title),b(2),C("ngIf",e.type==="text"),b(),C("ngIf",e.type==="list"),b(),C("ngIf",e.type==="table")}}function xK(i,t){if(i&1&&(l(0,"div",56),I(1,yK,7,4,"div",57),c()),i&2){let e=t.$implicit;b(),C("ngForOf",e.parsedReport.sections)}}function CK(i,t){if(i&1&&(l(0,"div",54),I(1,xK,2,1,"div",55),c()),i&2){let e=P(3);b(),C("ngForOf",e.processingResults)}}function wK(i,t){if(i&1&&(l(0,"div"),I(1,uK,3,2,"div",41)(2,CK,2,1,"div",53),c()),i&2){let e=P(2);b(),C("ngIf",e.processingResults.length===0||e.bomError),b(),C("ngIf",e.processingResults.length>0&&!e.bomError)}}function SK(i,t){if(i&1){let e=ge();l(0,"div",51)(1,"h2",37),u(2,"Document Processing Results"),c(),l(3,"mat-dialog-content",52),I(4,dK,4,0,"div",38)(5,wK,3,2,"div",20),c(),l(6,"mat-dialog-actions")(7,"button",39),z("click",function(){q(e);let r=P();return W(r.closeBillOfMaterialsDialog())}),u(8,"Close"),c()()()}if(i&2){let e=P();b(4),C("ngIf",e.isBomLoading),b(),C("ngIf",!e.isBomLoading)}}function MK(i,t){if(i&1){let e=ge();l(0,"div",70)(1,"div",71)(2,"p"),u(3),c(),l(4,"button",72),z("click",function(){q(e);let r=P();return W(r.closeAlert())}),u(5,"OK"),c()()()}if(i&2){let e=P();b(3),xe(e.alertMessage)}}var of=class i{constructor(t,e,n,r,a,o){this.router=t;this.cdr=e;this.jobService=n;this.dialog=r;this.snackBar=a;this.quoteDataService=o}documentsDialog;billOfMaterialsDialog;jobs=[];selectedJob=null;subtaskGroups=[];selectedSubtasks=[];selectedTableTitle=null;isLoading=!1;selectedGroupTitle=null;errorMessage="";jobListFull=[];jobList=[];documents=[];documentsError=null;isDocumentsLoading=!1;isBomLoading=!1;bomError=null;processingResults=[];showAlert=!1;alertMessage="";dummyJobs=[{Id:"1",ProjectName:"Residential Build A",FoundationSubtask:JSON.stringify([{task:"Concrete Pouring",cost:5e3,days:5},{task:"Footing Installation",cost:3e3,days:3}]),WallInsulationSubtask:JSON.stringify([{task:"Fiberglass Insulation",cost:2e3,days:2}]),WallStructureSubtask:JSON.stringify([{task:"Wood Framing",cost:4e3,days:4}]),ElectricalSupplyNeedsSubtask:JSON.stringify([{task:"Wiring Installation",cost:2500,days:3}]),RoofInsulationSubtask:JSON.stringify([{task:"Spray Foam Insulation",cost:1800,days:2}]),RoofStructureSubtask:JSON.stringify([{task:"Truss Installation",cost:3500,days:4}]),FinishesSubtask:JSON.stringify([{task:"Drywall Installation",cost:2200,days:3},{task:"Painting",cost:1500,days:2}])},{Id:"2",ProjectName:"Commercial Complex B",FoundationSubtask:JSON.stringify([{task:"Slab Foundation",cost:8e3,days:6}]),WallInsulationSubtask:JSON.stringify([{task:"Batt Insulation",cost:2500,days:3}]),WallStructureSubtask:JSON.stringify([{task:"Steel Framing",cost:6e3,days:5}]),ElectricalSupplyNeedsSubtask:JSON.stringify([{task:"Commercial Wiring",cost:4e3,days:4}]),RoofInsulationSubtask:JSON.stringify([{task:"Rigid Board Insulation",cost:2e3,days:2}]),RoofStructureSubtask:JSON.stringify([{task:"Flat Roof Installation",cost:5e3,days:5}]),FinishesSubtask:JSON.stringify([{task:"Acoustic Ceiling",cost:3e3,days:3}])}];ngOnInit(){this.fetchJobs(),this.fetchUserJobs()}fetchJobs(){this.isLoading=!0,setTimeout(()=>{this.jobs=this.dummyJobs,this.isLoading=!1,this.cdr.detectChanges()},500)}fetchUserJobs(){this.isLoading=!0,this.errorMessage="";let t=localStorage.getItem("userId");t?this.jobService.getAllJobsByUserId(t).subscribe(e=>{this.jobListFull=e||[],this.jobList=this.jobListFull,this.jobListFull.length>0?this.selectJobFromTable(this.jobListFull[0]):this.errorMessage="No jobs found for this user.",this.isLoading=!1,this.cdr.detectChanges()},e=>{console.error("Error fetching jobs:",e),this.errorMessage="Failed to load jobs. Please try again.",this.isLoading=!1,this.jobListFull=[],this.jobList=[],this.cdr.detectChanges()}):(console.error("User ID is not available in local storage."),this.errorMessage="User not logged in.",this.isLoading=!1,this.jobListFull=[],this.jobList=[],this.cdr.detectChanges())}selectJobFromTable(t){this.isLoading=!0,this.selectedJob=null,this.subtaskGroups=[],this.selectedSubtasks=[],this.selectedTableTitle=null,this.errorMessage="",this.jobService.getJobSubtasks(t.id).subscribe({next:e=>{let n=this.groupSubtasksByTitle(e);this.subtaskGroups=n.map(r=>Ti(Ct({},r),{subtasks:r.subtasks.map(a=>Ti(Ct({},a),{selected:!1}))})),this.selectedJob={Id:t.id,ProjectName:t.projectName,jobType:t.jobType,desiredStartDate:t.desiredStartDate,address:t.address},this.isLoading=!1,this.cdr.detectChanges()},error:e=>{console.error("Error fetching subtasks:",e),this.errorMessage="Failed to load subtasks for the selected job.",this.selectedJob={Id:t.id,ProjectName:t.projectName,jobType:t.jobType,desiredStartDate:t.desiredStartDate,address:t.address},this.subtaskGroups=[],this.isLoading=!1,this.cdr.detectChanges()}})}groupSubtasksByTitle(t){let e=new Map;for(let n of t){let r=e.get(n.groupTitle)||[],a=o=>o?new Date(o).toISOString().split("T")[0]:"";r.push({id:n.id,task:n.task??n.taskName,days:n.days,startDate:a(n.startDate),endDate:a(n.endDate),status:n.status??"Pending",cost:n.cost??0,deleted:n.deleted??!1,selected:!1}),e.set(n.groupTitle,r)}return Array.from(e.entries()).map(([n,r])=>({title:n,subtasks:r}))}fetchSubtasksForJob(t){this.subtaskGroups=[{title:"Foundation Subtasks",subtasks:JSON.parse(t.FoundationSubtask||"[]")},{title:"Wall Insulation Subtasks",subtasks:JSON.parse(t.WallInsulationSubtask||"[]")},{title:"Wall Structure Subtasks",subtasks:JSON.parse(t.WallStructureSubtask||"[]")},{title:"Electrical Supply Needs Subtasks",subtasks:JSON.parse(t.ElectricalSupplyNeedsSubtask||"[]")},{title:"Roof Insulation Subtasks",subtasks:JSON.parse(t.RoofInsulationSubtask||"[]")},{title:"Roofing Subtasks",subtasks:JSON.parse(t.RoofStructureSubtask||"[]")},{title:"Finishes Subtasks",subtasks:JSON.parse(t.FinishesSubtask||"[]")}].map(e=>Ti(Ct({},e),{subtasks:e.subtasks.map(n=>Ti(Ct({},n),{selected:!1}))}))}toggleSubtaskSelection(t,e){t.selected?this.selectedSubtasks.push(Ct({},t)):this.selectedSubtasks=this.selectedSubtasks.filter(n=>n.id!==t.id||n.task!==t.task),this.cdr.detectChanges()}createQuoteForSubtask(t){let e=[{description:t.task,quantity:t.days||1,unitPrice:0,total:0}];this.createQuote(e)}createQuoteForSelectedSubtasks(){if(this.subtaskGroups.length===0){this.showAlert=!0,this.alertMessage="Please select at least one subtask to quote.",this.cdr.detectChanges();return}let t=this.selectedSubtasks.map(e=>({description:e.task,quantity:e.days||1,unitPrice:e.cost||0,total:(e.days||1)*(e.cost||0)}));this.createQuote(t)}createQuote(t){let e={id:us(),header:"Quote",number:`QUO-${Math.floor(Math.random()*1e4)}`,from:"Your Company Name",toTitle:"To",to:this.selectedJob.ProjectName||"Client Name",shipToTitle:"Ship To",shipTo:this.selectedJob.address||"Client Address",date:new Date().toISOString().split("T")[0],paymentTerms:"Due on receipt",dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],poNumber:"",itemHeader:"Item",quantityHeader:"Quantity",unitCostHeader:"Rate",amountHeader:"Amount",amountPaid:0,extraCostValue:0,taxValue:0,discountValue:0,flatTotalValue:0,notesTitle:"Notes",notes:"",termsTitle:"Terms",terms:"",rows:t,total:0,createdDate:new Date,createdBy:localStorage.getItem("userId")||"unknown",createdID:us(),extraCosts:[],jobId:this.selectedJob.Id};this.quoteDataService.setQuote(e),this.router.navigate(["/quote"])}fetchDocuments(){this.isDocumentsLoading=!0,this.documentsError=null;let t=this.selectedJob.Id;this.jobService.getJobDocuments(t).subscribe({next:e=>{this.documents=e.map(n=>({id:n.id,name:n.fileName,type:this.getFileType(n.fileName),size:n.size})),this.isDocumentsLoading=!1},error:e=>{console.error("Error fetching documents:",e),this.documentsError="Failed to load documents.",this.isDocumentsLoading=!1}})}openDocumentsDialog(){if(!this.selectedJob){this.errorMessage="Please select a job first.";return}let t=document.activeElement;this.fetchDocuments(),this.dialog.open(this.documentsDialog,{width:"500px",maxHeight:"80vh",autoFocus:!0}).afterClosed().subscribe(()=>{t&&t.focus()})}closeDocumentsDialog(){this.dialog.closeAll()}viewDocument(t){this.jobService.downloadJobDocument(t.id).subscribe({next:e=>{let n=new Blob([e],{type:t.type}),r=window.URL.createObjectURL(n);window.open(r,"_blank")||(this.alertMessage="Failed to open document. Please allow pop-ups for this site.",this.showAlert=!0),setTimeout(()=>window.URL.revokeObjectURL(r),1e4)},error:e=>{console.error("Error viewing document:",e),this.alertMessage="Failed to view document.",this.showAlert=!0}})}getFileType(t){switch(t.split(".").pop()?.toLowerCase()){case"pdf":return"application/pdf";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";default:return"application/octet-stream"}}openBillOfMaterialsDialog(){if(!this.selectedJob){this.errorMessage="Please select a job first.";return}this.isBomLoading=!0,this.bomError=null,this.processingResults=[],this.jobService.GetBillOfMaterials(this.selectedJob.Id).subscribe({next:t=>{t.length>0?(this.processingResults=t.map(e=>({id:e.id,jobId:e.jobId,documentId:e.DocumentId,bomJson:"",materialsEstimateJson:e.materialsEstimateJson,fullResponse:e.fullResponse,createdAt:e.createdAt,parsedReport:this.parseReport(e.fullResponse)})),this.isBomLoading=!1,this.dialog.open(this.billOfMaterialsDialog,{width:"1800px",maxHeight:"90vh",panelClass:"bill-of-materials-dialog"})):(this.bomError=t.message||"No bill of materials available.",this.isBomLoading=!1,this.dialog.open(this.billOfMaterialsDialog,{width:"1800px",maxHeight:"90vh",panelClass:"bill-of-materials-dialog"}))},error:t=>{this.bomError=t.error?.error||"Failed to load bill of materials.",this.isBomLoading=!1,this.dialog.open(this.billOfMaterialsDialog,{width:"1800px",maxHeight:"90vh",panelClass:"bill-of-materials-dialog"})}})}parseReport(t){let e=t.split(`
`).filter(d=>d.trim()),n=[],r=null,a=!1,o=[],s=[];for(let d of e)if(d.startsWith("##"))r&&(a&&(r.content=s,a=!1,o=[],s=[]),n.push(r)),r={title:d.replace("##","").trim(),type:"text",content:[]};else if(d.includes("|")&&r)if(!a)a=!0,r.type="table",r.content=[],o=d.split("|").map(m=>m.trim()).filter(m=>m),r.headers=o;else{if(d.includes("---"))continue;{let m=d.split("|").map(h=>h.trim()).filter(h=>h);s.push(m)}}else d.startsWith("-")&&r?(a?(r.content=s,a=!1,o=[],s=[],n.push(r),r={title:r.title+" (List)",type:"list",content:[]}):r.type!=="list"&&(r.type="list",r.content=[]),r.content.push(d.replace("-","").trim())):r&&(a&&(r.content=s,a=!1,o=[],s=[],n.push(r),r={title:r.title+" (Text)",type:"text",content:[]}),r.content.push(d.trim()));return r&&(a&&(r.content=s),n.push(r)),{sections:n}}closeBillOfMaterialsDialog(){this.dialog.closeAll()}closeAlert(){this.showAlert=!1,this.cdr.detectChanges()}static \u0275fac=function(e){return new(e||i)(k(Ii),k(xt),k(An),k(pn),k(Hn),k(qm))};static \u0275cmp=fe({type:i,selectors:[["app-job-selection"]],viewQuery:function(e,n){if(e&1&&(Ue(zJ,5),Ue(HJ,5)),e&2){let r;be(r=ve())&&(n.documentsDialog=r.first),be(r=ve())&&(n.billOfMaterialsDialog=r.first)}},standalone:!0,features:[ye],decls:18,vars:6,consts:[["documentsDialog",""],["billOfMaterialsDialog",""],[1,"container"],[1,"fullcolumn"],["class","error-message",4,"ngIf"],[1,"project-card"],["class","loading-container",4,"ngIf"],["class","job-list-container",4,"ngIf"],["class","no-more-jobs",4,"ngIf"],["class","job-details-container",4,"ngIf"],["class","alert-overlay",4,"ngIf"],[1,"error-message"],[1,"loading-container"],[1,"job-list-container"],[1,"table-wrapper"],["class","data-row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"data-row",3,"click","ngClass"],[1,"no-more-jobs"],[1,"job-details-container"],[1,"job-details-card"],[4,"ngIf"],[1,"job-details"],["class","no-subtasks",4,"ngIf"],["class","subtask-section",4,"ngIf"],[1,"action-buttons"],["mat-raised-button","",1,"submit-btn","save-btn",3,"click"],[1,"no-subtasks"],[1,"subtask-section"],["class","subtask-table",4,"ngFor","ngForOf"],[1,"subtask-table"],[1,"table-header"],[1,"themed-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngModelChange","change","ngModel"],[1,"submit-btn","quote-btn",3,"click"],[1,"documents-dialog"],["mat-dialog-title",""],["class","loading-documents",4,"ngIf"],["mat-raised-button","",1,"submit-btn",3,"click"],[1,"loading-documents"],["class","no-documents",4,"ngIf"],["class","documents-list",4,"ngIf"],[1,"no-documents"],[1,"documents-list"],["class","document-item",4,"ngFor","ngForOf"],[1,"document-item"],[1,"document-info"],[1,"document-name"],[1,"document-meta"],["mat-raised-button","",1,"view-btn",3,"click"],[1,"documents-dialog","report-dialog"],[1,"report-content"],["class","report-list",4,"ngIf"],[1,"report-list"],["class","report-item",4,"ngFor","ngForOf"],[1,"report-item"],["class","report-section",4,"ngFor","ngForOf"],[1,"report-section"],[1,"report-section-title"],[1,"report-section-content"],["class","report-text",4,"ngIf"],["class","report-list-items",4,"ngIf"],["class","report-table",4,"ngIf"],[1,"report-text"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"report-list-items"],[4,"ngFor","ngForOf"],[1,"report-table"],[1,"alert-overlay"],[1,"alert-modal"],["mat-raised-button","",1,"alert-button","submit-btn",3,"click"]],template:function(e,n){e&1&&(l(0,"div",2)(1,"div",3),I(2,WJ,3,1,"div",4),l(3,"mat-card",5)(4,"mat-card-header")(5,"mat-card-title"),u(6,"YOUR JOBS"),c()(),l(7,"mat-card-content"),F(8,"mat-divider"),I(9,GJ,4,0,"div",6)(10,YJ,15,1,"div",7)(11,QJ,2,0,"div",8),c()(),I(12,iK,9,3,"div",9),c(),I(13,cK,9,2,"ng-template",null,0,ur)(15,SK,9,2,"ng-template",null,1,ur)(17,MK,6,1,"div",10),c()),e&2&&(b(2),C("ngIf",n.errorMessage&&!n.isLoading),b(7),C("ngIf",n.isLoading&&!n.jobList.length),b(),C("ngIf",n.jobList.length>0&&!n.isLoading),b(),C("ngIf",n.jobList.length===0&&!n.isLoading&&!n.errorMessage),b(),C("ngIf",n.selectedJob),b(5),C("ngIf",n.showAlert))},dependencies:[Ji,Pt,Dt,Nr,Gi,Bi,Li,nn,rn,ji,zt,Nt,Da,ao,Jn,un,yg,s1,eT,wn,pi,xa,zn,li,Zi,tn,en,vi,Vi,Tu],styles:[`.container{padding:20px;max-width:1200px;margin:0 auto;box-sizing:border-box;width:80vw;display:flex;justify-content:center;min-height:calc(100vh - 65px)}.fullcolumn{width:100%;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #00ACC1}mat-card{background-color:#fff;box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px}mat-card-title{color:#333;font-size:24px;font-weight:500;margin-bottom:20px}mat-divider{background-color:#ffa000;height:2px;margin:1rem 0}.error-message{text-align:center;padding:1rem;background-color:#f8d7da;color:#721c24;border-radius:8px;margin-bottom:1rem}.error-message p{margin:0;font-size:1rem}.table-wrapper{overflow-y:auto;max-height:300px;width:100%}table{width:100%;border-collapse:collapse;min-width:600px}table th,table td{padding:12px 8px;text-align:left;border-bottom:1px solid #333333;color:#333;font-size:14px}table th{background-color:#ffc107;color:#333;font-weight:500;text-transform:uppercase;position:sticky;top:0;z-index:1}table td{vertical-align:middle}table .mat-column-actions{width:100px;text-align:center}table .mat-checkbox{margin:0 auto}table .data-row.selected{background-color:#e0f7fa;font-weight:500}.table-wrapper::-webkit-scrollbar{width:6px}.table-wrapper::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.table-wrapper::-webkit-scrollbar-thumb{background:#00acc1;border-radius:3px}.job-details-container{margin-top:2rem;width:100%}.job-details{padding:1rem 0}.job-details p{color:#333;margin:.25rem 0}.subtask-section{padding:1rem 0;max-height:50vh;overflow-y:auto}.subtask-section::-webkit-scrollbar{width:6px}.subtask-section::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.subtask-section::-webkit-scrollbar-thumb{background:#00acc1;border-radius:3px}.subtask-table{margin-bottom:2rem}.subtask-table .table-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.subtask-table .table-header h3{color:#333;font-size:1.2rem}.themed-table{width:100%;border-collapse:collapse}.themed-table th{background-color:#ffc107;color:#333;font-weight:500;padding:8px;text-align:left;border-bottom:2px solid #d9d9d9}.themed-table td{padding:8px;border:1px solid #d9d9d9}.themed-table tr:hover{background-color:#d9d9d9}.themed-table tr.deleted{background-color:#f8d7da}.submit-btn{background:#ffc107;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn:hover{background:#e6bf00}.submit-btn.quote-btn{background:#00acc1;color:#fff}.submit-btn.quote-btn:hover{background:#007f8e}.submit-btn.save-btn{background:#ffa000;font-weight:700}.submit-btn.save-btn:hover{background:#cc8000}.action-buttons{padding:1rem 0;display:flex;justify-content:flex-start;gap:1rem}.documents-dialog{padding:1rem}.documents-dialog h2[mat-dialog-title]{font-size:1.5rem;font-weight:700;color:#333;margin-bottom:1rem}.no-documents{text-align:center;padding:1rem;color:#333}.no-documents p{margin:0;font-size:1rem}.no-documents[error]{color:#da4167;font-weight:500}.no-subtasks{text-align:center;padding:1rem;color:#333}.no-subtasks p{margin:0;font-size:1rem}.loading-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.loading-documents{text-align:center;padding:1rem;color:#333}.loading-documents p{margin:.5rem 0 0;font-size:1rem}.documents-list{max-height:60vh;overflow-y:auto;padding-right:.5rem}.documents-list::-webkit-scrollbar{width:6px}.documents-list::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.documents-list::-webkit-scrollbar-thumb{background:#00acc1;border-radius:3px}.document-item{display:flex;justify-content:space-between;align-items:center;padding:.75rem;margin-bottom:.5rem;border:1px solid #d9d9d9;border-radius:8px;background-color:#fff;transition:all .3s ease}.document-item:hover{background-color:#f9f9f9;border-color:#00acc1;box-shadow:#0003}.document-info{flex:1;display:flex;flex-direction:column;overflow:hidden}.document-name{font-size:1rem;font-weight:500;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.document-meta{font-size:.85rem;color:#333}.view-btn{background-color:#ffc107;color:#333;padding:.25rem 1rem;font-size:.9rem;line-height:1.5;margin-left:1rem}.view-btn:hover{background-color:#e6bf00}mat-dialog-actions{display:flex;justify-content:flex-end;padding-top:1rem}mat-dialog-actions .submit-btn{background:#ffc107;color:#333}mat-dialog-actions .submit-btn:hover{background:#e6bf00}.report-dialog{padding:1.5rem}.report-dialog .report-content{max-height:85vh;overflow-y:auto;padding-right:1rem}.report-dialog .report-content::-webkit-scrollbar{width:6px}.report-dialog .report-content::-webkit-scrollbar-track{background:#d9d9d9;border-radius:3px}.report-dialog .report-content::-webkit-scrollbar-thumb{background:#00acc1;border-radius:3px}.report-dialog .report-list{display:flex;flex-direction:column;gap:1.5rem}.report-dialog .report-item{border:1px solid #d9d9d9;border-radius:8px;padding:1rem;background-color:#fff;box-shadow:#0003}.report-dialog .report-section{margin-bottom:1.5rem}.report-dialog .report-section-title{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:.75rem;border-bottom:2px solid #FFA000;padding-bottom:.25rem}.report-dialog .report-section-content{padding-left:.5rem}.report-dialog .report-text p{margin:.5rem 0;color:#333;line-height:1.5;word-wrap:break-word}.report-dialog .report-list-items ul{list-style-type:disc;padding-left:1.5rem;margin:.5rem 0}.report-dialog .report-list-items li{color:#333;margin-bottom:.25rem;line-height:1.5}.report-dialog .report-table{margin:.5rem 0}.report-dialog .report-table .themed-table th,.report-dialog .report-table .themed-table td{padding:10px;word-wrap:break-word}.cdk-overlay-pane.bill-of-materials-dialog{max-width:none!important;width:1800px!important}.alert-overlay{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal p{margin-bottom:20px;color:#333}@media (max-width: 768px){.container{width:95vw}.submit-btn{width:100%;margin:.5rem 0}.action-buttons{flex-direction:column}.themed-table th,.themed-table td{font-size:.8rem;padding:6px}.document-item{flex-direction:column;align-items:flex-start;padding:.5rem}.document-info{margin-bottom:.5rem}.view-btn{margin-left:0;width:100%;text-align:center}.report-dialog{padding:1rem}.report-dialog .report-content{padding-right:.5rem}.report-dialog .report-section-title{font-size:1.1rem}.report-dialog .report-text p{font-size:.9rem}.report-dialog .report-list-items ul{padding-left:1rem}.report-dialog .report-list-items li{font-size:.9rem}.report-dialog .report-table .themed-table th,.report-dialog .report-table .themed-table td{font-size:.8rem;padding:6px}.cdk-overlay-pane.bill-of-materials-dialog{width:95vw!important;max-width:none!important}}
`],encapsulation:2})};var l1=class i{constructor(t,e){this.route=t;this.router=e}source="register";ngOnInit(){this.route.queryParams.subscribe(t=>{this.source=t.source||"register"})}ngAfterViewInit(){(this.source??"").toLowerCase()==="profile"&&this.router.navigate(["/profile"],{queryParams:{subSuccess:1},replaceUrl:!0})}goToDashboard(){this.source==="register"&&this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||i)(k(_a),k(Ii))};static \u0275cmp=fe({type:i,selectors:[["app-payment-success"]],decls:7,vars:1,consts:[[1,"success-container"],["mat-flat-button","","color","primary",1,"submit-btn","delete-btn",3,"click"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"h1"),u(2,"\u{1F389} Payment Successful!"),c(),l(3,"p"),u(4,"Your subscription is now active."),c(),l(5,"button",1),z("click",function(){return n.goToDashboard()}),u(6),c()()),e&2&&(b(6),Ce(" ",n.source==="register"?"Return to Login":"Return to Dashboard"," "))},styles:[".success-container[_ngcontent-%COMP%]{text-align:center;margin-top:100px}.success-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:16px}.success-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:24px}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.publish-btn[_ngcontent-%COMP%]{background:#fbd008}.submit-btn.publish-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.save-btn[_ngcontent-%COMP%]{background:#fcd02d}.submit-btn.save-btn[_ngcontent-%COMP%]:hover{background:#f3c003}.submit-btn.delete-btn[_ngcontent-%COMP%]{background:#fbd008;color:#333}.submit-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}"]})};var c1=class i{constructor(t){this.router=t}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||i)(k(Ii))};static \u0275cmp=fe({type:i,selectors:[["app-payment-cancel"]],decls:7,vars:0,consts:[[1,"cancel-container"],["mat-flat-button","","color","warn",3,"click"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"h1"),u(2,"\u26A0\uFE0F Payment Cancelled"),c(),l(3,"p"),u(4,"You\u2019ve cancelled the payment or it was interrupted. You can make payments at a later stage if you like."),c(),l(5,"button",1),z("click",function(){return n.goToDashboard()}),u(6,"Return to Login"),c()())},styles:[".cancel-container[_ngcontent-%COMP%]{text-align:center;margin-top:100px}.cancel-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f44336;margin-bottom:16px}.cancel-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:24px}"]})};var d1=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-terms"]],standalone:!0,features:[ye],decls:155,vars:0,consts:[["lang","en"],["charset","UTF-8"],[2,"align-content","center !important"],[1,"terms-page"],[1,"terms-container"],[1,"terms-title"],["href","mailto:legal@probuildai.com"]],template:function(e,n){e&1&&(l(0,"html",0)(1,"head"),F(2,"meta",1),l(3,"title",2),u(4,"Terms of Use \u2013 ProBuild AI"),c()(),l(5,"body")(6,"div",3)(7,"div",4)(8,"h1",5),u(9,"Terms of Use \u2013 ProBuild AI"),c(),F(10,"br"),l(11,"p")(12,"strong"),u(13,"Last Updated:"),c(),u(14," July 8, 2025"),c(),l(15,"h2"),u(16,"1. Introduction"),c(),l(17,"p"),u(18,"Welcome to ProBuild AI, a software-as-a-service platform designed to support licensed professionals in the construction industry. These Terms of Use (\u201CTerms\u201D) govern your access to and use of ProBuild AI\u2019s platform, website, mobile applications, and related services (collectively, the \u201CPlatform\u201D), which are operated by ProBuild AI, LLC (\u201CProBuild,\u201D \u201Cwe,\u201D or \u201Cus\u201D)."),F(19,"br"),u(20," By creating an account or using the Platform, you agree to be legally bound by these Terms. If you do not agree, you may not access or use the Platform."),F(21,"br"),u(22," These Terms are separate from our Master Services Agreement, which governs subscription and licensing rights. In the event of a conflict, the Master Services Agreement prevails."),c(),l(23,"h2"),u(24,"2. Eligibility and Professional Responsibility"),c(),l(25,"p"),u(26,"You may only use the Platform if you meet all of the following conditions:"),c(),l(27,"ul")(28,"li"),u(29,"a. You are at least 18 years of age."),c(),l(30,"li"),u(31,"b. You are a licensed general contractor, architect, engineer, or construction professional, or an employee or agent acting under the supervision of such a licensed professional."),c(),l(32,"li"),u(33,"c. You accept full responsibility for verifying all outputs and ensuring compliance with applicable local, state, federal, and international laws and building codes."),c(),l(34,"li"),u(35,"d. You acknowledge that the Platform provides only algorithmic or AI-assisted suggestions and does not produce certified engineering, architectural, or permitting outputs."),c(),l(36,"li"),u(37,"e. You agree not to rely on Platform outputs without professional review, verification, and sealing as required."),c(),l(38,"li"),u(39,"f. You agree to use the Platform solely for lawful purposes and within the scope of your professional license and authority."),c(),l(40,"li"),u(41,"g. You agree not to share access with unlicensed users or allow unauthorized third parties to rely on Platform outputs."),c(),l(42,"li"),u(43,"h. You confirm that you carry or are covered under an active professional liability insurance policy appropriate for your jurisdiction."),c()(),l(44,"h2"),u(45,"3. Account Registration"),c(),l(46,"p"),u(47,"To access the Platform, you must create an account and provide accurate, complete, and current information. You are responsible for maintaining the confidentiality of your login credentials and for all activity that occurs under your account."),F(48,"br"),u(49," We reserve the right to suspend or terminate your account if we reasonably suspect a violation of these Terms, misuse of the Platform, or unlawful conduct."),c(),l(50,"h2"),u(51,"4. Platform Outputs and Disclaimers"),c(),l(52,"p"),u(53,"The Platform may generate estimates, schedules, material quantities, visual outputs, and other AI-assisted or algorithmic data (\u201COutputs\u201D). These Outputs are:"),c(),l(54,"ul")(55,"li"),u(56,"Provided for informational and suggestive purposes only;"),c(),l(57,"li"),u(58,"Not verified, certified, or warranted to comply with any applicable code, standard, or law;"),c(),l(59,"li"),u(60,"Not a substitute for professional services from licensed architects, engineers, or quantity surveyors;"),c(),l(61,"li"),u(62,"Subject to inherent limitations in AI and data processing."),c()(),l(63,"p"),u(64,"You agree that any reliance on Outputs without independent professional verification is strictly prohibited and may result in regulatory or legal consequences. The Platform does not\u2014and cannot\u2014ensure compliance with permitting authorities or local code officials."),F(65,"br"),u(66," ProBuild disclaims all responsibility for decisions made based on unverified use of Platform Outputs."),c(),l(67,"h2"),u(68,"5. Acceptable Use"),c(),l(69,"p"),u(70,"You agree not to:"),c(),l(71,"ul")(72,"li"),u(73,"Use the Platform for unlawful or unauthorized purposes;"),c(),l(74,"li"),u(75,"Copy, decompile, reverse-engineer, disassemble, or otherwise attempt to derive source code from the Platform;"),c(),l(76,"li"),u(77,"Circumvent licensing restrictions or attempt to bypass authentication measures;"),c(),l(78,"li"),u(79,"Use automated systems to access or scrape the Platform without written consent;"),c(),l(80,"li"),u(81,"Upload viruses, malware, or harmful content;"),c(),l(82,"li"),u(83,"Misrepresent your identity, license status, or affiliation."),c()(),l(84,"p"),u(85,"We reserve the right to investigate and take appropriate legal action for any violation of this section."),c(),l(86,"h2"),u(87,"6. Intellectual Property"),c(),l(88,"p"),u(89,"All content, software, algorithms, visual designs, text, models, and data on the Platform are owned by ProBuild or its licensors and are protected under applicable intellectual property laws."),F(90,"br"),u(91," You are granted a limited, non-exclusive, non-transferable license to use the Platform solely as permitted under these Terms and the Master Services Agreement. You may not reproduce, distribute, or create derivative works from the Platform without our prior written consent."),c(),l(92,"h2"),u(93,"7. Third-Party Use and No Reliance"),c(),l(94,"p"),u(95,"Use of the Platform is restricted to registered account holders. No third party may rely upon any Output from the Platform, nor may any Output be transmitted, published, or incorporated into external reports without full professional review and disclaimer."),F(96,"br"),u(97," You agree to defend, indemnify, and hold ProBuild harmless from any claims by third parties arising out of unauthorized reliance or dissemination of Platform Outputs."),c(),l(98,"h2"),u(99,"8. Service Availability and Changes"),c(),l(100,"p"),u(101,"We aim to provide reliable access to the Platform but do not guarantee uninterrupted service. We may suspend, restrict, or discontinue features or availability at any time without notice."),F(102,"br"),u(103," Changes to the Platform (including UI/UX changes, pricing models, or Output structure) may occur periodically as part of product development."),c(),l(104,"h2"),u(105,"9. Privacy and Data"),c(),l(106,"p"),u(107,"Use of the Platform is governed by our Privacy Policy, which outlines what personal data we collect, how we process it, and your rights under applicable privacy laws, including the GDPR and CCPA."),F(108,"br"),u(109," If your use of the Platform involves personal data of third parties, you must have the appropriate legal basis and consents. For customers subject to the GDPR, a Data Processing Addendum applies."),c(),l(110,"h2"),u(111,"10. Subscription and Cancellation"),c(),l(112,"p"),u(113,"Subscription fees, billing cycles, refund policies, and renewal terms are governed by the Master Services Agreement."),F(114,"br"),u(115," You may cancel your subscription at any time via your account settings. Cancellation is effective at the end of the current billing period. Refunds are not provided for partial periods unless required by law."),c(),l(116,"h2"),u(117,"11. Termination"),c(),l(118,"p"),u(119,"We may suspend or terminate your access to the Platform for:"),c(),l(120,"ul")(121,"li"),u(122,"Material breach of these Terms or the MSA;"),c(),l(123,"li"),u(124,"Use of the Platform in violation of professional, licensing, or ethical standards;"),c(),l(125,"li"),u(126,"Payment failure after notice;"),c(),l(127,"li"),u(128,"Legal or regulatory compulsion."),c()(),l(129,"p"),u(130,"Upon termination, your access rights immediately cease, and all licenses revert to ProBuild."),c(),l(131,"h2"),u(132,"12. Changes to Terms"),c(),l(133,"p"),u(134,"We may update these Terms from time to time. If material changes are made, we will provide notice through the Platform or via email."),F(135,"br"),u(136," Your continued use of the Platform following such notice constitutes acceptance of the modified Terms."),c(),l(137,"h2"),u(138,"13. Governing Law and Dispute Resolution"),c(),l(139,"p"),u(140,"These Terms are governed by the laws of the State of Texas, without regard to conflict of law principles."),F(141,"br"),u(142," Any dispute arising under these Terms shall be resolved through binding arbitration administered by the American Arbitration Association (AAA) in Austin, Texas. The arbitration shall be conducted in English. Class actions are expressly disclaimed."),c(),l(143,"h2"),u(144,"14. Contact Us"),c(),l(145,"p"),u(146,"ProBuild AI, LLC"),F(147,"br"),u(148," 5900 Balcones Drive, Suite 100"),F(149,"br"),u(150," Austin, TX 78731"),F(151,"br"),u(152," \u{1F4E7} "),l(153,"a",6),u(154,"legal@probuildai.com"),c()()()()()())},styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:auto;overflow-y:auto}.terms-page[_ngcontent-%COMP%]{background-color:#f9f9f3;padding:40px 20px}.terms-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px;background-color:transparent;color:#333;font-family:Roboto,sans-serif}.terms-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:2rem;color:#000}',`body[_ngcontent-%COMP%] {
      font-family: Arial, sans-serif;
      margin: 2rem;
      line-height: 1.6;
    }
    h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {
      color: #222;
    }
    h1[_ngcontent-%COMP%] {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }
    h2[_ngcontent-%COMP%] {
      font-size: 1.4rem;
      margin-top: 1.5rem;
    }
    h3[_ngcontent-%COMP%] {
      font-size: 1.2rem;
      margin-top: 1rem;
    }
    p[_ngcontent-%COMP%] {
      margin-bottom: 1rem;
    }`]})};var u1=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-privacy"]],standalone:!0,features:[ye],decls:239,vars:0,consts:[[1,"terms-page"],[1,"terms-container"],[1,"terms-title"],["href","mailto:privacy@probuildai.com"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Privacy Policy \u2013 ProBuild AI"),c(),F(4,"br"),l(5,"p")(6,"strong"),u(7,"Last Updated:"),c(),u(8," July 23, 2025"),c(),l(9,"h3"),u(10,"1. Introduction"),c(),l(11,"p"),u(12,"This Privacy Policy explains how ProBuild AI, LLC (\u201CProBuild,\u201D \u201Cwe,\u201D or \u201Cus\u201D) collects, uses, shares, and protects your personal information when you use our websites, applications, and services (collectively, the \u201CPlatform\u201D)."),F(13,"br"),u(14," By accessing or using the Platform, you agree to the practices described in this Policy. This Policy forms part of our Terms of Use and Master Services Agreement, and applies to all users globally."),c(),l(15,"h3"),u(16,"2. Information We Collect"),c(),l(17,"p"),u(18,"We collect the following categories of personal and business-related information:"),c(),l(19,"p")(20,"strong"),u(21,"a. Account & Contact Information"),c()(),l(22,"ul")(23,"li"),u(24,"Name, company name, professional credentials"),c(),l(25,"li"),u(26,"Email address, phone number"),c(),l(27,"li"),u(28,"Billing address and payment details (via our processor, e.g. Stripe)"),c()(),l(29,"p")(30,"strong"),u(31,"b. Usage & Technical Information"),c()(),l(32,"ul")(33,"li"),u(34,"Login and account activity"),c(),l(35,"li"),u(36,"Files uploaded or processed (e.g., blueprints, documents)"),c(),l(37,"li"),u(38,"Outputs generated via the Platform (may include metadata)"),c(),l(39,"li"),u(40,"Browser type, IP address, operating system"),c(),l(41,"li"),u(42,"Device identifiers, time zone, session duration"),c()(),l(43,"p")(44,"strong"),u(45,"c. Cookies & Tracking"),c()(),l(46,"ul")(47,"li"),u(48,"Session cookies for authentication"),c(),l(49,"li"),u(50,"Analytics cookies (e.g., via Google Analytics)"),c(),l(51,"li"),u(52,"Marketing or tracking cookies (only with your consent)"),c()(),l(53,"h3"),u(54,"3. How We Use Your Information"),c(),l(55,"p"),u(56,"We use your personal data for the following purposes:"),c(),l(57,"ul")(58,"li"),u(59,"To register and manage your account"),c(),l(60,"li"),u(61,"To provide our services and generate AI-assisted outputs"),c(),l(62,"li"),u(63,"To monitor and improve Platform performance"),c(),l(64,"li"),u(65,"To process payments and issue invoices"),c(),l(66,"li"),u(67,"To enforce licensing or eligibility requirements"),c(),l(68,"li"),u(69,"To communicate with you (support, updates, legal notices)"),c(),l(70,"li"),u(71,"To comply with applicable laws and regulatory requests"),c(),l(72,"li"),u(73,"To prevent fraud or misuse of our Platform"),c()(),l(74,"p"),u(75,"We do not sell your personal data to any third party."),c(),l(76,"h3"),u(77,"4. Communications and SMS Consent"),c(),l(78,"p"),u(79,"By providing your phone number to ProBuild, you consent to receive transactional and service-related communications via SMS. These may include appointment confirmations, service updates, authentication codes, and other messages directly related to your use of the Platform."),c(),l(80,"p"),u(81,"If you are a business contact or sales prospect, you may also receive limited promotional messages if permitted by applicable law. You can opt out of promotional messages at any time by replying \u201CSTOP.\u201D Message and data rates may apply."),c(),l(82,"p"),u(83,"Where required by law, we will obtain express written consent before sending any promotional or marketing SMS messages. We do not send messages to leads or prospects without a pre-existing relationship or consented opt-in."),c(),l(84,"h3"),u(85,"5. Legal Basis for Processing (GDPR)"),c(),l(86,"p"),u(87,"If you are located in the EU, UK, or other jurisdictions that require a lawful basis for processing personal data, we rely on the following legal grounds:"),c(),l(88,"ul")(89,"li"),u(90,"Performance of a contract (Art. 6(1)(b) GDPR)"),c(),l(91,"li"),u(92,"Legitimate interest (Art. 6(1)(f))"),c(),l(93,"li"),u(94,"Compliance with a legal obligation (Art. 6(1)(c))"),c(),l(95,"li"),u(96,"Consent (Art. 6(1)(a)), where applicable (e.g., for cookies or marketing)"),c()(),l(97,"p"),u(98,"You may withdraw your consent at any time by contacting us at "),l(99,"a",3),u(100,"privacy@probuildai.com"),c(),u(101,"."),c(),l(102,"h3"),u(103,"6. Sharing of Information"),c(),l(104,"p"),u(105,"We may share your data with:"),c(),l(106,"ul")(107,"li"),u(108,"Service providers: e.g., hosting, payment processing, analytics"),c(),l(109,"li"),u(110,"Professional advisors: lawyers, accountants, auditors"),c(),l(111,"li"),u(112,"Authorities: when required by law, regulation, or legal process"),c(),l(113,"li"),u(114,"Successors or acquirers: in case of sale, merger, or acquisition"),c()(),l(115,"p"),u(116,"All subprocessors are contractually required to maintain confidentiality and security."),c(),l(117,"h3"),u(118,"7. International Data Transfers"),c(),l(119,"p"),u(120,"If you are located outside the United States, please note that your personal data may be transferred to and processed in the U.S. or other countries that may not have equivalent data protection laws."),c(),l(121,"p"),u(122,"Where required, we rely on:"),c(),l(123,"ul")(124,"li"),u(125,"Standard Contractual Clauses (SCCs)"),c(),l(126,"li"),u(127,"Transfer Impact Assessments (TIAs)"),c(),l(128,"li"),u(129,"Data minimization and encryption safeguards"),c()(),l(130,"h3"),u(131,"8. Data Retention"),c(),l(132,"p"),u(133,"We retain personal information for as long as necessary to:"),c(),l(134,"ul")(135,"li"),u(136,"Provide services and fulfill your account"),c(),l(137,"li"),u(138,"Meet our legal obligations"),c(),l(139,"li"),u(140,"Defend against legal claims or resolve disputes"),c()(),l(141,"p"),u(142,"Inactive accounts may be deleted after 36 months. You may request deletion at any time."),c(),l(143,"h3"),u(144,"9. Your Rights"),c(),l(145,"p"),u(146,"Depending on your location, you may have the right to:"),c(),l(147,"p")(148,"strong"),u(149,"a. Under GDPR:"),c()(),l(150,"ul")(151,"li"),u(152,"Access the personal data we hold about you"),c(),l(153,"li"),u(154,"Correct inaccurate or outdated information"),c(),l(155,"li"),u(156,"Request deletion of your data (\u201Cright to be forgotten\u201D)"),c(),l(157,"li"),u(158,"Object to or restrict processing"),c(),l(159,"li"),u(160,"Request data portability"),c(),l(161,"li"),u(162,"Lodge a complaint with your local data protection authority"),c()(),l(163,"p")(164,"strong"),u(165,"b. Under CCPA (California):"),c()(),l(166,"ul")(167,"li"),u(168,"Request to know what personal data we collect and how it\u2019s used"),c(),l(169,"li"),u(170,"Request deletion of your personal data"),c(),l(171,"li"),u(172,"Opt out of data sharing (we do not sell data)"),c(),l(173,"li"),u(174,"Be free from discrimination for exercising your rights"),c()(),l(175,"p"),u(176,"To exercise any of these rights, contact us at "),l(177,"a",3),u(178,"privacy@probuildai.com"),c(),u(179,"."),c(),l(180,"h3"),u(181,"10. Cookies and Tracking"),c(),l(182,"p"),u(183,"We use cookies and related technologies for:"),c(),l(184,"ul")(185,"li"),u(186,"Session management"),c(),l(187,"li"),u(188,"Analytics and performance insights"),c(),l(189,"li"),u(190,"User preference storage"),c(),l(191,"li"),u(192,"Marketing and remarketing (only with consent)"),c()(),l(193,"p"),u(194,"You may configure your browser to block or delete cookies. You may also adjust cookie preferences through the banner presented on first visit."),c(),l(195,"h3"),u(196,"11. Data Security"),c(),l(197,"p"),u(198,"We take the security of your data seriously and implement industry-standard measures including:"),c(),l(199,"ul")(200,"li"),u(201,"TLS encryption for data in transit"),c(),l(202,"li"),u(203,"Role-based access control"),c(),l(204,"li"),u(205,"Secure cloud infrastructure (e.g., AWS)"),c(),l(206,"li"),u(207,"Regular internal audits and access reviews"),c(),l(208,"li"),u(209,"Encrypted storage of sensitive assets"),c()(),l(210,"p"),u(211,"Despite our efforts, no system can guarantee 100% security. You are responsible for safeguarding your login credentials."),c(),l(212,"h3"),u(213,"12. Children\u2019s Privacy"),c(),l(214,"p"),u(215,"The Platform is not intended for use by individuals under the age of 18. We do not knowingly collect personal data from minors. If we become aware of such collection, we will delete the data immediately."),c(),l(216,"h3"),u(217,"13. Third-Party Links and Integrations"),c(),l(218,"p"),u(219,"Our Platform may contain links to third-party websites or tools. We are not responsible for the privacy practices or content of those third parties. Please review their privacy policies before interacting with them."),c(),l(220,"h3"),u(221,"14. Changes to This Policy"),c(),l(222,"p"),u(223,"We may update this Privacy Policy from time to time. When material changes are made, we will notify you via email or through the Platform. The effective date is posted at the top."),F(224,"br"),u(225," Your continued use of the Platform constitutes your acceptance of the updated policy."),c(),l(226,"h3"),u(227,"15. Contact Us"),c(),l(228,"p")(229,"strong"),u(230,"ProBuild AI, LLC"),c(),F(231,"br"),u(232," 5900 Balcones Drive, Suite 100"),F(233,"br"),u(234," Austin, TX 78731"),F(235,"br"),u(236," \u{1F4E7} "),l(237,"a",3),u(238,"privacy@probuildai.com"),c()()()())},styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:auto;overflow-y:auto}.terms-page[_ngcontent-%COMP%]{background-color:#f9f9f3;padding:40px 20px}.terms-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px;background-color:transparent;color:#333;font-family:Roboto,sans-serif}.terms-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:2rem;color:#000}']})};function kK(i,t){i&1&&(l(0,"div"),F(1,"app-loader"),c())}function DK(i,t){i&1&&(l(0,"mat-error"),u(1," Password is required. "),c())}function EK(i,t){i&1&&(l(0,"mat-error"),u(1," Password must be at least 10 characters. "),c())}function AK(i,t){i&1&&(l(0,"mat-error"),u(1," Passwords do not match. "),c())}function IK(i,t){if(i&1&&(l(0,"div",14),u(1),c()),i&2){let e=P();b(),xe(e.success)}}function PK(i,t){if(i&1&&(l(0,"div",15),u(1),c()),i&2){let e=P();b(),xe(e.error)}}var m1=class i{constructor(t,e,n,r,a){this.fb=t;this.route=e;this.http=n;this.router=r;this.forgotPasswordService=a}resetForm;token;email;submitted=!1;error=null;success=null;isLoading=!1;ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token")||"",this.email=this.route.snapshot.queryParamMap.get("email")||"",this.resetForm=this.fb.group({password:["",[et.required,et.minLength(10),et.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{10,}$/)]],confirmPassword:["",[et.required,et.minLength(10),et.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{10,}$/)]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(t){return t.get("password")?.value===t.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.submitted=!0,this.error=null,this.success=null,this.resetForm.invalid)return;let t={token:this.token,email:this.email,Password:this.resetForm.value.password};console.log(t),this.forgotPasswordService.resetPassword(t).subscribe({next:()=>{this.success="Password successfully reset. You can now log in.",setTimeout(()=>this.router.navigate(["/login"]),3e3)},error:e=>{this.error=e.message}})}static \u0275fac=function(e){return new(e||i)(k(Cn),k(_a),k(Gt),k(Ii),k(km))};static \u0275cmp=fe({type:i,selectors:[["app-reset-password"]],standalone:!0,features:[ye],decls:33,vars:7,consts:[[4,"ngIf"],[1,"container"],[1,"row","justify-content-center","align-items-center"],[1,"fullcolumn"],["href","login"],[3,"ngSubmit","formGroup"],[1,"form-field"],["appearance","fill",1,"w-100"],["matInput","","type","password","formControlName","password","required",""],["matInput","","type","password","formControlName","confirmPassword","required",""],[1,"action-buttons"],["mat-raised-button","","type","submit",1,"submit-btn"],["class","success",4,"ngIf"],["class","error",4,"ngIf"],[1,"success"],[1,"error"]],template:function(e,n){if(e&1&&(I(0,kK,2,0,"div",0),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-header")(6,"mat-card-title"),u(7,"Reset Password"),c(),l(8,"mat-card-subtitle"),u(9," Return to "),l(10,"a",4),u(11,"Sign In"),c()()(),l(12,"mat-card-content"),F(13,"mat-divider"),l(14,"form",5),z("ngSubmit",function(){return n.onSubmit()}),l(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),u(18,"New Password"),c(),F(19,"input",8),I(20,DK,2,0,"mat-error",0)(21,EK,2,0,"mat-error",0),c()(),l(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),u(25,"Confirm Password*"),c(),F(26,"input",9),I(27,AK,2,0,"mat-error",0),c()(),l(28,"div",10)(29,"button",11),u(30,"Reset Password"),c()()(),I(31,IK,2,1,"div",12)(32,PK,2,1,"div",13),c()()()()()),e&2){let r,a;C("ngIf",n.isLoading),b(14),C("formGroup",n.resetForm),b(6),C("ngIf",n.submitted&&((r=n.resetForm.get("password"))==null||r.errors==null?null:r.errors.required)),b(),C("ngIf",n.submitted&&((a=n.resetForm.get("password"))==null||a.errors==null?null:a.errors.minlength)),b(6),C("ngIf",n.submitted&&(n.resetForm.errors==null?null:n.resetForm.errors.mismatch)),b(4),C("ngIf",n.success),b(),C("ngIf",n.error)}},dependencies:[Dt,Pt,Pi,mn,xn,pi,Ki,io,Xi,Vn,Bi,Li,nn,rn,yc,ji,vi,hn,Mn,Ma,Vi,gr,zt,Nt,Jn,un,s1,fr,ag],styles:[".container[_ngcontent-%COMP%]{width:80vw;padding:1rem;display:flex;justify-content:center;align-items:center;min-height:100vh}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.fullcolumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:30vw;background-color:#fff;border-radius:8px;padding:1rem;border:1px solid #61a0af}mat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:none;padding:1rem}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-transform:uppercase;margin-bottom:.5rem}mat-card-subtitle[_ngcontent-%COMP%]{font-size:small;color:#333;margin-bottom:1rem}mat-card-subtitle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#61a0af;text-decoration:none}mat-card-subtitle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-card-content[_ngcontent-%COMP%]{padding-top:1rem}mat-divider[_ngcontent-%COMP%]{background-color:#fcd02d;height:2px;margin:1rem 0}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#333}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#000}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:8px 16px;font-weight:500;color:#333;width:100%}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;justify-content:center}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.alert-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.alert-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#000}@media (max-width: 768px){.fullcolumn[_ngcontent-%COMP%]{width:80vw}.container[_ngcontent-%COMP%]{width:95vw}.submit-btn[_ngcontent-%COMP%]{padding:6px 12px}}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:focus{transition:background-color 0s 600000s,color 0s 600000s!important}"]});static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var p1=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=fe({type:i,selectors:[["app-master-services-agreement"]],standalone:!0,features:[ye],decls:439,vars:0,consts:[["lang","en"],["charset","UTF-8"],[2,"align-content","center !important"],[1,"terms-page"],[1,"terms-container"],[1,"terms-title"]],template:function(e,n){e&1&&(l(0,"html",0)(1,"head"),F(2,"meta",1),l(3,"title",2),u(4,"ProBuild AI Master Services Agreement"),c()(),l(5,"body")(6,"div",3)(7,"div",4)(8,"h1",5),u(9,"PROBUILD AI MASTER SERVICES AGREEMENT"),c(),F(10,"br"),l(11,"h2"),u(12,"PROBUILD AI MASTER SERVICES AGREEMENT"),c(),l(13,"p"),u(14,"Effective Date: July 8, 2025"),c(),l(15,"p"),u(16,'This Master Services Agreement ("Agreement") is entered into between the entity or individual identified during account signup or on an executed Order Form ("Client") and ProBuild AI, LLC, a Texas limited liability company with offices at 5900 Balcones Drive, Suite 100, Austin, TX 78731 ("ProBuild AI").'),c(),l(17,"p"),u(18,"This Agreement, together with any Order Form(s), the Terms of Use, Privacy Policy, and Annexes A-D (all incorporated by reference), governs Client's access to and use of the ProBuild AI platform and services. This Agreement becomes binding upon Client's clickwrap acceptance or execution of an Order Form."),c(),l(19,"h2"),u(20,"1. SERVICES - SOFTWARE TOOL ONLY"),c(),l(21,"p"),u(22,"1.1 AI-Powered Software Platform"),c(),l(23,"p"),u(24,"ProBuild AI provides an AI-powered software platform that assists licensed construction professionals in analyzing construction documents and generating preliminary estimates for materials, timelines, and costs. The platform is provided as software-as-a-service only."),c(),l(25,"h2"),u(26,"1.2 CRITICAL DISCLAIMER - NO PROFESSIONAL SERVICES"),c(),l(27,"p"),u(28,"PROBUILD AI PROVIDES SOFTWARE TOOLS ONLY AND EXPRESSLY DISCLAIMS PROVIDING ANY PROFESSIONAL ENGINEERING, ARCHITECTURAL, OR CONSTRUCTION SERVICES. ProBuild AI is not licensed as a professional services provider in any jurisdiction and does not act as a licensed professional. Use of the platform does not create any professional services relationship."),c(),l(29,"p"),u(30,"1.3 AI Output Limitations"),c(),l(31,"p"),u(32,"All platform outputs are:"),c(),l(33,"p"),u(34,"Non-certified and algorithmically generated"),c(),l(35,"p"),u(36,"For preliminary informational use only"),c(),l(37,"p"),u(38,"Subject to independent professional validation"),c(),l(39,"p"),u(40,"Not construction-ready documents or professional recommendations"),c(),l(41,"p"),u(42,"NO WARRANTY is provided regarding accuracy, completeness, or suitability of any AI-generated content."),c(),l(43,"h2"),u(44,"2. CLIENT LICENSING & PROFESSIONAL RESPONSIBILITIES"),c(),l(45,"p"),u(46,"2.1 Licensed Professional Requirement"),c(),l(47,"p"),u(48,"Client warrants that all users are duly licensed professionals (Professional Engineer, licensed architect, or equivalent) holding current, valid credentials in the jurisdiction(s) where platform outputs will be used."),c(),l(49,"h2"),u(50,"2.2 MANDATORY PROFESSIONAL VALIDATION"),c(),l(51,"p"),u(52,"ALL AI-generated outputs MUST be independently reviewed, validated, and approved by a licensed Professional Engineer or architect prior to any use, reliance, distribution, or regulatory submission. AI outputs are NOT eligible for professional seals without complete independent professional analysis."),c(),l(53,"p"),u(54,"2.3 Professional Responsibility Preservation"),c(),l(55,"p"),u(56,"AI outputs supplement but never replace professional engineering judgment. Client retains 100% professional liability for all project outcomes regardless of AI assistance level. Professional standards of care remain unchanged."),c(),l(57,"p"),u(58,"2.4 Supervising Professional"),c(),l(59,"p"),u(60,"Client must designate a Responsible Professional (PE, licensed architect, or equivalent) to supervise all AI-assisted outputs and assume full professional responsibility. This designation must be maintained throughout the subscription term."),c(),l(61,"p"),u(62,"2.5 Jurisdictional Compliance"),c(),l(63,"p"),u(64,"Client is solely responsible for compliance with all applicable building codes, licensing rules, and professional practice acts in their jurisdiction(s). ProBuild AI provides no compliance guidance or verification."),c(),l(65,"h2"),u(66,"3. THIRD-PARTY RELIANCE PROHIBITION"),c(),l(67,"p"),u(68,"3.1 Internal Use Only"),c(),l(69,"p"),u(70,"All AI outputs are for Client's internal preliminary assessment only. External distribution is prohibited without express written consent and proper disclaimers."),c(),l(71,"h2"),u(72,"3.2 NO THIRD-PARTY RELIANCE"),c(),l(73,"p"),u(74,"NO third party (including contractors, building officials, project owners, lenders, insurers, or regulatory authorities) may rely on any AI output without independent professional validation. ProBuild AI disclaims all liability for third-party reliance."),c(),l(75,"h2"),u(76,"3.3 MANDATORY DISCLAIMER"),c(),l(77,"p"),u(78,"Client must include the following disclaimer on any work product incorporating platform outputs when shared externally:"),c(),l(79,"p"),u(80,'"This document includes AI-assisted estimates that have not been independently validated by a licensed professional. This content is for preliminary use only and must be reviewed and approved by a qualified Professional Engineer or licensed architect prior to any use or reliance."'),c(),l(81,"p"),u(82,"3.4 Consequences of Non-Compliance"),c(),l(83,"p"),u(84,"Failure to comply with Section 3 voids all warranties and indemnification ProBuild AI may owe Client and may result in immediate account suspension."),c(),l(85,"h2"),u(86,"4. SUBSCRIPTION TERMS & CANCELLATION"),c(),l(87,"p"),u(88,"4.1 Subscription Plans"),c(),l(89,"p"),u(90,"Access is provided on monthly or annual subscription basis as specified in the Order Form. Each tier includes defined features, user limits, and usage parameters."),c(),l(91,"p"),u(92,"4.2 Fees and Payment"),c(),l(93,"p"),u(94,"Monthly subscriptions: Billed monthly in advance, cancellable with 30 days' notice"),c(),l(95,"p"),u(96,"Annual subscriptions: Billed annually in advance, cancellable at term end"),c(),l(97,"p"),u(98,"All fees are non-refundable unless required by law"),c(),l(99,"p"),u(100,"4.3 Automatic Renewal"),c(),l(101,"p"),u(102,"Subscriptions automatically renew unless cancelled. ProBuild AI will provide renewal reminders at least 30 days before annual term renewals, complying with applicable automatic renewal laws."),c(),l(103,"p"),u(104,"4.4 FTC Click-to-Cancel Compliance"),c(),l(105,"p"),u(106,'Client may cancel 24/7 via account dashboard "Cancel Subscription" button with immediate confirmation. Alternative cancellation methods include emailing support@probuildai.com. Cancellation requires no more steps than signup and provides immediate confirmation of cancellation and effective date.'),c(),l(107,"p"),u(108,"4.5 Termination by ProBuild AI"),c(),l(109,"p"),u(110,"ProBuild AI may suspend access or terminate for cause including: (a) payment default after 30 days' notice, (b) material breach after 15 days' cure notice, or (c) unlicensed use or legal violations."),c(),l(111,"h2"),u(112,"5. INSURANCE REQUIREMENTS"),c(),l(113,"p"),u(114,"5.1 Mandatory Client Insurance"),c(),l(115,"p"),u(116,"Client must maintain throughout the Agreement term:"),c(),l(117,"p"),u(118,"Professional Liability Insurance: Minimum $2,000,000 per occurrence, $5,000,000 aggregate, covering AI-assisted professional work"),c(),l(119,"p"),u(120,"Technology E&O Insurance: Minimum $1,000,000 for AI-related professional risks"),c(),l(121,"p"),u(122,"Cyber Liability Insurance: Minimum $1,000,000 for data security incidents"),c(),l(123,"p"),u(124,"5.2 AI Disclosure Requirement"),c(),l(125,"p"),u(126,"Client must notify professional liability insurers of AI tool usage and obtain written confirmation that coverage includes AI-assisted professional workflows. Certificate of insurance must be provided upon request."),c(),l(127,"p"),u(128,"5.3 Third-Party Insurance"),c(),l(129,"p"),u(130,"If Client permits third parties to access platform outputs, Client ensures such parties maintain appropriate insurance for their scope of work."),c(),l(131,"h2"),u(132,"6. INDEMNIFICATION"),c(),l(133,"p"),u(134,"6.1 Client Indemnification"),c(),l(135,"p"),u(136,"Client shall indemnify, defend, and hold harmless ProBuild AI from all claims, damages, losses, and expenses arising from:"),c(),l(137,"p"),u(138,"Client's violation of laws, regulations, or licensing requirements"),c(),l(139,"p"),u(140,"Misuse or unauthorized use of the platform"),c(),l(141,"p"),u(142,"Third-party reliance on AI outputs in violation of Section 3"),c(),l(143,"p"),u(144,"Professional negligence or errors by Client or its agents"),c(),l(145,"p"),u(146,"Claims from Client's customers, contractors, or project stakeholders"),c(),l(147,"p"),u(148,"6.2 Defense Obligations"),c(),l(149,"p"),u(150,"Client will defend ProBuild AI using counsel reasonably acceptable to ProBuild AI. ProBuild AI may participate in defense at its own expense. No settlement imposing obligations on ProBuild AI without its written consent."),c(),l(151,"h2"),u(152,"7. INTELLECTUAL PROPERTY & RESTRICTIONS"),c(),l(153,"p"),u(154,"7.1 ProBuild AI Ownership"),c(),l(155,"p"),u(156,"All rights in the platform, algorithms, AI models, and related IP remain exclusively with ProBuild AI. Client receives only a limited, revocable, non-exclusive license for internal business use during the subscription term."),c(),l(157,"p"),u(158,"7.2 Restrictions"),c(),l(159,"p"),u(160,"Client shall not:"),c(),l(161,"p"),u(162,"Reverse engineer or derive source code from the platform"),c(),l(163,"p"),u(164,"Use the platform to develop competing services"),c(),l(165,"p"),u(166,"Remove proprietary notices or misrepresent ProBuild AI's role"),c(),l(167,"p"),u(168,"Distribute AI outputs as certified, accurate, or complete"),c(),l(169,"p"),u(170,"7.3 Client Data"),c(),l(171,"p"),u(172,"Client retains ownership of uploaded data. Client grants ProBuild AI a license to process such data solely for providing platform services. ProBuild AI will not use Client data for other purposes without consent."),c(),l(173,"h2"),u(174,"8. LIABILITY LIMITATIONS & RISK ALLOCATION"),c(),l(175,"h2"),u(176,"8.1 MAXIMUM LIABILITY CAP"),c(),l(177,"p"),u(178,"ProBuild AI's total aggregate liability is capped at the lesser of (i) $500,000 or (ii) total fees paid by Client in the 12 months preceding the claim. This cap applies to all claims regardless of legal theory."),c(),l(179,"h2"),u(180,"8.2 EXCLUDED DAMAGES"),c(),l(181,"p"),u(182,"ProBuild AI shall NOT be liable for:"),c(),l(183,"p"),u(184,"Indirect, consequential, special, or punitive damages"),c(),l(185,"p"),u(186,"Professional decisions, design adequacy, or construction outcomes"),c(),l(187,"p"),u(188,"Project delays, cost overruns, or regulatory issues"),c(),l(189,"p"),u(190,"Third-party claims against Client"),c(),l(191,"p"),u(192,"Any loss from AI output usage"),c(),l(193,"h2"),u(194,"8.3 AI-SPECIFIC DISCLAIMERS"),c(),l(195,"p"),u(196,'ProBuild AI provides NO WARRANTIES regarding AI output accuracy, completeness, or suitability. All AI-generated content is provided "AS IS" without warranty of any kind.'),c(),l(197,"p"),u(198,"8.4 Risk Allocation"),c(),l(199,"p"),u(200,"Client assumes sole responsibility for:"),c(),l(201,"p"),u(202,"All professional decisions and engineering judgments"),c(),l(203,"p"),u(204,"Construction outcomes and regulatory compliance"),c(),l(205,"p"),u(206,"Project safety and code compliance"),c(),l(207,"p"),u(208,"Managing third-party expectations and claims"),c(),l(209,"p"),u(210,"8.5 Claims Period"),c(),l(211,"p"),u(212,"All claims must be brought within one (1) year of the cause of action or be forever barred."),c(),l(213,"h2"),u(214,"9. DATA PRIVACY & SECURITY"),c(),l(215,"p"),u(216,"9.1 Privacy Policy"),c(),l(217,"p"),u(218,"ProBuild AI's Privacy Policy (incorporated by reference) governs personal data handling. For EU/UK clients subject to GDPR, the Data Processing Addendum (Annex D) applies."),c(),l(219,"p"),u(220,"9.2 Security Measures"),c(),l(221,"p"),u(222,"ProBuild AI implements commercially reasonable security measures including encryption, access controls, and regular security assessments. Client will be promptly notified of any data breaches affecting Client data."),c(),l(223,"p"),u(224,"9.3 Data Location"),c(),l(225,"p"),u(226,"Client consents to data processing in the United States and other jurisdictions where ProBuild AI maintains facilities, with appropriate transfer safeguards for international data transfers."),c(),l(227,"p"),u(228,"9.4 Confidentiality"),c(),l(229,"p"),u(230,"Both parties agree to maintain confidentiality of the other's confidential information for 5 years after Agreement termination."),c(),l(231,"h2"),u(232,"10. GOVERNING LAW & DISPUTE RESOLUTION"),c(),l(233,"p"),u(234,"10.1 Governing Law"),c(),l(235,"p"),u(236,"This Agreement is governed by Texas law without regard to conflict of law principles. The UN Convention on Contracts for the International Sale of Goods does not apply."),c(),l(237,"p"),u(238,"10.2 Binding Arbitration"),c(),l(239,"p"),u(240,"Except for injunctive relief to protect IP or confidential information, disputes shall be resolved through binding arbitration administered by the American Arbitration Association in Austin, Texas. Arbitration shall be confidential and conducted in English."),c(),l(241,"p"),u(242,"10.3 No Class Actions"),c(),l(243,"p"),u(244,"Disputes must be arbitrated individually. No class arbitration or representative actions are permitted."),c(),l(245,"h2"),u(246,"11. GENERAL PROVISIONS"),c(),l(247,"p"),u(248,"11.1 Entire Agreement"),c(),l(249,"p"),u(250,"This Agreement, including all annexes and Order Forms, constitutes the entire agreement and supersedes all prior agreements concerning its subject matter."),c(),l(251,"p"),u(252,"11.2 Modifications"),c(),l(253,"p"),u(254,"Modifications require written agreement by both parties, except ProBuild AI may update the Terms of Use, Privacy Policy, or non-material MSA provisions with notice. Material adverse changes allow Client to terminate within 30 days with pro-rata refund."),c(),l(255,"p"),u(256,"11.3 Assignment"),c(),l(257,"p"),u(258,"Client may not assign without ProBuild AI's consent, except in connection with merger or acquisition. ProBuild AI may assign freely."),c(),l(259,"p"),u(260,"11.4 Severability"),c(),l(261,"p"),u(262,"If any provision is invalid, it shall be enforced to the maximum extent permissible, and remaining provisions remain in full force."),c(),l(263,"p"),u(264,"11.5 Notices"),c(),l(265,"p"),u(266,"Legal notices must be in writing. Routine notices may be sent via email to contacts on file. Client notices to ProBuild AI: legal@probuildai.com."),c(),l(267,"p"),u(268,"11.6 Independent Contractors"),c(),l(269,"p"),u(270,"The parties are independent contractors. No partnership, joint venture, or agency relationship is created."),c(),l(271,"p"),u(272,"11.7 Force Majeure"),c(),l(273,"p"),u(274,"ProBuild AI is not liable for delays due to circumstances beyond its reasonable control. If force majeure continues over 60 days, either party may terminate affected services."),c(),l(275,"h2"),u(276,"ANNEXES"),c(),l(277,"h2"),u(278,`Annex A - Platform Scope and AI Limitations
Annex B - Jurisdictional Compliance Requirements
Annex C - Third-Party Use Restrictions
Annex D - Data Processing Addendum (GDPR)`),c(),l(279,"h2"),u(280,"ANNEX A - PLATFORM SCOPE AND AI LIMITATIONS"),c(),l(281,"p"),u(282,"A.1 AI-Generated Content Limitations"),c(),l(283,"p"),u(284,"All outputs are non-certified and preliminary only"),c(),l(285,"p"),u(286,"Results are algorithmically derived and may contain errors"),c(),l(287,"p"),u(288,"Platform does not perform engineering design or guarantee code compliance"),c(),l(289,"p"),u(290,"Professional validation is required for all outputs"),c(),l(291,"p"),u(292,"A.2 No Professional Certification"),c(),l(293,"p"),u(294,"Platform outputs are not stamped or certified engineering/architectural deliverables"),c(),l(295,"p"),u(296,"Results are not ready for permit or construction without professional development"),c(),l(297,"p"),u(298,"No professional certification or approval is provided by ProBuild AI"),c(),l(299,"p"),u(300,"A.3 Accuracy and Completeness"),c(),l(301,"p"),u(302,"No warranty that outputs will be accurate, complete, or suitable for Client's purpose"),c(),l(303,"p"),u(304,"AI models may not account for unique project-specific factors"),c(),l(305,"p"),u(306,"Results depend on input data quality and completeness"),c(),l(307,"p"),u(308,"Local conditions and requirements may not be reflected"),c(),l(309,"p"),u(310,"A.4 Intended Use Cases Platform is intended for:"),c(),l(311,"p"),u(312,"Early-stage planning and feasibility analysis"),c(),l(313,"p"),u(314,"Preliminary quantity and cost estimation"),c(),l(315,"p"),u(316,"Conceptual design exploration"),c(),l(317,"p"),u(318,"Professional workflow augmentation"),c(),l(319,"p"),u(320,"Platform is NOT intended for:"),c(),l(321,"p"),u(322,"Final construction documents"),c(),l(323,"p"),u(324,"Detailed structural analysis"),c(),l(325,"p"),u(326,"Life-safety critical computations"),c(),l(327,"p"),u(328,"Regulatory submissions without professional validation"),c(),l(329,"h2"),u(330,"ANNEX B - JURISDICTIONAL COMPLIANCE REQUIREMENTS"),c(),l(331,"p"),u(332,"B.1 US State Licensing Compliance Client must comply with applicable state professional licensing laws including:"),c(),l(333,"p"),u(334,"Texas Engineering Practice Act (Tex. Occ. Code \xA71001)"),c(),l(335,"p"),u(336,"California Business & Professions Code \xA76700 et seq."),c(),l(337,"p"),u(338,"All other state PE and architect licensing requirements"),c(),l(339,"p"),u(340,"B.2 International Compliance International clients must comply with local professional licensing requirements including:"),c(),l(341,"p"),u(342,"EU Directive 2005/36/EC on professional qualifications"),c(),l(343,"p"),u(344,"Canada Professional Engineers Acts"),c(),l(345,"p"),u(346,"Local engineering council requirements"),c(),l(347,"p"),u(348,"B.3 Building Codes and Regulations Client is solely responsible for:"),c(),l(349,"p"),u(350,"Compliance with applicable building codes (IBC, local codes, etc.)"),c(),l(351,"p"),u(352,"Permit and approval requirements"),c(),l(353,"p"),u(354,"Site-specific condition analysis"),c(),l(355,"p"),u(356,"Professional standard adherence"),c(),l(357,"p"),u(358,'B.4 "Responsible Charge" Requirements Licensed professionals must maintain responsible charge over all work including:'),c(),l(359,"p"),u(360,"Control over input parameters and assumptions"),c(),l(361,"p"),u(362,"Understanding of software limitations"),c(),l(363,"p"),u(364,"Thorough review of all outputs"),c(),l(365,"p"),u(366,"Professional seal application where required"),c(),l(367,"h2"),u(368,"ANNEX C - THIRD-PARTY USE RESTRICTIONS"),c(),l(369,"p"),u(370,"C.1 No Third-Party Beneficiaries Agreement creates rights only between ProBuild AI and Client. No third party has rights under this Agreement or to rely on platform outputs."),c(),l(371,"p"),u(372,"C.2 Internal Use License License is limited to Client's internal use. Third-party distribution requires:"),c(),l(373,"p"),u(374,"Compliance with mandatory disclaimer requirements"),c(),l(375,"p"),u(376,"Recipient understanding of preliminary nature"),c(),l(377,"p"),u(378,"Professional validation before any reliance"),c(),l(379,"p"),u(380,"C.3 Prohibited Distribution Client shall not:"),c(),l(381,"p"),u(382,"Provide platform access to unauthorized third parties"),c(),l(383,"p"),u(384,"Submit raw AI outputs to regulatory agencies"),c(),l(385,"p"),u(386,"Represent outputs as final or certified deliverables"),c(),l(387,"p"),u(388,"Allow unauthorized reliance on unvalidated outputs"),c(),l(389,"p"),u(390,"C.4 Required Disclaimers Any external sharing must include prominent disclaimers that outputs are:"),c(),l(391,"p"),u(392,"Preliminary and unverified"),c(),l(393,"p"),u(394,"Require professional validation"),c(),l(395,"p"),u(396,"Not suitable for construction or regulatory use"),c(),l(397,"p"),u(398,"Subject to professional review and approval"),c(),l(399,"h2"),u(400,"ANNEX D - DATA PROCESSING ADDENDUM (GDPR)"),c(),l(401,"p"),u(402,"D.1 Application This DPA applies when Client is subject to GDPR, UK GDPR, or similar data protection laws and ProBuild AI processes personal data on Client's behalf."),c(),l(403,"p"),u(404,"D.2 Processing Purposes ProBuild AI processes personal data solely for:"),c(),l(405,"p"),u(406,"Providing platform services to Client"),c(),l(407,"p"),u(408,"Technical support and troubleshooting"),c(),l(409,"p"),u(410,"Service improvement (with Client consent)"),c(),l(411,"p"),u(412,"D.3 Data Subject Categories Personal data may include:"),c(),l(413,"p"),u(414,"Client employee information (platform users)"),c(),l(415,"p"),u(416,"Contact details in uploaded construction documents"),c(),l(417,"p"),u(418,"Project stakeholder information"),c(),l(419,"p"),u(420,"D.4 Security Measures ProBuild AI implements appropriate technical and organizational measures including:"),c(),l(421,"p"),u(422,"Encryption of data in transit and at rest"),c(),l(423,"p"),u(424,"Access controls and authentication"),c(),l(425,"p"),u(426,"Regular security assessments"),c(),l(427,"p"),u(428,"Incident response procedures"),c(),l(429,"p"),u(430,"D.5 International Transfers Data transfers outside the EEA/UK utilize appropriate safeguards including Standard Contractual Clauses approved by the European Commission."),c(),l(431,"p"),u(432,"D.6 Data Subject Rights ProBuild AI will reasonably assist Client in responding to data subject requests for access, rectification, erasure, portability, and other GDPR rights."),c(),l(433,"p"),u(434,"D.7 Data Breach Notification ProBuild AI will notify Client within 48 hours of discovering any personal data breach and provide information necessary for Client's own notification obligations."),c(),l(435,"p"),u(436,"D.8 Data Retention and Deletion Upon Agreement termination, ProBuild AI will delete or return personal data within 30 days, except as required for legal compliance or legitimate business purposes."),c(),l(437,"p"),u(438,"By accepting this Agreement, Client acknowledges reading and understanding all terms and annexes and agrees to be bound by them."),c()()()()())},styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:auto;overflow-y:auto}.terms-page[_ngcontent-%COMP%]{background-color:#f9f9f3;padding:40px 20px}.terms-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px;background-color:transparent;color:#333;font-family:Roboto,sans-serif}.terms-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:2rem;color:#000}',`body[_ngcontent-%COMP%] {
      font-family: Arial, sans-serif;
      margin: 2rem;
      line-height: 1.6;
    }
    h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {
      color: #222;
    }
    h1[_ngcontent-%COMP%] {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }
    h2[_ngcontent-%COMP%] {
      font-size: 1.4rem;
      margin-top: 1.5rem;
    }
    h3[_ngcontent-%COMP%] {
      font-size: 1.2rem;
      margin-top: 1rem;
    }
    p[_ngcontent-%COMP%] {
      margin-bottom: 1rem;
    }`]})};var h1=class i{constructor(t){this.http=t}submitSubscription(t){return this.http.post("/api/subscription/confirm",t)}static \u0275fac=function(e){return new(e||i)(Xe(Gt))};static \u0275prov=nt({token:i,factory:i.\u0275fac,providedIn:"root"})};var f1=class i{constructor(t,e){this.fb=t;this.subscriptionService=e;this.form=this.fb.group({legalName:["",et.required],contactName:["",et.required],contactEmail:["",[et.required,et.email]],subscriptionType:["",et.required],platformTier:[""],numSeats:[""],customTerms:[""],acceptMSA:[!1,et.requiredTrue],acceptPrivacy:[!1,et.requiredTrue],confirmAuthority:[!1,et.requiredTrue]})}form;submitted=!1;onSubmit(){this.submitted=!0,this.form.valid&&this.subscriptionService.submitSubscription(this.form.value).subscribe({next:()=>alert("Subscription confirmed and emailed."),error:t=>alert("Error sending form: "+t.message)})}static \u0275fac=function(e){return new(e||i)(k(Cn),k(h1))};static \u0275cmp=fe({type:i,selectors:[["app-subscription-confirmation"]],standalone:!0,features:[ye],decls:53,vars:2,consts:[[1,"subscription-form",3,"ngSubmit","formGroup"],["formControlName","legalName","type","text"],["formControlName","contactName","type","text"],["formControlName","contactEmail","type","email"],["type","radio","formControlName","subscriptionType","value","monthly"],["type","radio","formControlName","subscriptionType","value","annual"],["type","radio","formControlName","subscriptionType","value","promo"],["formControlName","platformTier"],["value",""],["value","basic"],["value","pro"],["value","enterprise"],["formControlName","numSeats","type","number","min","1"],["formControlName","customTerms"],[1,"consents"],["type","checkbox","formControlName","acceptMSA"],["type","checkbox","formControlName","acceptPrivacy"],["type","checkbox","formControlName","confirmAuthority"],["type","submit",3,"disabled"]],template:function(e,n){e&1&&(l(0,"form",0),z("ngSubmit",function(){return n.onSubmit()}),l(1,"h2"),u(2,"Subscription Order Form"),c(),l(3,"label"),u(4,"Legal Name:"),c(),F(5,"input",1),l(6,"label"),u(7,"Contact Name:"),c(),F(8,"input",2),l(9,"label"),u(10,"Contact Email:"),c(),F(11,"input",3),l(12,"label"),u(13,"Subscription Type:"),c(),l(14,"div")(15,"label"),F(16,"input",4),u(17," Monthly - $525"),c(),l(18,"label"),F(19,"input",5),u(20," Annual - $5,250"),c(),l(21,"label"),F(22,"input",6),u(23," Promo Annual - $4,400"),c()(),l(24,"label"),u(25,"Platform Tier:"),c(),l(26,"select",7)(27,"option",8),u(28,"Select"),c(),l(29,"option",9),u(30,"Basic"),c(),l(31,"option",10),u(32,"Pro"),c(),l(33,"option",11),u(34,"Enterprise"),c()(),l(35,"label"),u(36,"Number of Seats:"),c(),F(37,"input",12),l(38,"label"),u(39,"Custom Terms:"),c(),F(40,"textarea",13),l(41,"div",14)(42,"label"),F(43,"input",15),u(44," I accept the Master Services Agreement"),c(),l(45,"label"),F(46,"input",16),u(47," I acknowledge the Privacy Policy"),c(),l(48,"label"),F(49,"input",17),u(50," I confirm I'm authorized to subscribe"),c()(),l(51,"button",18),u(52,"Confirm My Subscription"),c()()),e&2&&(C("formGroup",n.form),b(51),C("disabled",n.form.invalid))},dependencies:[Dt,Pi,mn,k5,D5,xn,Fs,w5,M5,S5,pi,Ki,Iu,Xi,Vn]})};var OK=(i,t,e,n)=>({"status-approved":i,"status-rejected":t,"status-archived":e,"status-pending":n});function RK(i,t){i&1&&(l(0,"div",6),F(1,"app-loader"),c())}function NK(i,t){i&1&&(l(0,"div",7)(1,"p"),u(2,"No archived action points found."),c()())}function FK(i,t){i&1&&(l(0,"th",18),u(1," Project "),c())}function LK(i,t){if(i&1&&(l(0,"td",19),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.projectName," ")}}function jK(i,t){i&1&&(l(0,"th",18),u(1," Task "),c())}function BK(i,t){if(i&1&&(l(0,"td",19),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.subtaskName," ")}}function VK(i,t){i&1&&(l(0,"th",18),u(1," Created "),c())}function zK(i,t){if(i&1&&(l(0,"td",19),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),Ce(" ",yn(2,1,e.createdAt,"short")," ")}}function HK(i,t){i&1&&(l(0,"th",18),u(1," Status "),c())}function UK(i,t){if(i&1&&(l(0,"td",19)(1,"span",20),u(2),c()()),i&2){let e=t.$implicit,n=P(2);b(),C("ngClass",_u(2,OK,n.getStatus(e)==="Approved",n.getStatus(e)==="Rejected",n.getStatus(e)==="Archived",n.getStatus(e)==="Pending")),b(),Ce(" ",n.getStatus(e)," ")}}function qK(i,t){i&1&&F(0,"th",18)}function WK(i,t){if(i&1){let e=ge();l(0,"td",19)(1,"button",21),z("click",function(){let r=q(e).$implicit,a=P(2);return W(a.openNoteDetail(r))}),u(2),c()()}if(i&2){let e=t.$implicit,n=P(2);b(),C("disabled",n.openingNoteId===e.notes[0].id),b(),Ce(" ",n.openingNoteId===e.notes[0].id?"Viewing...":"View"," ")}}function GK(i,t){i&1&&F(0,"tr",22)}function $K(i,t){i&1&&F(0,"tr",23)}function YK(i,t){if(i&1&&(l(0,"table",8),Je(1,9),I(2,FK,2,0,"th",10)(3,LK,2,1,"td",11),Ke(),Je(4,12),I(5,jK,2,0,"th",10)(6,BK,2,1,"td",11),Ke(),Je(7,13),I(8,VK,2,0,"th",10)(9,zK,3,4,"td",11),Ke(),Je(10,14),I(11,HK,2,0,"th",10)(12,UK,3,7,"td",11),Ke(),Je(13,15),I(14,qK,1,0,"th",10)(15,WK,3,2,"td",11),Ke(),I(16,GK,1,0,"tr",16)(17,$K,1,0,"tr",17),c()),i&2){let e=P();C("dataSource",e.archivedNotes),b(16),C("matHeaderRowDef",e.displayedColumns),b(),C("matRowDefColumns",e.displayedColumns)}}function QK(i,t){i&1&&(l(0,"div",6),F(1,"app-loader"),c())}function JK(i,t){i&1&&(l(0,"div",7)(1,"p"),u(2,"No archived jobs found."),c()())}function KK(i,t){i&1&&(l(0,"th",18),u(1," Project Name "),c())}function XK(i,t){if(i&1&&(l(0,"td",19),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.projectName," ")}}function ZK(i,t){i&1&&(l(0,"th",18),u(1," Job Type "),c())}function eX(i,t){if(i&1&&(l(0,"td",19),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.jobType," ")}}function tX(i,t){i&1&&(l(0,"th",18),u(1," Status "),c())}function iX(i,t){if(i&1&&(l(0,"td",19),u(1),c()),i&2){let e=t.$implicit;b(),Ce(" ",e.status," ")}}function nX(i,t){i&1&&(l(0,"th",18),u(1," Completion Date "),c())}function rX(i,t){if(i&1&&(l(0,"td",19),u(1),dt(2,"date"),c()),i&2){let e=t.$implicit;b(),Ce(" ",yn(2,1,e.completionDate,"shortDate")," ")}}function aX(i,t){i&1&&F(0,"tr",22)}function oX(i,t){i&1&&F(0,"tr",23)}function sX(i,t){if(i&1&&(l(0,"table",8),Je(1,24),I(2,KK,2,0,"th",10)(3,XK,2,1,"td",11),Ke(),Je(4,25),I(5,ZK,2,0,"th",10)(6,eX,2,1,"td",11),Ke(),Je(7,14),I(8,tX,2,0,"th",10)(9,iX,2,1,"td",11),Ke(),Je(10,26),I(11,nX,2,0,"th",10)(12,rX,3,4,"td",11),Ke(),I(13,aX,1,0,"tr",16)(14,oX,1,0,"tr",17),c()),i&2){let e=P();C("dataSource",e.archivedJobs),b(13),C("matHeaderRowDef",e.jobDisplayedColumns),b(),C("matRowDefColumns",e.jobDisplayedColumns)}}var g1=class i{constructor(t,e,n,r,a){this.noteService=t;this.jobsService=e;this.dialog=n;this.authService=r;this.userService=a}archivedNotes=[];archivedJobs=[];isLoading=!0;displayedColumns=["project","task","created","status","view"];jobDisplayedColumns=["projectName","jobType","status","completionDate"];userId=null;openingNoteId=null;ngOnInit(){this.loadArchivedNotes(),this.loadArchivedJobs()}loadArchivedJobs(){this.isLoading=!0,this.jobsService.getArchivedJobs().subscribe({next:t=>{this.archivedJobs=t,this.isLoading=!1},error:()=>{this.isLoading=!1}})}loadArchivedNotes(){this.isLoading=!0,cc([this.authService.currentUser$,this.authService.userPermissions$]).pipe(Fi(([t,e])=>{if(t){this.userId=t.id;let n=!!t.inviterId,r=e.includes("manageSubtaskNotes");if(n&&r)return this.noteService.getArchivedNotesForAssignedJobs(t.id);if(!n)return this.noteService.getArchivedNotes(t.id)}return wt([])})).subscribe({next:t=>{this.archivedNotes=t,this.isLoading=!1},error:()=>{this.isLoading=!1}})}openNoteDetail(t){this.openingNoteId=t.notes[0].id;let e=[...new Set(t.notes.map(r=>r.createdByUserId))].filter(r=>!!r);if(e.length===0){this.openDialogWithUserNames(t,new Map);return}let n=e.map(r=>this.userService.getUserById(r));pu(n).subscribe(r=>{let a=new Map;r.forEach(o=>{o&&a.set(o.id,`${o.firstName} ${o.lastName}`)}),this.openDialogWithUserNames(t,a)})}openDialogWithUserNames(t,e){this.dialog.open(Gu,{width:"80vw",maxWidth:"900px",data:Ti(Ct({},t),{userNames:e,isArchived:!0})}).afterClosed().subscribe(()=>{this.openingNoteId=null})}getStatus(t){if(!t.notes||t.notes.length===0)return"Pending";let e=t.notes[t.notes.length-1];return e.archived?"Archived":e.approved?"Approved":e.rejected?"Rejected":"Pending"}static \u0275fac=function(e){return new(e||i)(k($s),k(An),k(pn),k(hi),k(zo))};static \u0275cmp=fe({type:i,selectors:[["app-archive"]],standalone:!0,features:[ye],decls:15,vars:6,consts:[[1,"dashboard-container"],["label","Action Points"],["class","loading-container",4,"ngIf"],["class","no-notes",4,"ngIf"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["label","Jobs"],[1,"loading-container"],[1,"no-notes"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","project"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","task"],["matColumnDef","created"],["matColumnDef","status"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"ngClass"],["mat-raised-button","",1,"submit-btn","delete-btn",3,"click","disabled"],["mat-header-row",""],["mat-row",""],["matColumnDef","projectName"],["matColumnDef","jobType"],["matColumnDef","completionDate"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),u(4,"Archive"),c()(),l(5,"mat-card-content")(6,"mat-tab-group")(7,"mat-tab",1),I(8,RK,2,0,"div",2)(9,NK,3,0,"div",3)(10,YK,18,3,"table",4),c(),l(11,"mat-tab",5),I(12,QK,2,0,"div",2)(13,JK,3,0,"div",3)(14,sX,15,3,"table",4),c()()()()()),e&2&&(b(8),C("ngIf",n.isLoading),b(),C("ngIf",!n.isLoading&&n.archivedNotes.length===0),b(),C("ngIf",!n.isLoading&&n.archivedNotes.length>0),b(2),C("ngIf",n.isLoading),b(),C("ngIf",!n.isLoading&&n.archivedJobs.length===0),b(),C("ngIf",!n.isLoading&&n.archivedJobs.length>0))},dependencies:[Dt,Nr,Pt,Gi,ea,Ea,Ia,Ra,Pa,Aa,Na,Ta,Oa,Fa,La,zt,Nt,fr,Bi,Li,nn,rn,ji,Lv,gh,Fv],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.no-notes[_ngcontent-%COMP%]{text-align:center;padding:20px;font-style:italic}table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #d9d9d9;border-radius:8px;overflow:hidden;box-shadow:none}.mat-elevation-z8[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .mat-elevation-z8[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:10px;color:#333}.mat-elevation-z8[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{background-color:#fcd02d!important;font-weight:700}.mat-elevation-z8[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#e8f1f4}.submit-btn[_ngcontent-%COMP%]{background:#fbd008;border-radius:10px;padding:0 16px;font-weight:500;color:#333;margin:0 .5rem}.submit-btn[_ngcontent-%COMP%]:hover{background:#e6bf00}.submit-btn.delete-btn[_ngcontent-%COMP%]{width:80px;padding:4px 0;font-size:.85rem;margin:0 auto;display:block;border-radius:6px}.status-approved[_ngcontent-%COMP%]{color:green;font-weight:700}.status-rejected[_ngcontent-%COMP%]{color:red;font-weight:700}.status-archived[_ngcontent-%COMP%], .status-pending[_ngcontent-%COMP%]{color:gray;font-weight:700}"]})};var tT=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"archive",component:g1,canActivate:[Gn]},{path:"ai-chat",loadChildren:()=>import("./chunk-X2QPN5BN.js").then(i=>i.AI_CHAT_ROUTES)},{path:"login",component:Ug},{path:"forgot-password",component:qv},{path:"gant-chart",component:Ju,canActivate:[Gn]},{path:"register",component:t0},{path:"confirm-email",component:f0},{path:"job-quote",component:Vp,canActivate:[Gn]},{path:"job-assignment",component:vh,canActivate:[Gn]},{path:"calendar",component:tf,canActivate:[Gn]},{path:"termsofuse",component:d1},{path:"privacy",component:u1},{path:"subscriptionconfirmation",component:f1},{path:"masteragreement",component:p1},{path:"reset-password",component:m1},{path:"projects",component:hb,canActivate:[Gn]},{path:"view-quote",component:fh,canActivate:[Gn]},{path:"payment-cancel",component:c1},{path:"payment-success",component:l1},{path:"quote",component:Wm,canActivate:[Gn]},{path:"quotes",component:rf,canActivate:[Gn]},{path:"bids",component:af,canActivate:[Gn]},{path:"quote/:id",component:Wm,canActivate:[Gn]},{path:"jobselection",component:of,canActivate:[Gn]},{path:"notifications",component:fb,canActivate:[Gn]},{path:"dashboard",component:Rp,canActivate:[Gn],children:[{path:"dashboard",component:Rp,canActivate:[Gn]},{path:"job-quote",component:Vp,canActivate:[Gn]},{path:"view-quote",component:fh,canActivate:[Gn]},{path:"job-assignment",component:vh,canActivate:[Gn]},{path:"calendar",component:tf,canActivate:[Gn]},{path:"quote",component:Wm,canActivate:[Gn]},{path:"quotes",component:rf,canActivate:[Gn]},{path:"bids",component:af,canActivate:[Gn]},{path:"jobselection",component:of,canActivate:[Gn]}]},{path:"profile",component:Uv,canActivate:[Gn]}];var lX="@",cX=(()=>{class i{constructor(e,n,r,a,o){this.doc=e,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=Bt(gS,{optional:!0}),this.loadingSchedulerFn=Bt(dX,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-IQ65JUIW.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new mS(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let o=new a(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new Tw(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let s=o.createRenderer(e,n);a.use(s),this.scheduler?.notify(10)}).catch(o=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){tg()}}static{this.\u0275prov=nt({token:i,factory:i.\u0275fac})}}return i})(),Tw=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(lX)}},dX=new yt("");function iT(i="animations"){return vS("NgAsyncAnimations"),hS([{provide:bS,useFactory:(t,e,n)=>new cX(t,e,n,i),deps:[Bn,qS,ni]},{provide:dr,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var nT=(i,t)=>{let e=Bt(va),n=Bt(hi),r=null;return sa(e)&&(r=localStorage.getItem("accessToken")),r&&(i=i.clone({setHeaders:{Authorization:`Bearer ${r}`}})),t(i).pipe(It(a=>{let o=i.url.includes("/login")||i.url.includes("/refresh-token");return a instanceof rg&&a.status===401&&!o?n.refreshToken().pipe(Fi(s=>{if(!s||!s.accessToken)return console.warn("Refresh token failed or returned invalid token."),n.logout(),si(()=>new Error("Unable to refresh access token."));let d=i.clone({setHeaders:{Authorization:`Bearer ${s.accessToken}`}});return t(d)}),It(s=>(n.logout(),si(()=>s)))):si(()=>a)}))};function uX(i){return()=>i.initialize()}var rT={providers:[{provide:Cy,useValue:{subtaskGroups:[{title:"",subtasks:[{tasks:"",days:0,startDate:"",endDate:""}]}]}},{provide:IS,useFactory:uX,deps:[hi],multi:!0},Vo,Ou,zS(HS([nT]),US()),PS({eventCoalescing:!0}),JS(tT),$S(),iT(),fS(wg.forRoot())]};St.production&&void 0;WS(Bg,rT).catch(i=>console.error(i));
