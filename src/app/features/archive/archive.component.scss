@use 'styles/util/mixins' as u;

/* Shell */
:host {
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

.dashboard-container {
  padding: var(--space-4, 20px);
  background: var(--color-canvas);
  color: var(--color-text);
  flex: 1;
}

/* Loading + empty */
.loading-container {
  display: flex; justify-content: center; align-items: center;
  height: 200px; color: var(--color-text-muted);
}

.no-notes {
  text-align: center;
  padding: var(--space-4, 20px);
  font-style: italic;
  color: var(--color-text-muted);
  background: var(--color-surface);
  border: 1px dashed var(--color-border);
  border-radius: var(--radius-md, 8px);
}

/* Table wrapper (Material) */
table { width: 100%; }

.mat-elevation-z8 {
  margin-top: var(--space-4, 20px);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md, 8px);
  overflow: clip;
  box-shadow: var(--shadow-1);
  background: var(--color-surface);

  .mat-header-row {
    position: sticky; top: 0; z-index: 1;
    background: var(--color-surface-subtle);
  }

  .mat-header-cell,
  .mat-cell {
    padding: 10px 12px;
    color: var(--color-text);
    border-bottom: 1px solid var(--color-border);
  }

  th.mat-header-cell {
    background: var(--color-primary) !important;
    color: var(--color-text-inverse) !important;
    font-weight: var(--fw-bold, 700);
    letter-spacing: .02em;
  }

  /* Row hover + zebra */
  .mat-row:nth-child(even) .mat-cell { background: color-mix(in oklab, var(--color-accent) 6%, transparent); }
  .mat-row:hover .mat-cell { background: var(--color-surface-hover); }

  /* toggle .is-selected on rows */
  .mat-row.is-selected .mat-cell {
    background: color-mix(in oklab, var(--color-focus) 10%, transparent);
  }
}

/* Primary action button */
.submit-btn {
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border: 0;
  border-radius: var(--radius-md, 10px);
  padding: 0 16px;
  font-weight: var(--fw-semibold, 600);
  margin: 0 .5rem;
  height: 40px;
  display: inline-flex; align-items: center; justify-content: center;
  box-shadow: var(--shadow-1);
  transition: background-color .2s ease, box-shadow .2s ease, transform .02s ease;
  @include u.interactive-states;

  &:hover { background: var(--color-primary-hover); box-shadow: var(--shadow-2); }
  &:active { transform: translateY(1px); }
  &:disabled { opacity: .6; cursor: not-allowed; box-shadow: none; }

  &.delete-btn {
    width: 80px;
    padding: 4px 0;
    font-size: .85rem;
    margin: 0 auto;
    display: block;
    border-radius: var(--radius-sm, 6px);
    background: color-mix(in oklab, var(--color-danger) 20%, var(--color-primary));
    color: var(--color-text-inverse);

    &:hover { background: color-mix(in oklab, var(--color-danger) 35%, var(--color-primary)); }
  }
}

/* Status chips */
.status-approved,
.status-rejected,
.status-archived,
.status-pending {
  font-weight: 700;
  display: inline-flex; align-items: center;
  padding: 2px 8px; border-radius: 999px;
  border: 1px solid var(--color-border);
  background: var(--color-surface);
}

.status-approved { color: var(--color-success);  border-color: color-mix(in oklab, var(--color-success) 35%, transparent); }
.status-rejected { color: var(--color-danger);   border-color: color-mix(in oklab, var(--color-danger) 35%, transparent); }
.status-archived { color: var(--color-text-muted); }
.status-pending  { color: var(--color-warning);  border-color: color-mix(in oklab, var(--color-warning) 35%, transparent); }

/* Make Material fields stretch */
:host ::ng-deep .mat-mdc-form-field { width: 100%; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}
