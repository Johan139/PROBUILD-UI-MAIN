<div *ngIf="isLoading">
  <app-loader></app-loader>
</div>
<div class="container">
  <div class="row">
    <div class="column">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Welcome to Your ProBuildAI Dashboard</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-divider></mat-divider>
          <p *ngIf="isSubContractor">
            As a {{userType}}, manage your construction projects efficiently with our comprehensive tools.
            Track progress, create job quotes, and stay organized all in one place.
          </p>
          <p *ngIf="!isSubContractor">
            Welcome to ProBuildAI! Explore our tools to streamline your project management needs.
          </p>
          <div class="action-buttons">
            <button class="submit-btn" mat-raised-button (click)="navigateToProjects()">
              View Projects
            </button>
            <button class="submit-btn" mat-raised-button (click)="navigateToJobs()">
              Create Job Quote
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="column">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Action Points</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-divider></mat-divider>
        
          <div *ngIf="notes.length === 0">
            <p>No notes assigned to you yet.</p>
          </div>
        
          <div class="action-points-wrapper">
            <table class="themed-table action-points-table">
              <thead>
                <tr>
                  <th>Project</th>
                  <th>Note</th>
                  <th>Created</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let note of notes">
                  <td>{{note.projectName}}</td>
                  <td>{{note.noteText}}</td>
                  <td>{{note.createdAt | date:'short'}}</td>
                  <td><button class="submit-btn delete-btn" mat-raised-button>View</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>

<!--<img ngSrc='assets/info1.jpeg' height="450" width="800">-->