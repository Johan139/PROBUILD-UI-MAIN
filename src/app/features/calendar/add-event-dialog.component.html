<div class="event-dialog" role="dialog" aria-label="Add New Event">
  <header class="dialog-header">
    <div class="title-wrap">
      <h2 class="title">Add New Event</h2>
      <p class="subtitle">Create a calendar entry with dates and details</p>
    </div>
    <button mat-icon-button aria-label="Close dialog" (click)="onCancel()">
      <mat-icon>close</mat-icon>
    </button>
  </header>

  <mat-divider></mat-divider>

  <mat-dialog-content class="dialog-body">
    <form [formGroup]="eventForm" class="event-form" (ngSubmit)="onSave()">
      <!-- Title (full width) -->
      <mat-form-field appearance="outline" class="col-span-2">
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" placeholder="Board meeting, Launch party…" />
        <mat-hint align="start">Be concise and descriptive</mat-hint>
        <mat-error *ngIf="eventForm.get('title')?.hasError('required')">
          Title is required
        </mat-error>
      </mat-form-field>

      <!-- Start & End (side by side) -->
      <mat-form-field appearance="outline">
        <mat-label>Start date</mat-label>
        <input matInput [matDatepicker]="startPicker" formControlName="startDate" />
        <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
        <mat-datepicker #startPicker></mat-datepicker>
        <mat-error *ngIf="eventForm.get('startDate')?.hasError('required')">
          Start date is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Start time</mat-label>
        <input matInput type="time" formControlName="startTime" />
        <mat-hint align="start">Optional</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>End date</mat-label>
        <input matInput [matDatepicker]="endPicker" formControlName="endDate" />
        <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
        <mat-datepicker #endPicker></mat-datepicker>
        <mat-hint align="start">Optional</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>End time</mat-label>
        <input matInput type="time" formControlName="endTime" />
        <mat-hint align="start">Optional</mat-hint>
      </mat-form-field>

      <!-- Description (full width) -->
      <mat-form-field appearance="outline" class="col-span-2">
        <mat-label>Description</mat-label>
        <textarea
          matInput
          rows="4"
          formControlName="description"
          placeholder="Agenda, notes, links…"
          maxlength="240"
        ></textarea>
        <mat-hint align="end">{{ eventForm.get('description')?.value?.length || 0 }}/240</mat-hint>
      </mat-form-field>

      <!-- Optional switches / future extensibility -->
      <!--
      <mat-slide-toggle formControlName="allDay" class="col-span-2">All day</mat-slide-toggle>
      -->
    </form>
  </mat-dialog-content>

  <mat-divider></mat-divider>

  <mat-dialog-actions class="dialog-actions" align="end">
    <button mat-stroked-button color="primary" class="btn btn-ghost" (click)="onCancel()">Cancel</button>
    <button mat-flat-button color="primary" class="btn btn-primary" [disabled]="eventForm.invalid" (click)="onSave()">
      <mat-icon fontIcon="save" class="btn-icon"></mat-icon>
      Save
    </button>
  </mat-dialog-actions>
</div>
