<mat-card class="pdf-viewer-card">
  <mat-card-header>
    <mat-card-title>Job Documents</mat-card-title>
    <div class="document-selector">
      <ng-container *ngIf="documents.length > 1; else singleDocument">
        <mat-form-field appearance="fill">
          <mat-label>Document</mat-label>
          <mat-select [value]="selectedDocument" (valueChange)="onDocumentChange($event)">
            <mat-option *ngFor="let doc of documents" [value]="doc">
              {{ doc.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </ng-container>
      <ng-template #singleDocument>
        <span *ngIf="selectedDocument" class="document-name">{{ selectedDocument.name }}</span>
      </ng-template>
    </div>
  </mat-card-header>
  <mat-card-content>
    <div class="pdf-container">
      <ng2-pdfjs-viewer
        *ngIf="selectedDocument"
        [pdfSrc]="selectedDocument.url"
        [page]="page"
        (pageChange)="onPageChange($event)"
        (onPagesInit)="onTotalPages($event)">
      </ng2-pdfjs-viewer>
    </div>
  </mat-card-content>
  <mat-card-actions class="pdf-actions">
    <button mat-button (click)="prevPage()" [disabled]="page <= 1">
      <mat-icon>keyboard_arrow_left</mat-icon>
      Previous
    </button>
    <span>{{ page }} / {{ totalPages }}</span>
    <button mat-button (click)="nextPage()" [disabled]="page >= totalPages">
      Next
      <mat-icon>keyboard_arrow_right</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
