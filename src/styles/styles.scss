// ==========================================================================
// GLOBAL STYLESHEET
// ==========================================================================

// --------------------------------------------------------------------------
// 1. DESIGN TOKENS
// --------------------------------------------------------------------------

@use "tokens/colors";
@use "tokens/typography";
@use "tokens/spacing";
@use "tokens/radius";
@use "tokens/shadow";
@use "tokens/zindex";

// --------------------------------------------------------------------------
// 2. UTILITIES & MIXINS
// --------------------------------------------------------------------------

@use "util/utilities";
@use "util/mixins";
@use "util/buttons";
@use "util/forms";
@use "util/layout";
@use "util/tables";
@use "util/pills";
@use "util/timeline";
@use "util/chat";
@use "util/calendar";

// --------------------------------------------------------------------------
// 3. ANGULAR MATERIAL THEME BRIDGE
// --------------------------------------------------------------------------

@use "@angular/material" as mat;
@include mat.core();

// --------------------------------------------------------------------------
// 4. CSS RESET & BASE
// --------------------------------------------------------------------------

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background-color: var(--color-canvas);
  color: var(--color-text-primary);
  line-height: var(--lh-normal);
  min-height: 100vh;
}

// --------------------------------------------------------------------------
// 5. THEME DEFINITIONS
// --------------------------------------------------------------------------

$probuild-light-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$yellow-palette,
    tertiary: mat.$blue-palette,
  ),
  typography: (
    brand-family: var(--font-sans),
    plain-family: var(--font-sans),
  ),
  density: (
    scale: 0,
  )
));

$probuild-dark-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$yellow-palette,
    tertiary: mat.$blue-palette,
  ),
  typography: (
    brand-family: var(--font-sans),
    plain-family: var(--font-sans),
  ),
  density: (
    scale: 0,
  )
));

// --------------------------------------------------------------------------
// 6. APPLY THEMES
// --------------------------------------------------------------------------

:root {
  @include mat.all-component-themes($probuild-light-theme);

  .mat-mdc-card {
    --mdc-elevated-card-container-color: var(--color-surface);
    --mdc-elevated-card-elevation: var(--shadow-2);
  }

  .mat-mdc-dialog-container .mdc-dialog__surface {
    background-color: var(--color-surface);
  }
}

.theme-dark {
  color-scheme: dark;
  @include mat.all-component-colors($probuild-dark-theme);
}

// --------------------------------------------------------------------------
// 7. GLOBAL ANGULAR MATERIAL OVERRIDES
// --------------------------------------------------------------------------

.mat-drawer-container {
  background-color: var(--color-canvas) !important;
}

.mat-mdc-card,
.mat-expansion-panel,
.mat-expansion-panel-header,
.mat-form-field,
.mat-mdc-form-field,
.mat-mdc-form-field-flex,
.mat-mdc-form-field-infix,
.mat-mdc-text-field-wrapper,
.mat-mdc-select-value,
.mat-mdc-select-arrow-wrapper,
.mat-autocomplete-panel,
.mat-table,
.mat-header-cell,
.mat-mdc-cell,
.mat-option,
.mat-mdc-autocomplete-panel,
.mat-cell,
.mat-dialog-container,
.mat-paginator,
.mat-mdc-paginator-container {
  background-color: var(--color-surface) !important;
}

// --------------------------------------------------------------------------
// 8. SCROLLBARS
// --------------------------------------------------------------------------

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-border);
  border-radius: 999px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-accent);
  border-radius: 999px;
}

// --------------------------------------------------------------------------
// 9. TOOLTIP
// --------------------------------------------------------------------------

.mdc-tooltip {
  .mdc-tooltip__surface {
    background-color: var(--color-accent) !important;
    color: var(--color-text-white) !important;
    font-size: var(--font-size-sm);
  }
}
